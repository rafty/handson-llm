<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::EC2::VPCEndpoint - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-ec2-vpcendpoint" /><meta name="default_state" content="aws-resource-ec2-vpcendpoint" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" /><meta name="description" content="Use the AWS CloudFormation AWS::EC2::VPCEndpoint resource for EC2." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_EC2.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" hreflang="x-default" /><meta name="feedback-item" content="EC2 CFN" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS::EC2::VPCEndpoint" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::EC2::VPCEndpoint - AWS CloudFormation</title><meta name="github" content="https://github.com/awsdocs/aws-cloudformation-user-guide/tree/main/doc_source/aws-resource-ec2-vpcendpoint.md" /><meta name="rss" content="aws-cloudformation-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=92" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2%20CFN&amp;topic_url=http://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon EC2 resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_EC2.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::EC2::VPCEndpoint",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/AWS_EC2.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="https://github.com/awsdocs/aws-cloudformation-user-guide/tree/main/doc_source/aws-resource-ec2-vpcendpoint.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_EC2.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-resource-ec2-vpcendpoint-syntax">Syntax</a><a href="#aws-resource-ec2-vpcendpoint-properties">Properties</a><a href="#aws-resource-ec2-vpcendpoint-return-values">Return values</a><a href="#aws-resource-ec2-vpcendpoint--examples">Examples</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-resource-ec2-vpcendpoint">AWS::EC2::VPCEndpoint</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Specifies a VPC endpoint. A VPC endpoint provides a private connection between 
         your VPC and an endpoint service. You can use an endpoint service provided by 
         AWS, an AWS Marketplace Partner, or another AWS 
         accounts in your organization. For more information, see the <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/">AWS PrivateLink User Guide</a>.</p><p>An endpoint of type <code class="code">Interface</code> establishes connections between 
          the subnets in your VPC and an AWS service, your own service, 
          or a service hosted by another AWS account. With an interface
          VPC endpoint, you specify the subnets in which to create the endpoint and the 
          security groups to associate with the endpoint network interfaces.</p><p>An endpoint of type <code class="code">gateway</code> serves as a target for a route in your 
          route table for traffic destined for Amazon S3 or DynamoDB. 
          You can specify an endpoint policy for the endpoint, which controls access to the 
          service from your VPC. You can also specify the VPC route tables that use the endpoint. 
          For more information about connectivity to Amazon S3, see <a href="http://aws.amazon.com/premiumsupport/knowledge-center/connect-s3-vpc-endpoint" rel="noopener noreferrer" target="_blank"><span>Why can't I connect 
              to an S3 bucket using a gateway VPC endpoint?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p><p>An endpoint of type <code class="code">GatewayLoadBalancer</code> provides private connectivity 
          between your VPC and virtual appliances from a service provider.</p><h2 id="aws-resource-ec2-vpcendpoint-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-ec2-vpcendpoint-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Type" : "AWS::EC2::VPCEndpoint",
  "Properties" : <span>{</span>
      "<a href="#cfn-ec2-vpcendpoint-policydocument">PolicyDocument</a>" : <code class="replaceable">Json</code>,
      "<a href="#cfn-ec2-vpcendpoint-privatednsenabled">PrivateDnsEnabled</a>" : <code class="replaceable">Boolean</code>,
      "<a href="#cfn-ec2-vpcendpoint-routetableids">RouteTableIds</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-ec2-vpcendpoint-securitygroupids">SecurityGroupIds</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-ec2-vpcendpoint-servicename">ServiceName</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-ec2-vpcendpoint-subnetids">SubnetIds</a>" : <code class="replaceable">[ String, ... ]</code>,
      "<a href="#cfn-ec2-vpcendpoint-vpcendpointtype">VpcEndpointType</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-ec2-vpcendpoint-vpcid">VpcId</a>" : <code class="replaceable">String</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-ec2-vpcendpoint-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Type: AWS::EC2::VPCEndpoint
Properties: 
  <a href="#cfn-ec2-vpcendpoint-policydocument">PolicyDocument</a>: <code class="replaceable">Json</code>
  <a href="#cfn-ec2-vpcendpoint-privatednsenabled">PrivateDnsEnabled</a>: <code class="replaceable">Boolean</code>
  <a href="#cfn-ec2-vpcendpoint-routetableids">RouteTableIds</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-ec2-vpcendpoint-securitygroupids">SecurityGroupIds</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-ec2-vpcendpoint-servicename">ServiceName</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-vpcendpoint-subnetids">SubnetIds</a>: <code class="replaceable">
    - String</code>
  <a href="#cfn-ec2-vpcendpoint-vpcendpointtype">VpcEndpointType</a>: <code class="replaceable">String</code>
  <a href="#cfn-ec2-vpcendpoint-vpcid">VpcId</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-resource-ec2-vpcendpoint-properties">Properties</h2><div class="variablelist"><dl><dt><a id="cfn-ec2-vpcendpoint-policydocument"></a><span class="term"><code class="code">PolicyDocument</code></span></dt><dd>
      <p>An endpoint policy, which controls access to the service from the VPC. 
         The default endpoint policy allows full access to the service.
         Endpoint policies are supported only for gateway and interface endpoints.</p>
      <p>For CloudFormation templates in YAML, you can provide the policy in JSON or YAML format.
            AWS CloudFormation converts YAML policies to JSON format before calling the API to
         create or modify the VPC endpoint.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: Json</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt><a id="cfn-ec2-vpcendpoint-privatednsenabled"></a><span class="term"><code class="code">PrivateDnsEnabled</code></span></dt><dd>
      <p>Indicate whether to associate a private hosted zone with the specified VPC. The private hosted zone 
         contains a record set for the default public DNS name for the service for the Region (for example,
            <code class="code">kinesis.us-east-1.amazonaws.com</code>), which resolves to the private IP addresses
         of the endpoint network interfaces in the VPC. This enables you to make requests to the
         default public DNS name for the service instead of the public DNS names that are
         automatically generated by the VPC endpoint service.</p>
      <p>To use a private hosted zone, you must set the following VPC attributes to
            <code class="code">true</code>: <code class="code">enableDnsHostnames</code> and
         <code class="code">enableDnsSupport</code>.</p>
      <p>This property is supported only for interface endpoints.</p>
      <p>Default: <code class="code">false</code></p>
   <p><em>Required</em>: No</p><p><em>Type</em>: Boolean</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt><a id="cfn-ec2-vpcendpoint-routetableids"></a><span class="term"><code class="code">RouteTableIds</code></span></dt><dd>
        <p>The IDs of the route tables. Routing is supported only for gateway endpoints.</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: List of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt><a id="cfn-ec2-vpcendpoint-securitygroupids"></a><span class="term"><code class="code">SecurityGroupIds</code></span></dt><dd>
      <p>The IDs of the security groups to associate with the endpoint network interfaces.
          If this parameter is not specified, we use the default security group for the VPC.
          Security groups are supported only for interface endpoints.</p>
   <p><em>Required</em>: No</p><p><em>Type</em>: List of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt><a id="cfn-ec2-vpcendpoint-servicename"></a><span class="term"><code class="code">ServiceName</code></span></dt><dd>
         <p>The name of the endpoint service.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt><a id="cfn-ec2-vpcendpoint-subnetids"></a><span class="term"><code class="code">SubnetIds</code></span></dt><dd>
        <p>The IDs of the subnets in which to create endpoint network interfaces.
           You must specify this property for an interface endpoint or a Gateway Load Balancer endpoint.
           You can't specify this property for a gateway endpoint.
           For a Gateway Load Balancer endpoint, you can specify only one subnet.</p>
      <p><em>Required</em>: Conditional</p><p><em>Type</em>: List of String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt><a id="cfn-ec2-vpcendpoint-vpcendpointtype"></a><span class="term"><code class="code">VpcEndpointType</code></span></dt><dd>
         <p>The type of endpoint.</p>
         <p>Default: Gateway</p>
      <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Allowed values</em>: <code class="code">Gateway | GatewayLoadBalancer | Interface</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt><a id="cfn-ec2-vpcendpoint-vpcid"></a><span class="term"><code class="code">VpcId</code></span></dt><dd>
         <p>The ID of the VPC.</p>
      <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd></dl></div><h2 id="aws-resource-ec2-vpcendpoint-return-values">Return values</h2><h3 id="aws-resource-ec2-vpcendpoint-return-values-ref">Ref</h3><p>When you pass the logical ID of this resource to the intrinsic <code class="code">Ref</code>function, <code class="code">Ref</code>returns the ID of the VPC endpoint.</p><p>For more information about using the <code class="code">Ref</code>function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-ref.html">Ref</a>.</p><h3 id="aws-resource-ec2-vpcendpoint-return-values-fn--getatt">Fn::GetAtt</h3><p>The <code class="code">Fn::GetAtt</code>intrinsic function returns a value for a specified attribute of this type. The following are the available attributes and sample return values.</p>
<p>For more information about using the <code class="code">Fn::GetAtt</code>intrinsic function, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.</p><h4 id="aws-resource-ec2-vpcendpoint-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt><a id="CreationTimestamp-fn::getatt"></a><span class="term"><code class="code">CreationTimestamp</code></span></dt><dd>
      <p>The date and time the VPC endpoint was created. For example: <code class="code">Fri Sep 28 23:34:36
            UTC 2018.</code></p>
   </dd><dt><a id="DnsEntries-fn::getatt"></a><span class="term"><code class="code">DnsEntries</code></span></dt><dd>
      <p>(Interface endpoints) The DNS entries for the endpoint. Each entry is a combination of
         the hosted zone ID and the DNS name. The entries are ordered as follows: regional public
         DNS, zonal public DNS, private DNS, and wildcard DNS. This order is not enforced for
            AWS Marketplace services.</p>
      <p>The following is an example. In the first entry, the hosted zone ID is Z1HUB23UULQXV and
         the DNS name is vpce-01abc23456de78f9g-12abccd3.ec2.us-east-1.vpce.amazonaws.com.</p>
      <p>["Z1HUB23UULQXV:vpce-01abc23456de78f9g-12abccd3.ec2.us-east-1.vpce.amazonaws.com",
         "Z1HUB23UULQXV:vpce-01abc23456de78f9g-12abccd3-us-east-1a.ec2.us-east-1.vpce.amazonaws.com",
         "Z1C12344VYDITB0:ec2.us-east-1.amazonaws.com"]</p>
      <p>If you update the <code class="code">PrivateDnsEnabled</code> or <code class="code">SubnetIds</code> properties,
         the DNS entries in the list will change.</p>
   </dd><dt><a id="Id-fn::getatt"></a><span class="term"><code class="code">Id</code></span></dt><dd>
      <p>The ID of the VPC endpoint.</p>
   </dd><dt><a id="NetworkInterfaceIds-fn::getatt"></a><span class="term"><code class="code">NetworkInterfaceIds</code></span></dt><dd>
      <p>(Interface endpoints) The network interface IDs. If you update the
            <code class="code">PrivateDnsEnabled</code> or <code class="code">SubnetIds</code> properties, the items in this
         list might change.</p>
   </dd></dl></div><h2 id="aws-resource-ec2-vpcendpoint--examples">Examples</h2><p></p><h3 id="aws-resource-ec2-vpcendpoint--examples--Create_an_interface_endpoint">Create an interface endpoint</h3><p>The following example creates an interface endpoint for Amazon CloudWatch Logs in the 
                current Region. Traffic to CloudWatch Logs from any subnet in the Availability Zones
                that contain <code class="code">subnetA</code> and <code class="code">subnetB</code> automatically traverses the
                interface endpoint.</p><p>You can customize the properties of <code class="code">myVPC</code>, <code class="code">subnetA</code>,
                <code class="code">subnetB</code>, and <code class="code">mySecurityGroup</code> as needed. Alternatively,
                specify the IDs of existing resources in <code class="code">VpcId</code>, <code class="code">SubnetIds</code>, 
                and <code class="code">SecurityGroupIds</code>.</p><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-ec2-vpcendpoint--examples--Create_an_interface_endpoint--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  CWLInterfaceEndpoint:
    Type: 'AWS::EC2::VPCEndpoint'
    Properties:
      VpcEndpointType: 'Interface'
      ServiceName: !Sub 'com.amazonaws.$<span>{</span>AWS::Region}.logs'
      VpcId: !Ref myVPC
      SubnetIds: 
        - !Ref subnetA
        - !Ref subnetB
      SecurityGroupIds:
        - !Ref mySecurityGroup
  myVPC:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: 10.0.0.0/16
      EnableDnsSupport: true
      EnableDnsHostnames: true
      Tags:
        - Key: 'Name'
          Value: 'myVPC'
  subnetA:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref myVPC
      CidrBlock: '10.0.1.0/24'
      AvailabilityZone: !Select [ 0, !GetAZs ]
  subnetB: 
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref myVPC
      CidrBlock: '10.0.2.0/24'
      AvailabilityZone: !Select [ 1, !GetAZs ]
  mySecurityGroup:
    Type: 'AWS::EC2::SecurityGroup'
    Properties:
      GroupDescription: 'Allow HTTPS traffic from the VPC'
      VpcId: !Ref myVPC
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: 443
          ToPort: 443
          CidrIp: !GetAtt myVPC.CidrBlock</code></pre></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-ec2-vpcendpoint--examples--Create_an_interface_endpoint--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "CWLInterfaceEndpoint": <span>{</span>
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": <span>{</span>
                "VpcEndpointType": "Interface",
                "ServiceName": <span>{</span>
                    "Fn::Sub": "com.amazonaws.$<span>{</span>AWS::Region}.logs"
                },
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "SubnetIds": [
                    <span>{</span>
                        "Ref": "subnetA"
                    },
                    <span>{</span>
                        "Ref": "subnetB"
                    }
                ],
                "SecurityGroupIds": [
                    <span>{</span>
                        "Ref": "mySecurityGroup"
                    }
                ]
            }
        },
        "myVPC": <span>{</span>
            "Type": "AWS::EC2::VPC",
            "Properties": <span>{</span>
                "CidrBlock": "10.0.0.0/16",
                "EnableDnsSupport": true,
                "EnableDnsHostnames": true,
                "Tags": [
                    <span>{</span>
                        "Key": "Name",
                        "Value": "myVPC"
                    }
                ]
            }
        },
        "subnetA": <span>{</span>
            "Type": "AWS::EC2::Subnet",
            "Properties": <span>{</span>
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "CidrBlock": "10.0.1.0/24",
                "AvailabilityZone": <span>{</span>
                    "Fn::Select": [
                        0,
                        <span>{</span>
                            "Fn::GetAZs": ""
                        }
                    ]
                }
            }
        },
        "subnetB": <span>{</span>
            "Type": "AWS::EC2::Subnet",
            "Properties": <span>{</span>
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "CidrBlock": "10.0.2.0/24",
                "AvailabilityZone": <span>{</span>
                    "Fn::Select": [
                        1,
                        <span>{</span>
                            "Fn::GetAZs": ""
                        }
                    ]
                }
            }
        },
        "mySecurityGroup": <span>{</span>
            "Type": "AWS::EC2::SecurityGroup",
            "Properties": <span>{</span>
                "GroupDescription": "Allow HTTPS traffic from the VPC",
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "SecurityGroupIngress": [
                    <span>{</span>
                        "IpProtocol": "tcp",
                        "FromPort": 443,
                        "ToPort": 443,
                        "CidrIp": <span>{</span>
                            "Fn::GetAtt": [
                                "myVPC",
                                "CidrBlock"
                            ]
                        }
                    }
                ]
            }
        }
    }
}</code></pre></div><h3 id="aws-resource-ec2-vpcendpoint--examples--Create_a_gateway_endpoint">Create a gateway endpoint</h3><p>The following example creates a gateway endpoint that connects the VPC defined by
                  <code class="code">myVPC</code> with Amazon S3 in the current Region. The endpoint
               policy allows only the <code class="code">s3:GetObject</code> action on the specified bucket.
               Traffic to Amazon S3 from the subnets that are associated with the route
               table specified in <code class="code">RouteTableIds</code> is automatically routed through the
               gateway endpoint.</p><p>You can customize the properties of <code class="code">myVPC</code>, <code class="code">mySubnet</code>,
               <code class="code">myRouteTable</code>, and <code class="code">mySubnetRouteTableAssociation</code> as
               needed. Alternatively, specify the IDs of existing resources in <code class="code">VpcId</code>
               and <code class="code">RouteTableIds</code>.</p><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-ec2-vpcendpoint--examples--Create_a_gateway_endpoint--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  S3GatewayEndpoint:
    Type: 'AWS::EC2::VPCEndpoint'
    Properties:
      VpcEndpointType: 'Gateway'
      VpcId: !Ref myVPC
      ServiceName: !Sub 'com.amazonaws.$<span>{</span>AWS::Region}.s3'
      PolicyDocument:
        Version: 2012-10-17
        Statement:
          - Effect: Allow
            Principal: '*'
            Action:
              - 's3:GetObject'
            Resource:
              - 'arn:aws:s3:::mybucket/*'
      RouteTableIds:
        - !Ref myRouteTable
  myVPC:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: '10.0.0.0/16'
      EnableDnsSupport: true
      EnableDnsHostnames: true
      Tags:
        - Key: 'Name'
          Value: 'myVPC'
  mySubnet:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref myVPC
      CidrBlock: 10.0.0.0/24
      AvailabilityZone: !Select [ 0, !GetAZs ]
  myRouteTable:
    Type: 'AWS::EC2::RouteTable'
    Properties:
      VpcId: !Ref myVPC
  mySubnetRouteTableAssociation:
    Type: 'AWS::EC2::SubnetRouteTableAssociation'
    Properties: 
      SubnetId: !Ref mySubnet
      RouteTableId: !Ref myRouteTable</code></pre></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-ec2-vpcendpoint--examples--Create_a_gateway_endpoint--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "S3GatewayEndpoint": <span>{</span>
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": <span>{</span>
                "VpcEndpointType": "Gateway",
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "ServiceName": <span>{</span>
                    "Fn::Sub": "com.amazonaws.$<span>{</span>AWS::Region}.s3"
                },
                "PolicyDocument": <span>{</span>
                    "Version": "2012-10-17",
                    "Statement": [
                        <span>{</span>
                            "Effect": "Allow",
                            "Principal": "*",
                            "Action": [
                                "s3:GetObject"
                            ],
                            "Resource": [
                                "arn:aws:s3:::mybucket/*"
                            ]
                        }
                    ]
                },
                "RouteTableIds": [
                    <span>{</span>
                        "Ref": "myRouteTable"
                    }
                ]
            }
        },
        "myVPC": <span>{</span>
            "Type": "AWS::EC2::VPC",
            "Properties": <span>{</span>
                "CidrBlock": "10.0.0.0/16",
                "EnableDnsSupport": true,
                "EnableDnsHostnames": true,
                "Tags": [
                    <span>{</span>
                        "Key": "Name",
                        "Value": "myVPC"
                    }
                ]
            }
        },
        "mySubnet": <span>{</span>
            "Type": "AWS::EC2::Subnet",
            "Properties": <span>{</span>
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "CidrBlock": "10.0.0.0/24",
                "AvailabilityZone": <span>{</span>
                    "Fn::Select": [
                        1,
                        <span>{</span>
                            "Fn::GetAZs": null
                        }
                    ]
                }
            }
        },
        "myRouteTable": <span>{</span>
            "Type": "AWS::EC2::RouteTable",
            "Properties": <span>{</span>
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                }
            }
        },
        "mySubnetRouteTableAssociation": <span>{</span>
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": <span>{</span>
                "SubnetId": <span>{</span>
                    "Ref": "mySubnet"
                },
                "RouteTableId": <span>{</span>
                    "Ref": "myRouteTable"
                }
            }
        }
    }
}</code></pre></div><h3 id="aws-resource-ec2-vpcendpoint--examples--Create_a_Gateway_Load_Balancer_endpoint">Create a Gateway Load Balancer endpoint</h3><p>The following example creates a Gateway Load Balancer endpoint that connects <code class="code">myVPC</code>
                with the specified endpoint service in the current Region.</p><p>You can customize the properties of <code class="code">myVPC</code> and <code class="code">mySubnet</code> as needed.
                Alternatively, specify the IDs of existing resources in <code class="code">VpcId</code> and 
                <code class="code">SubnetIds</code>.</p><div id="YAML" name="YAML" class="section langfilter"><h4 id="aws-resource-ec2-vpcendpoint--examples--Create_a_Gateway_Load_Balancer_endpoint--yaml">YAML</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="yaml ">Resources:
  GWLBEndpoint:
    Type: 'AWS::EC2::VPCEndpoint'
    Properties:
      VpcEndpointType: 'GatewayLoadBalancer'
      ServiceName: 'com.amazonaws.vpce.$<span>{</span>AWS::Region}.vpce-svc-123123a1c43abc123'
      VpcId: !Ref myVPC
      SubnetIds: 
        - !Ref mySubnet
  myVPC:
    Type: 'AWS::EC2::VPC'
    Properties:
      CidrBlock: '10.0.0.0/16'
      EnableDnsSupport: true
      EnableDnsHostnames: true
      Tags:
        - Key: 'Name'
          Value: 'myVPC'
  mySubnet:
    Type: 'AWS::EC2::Subnet'
    Properties:
      VpcId: !Ref myVPC
      CidrBlock: '10.0.0.0/24'
      AvailabilityZone: !Select [ 1, !GetAZs ]</code></pre></div><div id="JSON" name="JSON" class="section langfilter"><h4 id="aws-resource-ec2-vpcendpoint--examples--Create_a_Gateway_Load_Balancer_endpoint--json">JSON</h4><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "GWLBEndpoint": <span>{</span>
            "Type": "AWS::EC2::VPCEndpoint",
            "Properties": <span>{</span>
                "VpcEndpointType": "GatewayLoadBalancer",
                "ServiceName": "com.amazonaws.vpce.$<span>{</span>AWS::Region}.vpce-svc-123123a1c43abc123",
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "SubnetIds": [
                    <span>{</span>
                        "Ref": "mySubnet"
                    }
                ]
            }
        },
        "myVPC": <span>{</span>
            "Type": "AWS::EC2::VPC",
            "Properties": <span>{</span>
                "CidrBlock": "10.0.0.0/16",
                "EnableDnsSupport": true,
                "EnableDnsHostnames": true,
                "Tags": [
                    <span>{</span>
                        "Key": "Name",
                        "Value": "myVPC"
                    }
                ]
            }
        },
        "mySubnet": <span>{</span>
            "Type": "AWS::EC2::Subnet",
            "Properties": <span>{</span>
                "VpcId": <span>{</span>
                    "Ref": "myVPC"
                },
                "CidrBlock": "10.0.0.0/24",
                "AvailabilityZone": <span>{</span>
                    "Fn::Select": [
                        1,
                        <span>{</span>
                            "Fn::GetAZs": ""
                        }
                    ]
                }
            }
        }
    }
}</code></pre></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-resource-ec2-vpcdhcpoptionsassociation.html">AWS::EC2::VPCDHCPOptionsAssociation</div><div id="next" class="next-link" accesskey="n" href="./aws-resource-ec2-vpcendpointconnectionnotification.html">AWS::EC2::VPCEndpointConnectionNotification</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2 CFN&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EC2 CFN&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/aws-resource-ec2-vpcendpoint.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>