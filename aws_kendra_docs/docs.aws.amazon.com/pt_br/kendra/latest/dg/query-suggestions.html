<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sugestões de consulta - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="query-suggestions" /><meta name="default_state" content="query-suggestions" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" /><meta name="description" content="Como sugerir consultas populares emAmazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Guia do desenvolvedor" /><meta name="abstract" content="Fornece uma visão geral conceitual do Amazon Kendra. Saiba mais sobre osAmazon Kendra recursos e comece a indexar seus documentos usando o console, a CLI e a API." /><meta name="guide-locale" content="pt_br" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/query-suggestions.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/query-suggestions.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/query-suggestions.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/query-suggestions.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/query-suggestions.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/query-suggestions.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/query-suggestions.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/query-suggestions.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/query-suggestions.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/query-suggestions.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/query-suggestions.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/query-suggestions.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Guia do desenvolvedor" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Guia do desenvolvedor" /><meta id="panorama-serviceConsolePage" value="Sugestões de consulta" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Sugestões de consulta - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#query-suggestions" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" /><meta name="keywords" content="Kendra,Amazon Kendra,pesquisa,pesquisa inteligente,linguagem natural,índice,question,palavra-chave,fonte de dados,conectora,Perguntas frequentes,pergunta frequente,consulta,sugestões de consulta,preenchimento automático,datilografar" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guia do desenvolvedor",
        "item" : "https://docs.aws.amazon.com/pt_br/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Pesquisando índices",
        "item" : "https://docs.aws.amazon.com/pt_br/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Sugestões de consulta",
        "item" : "https://docs.aws.amazon.com/pt_br/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#query-suggestions" target="_blank" rel="noopener noreferrer" title="Abrir em PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentação</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Guia do desenvolvedor</a></div><div id="page-toc-src"><a href="#suggestions-settings">Configurações de sugestões de consulta</a><a href="#suggestions-block-list">Bloqueie certas consultas a partir de sugestões</a><a href="#clear-suggestions">Sugestões claras</a><a href="#no-suggestions">Nenhuma sugestão disponível</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>As traduções são geradas por tradução automática. Em caso de conflito entre o conteúdo da tradução e da versão original em inglês, a versão em inglês prevalecerá.</p></awsui-alert><h1 class="topictitle" id="query-suggestions">Sugestões de consulta</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Kendra<em>As sugestões de consulta</em> podem ajudar seus usuários a digitar suas consultas de pesquisa com mais rapidez e orientar suas pesquisas.</p><p>Amazon Kendrasugere consultas relevantes para seus usuários com base em consultas populares no histórico de consultas ou no registro de consultas. Amazon Kendrausa todas as consultas que seus usuários pesquisam e aprende com essas consultas para fazer sugestões para seus usuários. Amazon Kendrasugere consultas populares aos usuários quando eles começam a digitar sua consulta. Amazon Kendrasugere uma consulta se o prefixo ou os primeiros caracteres da consulta corresponderem ao que o usuário começa a digitar como consulta.</p><p>Por exemplo, um usuário começa a digitar a consulta “próximos eventos”. Amazon Kendraaprendeu com o registro de consultas que muitos usuários pesquisaram “próximos eventos de 2050” várias vezes. O usuário vê os “próximos eventos de 2050” aparecerem diretamente abaixo da barra de pesquisa, preenchendo automaticamente a consulta de pesquisa. O usuário seleciona essa sugestão de consulta escolhendo o primeiro resultado da pesquisa, que é o documento 'Próximos eventos: o que está acontecendo em 2050'.</p><p>Você pode especificar comoAmazon Kendra seleciona consultas qualificadas para sugerir aos seus usuários. Por exemplo, você pode especificar que uma sugestão de consulta deve ter sido pesquisada por pelo menos 10 usuários exclusivos (o padrão é 3), ter sido pesquisada nos últimos 30 dias e não conter palavras ou frases da sua <a href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions#suggestions-block-list">lista de bloqueados</a>. Amazon Kendraexige que uma consulta tenha pelo menos um resultado de pesquisa e contenha pelo menos uma palavra com mais de quatro caracteres.</p><p>As sugestões de consulta não diferenciam maiúsculas de minúsculas. Amazon Kendraconverte o prefixo da consulta e a consulta sugerida em minúsculas, ignora todas as aspas simples e duplas e substitui vários caracteres de espaço em branco por um único espaço. Amazon Kendracombina com todos os outros caracteres especiais como estão. Amazon Kendranão mostra nenhuma sugestão se um usuário digitar menos de dois caracteres ou mais de 60 caracteres.</p><p>Você pode recuperar sugestões de consulta relevantes para seus usuários usando a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_GetQuerySuggestions.html">GetQuerySuggestions</a>API. As sugestões de consulta são ativadas por padrão, sem nenhum custo adicional. Você pode desativar as sugestões de consulta a qualquer momento usando a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateQuerySuggestionsConfig.html">UpdateQuerySuggestionsConfig</a>API. Você pode testar suas configurações antes de aplicar sugestões ao seu aplicativo de pesquisa de duas maneiras:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Usando a<code class="code">UpdateQuerySuggestionsConfig</code> API.</p>
            </li><li class="listitem">
                <p>No console, nas <b>configurações de sugestões de consulta</b>.</p>
            </li></ul></div><p>Você usa a<code class="code">GetQuerySuggestions</code> API para integrar sugestões de consulta com seu aplicativo de console para que seus usuários comecem a ver as sugestões.</p>
            <h2 id="suggestions-settings">Configurações de sugestões de consulta</h2>
            <p>Você pode definir as seguintes configurações usando a<code class="code">UpdateQuerySuggestionsConfig</code> API:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Modo</b> — As sugestões de consulta são<code class="code">ENABLED</code> ou<code class="code">LEARN_ONLY</code>. Amazon Kendraativa sugestões de consulta por padrão. <code class="code">LEARN_ONLY</code>desativa as sugestões de consulta. Se desativado,Amazon Kendra continua aprendendo sugestões, mas não faz sugestões de consultas para os usuários.</p>
                </li><li class="listitem">
                    <p><b>Janela de tempo do registro de consultas</b> — quão recentes são suas consultas na janela de tempo do registro de consultas. A janela de tempo é um valor inteiro para o número de dias do dia atual até os dias anteriores.</p>
                </li><li class="listitem">
                    <p><b>Consultas sem informações do usuário</b> — Definido como<code class="code">TRUE</code> para incluir todas as consultas ou definido<code class="code">FALSE</code> para incluir somente consultas com informações do usuário. Você pode usar isso se seu aplicativo de pesquisa incluir informações do usuário, como a ID do usuário, quando um usuário fizer uma consulta. Essa configuração, por padrão, não filtra as consultas se não houver informações específicas do usuário associadas às consultas. No entanto, você pode usar essa configuração para fazer sugestões somente com base em consultas que incluam informações do usuário.</p>
                </li><li class="listitem">
                    <p><b>Usuários exclusivos</b> — O número mínimo de usuários exclusivos que devem pesquisar uma consulta para se qualificarem para sugerir aos seus usuários. Esse número é um valor inteiro.</p>
                </li><li class="listitem">
                    <p><b>Contagem de consultas</b> — O número mínimo de vezes que uma consulta deve ser pesquisada para que a consulta seja elegível para ser sugerida aos seus usuários. Esse número é um valor inteiro.</p>
                </li></ul></div>
            <p>Essas configurações afetam a forma como as consultas são selecionadas como consultas populares para sugerir aos seus usuários. A forma como você ajusta suas configurações dependerá de suas necessidades específicas, por exemplo:</p>
            <p></p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Se seus usuários normalmente pesquisam uma vez por mês, em média, você pode definir o número de dias na janela de tempo do registro de consultas como 30, para capturar a maioria das consultas recentes de seus usuários antes que elas se tornem desatualizadas na janela de tempo. </p>
                </li><li class="listitem">
                    <p>Se apenas um pequeno número de suas consultas incluir informações do usuário e você não quiser sugerir consultas com base em uma amostra pequena, você poderá definir consultas para incluir todos os usuários.</p>
                </li><li class="listitem">
                    <p>Se você definir consultas populares como sendo pesquisadas por pelo menos 10 usuários exclusivos e pesquisadas pelo menos 100 vezes, definirá os usuários exclusivos como 10 e a contagem de consultas como 100.</p>
                </li></ul></div>
            <p>Suas alterações nas configurações podem não entrar em vigor imediatamente. Você pode acompanhar as alterações nas configurações usando a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DescribeQuerySuggestionsConfig.html">DescribeQuerySuggestionsConfig</a>API. O tempo para que suas configurações atualizadas entrem em vigor depende das atualizações feitas e do número de consultas de pesquisa em seu índice.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Console</dt><dd tab-id="console">
                        
                        <div class="procedure"><h6>Para verificar se as sugestões de consulta estão ativadas e prontas</h6><ol><li>
                                <p>No painel de navegação esquerdo, em <b>Índices</b>, acesse seu índice e, em <b>Enriquecimentos</b>, selecione <b>Sugestões de consulta</b>.</p>
                            </li><li>
                                <p>Na página <b>Sugestões de consulta</b>, acesse as <b>configurações de sugestões de consulta</b> e faça o seguinte:</p>
                                <ol><li>
                                        <p>Verifique se <b>o status</b> está <b>ativado</b>.</p>
                                    </li><li>
                                        <p>Verifique se o número de <b>consultas prontas para sugestões</b> é maior que 0.</p>
                                    </li></ol>
                            </li></ol></div>
                        <div class="procedure"><h6>Para editar as configurações de sugestões de consulta</h6><ol><li>
                                <p>No painel de navegação esquerdo, em <b>Índices</b>, acesse seu índice e, em <b>Enriquecimentos</b>, selecione <b>Sugestões de consulta</b>.</p>
                            </li><li>
                                <p>Na página <b>Sugestões de consulta</b>, acesse <b>Configurações de sugestões de consulta</b> e escolha <b>Editar</b>.</p>
                            </li></ol></div>
                        <div class="procedure"><h6>Para obter sugestões claras</h6><ol><li>
                                <p>No painel de navegação esquerdo, em <b>Índices</b>, acesse seu índice e, em <b>Enriquecimentos</b>, selecione <b>Sugestões de consulta</b>.</p>
                            </li><li>
                                <p>Na página <b>Sugestões de consulta</b>, acesse <b>Configurações de sugestões de consulta</b> e, em <b>Ações</b>, escolha <b>Limpar sugestões</b>.</p>
                            </li></ol></div>
                    </dd>
                <dt>CLI</dt><dd tab-id="cli">
                        <p><b>Para recuperar sugestões de consulta</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra get-query-suggestions \
--index-id <code class="replaceable">index-id</code> \
--query-text <code class="replaceable">"query-text"</code> \
--max-suggestions-count 1 // If you want to limit the number of suggestions.
</code></pre>
                        <p><b>Para atualizar sugestões de consulta</b></p>
                        <p>Por exemplo, para alterar a janela de tempo do registro de consultas e o número mínimo de vezes que uma consulta deve ser pesquisada:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra update-query-suggestions-config \
--index-id <code class="replaceable">index-id</code> \
--query-log-look-back-window-in-days 30 \
--minimum-query-count 100</code></pre>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>O tempo para que suas configurações atualizadas entrem em vigor depende das atualizações feitas e do número de consultas de pesquisa em seu índice.</p></div></div>
                        <p><b>Para esclarecer sugestões</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws  kendra clear-query-suggestions \
--index-id <code class="replaceable">index-id</code> \</code></pre>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Amazon Kendraaprende novas sugestões com base nas novas consultas adicionadas ao registro de consultas a partir do momento em que você apagou as sugestões pela última vez.</p></div></div>
                    </dd>
                <dt>Python</dt><dd tab-id="python">
                        <p><b>Para recuperar sugestões de consulta</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Get query suggestions.")

# Provide the index ID
index_id = "index-id"

# Provide the query text
query_text = "query"

try:
    query_suggestions_response = kendra.get_query_suggestions(
        IndexId = index_id,
        QueryText = query_text,
        MaxSuggestionsCount = 5
    )

    # Print out the suggestions you received
    if ("Suggestions" in query_suggestions_response.keys()) <span>{</span>
        for (suggestion: query_suggestions_response["Suggestions"]) <span>{</span>
            print(suggestion["Value"]["Text"]["Text"]);
        }
    }
   
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Para atualizar sugestões de consulta</b>,</p>
                        <p>Por exemplo, para alterar a janela de tempo do registro de consultas e o número mínimo de vezes que uma consulta deve ser pesquisada:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError
import pprint
import time

kendra = boto3.client("kendra")

print("Updating query suggestions settings/configuration for an index.")

# Provide the index ID
index_id = "index-id"

# Configure the settings you want to update
query_log_look_back_window_in_days = 30
minimum_query_count = 100

try:
    kendra.update_query_suggestions_config(
        IndexId = index_id,
        QueryLogLookBackWindowInDays = query_log_look_back_window_in_days,
        MinimumQueryCount = minimum_query_count
    )

    print("Wait for Amazon Kendra to update the query suggestions.")

    while True:
        # Get query suggestions description of settings/configuration
        query_sugg_config_response = kendra.describe_query_suggestions_config(
            IndexId = index_id
        )
        
        # If status is not UPDATING, then quit
        status = query_sugg_config_response["Status"]
        print(" Updating query suggestions config. Status: " + status)
        if status != "UPDATING":
            break
        time.sleep(60)

except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Para esclarecer sugestões</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Clearing out query suggestions for an index.")

# Provide the index ID
index_id = "index-id"

try:
    kendra.clear_query_suggestions(
        IndexId = index_id
    )

    # Confirm last cleared date-time and that there are no suggestions
    query_sugg_config_response = kendra.describe_query_suggestions_config(
        IndexId = index_id
    )
    print("Query Suggestions last cleared at: " + str(query_sugg_config_response["LastClearTime"]));
    print("Number of suggestions available to use after clearing: " + str(query_sugg_config_response["TotalSuggestionsCount"]));
        
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                    </dd>
            </dl></awsdocs-tabs>
            <p>Você pode verificar suas configurações atuais usando a<code class="code">DescribeQuerySuggestionsConfig</code> API. Além disso, essa operação mostra as seguintes informações sobre suas sugestões de consulta para um índice:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Modo</b> — As sugestões de consulta são<code class="code">ENABLED</code> ou<code class="code">LEARN_ONLY</code>. Amazon Kendraativa sugestões de consulta por padrão. <code class="code">LEARN_ONLY</code>desativa as sugestões de consulta. Você pode alterar o modo usando a<code class="code">UpdateQuerySuggestionsConfig</code> API. Se desativado,Amazon Kendra continua aprendendo sugestões, mas não faz sugestões de consultas para os usuários.</p>
                </li><li class="listitem">
                    <p><b>Status</b> — As sugestões de consulta são<code class="code">ACTIVE</code> ou<code class="code">UPDATING</code>.</p>
                </li><li class="listitem">
                    <p><b>Contagem de sugestões</b> — O número total de consultas prontas para serem sugeridas aos seus usuários. Se a contagem for muito menor do que o esperado, pode ser porqueAmazon Kendra precisa de mais consultas para aprender ou porque suas configurações atuais de sugestões de consulta são muito rígidas.</p>
                </li><li class="listitem">
                    <p><b>Hora da última criação das sugestões</b> — A última vez que as sugestões foram atualizadas. Amazon Kendraatualiza automaticamente as sugestões a cada 24 horas, ou quando você altera uma configuração ou quando aplica uma <a href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html#suggestions-block-list">lista de bloqueio</a>.</p>
                </li><li class="listitem">
                    <p><b>Hora da última eliminação das sugestões</b> — A última vez que as sugestões foram apagadas.</p>
                </li></ul></div>
         
            <h2 id="suggestions-block-list">Bloqueie certas consultas a partir de sugestões</h2>
            <p>Uma lista de bloqueioAmazon Kendra impede de sugerir certas consultas populares para seus usuários. É uma lista de palavras ou frases que você deseja excluir das sugestões de consulta. Amazon Kendraexclui consultas contendo uma correspondência exata das palavras ou frases na lista de bloqueio.</p>
            <p>Você pode usar uma lista de bloqueio para se proteger contra palavras ou frases ofensivas que normalmente aparecem em seu registro de consultas e queAmazon Kendra podem ser selecionadas como sugestões. Uma lista de bloqueio também podeAmazon Kendra impedir a sugestão de consultas populares que contenham informações que não estão prontas para serem divulgadas ou anunciadas publicamente. Por exemplo, se seus usuários costumam fazer perguntas sobre o lançamento de um novo produto que você não quer sugerir porque não está pronto para lançar em breve, você pode bloquear consultas que contenham o nome do produto e as informações do produto a partir de sugestões.</p>
            <p>Você pode criar uma lista de bloqueio para consultas usando a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateQuerySuggestionsBlockList.html">CreateQuerySuggestionsBlockList</a>API. Você coloca cada palavra ou frase do bloco em uma linha separada em um arquivo de texto. Em seguida, você carrega o arquivo de texto para o bucket do S3 e fornece o caminho ou a localização do arquivo emAmazon S3. Amazon Kendraatualmente suporta a criação de apenas uma lista de bloqueio.</p>
            <p>Você pode substituir o arquivo de texto das palavras e frases bloqueadas em seuAmazon S3 bucket e usar a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateQuerySuggestionsBlockList.html">UpdateQuerySuggestionsBlockList</a>API para atualizar a lista de bloqueios emAmazon Kendra.</p>
            <p>Você pode usar a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DescribeQuerySuggestionsBlockList.html">DescribeQuerySuggestionsBlockList</a>API para obter o status da sua lista de bloqueio e outras informações úteis, como quando sua lista de bloqueio foi atualizada pela última vez, quantas palavras ou frases estão na sua lista de bloqueio atual e mensagens de erro úteis ao criar uma lista de bloqueio. Você também pode usar a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_ListQuerySuggestionsBlockLists.html">ListQuerySuggestionsBlockLists</a>API para obter uma lista de resumos de listas de bloqueio para um índice.</p>
            <p>Para excluir sua lista de bloqueio, use a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DeleteQuerySuggestionsBlockList.html">DeleteQuerySuggestionsBlockList</a>API.</p>
            <p>Suas atualizações na lista de bloqueio podem não entrar em vigor imediatamente. Você pode acompanhar as atualizações usando a<code class="code">DescribeQuerySuggestionsBlockList</code> API.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Console</dt><dd tab-id="console">
                        
                        <div class="procedure"><h6>Para importar uma lista de bloqueios</h6><ol><li>
                                <p>No painel de navegação esquerdo, em <b>Índices</b>, acesse seu índice e, em <b>Enriquecimentos</b>, selecione <b>Sugestões de consulta</b>.</p>
                            </li><li>
                                <p>Na página <b>Sugestões de consulta</b>, acesse <b>Lista de bloqueios</b> e escolha <b>Importar lista bloqueada</b>.</p>
                            </li><li>
                                <p>No campo <b>Localização do arquivo da lista de bloqueados no S3</b>, insira a localização do arquivo de texto da lista de bloqueio em seuAmazon S3 bucket. </p>
                            </li></ol></div>
                        <div class="procedure"><h6>Para atualizar e recarregar uma lista de bloqueios</h6><ol><li>
                                <p>No painel de navegação esquerdo, em <b>Índices</b>, acesse seu índice e, em <b>Enriquecimentos</b>, selecione <b>Sugestões de consulta</b>.</p>
                            </li><li>
                                <p>Substitua o arquivo de texto da lista de bloqueios noAmazon S3 bucket pelo arquivo atualizado.</p>
                            </li><li>
                                <p>Na página <b>Sugestões de consulta</b>, acesse <b>Lista de bloqueios</b> e escolha <b>Recarregar</b>. </p>
                            </li></ol></div>
                        <div class="procedure"><h6>Para excluir uma lista de bloqueio</h6><ol><li>
                                <p>No painel de navegação esquerdo, em <b>Índices</b>, acesse seu índice e, em <b>Enriquecimentos</b>, selecione <b>Sugestões de consulta</b>.</p>
                            </li><li>
                                <p>Na página <b>Sugestões de consulta</b>, acesse <b>Lista de bloqueios</b> e escolha <b>Excluir</b>.</p>
                            </li></ol></div>
                    </dd>
                <dt>CLI</dt><dd tab-id="cli">
                        <p><b>Para criar uma lista de bloqueios</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra create-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--name <code class="replaceable">"block-list-name"</code> \
--description <code class="replaceable">"block-list-description"</code> \
--source-s3-path "Bucket=<code class="replaceable">bucket-name</code>,Key=<code class="replaceable">query-suggestions/block_list.txt</code>" \
--role-arn <code class="replaceable">role-arn</code>
</code></pre>
                        <p><b>Para atualizar uma lista de bloqueio</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra update-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--name <code class="replaceable">"block-list-name"</code> \
--description <code class="replaceable">"block-list-description"</code> \
--source-s3-path "Bucket=<code class="replaceable">bucket-name</code>,Key=<code class="replaceable">query-suggestions/block_list.txt</code>" \
--role-arn <code class="replaceable">role-arn</code>
</code></pre>
                        <p><b>Para excluir uma lista de bloqueio</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra delete-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--id <code class="replaceable">block-list-id</code>
</code></pre>
                    </dd>
                <dt>Python</dt><dd tab-id="python">
                        <p><b>Para criar uma lista de bloqueios</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError
import pprint
import time

kendra = boto3.client("kendra")

print("Create a query suggestions block list.")

# Provide a name for the block list
block_list_name = "block-list-name"
# Provide an optional description for the block list
block_list_description = "block-list-description"
# Provide the IAM role ARN required for query suggestions block lists
block_list_role_arn = "role-arn"

# Provide the index ID
index_id = "index-id"

s3_bucket_name = "bucket-name"
s3_key = "query-suggestions/block_list.txt"
source_s3_path = <span>{</span>
    'Bucket': s3_bucket_name,
    'Key': s3_key
}

try:
    block_list_response = kendra.create_query_suggestions_block_list(
        Description = block_list_description,
        Name = block_list_name,
        RoleArn = block_list_role_arn,
        IndexId = index_id,
        SourceS3Path = source_s3_path
    )

    print(block_list_response)

    block_list_id = block_list_response["Id"]

    print("Wait for Amazon Kendra to create the block list.")

    while True:
        # Get block list description
        block_list_description = kendra.describe_query_suggestions_block_list(
            Id = block_list_id,
            IndexId = index_id
        )
        # If status is not CREATING, then quit
        status = block_list_description["Status"]
        print("Creating block list. Status: " + status)
        if status != "CREATING":
            break
        time.sleep(60)
        
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Para atualizar uma lista de bloqueio</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import boto3
from botocore.exceptions import ClientError
import pprint
import time
                        
kendra = boto3.client("kendra")
                        
print("Update a block list for query suggestions.")

# Provide the block list name you want to update
block_list_name = "block-list-name"
# Provide the block list description you want to update
block_list_description = "block-list-description"
# Provide the IAM role ARN required for query suggestions block lists
block_list_role_arn = "role-arn"

# Provide the block list ID
block_list_id = "block-list-id"
# Provide the index ID
index_id = "index-id"
                        
s3_bucket_name = "bucket-name"
s3_key = "query-suggestions/block_list_updated.txt"
source_s3_path = <span>{</span>
'Bucket': s3_bucket_name,
'Key': s3_key
}
                        
try:
    kendra.update_query_suggestions_block_list(
        Id = block_list_id,
        IndexId = index_id,
        Description = block_list_description,
        Name = block_list_name,
        RoleArn = block_list_role_arn,
        SourceS3Path = source_s3_path
    )
                        
    print("Wait for Amazon Kendra to update the block list.")
                        
    while True:
        # Get block list description
        block_list_description = kendra.describe_query_suggestions_block_list(
            Id = block_list_id,
            IndexId = index_id
        )
        # If status is not UPDATING, then the update has finished 
        status = block_list_description["Status"]
        print("Updating block list. Status: " + status)
        if status != "UPDATING":
            break
        time.sleep(60)
                        
except ClientError as e:
print("%s" % e)
                        
print("Program ends.")
</code></pre>
                        <p><b>Para excluir uma lista de bloqueio</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Delete a block list for query suggestions.")

# provide the block list ID
query_suggestions_block_list_id = "query-suggestions-block-list-id"
# Provide the index ID
index_id = "index-id"

try:
    kendra.delete_query_suggestions_block_list(
        Id = query_suggestions_block_list_id,
        IndexId = index_id
    )

except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                    </dd>
            </dl></awsdocs-tabs>
         
            <h2 id="clear-suggestions">Sugestões claras</h2>
            <p>Você pode apagar sugestões de consulta usando a <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_ClearQuerySuggestions.html">ClearQuerySuggestions</a>API. A limpeza das sugestões exclui somente as sugestões de consulta existentes, não as consultas no registro de consultas. Depois de limpar as sugestões,Amazon Kendra aprende novas sugestões com base nas novas consultas adicionadas ao registro de consultas a partir do momento em que você apagou as sugestões.</p>
         
            <h2 id="no-suggestions">Nenhuma sugestão disponível</h2>
            <p>Se você não encontrar sugestões para uma consulta, talvez por um dos seguintes motivos:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Não há consultas suficientes em seu índice com as quaisAmazon Kendra você possa aprender.</p>
                </li><li class="listitem">
                    <p>Suas configurações de sugestões de consulta são muito rígidas, fazendo com que a maioria das consultas seja filtrada das sugestões.</p>
                </li><li class="listitem">
                    <p>Você apagou as sugestões recentemente eAmazon Kendra ainda precisa de tempo para que novas consultas se acumulem a fim de aprender novas sugestões.</p>
                </li></ul></div>
            <p>Você pode verificar suas configurações atuais usando a<code class="code">DescribeQuerySuggestionsConfig</code> API.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Atenção" /> <strong>O Javascript está desativado ou não está disponível no seu navegador.</strong></p><p>Para usar a documentação da AWS, o Javascript deve estar ativado. Consulte as páginas de Ajuda do navegador para obter instruções.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenções do documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./searching-tables.html">Pesquisa tabular de HTML</div><div id="next" class="next-link" accesskey="n" href="./query-spell-check.html">Verificador ortográfico de consulta</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Essa página foi útil? - Sim</div><div class="content"><p>Obrigado por nos informar que estamos fazendo um bom trabalho!</p><p>Se tiver tempo, conte-nos sobre o que você gostou para que possamos melhorar ainda mais.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Essa página foi útil? - Não</div><div class="content"><p>Obrigado por nos informar que precisamos melhorar a página. Lamentamos ter decepcionado você.</p><p>Se tiver tempo, conte-nos como podemos melhorar a documentação.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>