<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Monitoring Amazon Kendra with Amazon CloudWatch Logs - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="cloudwatch-logs" /><meta name="default_state" content="cloudwatch-logs" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/cloudwatch-logs.html" /><meta name="description" content="Amazon Kendra uses Amazon CloudWatch Logs to give you insight into the operation of your data sources. Amazon Kendra logs process details for the documents as they are indexed. It logs errors from your data source that occur while your documents are being indexed. You use CloudWatch Logs to monitor, store and access the log files." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/cloudwatch-logs.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/cloudwatch-logs.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/cloudwatch-logs.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/cloudwatch-logs.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/cloudwatch-logs.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/cloudwatch-logs.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/cloudwatch-logs.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/cloudwatch-logs.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/cloudwatch-logs.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/cloudwatch-logs.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/cloudwatch-logs.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/cloudwatch-logs.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/cloudwatch-logs.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/cloudwatch-logs.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/cloudwatch-logs.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/cloudwatch-logs.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/cloudwatch-logs.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/cloudwatch-logs.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/cloudwatch-logs.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/cloudwatch-logs.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/cloudwatch-logs.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/cloudwatch-logs.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Monitoring Amazon Kendra with Amazon CloudWatch Logs" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Monitoring Amazon Kendra with Amazon CloudWatch Logs - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#cloudwatch-logs" /><meta name="github" content="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/cloudwatch-logs.md" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/cloudwatch-logs.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/cloudwatch-logs.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/cloudwatch-logs.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Monitoring and logging for Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Monitoring Amazon Kendra with Amazon CloudWatch Logs",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/monitoring.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#cloudwatch-logs" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/cloudwatch-logs.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#data-source-log-stream">Data source log streams</a><a href="#document-log-stream">Document log streams</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="cloudwatch-logs">Monitoring Amazon Kendra with Amazon CloudWatch Logs</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Kendra uses Amazon CloudWatch Logs to give you insight into the operation of your data sources.
            Amazon Kendra logs process details for the documents as they are indexed. It logs errors from
            your data source that occur while your documents are being indexed. You use CloudWatch Logs to
            monitor, store and access the log files.</p><p>CloudWatch Logs stores log events in a log stream that is part of a log group. Amazon Kendra uses
            these features as follows:</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Log groupsâ€”Amazon Kendra stores all of your log streams in a single log
                    group for each index. Amazon Kendra creates the log group when the index is created.
                    The log group identifier always begins with "aws/kendra/".</p>
            </li><li class="listitem">
                <p>Log streamâ€”Amazon Kendra creates a new data source log stream in the log
                    group for each index synchronization job that you run. It also creates a new
                    document log stream when a stream reaches approximately 500 entries. </p>
            </li><li class="listitem">
                <p>Log entriesâ€”Amazon Kendra creates a log entry in the log stream as it
                    indexes documents. Each entry provides information about processing the document
                    or any errors that are encountered.</p>
            </li></ul></div><p>For more information about using CloudWatch Logs, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html"> What Is Amazon Cloud
                Watch Logs</a> in the <em>Amazon Cloud Watch Logs User Guide</em>. </p><p>Amazon Kendra creates two types of log streams:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><a href="#data-source-log-stream">Data source log streams</a></p>
            </li><li class="listitem">
                <p><a href="#document-log-stream">Document log streams</a></p>
            </li></ul></div>
            <h2 id="data-source-log-stream">Data source log streams</h2>
            <p>Data source log streams publish entries about your index synchronization jobs.
                Each synchronization job creates a new log stream that it uses to publish entries.
                The log stream name is:</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><code class="replaceable">data source id</code>/<code class="replaceable">YYYY</code>-<code class="replaceable">MM</code>-<code class="replaceable">DD</code>-<code class="replaceable">HH</code>/<code class="replaceable">data source sync job ID</code></code></pre>
            <p>A new log stream is created for each synchronization job run.</p>
            <p>There are three types of log messages published to a data source log
                stream:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>A log message for a document that failed to be sent for indexing. The
                        following is an example of this message for a document in an S3 data
                        source:</p>
                    <pre class="programlisting"><div class="code-btn-container"></div><code class="json "><span>{</span>
    "DocumentId": "<code class="replaceable">document ID</code>",
    "S3Path": "s3://<code class="replaceable">bucket</code>/<code class="replaceable">prefix</code>/<code class="replaceable">object</code>",
    "Message": "Failed to ingest document via BatchPutDocument.",
    "ErrorCode": "InvalidRequest",
    "ErrorMessage": "No document metadata configuration found for document attribute key  city."
}</code></pre>
                </li><li class="listitem">
                    <p>A log message for a document that failed to be sent for deletion. The
                        following is an example of this message:</p>
                    <pre class="programlisting"><div class="code-btn-container"></div><code class="json "><span>{</span>
    "DocumentId": "<code class="replaceable">document ID</code>",
    "Message": "Failed to delete document via BatchDeleteDocument.",
    "ErrorCode": "InvalidRequest",
    "ErrorMessage": "Document can't be deleted because it doesn't exist." 
}</code></pre>
                </li><li class="listitem">
                    <p>A log message when an invalid metadata file for a document in an Amazon S3
                        bucket is found. The following is an example of this message.</p>
                    <pre class="programlisting"><div class="code-btn-container"></div><code class="json "><span>{</span>
    "Message": "Found invalid metadata file <code class="replaceable">bucket</code>/<code class="replaceable">prefix</code>/<code class="replaceable">filename</code>.<code class="replaceable">extension</code>.metadata.json."
}</code></pre>
                </li><li class="listitem">
                    <p>For SharePoint and database connectors, Amazon Kendra only writes messages to
                        the log stream if a document can't be indexed. The following is an example
                        of the error message that Amazon Kendra logs.</p>
                    <pre class="programlisting"><div class="code-btn-container"></div><code class="json "><span>{</span> 
    "DocumentID": "<code class="replaceable">document ID</code>", 
    "IndexID": "<code class="replaceable">index ID</code>", 
    "SourceURI": "", 
    "CrawlStatus": "FAILED", 
    "ErrorCode": "403", 
    "ErrorMessage": "Access Denied", 
    "DataSourceErrorCode": "403"
}</code></pre>
                </li></ul></div>
         
            <h2 id="document-log-stream">Document log streams</h2>
            <p>Amazon Kendra logs information about processing documents while they are being indexed.
                It logs a set of messages for documents stored in an Amazon S3 data source. It logs
                errors only for documents stored in a Microsoft SharePoint or a database data
                source.</p>
            <p>If the documents were added to the index using the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_BatchPutDocument.html">BatchPutDocument</a>
                operation, the log stream is named as follows:</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><code class="replaceable">YYYY</code>-<code class="replaceable">MM</code>-<code class="replaceable">DD</code>-<code class="replaceable">HH</code>/<code class="replaceable">UUID</code></code></pre>
            <p>If the documents were added to the index using a datasource, the log stream is
                named as follows:</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><code class="replaceable">dataSourceId</code>/<code class="replaceable">YYYY</code>-<code class="replaceable">MM</code>-<code class="replaceable">DD</code>-<code class="replaceable">HH</code>/<code class="replaceable">UUID</code></code></pre>
            <p>Each log stream contains up to 500 messages.</p>
            <p>If indexing a document fails, this message is output to the log stream:</p>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="json "><span>{</span>
    "DocumentId": "<code class="replaceable">document ID</code>",
    "IndexName": "<code class="replaceable">index name</code>",
    "IndexId": "<code class="replaceable">index ID</code>"
    "SourceURI": "<code class="replaceable">source URI</code>"
    "IndexingStatus": "<code class="replaceable">DocumentFailedToIndex</code>",
    "ErrorCode": "400 | 500",
    "ErrorMessage": "<code class="replaceable">message</code>"
}</code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cloudwatch-metrics.html">Monitoring Amazon Kendra with CloudWatch</div><div id="next" class="next-link" accesskey="n" href="./security.html">Security</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/cloudwatch-logs.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/cloudwatch-logs.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>