<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
        <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Tuning search relevance - Amazon Kendra</title>
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <meta name="assets_root" content="/assets" />
        <meta name="target_state" content="tuning" />
        <meta name="default_state" content="tuning" />
        <link rel="icon" type="image/ico" href="/assets/images/favicon.ico" />
        <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" />
        <link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning.html" />
        <meta name="description" content="Learn how to improve a Amazon Kendra index with relevance tuning." />
        <meta name="deployment_region" content="IAD" />
        <meta name="product" content="Amazon Kendra" />
        <meta name="guide" content="Developer Guide" />
        <meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." />
        <meta name="guide-locale" content="en_us" />
        <meta name="tocs" content="toc-contents.json" />
        <link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning.html" />
        <link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/tuning.html" hreflang="id-id" />
        <link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/tuning.html" hreflang="id" />
        <link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/tuning.html" hreflang="de-de" />
        <link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/tuning.html" hreflang="de" />
        <link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning.html" hreflang="en-us" />
        <link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning.html" hreflang="en" />
        <link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/tuning.html" hreflang="es-es" />
        <link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/tuning.html" hreflang="es" />
        <link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/tuning.html" hreflang="fr-fr" />
        <link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/tuning.html" hreflang="fr" />
        <link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/tuning.html" hreflang="it-it" />
        <link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/tuning.html" hreflang="it" />
        <link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/tuning.html" hreflang="ja-jp" />
        <link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/tuning.html" hreflang="ja" />
        <link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/tuning.html" hreflang="ko-kr" />
        <link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/tuning.html" hreflang="ko" />
        <link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/tuning.html" hreflang="pt-br" />
        <link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/tuning.html" hreflang="pt" />
        <link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/tuning.html" hreflang="zh-cn" />
        <link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/tuning.html" hreflang="zh-tw" />
        <link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning.html" hreflang="x-default" />
        <meta name="feedback-item" content="Kendra" />
        <meta name="this_doc_product" content="Amazon Kendra" />
        <meta name="this_doc_guide" content="Developer Guide" />
        <script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script>
        <script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script>
        <script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script>
        <script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script>
        <script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script>
        <link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" />
        <link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" />
        <link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" />
        <script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script>
        <meta id="panorama-serviceSubSection" value="Developer Guide" />
        <meta id="panorama-serviceConsolePage" value="Tuning search relevance" />
        </head>
        <body class="awsdocs awsui">
            <div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
                <div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div>
                <div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view">
                    <div id="awsdocs-content">
                        <head>
                            <title>Tuning search relevance - Amazon Kendra</title>
                            <meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#tuning" />
                            <meta name="github" content="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/tuning.md" />
                            <meta name="rss" content="amazon-kendra-release-notes.rss" />
                            <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning.html" />
                            <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning.html" />
                            <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning.html" />
                            <meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question" />
                            <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "AWS",
                "item": "https://aws.amazon.com"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Amazon Kendra",
                "item": "https://docs.aws.amazon.com/kendra/index.html"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Developer Guide",
                "item": "https://docs.aws.amazon.com/kendra/latest/dg"
            },
            {
                "@type": "ListItem",
                "position": 4,
                "name": "Tuning search relevance",
                "item": "https://docs.aws.amazon.com/kendra/latest/dg/tuning.html"
            }
        ]
    }
</script></head>
                        <body>
                        <div id="main">
                            <div style="display: none">
                                <a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#tuning" target="_blank" rel="noopener noreferrer" title="Open PDF"></a>
                                <a href="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/tuning.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a>
                            </div>
                            <div id="breadcrumbs" class="breadcrumb">
                                <a href="https://aws.amazon.com">AWS</a>
                                <a href="/index.html">Documentation</a>
                                <a href="/kendra/index.html">Amazon Kendra</a>
                                <a href="what-is-kendra.html">Developer Guide</a>
                            </div>
                            <div id="page-toc-src">
                                <a href="#tuning-index">Relevance tuning at the index level</a>
                                <a href="#tuning-query">Relevance tuning at the query level</a>
                            </div>
                            <div id="main-content" class="awsui-util-container">
                                <div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService">

                                </awsdocs-language-banner>
                                    <h1 class="topictitle" id="tuning">Tuning search relevance</h1>
                                    <div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector">

                                    </awsdocs-filter-selector>
                                    </div>
                                    <p>Amazon Kendra queries produce search results ranked by their relevance. The
        searchable fields or attributes in the index all contribute to this ranking.</p><p>You can modify the effect of a field or attribute on the search relevance through
            <em>relevance tuning</em>. Tuning search relevance can either be done
        manually at the index level, where you set tuning configurations for your index, or at the
        query level by overriding configurations set at the index level.</p><p>When you use relevance tuning, a result is given a boost in the response when the query
        includes terms that match the field or attribute. You also specify how much of a boost the
        document receives when there is a match. Relevance tuning doesn't cause Amazon Kendra
        to include a document in the query response, it is only one of the factors that Amazon Kendra uses to determine the relevance of a document.</p><p>You can boost specific fields or attributes in your index to assign more importance to
        specific responses. For example when someone searches for "When is re:Invent?" you could
        boost the relevance of document freshness in the "_last_update_at" field. Or, in an index of
        research reports, you could boost a specific data source in the "source" field.</p><p>You can also boost documents based on votes or view counts which is common in forums and
        other support knowledge bases. You can combine boosts, for example to boost documents that
        are viewed more as well as more recent.</p><p>You set the amount of boost that a document receives by using the <code class="code">Importance</code>
        parameter. The higher the <code class="code">Importance</code>, the more the field or attribute boosts
        the relevance of a document. When you tune your index or tune at the query level, increase
        the value of the <code class="code">Importance</code> parameter in small increments until you get the
        effect that you want. To determine if you are improving search results, perform the search
        and compare the results to previous queries .</p><p>You can specify date, number, or string attributes to tune an index or tune at the query
        level. You can tune fields or attributes that are of the type <code class="code">StringList</code> only
        at the index level. Each field or attribute has specific criteria for when it boosts a
        result.
                                    </p>
                                    <div class="itemizedlist">

    <ul class="itemizedlist"><li class="listitem">
            <p><b>Date fields or attributes</b>—There are three
                specific criteria for date fields, <code class="code">Duration</code>, <code class="code">Freshness</code> and
                    <code class="code">RankOrder</code>.</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>
                        <code class="code">Duration</code> sets the time period that the boost applies to. For
                        example, if you set the time period to 86400 seconds (i.e. one day), the
                        boost begins to lessen after one day. The higher the importance, the faster
                        the boost effect lessens.</p>
                </li><li class="listitem">
                    <p><code class="code">Freshness</code> determines how recent a document is when applied to
                        a field or attribute. If you apply <code class="code">Freshness</code> to either the
                        field for date created or date last updated, then a more recently created or
                        last updated document is considered "fresher" than an older document. For
                        example, if document 1 was created on November 14, and document 2 was
                        created on November 5, document 1 is "fresher" than document 2. And if
                        document 1 was last updated on November 14, and document 2 was last updated
                        on November 20, document 2 is "fresher" than document 1. The fresher the
                        document, the more this boost is applied. You can only have one
                            <code class="code">Freshness</code> field in your index. </p>
                </li><li class="listitem">
                    <p><code class="code">RankOrder</code> applies the boost in either ascending or descending
                        order. If you specify <code class="code">ASCENDING</code>, later dates have precedence .
                        If you specify <code class="code">DESCENDING</code>, earlier dates have
                        precedence.</p>
                </li></ul></div>
        </li><li class="listitem">

            <p><b>Number fields or attributes</b>—For number
                fields or attributes, you can specify the rank order that Amazon Kendra should use when
                determining the relevance of the field or attribute. If you specify
                    <code class="code">ASCENDING</code>, then higher numbers are given precedence. If you specify
                    <code class="code">DESCENDING</code>, then lower numbers have precedence.</p>
        </li><li class="listitem">
            <p><b>String fields or attributes</b>—For string
                fields or attributes, you can create categories of a field to give each category a
                different boost. For example, if you boost a field or attribute called "Department",
                you can give a different boost to documents from "HR" than to documents from
                "Legal". You can boost a field or attribute of the type <code class="code">String</code>. You can
                boost <code class="code">StringList</code> fields only at the index level.</p>
        </li></ul></div>
        <h2 id="tuning-index">Relevance tuning at the index level</h2>
        <p>You tune the relevance of a field or attribute at the index level by using either the
                <a href="https://console.aws.amazon.com/kendra/" rel="noopener noreferrer" target="_blank"><span>console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to set tuning in
            the index details or the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_UpdateIndex.html">UpdateIndex</a> API.</p>
        <p>The following example sets the "_last_updated_at" field as the <code class="code">Freshness</code>
            field for a document.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DocumentMetadataConfigurationUpdates" : [
    <span>{</span>
        "Name": "_last_updated_at",
        "Type": "DATE_VALUE",
        "Relevance": <span>{</span>
            "Freshness": TRUE,
            "Importance": 2
        }
    }
]</code></pre>
        <p>The following example applies different importance to the different categories in the
            "department" field.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DocumentMetadataConfigurationUpdates" : [
    <span>{</span>
        "Name": "department",
        "Type": "STRING_VALUE",
        "Relevance": <span>{</span>
            "Importance": 2,
            "ValueImportanceMap": <span>{</span>
                "HR": 3,
                "Legal": 1
            }
        }
    }
]</code></pre>
     
        <h2 id="tuning-query">Relevance tuning at the query level</h2>
        <p>You tune the relevance of a field or attribute at the query level by using the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_Query.html">Query</a> API.</p>
        <p>Relevance tuning at the query level is not supported in the console.</p>
        <p>Tuning at the query level can speed up the process of testing relevance tuning because
            you don't need to manually update the tuning configurations in the index for each test.
            You can tune the relevance of a document by passing tuning configurations in the query.
            Then you can see the different results that you get from different configurations. A
            configuration that is passed in the query overrides the configuration that is set at the
            index level.</p>
        <p>The following example overrides the importance applied to the "department" field and
            each department category set at the index level, shown in the above example. When a user
            inputs their search query, the "department" field has a fair level of importance and the
            Legal department has more importance than the HR department.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DocumentRelevanceOverrideConfigurations" : [
    <span>{</span>
        "Name": "department",
        "Type": "STRING_VALUE",
        "Relevance": <span>{</span>
            "Importance": 2,
            "ValueImportanceMap": <span>{</span>
                "HR": 2,
                "Legal": 8
            }
        }
    }
]</code></pre>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./tuning-sorting-responses.html">Tuning and sorting responses</div><div id="next" class="next-link" accesskey="n" href="./search-analytics.html">Gaining insights with search
            analytics</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>