<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Creating custom document fields - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="custom-attributes" /><meta name="default_state" content="custom-attributes" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/custom-attributes.html" /><meta name="description" content="You can apply custom attributes or metadata fields relevant to your particular documents. For example, you can create a custom field or attribute called &#34;Department&#34; with the values of &#34;HR&#34;, &#34;Sales&#34;, and &#34;Manufacturing&#34;. You can use these fields or attributes to limit the response (the search results) to documents in the &#34;HR&#34; department, for example." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/custom-attributes.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/custom-attributes.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/custom-attributes.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/custom-attributes.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/custom-attributes.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/custom-attributes.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/custom-attributes.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/custom-attributes.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/custom-attributes.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/custom-attributes.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/custom-attributes.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/custom-attributes.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/custom-attributes.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/custom-attributes.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/custom-attributes.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/custom-attributes.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/custom-attributes.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/custom-attributes.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/custom-attributes.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/custom-attributes.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/custom-attributes.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/custom-attributes.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Creating custom document fields" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Creating custom document fields - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#custom-attributes" /><meta name="github" content="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/custom-attributes.md" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/custom-attributes.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/custom-attributes.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/custom-attributes.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Creating an index",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/create-index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Creating custom document fields",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/create-index.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#custom-attributes" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/custom-attributes.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#index-reserved-fields">Using Amazon Kendra built-in document
            fields</a><a href="#custom-attributes-batch">Adding custom attributes or fields with
                    the BatchPutDocument API</a><a href="#custom-attributes-s3">Adding custom attributes or fields to an
                        Amazon S3 data source</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="custom-attributes">Creating custom document fields</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can apply custom attributes or metadata fields relevant to your particular
            documents. For example, you can create a custom field or attribute called "Department"
            with the values of "HR", "Sales", and "Manufacturing". You can use these fields or
            attributes to limit the response (the search results) to documents in the "HR"
            department, for example.</p><p>You can create up to 500 custom fields or attributes.</p><p>For most data sources, you map fields in the external data source to the corresponding
            fields in Amazon Kendra. For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/fiedld-mapping.html">Mapping data source fields</a>. For S3 
            data sources, you can apply custom fields or attributes using metadata files.</p><p>Before you can use a custom field or attribute, you must first create the field in the
            index. Use the console or the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_UpdateIndex.html">UpdateIndex</a> API to create the
            index field. You cannot change the field data type once you have created the
            field.</p><p>You can also use Amazon Kendra's built-in or reserved fields.</p><p>With the <code class="code">UpdateIndex</code> API, you add custom fields or attributes using the
                <code class="code">DocumentMetadataConfigurationUpdates</code> parameter.</p><p>The following JSON example uses <code class="code">DocumentMetadataConfigurationUpdates</code> to
            add a field called "Department" to the index.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DocumentmetadataConfigurationUpdates": [
   <span>{</span>
       "Name": "Department",
       "Type": "STRING_VALUE"
   }
]
</code></pre>
    <h2 id="index-reserved-fields">Using Amazon Kendra built-in document
            fields</h2>
    
    <p>With the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_UpdateIndex.html">UpdateIndex 
        API</a>, you can create reserved or built-in fields using  
        <code class="code">DocumentMetadataConfigurationUpdates</code> and specifying the reserved field name to map 
        to your equivalent document attribute or document field. You can also create custom fields this 
        way. If you use a data source connector, most include field mappings that map your data source 
        document fields to Amazon Kendra index fields. When you create a field, you can configure 
        the <code class="code">Search</code> object to set the field as displayable, facetable, searchable, and 
        sortable. You can configure the <code class="code">Relevance</code> object to set the field's relevance 
        boosting duration, freshness, importance, rank order, and importance values. You cannot 
        change the field type once you have created the field.</p>
    <p>Amazon Kendra has the following reserved or built-in document fields that you can
        use:</p>
    <div class="itemizedlist">
         
         
         
         
         
         
         
         
         
         
         
         
         
         
         

    <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">_authors</code>—A list of one or more authors responsible for the
                content of the document.</p>
        </li><li class="listitem">
            <p><code class="code">_category</code>—A category that places a document in a specific
                group.</p>
        </li><li class="listitem">
            <p><code class="code">_created_at</code>—The date and time in ISO 8601 format that the
                document was created. For example, 2012-03-25T12:30:10+01:00 is the ISO 8601
                date-time format for March 25th 2012 at 12:30PM (plus 10 seconds) in Central
                European Time.</p>
        </li><li class="listitem">
            <p><code class="code">_data_source_id</code>—The identifier of the data source that
                contains the document.</p>
        </li><li class="listitem">
            <p><code class="code">_document_body</code>—The content of the document.</p>
        </li><li class="listitem">
            <p><code class="code">_document_id</code>—A unique identifier for the document.</p>
        </li><li class="listitem">
            <p><code class="code">_document_title</code>—The title of the document.</p>
        </li><li class="listitem">
            <p><code class="code">_excerpt_page_number</code>—The page number in a PDF file where the
                document excerpt appears. If your index was created before September 8, 2020, you
                must re-index your documents before you can use this attribute.</p>
        </li><li class="listitem">
            <p><code class="code">_faq_id</code>—If this is an FAQ question and answer, a unique
                identifier for them.</p>
        </li><li class="listitem">
            <p><code class="code">_file_type</code>—The file type of the document, such as pdf or
                doc.</p>
        </li><li class="listitem">
            <p><code class="code">_last_updated_at</code>—The date and time in ISO 8601 format that the
                document was last updated. For example, 2012-03-25T12:30:10+01:00 is the ISO 8601
                date-time format for March 25th 2012 at 12:30PM (plus 10 seconds) in Central
                European Time.</p>
        </li><li class="listitem">
            <p><code class="code">_source_uri</code>—The URI where the document is available. For
                example, the URI of the document on a company website.</p>
        </li><li class="listitem">
            <p><code class="code">_version</code>—An identifier for the specific version of a
                document.</p>
        </li><li class="listitem">
            <p><code class="code">_view_count</code>—The number of times that the document has been
                viewed.</p>
        </li><li class="listitem">
            <p><code class="code">_language_code</code> (String)—The code for a language that applies
                to the document. This defaults to English if you do not specify a language. For more
                information on supported languages, including their codes, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/in-adding-languages.html">Adding
                    documents in languages other than English</a>.</p>
        </li></ul></div>
    <p>For custom fields, you create these fields using <code class="code">DocumentMetadataConfigurationUpdates</code> 
        with the <code class="code">UpdateIndex</code> API, just as you do when creating a reserved or 
        built-in field. You must set the appropriate data type for your custom field. You cannot 
        change the field type once you have created the field.</p>
    <p>The following are the types you can set for custom fields:</p>
    <div class="itemizedlist">
         
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p>Date</p>
        </li><li class="listitem">
            <p>Number</p>
        </li><li class="listitem">
            <p>String</p>
        </li><li class="listitem">
            <p>String list</p>
        </li></ul></div>

    <p>You create a custom field using the console or by using the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_UpdateIndex.html">UpdateIndex</a> API. After you create a
        custom field, you map it to a document attribute, just as you do with a reserved field. If
        you added a document to the index with <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_BatchPutDocument.html">BatchPutDocument</a> API, you map
        the attributes with the API. For documents indexed from an Amazon S3 data source,
        you map the attributes using a metadata file that contains a JSON structure that describes
        the document attributes. For documents indexed with a database or a data source that allows
        field mapping, you map attributes with the console or the data source configuration.</p>
 
            <h2 id="custom-attributes-batch">Adding custom attributes or fields with
                    the BatchPutDocument API</h2>
            <p>When you use the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_BatchPutDocument.html">BatchPutDocument</a> API to
                add a document to your index, you specify custom fields or attributes as part of
                    <code class="code">Attributes</code>. You can add multiple fields or attributes when you call
                the API. You can create up to 500 custom fields or attributes. The following example
                is a custom field or attribute that adds "Department" to a document.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Attributes": 
    <span>{</span>
        "Department": "HR",
        "_category": "Vacation policy"
    }
</code></pre>
         
            <h2 id="custom-attributes-s3">Adding custom attributes or fields to an
                        Amazon S3 data source</h2>
            <p>When you use an S3 bucket as a data source for your index, you add metadata to the
                documents with companion metadata files. You place the metadata JSON files in a
                directory structure that is parallel to your documents. For more information, see
                <a href="https://docs.aws.amazon.com/kendra/latest/dg/s3-metadata.html">S3 document metadata</a>.</p>
            <p>You specify custom fields or attributes in the <code class="code">Attributes</code> JSON
                structure. You can create up to 500 custom fields or attributes. For example, the
                following example uses <code class="code">Attributes</code> to define three custom fields or
                attributes and one reserved field.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Attributes": <span>{</span>
        "brand": "Amazon Basics",
        "price": 1595,
        "_category": "sports",
        "subcategories": ["outdoors", "electronics"]
    }
   </code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./in-creating-faq.html">Adding frequently asked questions (FAQs) directly to
                an index</div><div id="next" class="next-link" accesskey="n" href="./create-index-access-control.html">Controlling access to documents in an
            index</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/custom-attributes.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/custom-attributes.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>