<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Querying an index - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="searching-example" /><meta name="default_state" content="searching-example" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" /><meta name="description" content="How to query an index in Amazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/searching-example.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/searching-example.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/searching-example.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/searching-example.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching-example.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching-example.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/searching-example.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/searching-example.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/searching-example.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/searching-example.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/searching-example.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/searching-example.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/searching-example.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/searching-example.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/searching-example.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/searching-example.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Querying an index" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Querying an index - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#searching-example" /><meta name="github" content="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/searching-example.md" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/searching-example.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/searching-example.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/searching-example.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question,query" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Searching indexes",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Querying an index",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#searching-example" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/searching-example.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#searching-prerequisites">Prerequisites</a><a href="#searching-index-console">Searching an index (console)</a><a href="#searching-index-sdk">Searching an index (SDK)</a><a href="#searching-index-postman">Searching an index (Postman)</a><a href="#searching-index-query-syntax">Searching with advanced query
                    syntax</a><a href="#searching-index-languages">Searching in languages</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="searching-example">Querying an index</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>When you search your index, Amazon Kendra uses all the information that you
            provided about your documents to determine the documents most relevant to the search
            terms entered. Some of the items that Amazon Kendra considers are:</p><div class="itemizedlist">
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>The text or body of the document.</p>
            </li><li class="listitem">
                <p>The title of the document.</p>
            </li><li class="listitem">
                <p>Custom text fields that you have marked as searchable.</p>
            </li><li class="listitem">
                <p>The date field that you have indicated should be used to determine the
                    "freshness" of a document.</p>
            </li><li class="listitem">
                <p>Any other field that could provide relevant information.</p>
            </li></ul></div><p>Amazon Kendra can also filter the response based on any field/attribute 
            filters that you might have set for the search. For example, if you have a custom 
            field called "department", you can filter the response to return only documents from 
            a department called "legal". For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/custom-attributes.html">Custom fields or
            attributes</a>.</p><p>Returned search results are sorted by the relevance that Amazon Kendra determines 
            for each document. The results are paginated so that you can show a page at a time to 
            your user.</p><p>To search documents that you have indexed with Amazon Kendra for Amazon Lex, use <a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_KendraConfiguration.html">AMAZON.KendraSearchIntent</a>. For an example of configuring Amazon Kendra
            with Amazon Lex, see <a href="https://docs.aws.amazon.com/lexv2/latest/dg/faq-bot-kendra-search.html">Creating a FAQ Bot for an Amazon Kendra Index</a>.</p><p>The following example shows how to search an index. Amazon Kendra determines the 
            type of the search result (answer, document, question-answer) that's best suited for the 
            query.</p><p>For information about the query responses, see <a href="./query-responses-types.html">Query responses and response types</a>.</p>
            <h2 id="searching-prerequisites">Prerequisites</h2>
            <p>Before using the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_Query.html">Query</a> API to query an index:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Set up the required permissions for an index and connect to your data source or 
                        batch upload your documents. For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html">IAM
                        roles</a>. You use the Amazon Resource Name of the role when you call the API 
                        to create an index and data source connector or batch upload of documents.</p>
                </li><li class="listitem">
                    <p>Set up either the AWS Command Line Interface, an SDK, or go to the Amazon Kendra 
                        console. For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/setup.html">Setting up Amazon Kendra</a>.</p>
                </li><li class="listitem">
                    <p>Create an index and connect to a data source of documents or batch upload 
                        documents. For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/create-index.html">Creating an index</a> 
                        and <a href="https://docs.aws.amazon.com/kendra/latest/dg/data-source.html">Creating a 
                            data source connector</a>.</p>
                </li></ul></div>
         
            <h2 id="searching-index-console">Searching an index (console)</h2>
            <p>You can use the Amazon Kendra console to search and test your index. You can
                make queries and see the results.</p>
            <div class="procedure"><h6>To search an index with the console</h6><ol><li>
                    <p>Sign in to the AWS Management Console and open the Amazon Kendra
                        console at <a href="https://console.aws.amazon.com/kendra" rel="noopener noreferrer" target="_blank"><span>http://console.aws.amazon.com/kendra/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                </li><li>
                    <p>On the navigation pane, choose <b>Indexes</b>.</p>
                </li><li>
                    <p>Choose your index.</p>
                </li><li>
                    <p>In the navigation menu, choose the option to search your index.</p>
                </li><li>
                    <p>Enter a query in the text box and then press enter.</p>
                </li><li>
                    <p>Amazon Kendra returns the results of the search.</p>
                </li></ol></div>
            <p>You can also get the query ID for the search by selecting the lightbulb icon in 
                the side panel.</p>
         
            <h2 id="searching-index-sdk">Searching an index (SDK)</h2>
            <div class="procedure"><h6>To search an index with Python or Java</h6><ul><li>
                    <p>The following example searches an index. Change the value of
                            <code class="code">query</code> to your search query and <code class="code">index_id</code> or
                            <code class="code">indexId</code> to the index identifier of the index that you want
                        to search.</p>
                    <p>You can also get the query ID for the search as part of the response 
                        elements when you call the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_Query.html">Query</a> API.</p>
                    <awsdocs-tabs><dl style="display: none">
                        <dt>Python</dt><dd tab-id="python">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
import pprint

kendra = boto3.client("kendra")

# Provide the index ID
index_id = "index-id"
# Provide the query text
query = "query text"

response = kendra.query(
        QueryText = query,
        IndexId = index_id)

print("\nSearch results for query: " + query + "\n")        

for query_result in response["ResultItems"]:

    print("-------------------")
    print("Type: " + str(query_result["Type"]))
        
    if query_result["Type"]=="ANSWER" or query_result["Type"]=="QUESTION_ANSWER":
        answer_text = query_result["DocumentExcerpt"]["Text"]
        print(answer_text)

    if query_result["Type"]=="DOCUMENT":
        if "DocumentTitle" in query_result:
            document_title = query_result["DocumentTitle"]["Text"]
            print("Title: " + document_title)
        document_text = query_result["DocumentExcerpt"]["Text"]
        print(document_text)

    print("------------------\n\n")  
    </code></pre>
                            </dd>
                        <dt>Java</dt><dd tab-id="java">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="java ">package com.amazonaws.kendra;

import software.amazon.awssdk.services.kendra.KendraClient;
import software.amazon.awssdk.services.kendra.model.QueryRequest;
import software.amazon.awssdk.services.kendra.model.QueryResponse;
import software.amazon.awssdk.services.kendra.model.QueryResultItem;

public class SearchIndexExample <span>{</span>
    public static void main(String[] args) <span>{</span>
        KendraClient kendra = KendraClient.builder().build();

        String query = "query text";
        String indexId = "index-id";

        QueryRequest queryRequest = QueryRequest
            .builder()
            .queryText(query)
            .indexId(indexId)
            .build();

        QueryResponse queryResponse = kendra.query(queryRequest);

        System.out.println(String.format("\nSearch results for query: %s", query));
        for(QueryResultItem item: queryResponse.resultItems()) <span>{</span>
            System.out.println("----------------------");
            System.out.println(String.format("Type: %s", item.type()));

            switch(item.type()) <span>{</span>
                case QUESTION_ANSWER:
                case ANSWER:
                    String answerText = item.documentExcerpt().text();
                    System.out.println(answerText);
                    break;
                case DOCUMENT:
                    String documentTitle = item.documentTitle().text();
                    System.out.println(String.format("Title: %s", documentTitle));
                    String documentExcerpt = item.documentExcerpt().text();
                    System.out.println(String.format("Excerpt: %s", documentExcerpt));
                    break;
                default:
                    System.out.println(String.format("Unknown query result type: %s", item.type()));

            }

            System.out.println("-----------------------\n");
        }
    }
}</code></pre>
                            </dd>
                    </dl></awsdocs-tabs>
                </li></ul></div>
         
            <h2 id="searching-index-postman">Searching an index (Postman)</h2>
            <p>You can use <a href="https://www.postman.com/" rel="noopener noreferrer" target="_blank"><span>Postman</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to query and
                test your Amazon Kendra index.</p>
            <div class="procedure"><h6>To search an index using Postman</h6><ol><li>
                    <p>Create a new collection in Postman and set the request type to
                            <b>POST</b>.</p>
                </li><li>
                    <p>Enter the endpoint URL. For example,
                            <em>https://kendra.&lt;region&gt;.amazonaws.com</em>.</p>
                </li><li>
                    <p>Select the <b>Authorization</b> tab and enter the following
                        information.</p>
                    <div class="itemizedlist">
                         
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><b>Type</b>—Select <b>AWS signature</b>.</p>
                        </li><li class="listitem">
                            <p><b>AccessKey</b>—Enter the access key
                                generated when you create an IAM user.</p>
                        </li><li class="listitem">
                            <p><b>SecretKey</b>—Enter the secret key
                                generated when you create an IAM user.</p>
                        </li><li class="listitem">
                            <p><b>AWS Region</b>—Enter the
                                region of you index. For example,
                                <em>us-west-2</em>.</p>
                        </li><li class="listitem">
                            <p><b>Service Name</b>—Enter
                                    <em>kendra</em>. This is case sensitive, so must be
                                lower case.</p>
                            <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Warning</h6></div><div class="awsdocs-note-text"><p>If you enter the incorrect service name or don't use
                                    lowercase, an error is thrown once you select
                                        <b>Send</b> to send the request: "Credential
                                    should be scoped to the correct service 'kendra'."</p><p>You must also check that you entered the correct access key
                                    and secret key.</p></div></div>
                        </li></ul></div>
                </li><li>
                    <p>Select the <b>Headers</b> tab and enter the following key
                        and value information.</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Key: <em>X-Amz-Target</em></p>
                            <p>Value:
                                    <em>com.amazonaws.kendra.AWSKendraFrontendService.Query</em></p>
                        </li><li class="listitem">
                            <p>Key: <em>Content-Encoding</em></p>
                            <p>Value: <em>amz-1.0</em></p>
                        </li></ul></div>
                </li><li>
                    <p>Select the <b>Body</b> tab and do the following.</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Choose the <b>raw</b> JSON type for the body of the
                                request.</p>
                        </li><li class="listitem">
                            <p>Enter a JSON that includes your index ID and query text.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "IndexId": "<code class="replaceable">index-id</code>",
    "QueryText": "enter a query here"
}</code></pre>
                            <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Warning</h6></div><div class="awsdocs-note-text"><p>If your JSON doesn't use the correct indendation, an error is
                                    thrown: "SerializationException". Check the indendation in your
                                    JSON.</p></div></div>
                        </li></ul></div>
                </li><li>
                    <p>Select <b>Send</b> (near the top right).</p>
                </li></ol></div>
         
            <h2 id="searching-index-query-syntax">Searching with advanced query
                    syntax</h2>
            <p>You can create queries that are more specific than simple keyword or natural
                language queries by using advanced query syntax or operators. This includes ranges,
                Booleans, wildcards, and more. By using operators, you can give your query more
                context and further refine the search results.</p>
            <p>Amazon Kendra supports the following operators.</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Boolean: Logic to limit or broaden the search. For example, <code class="code">amazon
                            AND sports</code> limits the search to only search for documents
                        containing both terms.</p>
                </li><li class="listitem">
                    <p>Parentheses: Reads nested query terms in order of precedence. For example,
                            <code class="code">(amazon AND sports) NOT rainforest</code> reads <code class="code">(amazon AND
                            sports)</code> before <code class="code">NOT rainforest</code>.</p>
                </li><li class="listitem">
                    <p>Ranges: Date or numeric range values. Ranges can be inclusive, exclusive,
                        or unbounded. For example, you can search for documents that were last
                        updated between January 1st 2020 and December 31st 2020, inclusive of these
                        dates.</p>
                </li><li class="listitem">
                    <p>Fields: Uses a specific field to limit the search. For example, you can
                        search for documents that have 'United States' in the field
                        'location'.</p>
                </li><li class="listitem">
                    <p>Wildcards: Partially match a string of text. For example,
                            <code class="code">Cloud*</code> could match CloudFormation. Amazon Kendra
                        currently only supports trailing wildcards.</p>
                </li><li class="listitem">
                    <p>Exact quotes: Exact match a string of text. For example, documents that
                        contain <code class="code">"Amazon Kendra" "pricing"</code>.</p>
                </li></ul></div>
            <p>You can use a combination of any of the above operators.</p>
            <p>Note that excessive use of operators or highly complex queries could impact query
                latency. Wildcards are some of the most expensive operators in terms of latency. A
                general rule is the more terms and operators that you use, the greater potential
                impact on latency. Other factors that affect latency include the average size of
                documents indexed, the size of your index, any filtering on search results, and the
                overall load on your Amazon Kendra index.</p>
             
                <h3 id="query-syntax-boolean">Boolean</h3>
                <p>You can combine or exclude words using the Boolean operators <code class="code">AND</code>,
                        <code class="code">OR</code>, <code class="code">NOT</code>.</p>
                <p>The following are examples of using Boolean operators.</p>
                <p>
                    <b><code class="code">amazon AND sports</code></b>
                </p>
                <p>Returns search results that contain both the terms 'amazon' and 'sports' in
                    the text, such as Amazon Prime video sports or other similar content.</p>
                <p>
                    <b><code class="code">sports OR recreation</code></b>
                </p>
                <p>Returns search results that contain the terms 'sports' or 'recreation', or
                    both, in the text.</p>
                <p>
                    <b><code class="code">amazon NOT rainforest</code></b>
                </p>
                <p>Returns search results that contain the term 'amazon' but not the term
                    'rainforest' in the text. This is to search for documents about the company
                    Amazon, not the Amazon Rainforest.</p>
             
             
                <h3 id="query-syntax-parentheses">Parentheses</h3>
                <p>You can query nested words in order of precedence by using parentheses. The
                    parentheses indicate to Amazon Kendra how a query should be read.</p>
                <p>The following are examples of using parentheses operators.</p>
                <p>
                    <b><code class="code">(amazon AND sports) NOT rainforest</code></b>
                </p>
                <p>Returns documents that contain both the terms 'amazon' and 'sports' in the
                    text, but not the term 'rainforest'. This is to search Amazon Prime video sports
                    or other similar content, not adventure sports in the Amazon Rainforest. The
                    parentheses help indicate that <code class="code">amazon AND sports</code> should be read
                    before <code class="code">NOT rainforest</code>. The query should not be read as <code class="code">amazon
                        AND (sports NOT rainforest)</code>.</p>
                <p>
                    <b><code class="code">(amazon AND (sports OR recreation)) NOT
                            rainforest</code></b>
                </p>
                <p>Returns documents that contain the terms 'sports' or 'recreation', or both,
                    and the term 'amazon'. But it does not include the term 'rainforest'. This is to
                    search Amazon Prime video sports or recreation, not adventure sports in the
                    Amazon Rainforest. The parentheses help indicate that <code class="code">sports OR
                        recreation</code> should be read before combining with 'amazon', which is
                    read before <code class="code">NOT rainforest</code>. The query should not be read as
                        <code class="code">amazon AND (sports OR (recreation NOT rainforest))</code>.</p>
             
             
                <h3 id="query-syntax-ranges">Ranges</h3>
                <p>You can use a range of values to filter the search results. You specify an
                    attribute and the range values. This can be date or numeric type.</p>
                <p>Date ranges must be in the following formats:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Epoch</p>
                    </li><li class="listitem">
                        <p>YYYY</p>
                    </li><li class="listitem">
                        <p>YYYY-mm</p>
                    </li><li class="listitem">
                        <p>YYYY-mm-dd</p>
                    </li><li class="listitem">
                        <p>YYYY-mm-dd'T'HH</p>
                    </li></ul></div>
                <p>You can also specify whether to include or exclude the lower and higher values
                    of the range.</p>
                <p>The following are examples of using range operators.</p>
                <p>
                    <b><code class="code">_processed_date:&gt;2019-12-31 AND
                            _processed_date:&lt;2021-01-01</code></b>
                </p>
                <p>Returns documents that were processed in 2020—greater than December
                    31st 2019 and less than January 1st 2021.</p>
                <p>
                    <b><code class="code">_processed_date:&gt;=2020-01-01 AND
                            _processed_date:&lt;=2020-12-31</code></b>
                </p>
                <p>Returns documents that were processed in 2020—greater than or equal to
                    January 1st 2020 and less than or equal to December 31st 2020.</p>
                <p>
                    <b><code class="code">_document_likes:&lt;1</code></b>
                </p>
                <p>Returns documents with zero likes or no user feedback—less than 1
                    like.</p>
                <p>You can specify whether a range should be treated as inclusive or exclusive of
                    the given range values.</p>
                <p>
                    <b>Inclusive</b>
                </p>
                <p>
                    <b><code class="code">_last_updated_at:[2020-01-01 TO
                        2020-12-31]</code></b>
                </p>
                <p>Returns documents last updated in 2020—includes the days December 1st
                    2020 and December 31st 2020.</p>
                <p>
                    <b>Exclusive</b>
                </p>
                <p>
                    <b><code class="code">_last_updated_at:<span>{</span>2019-12-31 TO
                        2021-01-01}</code></b>
                </p>
                <p>Returns documents last updated in 2020—excludes the days December 31st
                    2019 and January 1st 2021.</p>
                <p>For unbounded ranges that are neither inclusive or exclusive, simply use the
                    &lt; and &gt; operators. For example, <code class="code">_last_updated_at:&gt;2019-12-31 AND
                        _last_updated_at:&lt;2021-01-01</code>
                </p>
                 
                    <h4 id="query-syntax-fields">Fields</h4>
                    <p>You can limit your search to only return documents that meet a value in a
                        specific field. The field can be of any type.</p>
                    <p>The following are examples of using field-level context operators.</p>
                    <p>
                        <b><code class="code">status:"Incomplete" AND
                                financial_year:2021</code></b>
                    </p>
                    <p>Returns documents for the 2021 financial year with their status as
                        incomplete.</p>
                    <p>
                        <b><code class="code">(sports OR recreation) AND country:"United
                                States" AND level:"professional"</code></b>
                    </p>
                    <p>Returns documents that discuss professional sports or recreation in the
                        United States.</p>
                 
                 
                    <h4 id="query-syntax-wildcards">Wildcards</h4>
                    <p>You can broaden your search to account for variants of words and phrases
                        using the wildcard operator. This is useful when searching for name
                        variants. Amazon Kendra currently only supports trailing wildcards. The
                        number of prefix characters for a trailing wildcard must be greater than
                        two.</p>
                    <p>The following are examples of using wildcard operators.</p>
                    <p>
                        <b><code class="code">Cloud*</code></b>
                    </p>
                    <p>Returns documents that contain variants such as CloudFormation and
                        CloudWatch.</p>
                    <p>
                        <b><code class="code">kendra*aws</code></b>
                    </p>
                    <p>Returns documents that contain variants such as kendra.amazonaws.</p>
                    <p>
                        <b><code class="code">kendra*aws*</code></b>
                    </p>
                    <p>Returns documents that contain variants such as
                        kendra.amazonaws.com</p>
                 
                 
                    <h4 id="query-syntax-exact-quote">Exact quotes</h4>
                    <p>You can use quotation marks to search for an exact match of a piece of
                        text.</p>
                    <p>The following are examples of using quotation marks.</p>
                    <p>
                        <b><code class="code">"Amazon Kendra" "pricing"</code></b>
                    </p>
                    <p>Returns documents that contain both the phrase 'Amazon Kendra' and
                        the term 'pricing'. Documents must contain both 'Amazon Kendra' and
                        'pricing' in order to return in the results.</p>
                    <p>
                        <b><code class="code">"Amazon Kendra" "pricing"
                            cost</code></b>
                    </p>
                    <p>Returns documents that contain both the phrase 'Amazon Kendra' and
                        the term 'pricing', and optionally the term 'cost'. Documents must contain
                        both 'Amazon Kendra' and 'pricing' in order to return in the results,
                        but might not necessarily include 'cost'. </p>
                 
                 
                    <h4 id="query-syntax-invalid">Invalid query syntax</h4>
                    <p>Amazon Kendra issues a warning if there are problems with your query
                        syntax or your query is currently not supported by Amazon Kendra. For
                        more information, see the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_Warning.html">API documentation for
                            query warnings</a>.</p>
                    <p>The following queries are examples of invalid query syntax.</p>
                    <p>
                        <b><code class="code">_last_updated_at:&lt;2021-12-32</code></b>
                    </p>
                    <p>Invalid date. Day 32 does not exist in the Gregorian calendar, which is
                        used by Amazon Kendra.</p>
                    <p>
                        <b><code class="code">_view_count:ten</code></b>
                    </p>
                    <p>Invalid numeric value. Digits must be used to represent numeric
                        values.</p>
                    <p>
                        <b><code class="code">nonExistentField:123</code></b>
                    </p>
                    <p>Invalid field search. The field must exist in order to use field
                        search.</p>
                    <p>
                        <b><code class="code">Product:[A TO D]</code></b>
                    </p>
                    <p>Invalid range. Numeric values or dates must be used for ranges.</p>
                    <p>
                        <b><code class="code">OR Hello</code></b>
                    </p>
                    <p>Invalid Boolean. Operators must be used with terms and placed between
                        terms.</p>
                 
             
         
            <h2 id="searching-index-languages">Searching in languages</h2>
            <p>You can search for documents in a supported language. You pass the language code
                in the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_AttributeFilter.html">AttributeFilter</a> to return filtered documents in your chosen language.
                You can type the query in a supported language. </p>
            <p>If you do not specify a language, Amazon Kendra queries documents in English
                by default. For more information on supported languages, including their codes, see
                    <a href="https://docs.aws.amazon.com/kendra/latest/dg/in-adding-languages.html">Adding documents in languages other than English</a>.</p>
            <p>To search for documents in a supported language in the console, select your index,
                then select the option to search your index from the navigation menu. Choose the
                language that you want to return documents by selecting the search settings and then
                selecting a language from the dropdown <b>Language</b>.</p>
            <p>The following examples show how to search for documents in Spanish.</p>
            <div class="procedure"><h6>To search an index in Spanish in the console</h6><ol><li>
                    <p>Sign in to the AWS Management Console and open the Amazon Kendra
                        console at <a href="https://console.aws.amazon.com/kendra" rel="noopener noreferrer" target="_blank"><span>http://console.aws.amazon.com/kendra/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                </li><li>
                    <p>In the navigation menu, choose <b>Indexes</b> and choose
                        your index.</p>
                </li><li>
                    <p>In the navigation menu, choose the option to search your index.</p>
                </li><li>
                    <p>In the search settings, select the <b>Languages</b> dropdown
                        and choose Spanish.</p>
                </li><li>
                    <p>Enter a query into the text box and then press enter.</p>
                </li><li>
                    <p>Amazon Kendra returns the results of the search in Spanish.</p>
                </li></ol></div>
            <div class="procedure"><h6>To search an index in Spanish using the CLI, Python or Java</h6><ul><li>
                    <p>The following example searches an index in Spanish. Change the value
                            <code class="code">searchString</code> to your search query and the value
                            <code class="code">indexID</code> to the identifier of the index that you want to
                        search. The language code for Spanish is <code class="code">es</code>. You can replace
                        this with your own language code.</p>
                    <awsdocs-tabs><dl style="display: none">
                        <dt>CLI</dt><dd tab-id="cli">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "EqualsTo":<span>{</span>      
    "Key": "_language_code",
    "Value": <span>{</span>
    "StringValue": "es"
    }
  }
}</code></pre>
                            </dd>
                        <dt>Python</dt><dd tab-id="python">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3&#xD;
import pprint&#xD;
&#xD;
kendra = boto3.client("kendra")&#xD;
&#xD;
# Provide the index ID&#xD;
index_id = "index-id"&#xD;
# Provide the query text&#xD;
query = "search-string"&#xD;
&#xD;
# Includes the index ID, query text, and language attribute filter&#xD;
response = kendra.query(&#xD;
        QueryText = query,&#xD;
        IndexId = index_id,&#xD;
        AttributeFilter = <span>{</span>&#xD;
            "EqualsTo": <span>{</span>      &#xD;
                "Key": "_language_code",&#xD;
                "Value": <span>{</span>&#xD;
                    "StringValue": "es"&#xD;
                    }&#xD;
                }&#xD;
            })&#xD;
&#xD;
print ("\nSearch results|Resultados de la búsqueda: " + query + "\n")        &#xD;
&#xD;
for query_result in response["ResultItems"]:&#xD;
&#xD;
    print("-------------------")&#xD;
    print("Type: " + str(query_result["Type"]))&#xD;
        &#xD;
    if query_result["Type"]=="ANSWER" or query_result["Type"]=="QUESTION_ANSWER":&#xD;
        answer_text = query_result["DocumentExcerpt"]["Text"]&#xD;
        print(answer_text)&#xD;
&#xD;
    if query_result["Type"]=="DOCUMENT":&#xD;
        if "DocumentTitle" in query_result:&#xD;
            document_title = query_result["DocumentTitle"]["Text"]&#xD;
            print("Title: " + document_title)&#xD;
        document_text = query_result["DocumentExcerpt"]["Text"]&#xD;
        print(document_text)&#xD;
&#xD;
    print("------------------\n\n")&#xD;
    
                                </code></pre>
                            </dd>
                        <dt>Java</dt><dd tab-id="java">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="java ">package com.amazonaws.kendra;

import software.amazon.awssdk.services.kendra.KendraClient;
import software.amazon.awssdk.services.kendra.model.QueryRequest;
import software.amazon.awssdk.services.kendra.model.QueryResponse;
import software.amazon.awssdk.services.kendra.model.QueryResultItem;

public class SearchIndexExample <span>{</span>
    public static void main(String[] args) <span>{</span>
        KendraClient kendra = KendraClient.builder().build();

        String query = "searchString";
        String indexId = "indexID";

        QueryRequest queryRequest = QueryRequest.builder()
            .queryText(query)
            .indexId(indexId)
            .attributeFilter(
                 AttributeFilter.builder()
                     .withEqualsTo(
                         DocumentAttribute.builder()
                             .withKey("_language_code")
                             .withValue("es")
                             .build())
                     .build())
            .build();

        QueryResponse queryResponse = kendra.query(queryRequest);

        System.out.println(String.format("\nSearch results|
                                          Resultados de la búsqueda: %s", query));
        for(QueryResultItem item: queryResponse.resultItems()) <span>{</span>
            System.out.println("----------------------");
            System.out.println(String.format("Type: %s", item.type()));

            switch(item.type()) <span>{</span>
                case QUESTION_ANSWER:
                case ANSWER:
                    String answerText = item.documentExcerpt().text();
                    System.out.println(answerText);
                    break;
                case DOCUMENT:
                    String documentTitle = item.documentTitle().text();
                    System.out.println(String.format("Title: %s", documentTitle));
                    String documentExcerpt = item.documentExcerpt().text();
                    System.out.println(String.format("Excerpt: %s", documentExcerpt));
                    break;
                default:
                    System.out.println(String.format("Unknown query result type: %s", item.type()));

            }

            System.out.println("-----------------------\n");
        }
    }
}</code></pre>
                            </dd>
                    </dl></awsdocs-tabs>
                </li></ul></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./searching.html">Searching indexes</div><div id="next" class="next-link" accesskey="n" href="./browsing.html">Browsing an index</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/searching-example.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/searching-example.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>