<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tuning and sorting responses - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="tuning-sorting-responses" /><meta name="default_state" content="tuning-sorting-responses" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning-sorting-responses.html" /><meta name="description" content="Relevance tuning and sorting search results in Amazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning-sorting-responses.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/tuning-sorting-responses.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/tuning-sorting-responses.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/tuning-sorting-responses.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/tuning-sorting-responses.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning-sorting-responses.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning-sorting-responses.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/tuning-sorting-responses.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/tuning-sorting-responses.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/tuning-sorting-responses.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/tuning-sorting-responses.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/tuning-sorting-responses.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/tuning-sorting-responses.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/tuning-sorting-responses.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/tuning-sorting-responses.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/tuning-sorting-responses.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/tuning-sorting-responses.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/tuning-sorting-responses.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/tuning-sorting-responses.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/tuning-sorting-responses.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/tuning-sorting-responses.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tuning-sorting-responses.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Tuning and sorting responses" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Tuning and sorting responses - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#tuning-sorting-responses" /><meta name="github" content="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/tuning-sorting-responses.md" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning-sorting-responses.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning-sorting-responses.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning-sorting-responses.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question,query,relevance tuning,sort search" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Searching indexes",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Tuning and sorting responses",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#tuning-sorting-responses" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/tuning-sorting-responses.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#tuning-responses">Tuning responses</a><a href="#sorting-responses">Sorting responses</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="tuning-sorting-responses">Tuning and sorting responses</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can modify the effect of a field or attribute on the search relevance through
            relevance tuning. You can also sort the search results by a certain attribute or
            field.</p>
            <h2 id="tuning-responses">Tuning responses</h2>
            <p>You can modify the effect of a field or attribute on the search relevance through
                relevance tuning. To quickly test relevance tuning, use the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_Query.html">Query</a> API to pass in tuning configurations in the query. Then you can
                see the different search results that you get from different configurations.
                Relevance tuning at the query level is not supported in the console. You can also
                tune fields or attributes that are of the type <code class="code">StringList</code> at the index
                level only. For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/tuning.html">Tuning search relevance</a>.</p>
            <p>By default, query responses are sorted by the relevance score that Amazon Kendra determines for each result in the response.</p>
            <p>You can tune results for any built-in or custom attribute/field of the following
                types:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Date value</p>
                </li><li class="listitem">
                    <p>Long value</p>
                </li><li class="listitem">
                    <p>String value</p>
                </li></ul></div>
            <p>You can't sort attributes of the following type:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>String list values</p>
                </li></ul></div>
             
                <h6>Rank and tune document results (AWS SDK)</h6>
                <p>Set the <code class="code">Searchable</code> parameter to true to boost the document
                    metadata configuration.</p>
             
            <p>To tune an attribute in a query, set the
                    <code class="code">DocumentRelevanceOverrideConfigurations</code> parameter of the
                    <code class="code">Query</code> API and specify the name of the attribute to tune.</p>
            <p>The following JSON example shows a
                    <code class="code">DocumentRelevanceOverrideConfigurations</code> object that overrides the
                tuning for the attribute called "department" in the index.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"DocumentRelevanceOverrideConfigurations" : [
    "Name": "department",
    "Relevance": <span>{</span>
        "Importance": 1,
        "ValueImportanceMap": <span>{</span>
            "IT": 3,
            "HR": 7
        }
    }
]</code></pre>
         
            <h2 id="sorting-responses">Sorting responses</h2>
            <p>Amazon Kendra uses the sorting attribute or field as part of the criteria for
                the documents returned by the query. For example, the results returned by a query
                sorted by "_created_at" might not contain the same results as a query sorted by
                "_version".</p>
            <p>By default, query responses are sorted by the relevance score that Amazon Kendra determines for each result in the response. To change the sort order,
                make a document attribute sortable and then configure Amazon Kendra to use that
                attribute to sort responses.</p>
            <p>You can sort results on any built-in or custom attribute/field of the following
                types:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Date value</p>
                </li><li class="listitem">
                    <p>Long value</p>
                </li><li class="listitem">
                    <p>String value</p>
                </li></ul></div>
            <p>You can't sort attributes of the following type:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>String list values</p>
                </li></ul></div>
            <p>You can sort on only one document attribute/field in each query. Queries return
                100 results. If there are fewer than 100 documents with the sorting attribute set,
                documents without a value for the sorting attribute are returned at the end of the
                results, sorted by relevance to the query.</p>
            <div class="procedure"><h6>To sort document results (AWS SDK)</h6><ol><li>
                    <p>To use the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_UpdateIndex.html">UpdateIndex</a> API to make an attribute sortable, set the
                            <code class="code">Sortable</code> parameter to <code class="code">true</code>. The following JSON
                        example uses <code class="code">DocumentMetadataConfigurationUpdates</code> to add an
                        attribute called "Department" to the index and make it sortable.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"DocumentMetadataConfigurationUpdates": [
   <span>{</span>
       "Name": "Department",
       "Type": "STRING_VALUE",
       "Search": <span>{</span>
           "Sortable": "true"
       }
   }
]</code></pre>
                </li><li>
                    <p>To use a sortable attribute in a query, set the
                            <code class="code">SortingConfiguration</code> parameter of the <a href="https://docs.aws.amazon.com/kendra/latest/APIReference/API_Query.html">Query</a> API. Specify the name of the attribute to sort and
                        whether to sort the response in ascending or descending order.</p>
                    <p>The following JSON example shows the <code class="code">SortingConfiguration</code>
                        parameter that you use to sort the results of a query by the "Department"
                        attribute in ascending order.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">   "SortingConfiguration": <span>{</span> 
      "DocumentAttributeKey": "Department",
      "SortOrder": "ASC"
   }
</code></pre>
                </li></ol></div>
            <div class="procedure"><h6>To sort document results (console)</h6><ol><li>
                    <p>To make an attribute sortable in the console, choose
                            <b>Sortable</b> in the attribute definition. You can make
                        an attribute sortable when you create the attribute, or you can modify it
                        later.</p>
                </li><li>
                    <p>To sort a query response in the console, choose the attribute to sort the
                        response from the <b>Sort</b> menu. Only attributes that were
                        marked sortable during datasource configuration appear in the list.</p>
                </li></ol></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./query-responses-types.html">Query responses and response types</div><div id="next" class="next-link" accesskey="n" href="./tuning.html">Tuning search relevance</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning-sorting-responses.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/tuning-sorting-responses.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>