<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Troubleshooting data sources - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="troubleshooting-data-sources" /><meta name="default_state" content="troubleshooting-data-sources" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="description" content="Help solve issues that you might experience with simulation data sources." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Troubleshooting data sources" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Troubleshooting data sources - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#troubleshooting-data-sources" /><meta name="github" content="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/troubleshooting-data-sources.md" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Troubleshooting",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Troubleshooting data sources",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#troubleshooting-data-sources" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/troubleshooting-data-sources.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#troubleshooting-data-sources-not-indexed">My documents were not
                    indexed</a><a href="#troubleshooting-data-sources-failed">My synchronization job
                    failed</a><a href="#troubleshooting-data-sources-sync-job-incomplete">My
                    synchronization job is incomplete</a><a href="#troubleshooting-data-sources-succeeded-no-indexed-docs">My
                    synchronization job succeeded but there are no indexed documents</a><a href="#troubleshooting-data-sources-file-format-issues">I am running into
                    file format issues while syncing my data source</a><a href="#troubleshooting-data-sources-sync-time">How much time does syncing
                    a data source take?</a><a href="#troubleshooting-data-sources-sync-charge">What is the charge for
                    syncing a data source?</a><a href="#troubleshooting-data-sources-ec2-error">I am getting an Amazon EC2
                    authorization error</a><a href="#troubleshooting-data-unable-to-open-s3-links">I am unable to use search
                    index links to open my Amazon S3 objects</a><a href="#troubleshooting-data-sources-ssl-certificate-access-denied">I am
                    getting an AccessDenied When Using SSL Certificate File
                    error message</a><a href="#troubleshooting-data-sources-sharepoint-authorization-error">I am
                    getting an authorization error when using a SharePoint data source</a><a href="#troubleshooting-data-sources-confluence-document-crawling">My index
                    does not crawl documents from my Confluence data source</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="troubleshooting-data-sources">Troubleshooting data sources</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>This section can help you fix issues with Amazon Kendra data sources.</p>
            <h2 id="troubleshooting-data-sources-not-indexed">My documents were not
                    indexed</h2>
            <p>When you synchronize your Kendra index with a data source, you may run into
                issues that prevent the documents from being indexed. Indexing is a two-step
                process. First, the data source is checked for new and updated documents to index,
                and to find documents to remove from the index. Second, at the document level, each
                document is accessed and indexed. </p>
            <p>An error can occur in either of these steps. Data source level errors are reported
                in the console in the <b>Sync run history</b> section of the data
                source details page. The status of the synchronization job can be
                    <b>Succeeded</b>, <b>Incomplete</b>, or
                    <b>Failed</b>. You can also see the number of documents indexed
                and deleted during the job. If the status is <b>Failed</b>, a message
                is shown in the <b>Details</b> column.</p>
            <p>Document level errors are reported in Amazon CloudWatch Logs. You can see the errors using the
                CloudWatch console.</p>
         
            <h2 id="troubleshooting-data-sources-failed">My synchronization job
                    failed</h2>
            <p>A synchronization job typically fails when there is a configuration error in the
                index or the data source. The error message in the Details column of the data source
                gives information about what went wrong. The problem is usually that the index or
                the data source does not have the proper IAM permissions. The error message
                describes the missing permissions . Here are some of the error messages that you can
                receive:</p>

            <p><code class="code">Failed to create log group for job. Please make sure that the IAM role
                    provided has sufficient permissions.</code></p>
            <p>If your index role does not have permission to use CloudWatch, the data source will not
                be able to create a CloudWatch log. If you get this error, you must add CloudWatch permissions
                to the index role.</p>

            <p><code class="code">Failed to access S3 file prefix (<code class="replaceable">bucket name</code>)
                    while trying to crawl your metadata files. Please make sure the IAM Role
                        (<code class="replaceable">role ARN</code>) provided has sufficient permissions.
                </code></p>
            <p>When you are using an Amazon S3 data source, Kendra must have permission to access
                the bucket that contains the documents. You need to add permission for Kendra to
                read the bucket to the data source IAM role.</p>

            <p><code class="code">The provided IAM Role (<code class="replaceable">role ARN</code>) could not be
                    assumed. Please make sure Amazon Kendra is a trusted entity that is allowed to
                    assume the role.</code></p>
            <p>Kendra needs permission to assume the index and data source IAM roles. You need
                to add a trust policy to the roles with permission for the
                    <code class="code">sts:AssumeRole</code> action.</p>

            <p>For the IAM policies that Kendra needs to index a data source, see <a href="./iam-roles.html">IAM access roles for Amazon Kendra</a>.</p>
         
            <h2 id="troubleshooting-data-sources-sync-job-incomplete">My
                    synchronization job is incomplete</h2>
            <p>Jobs are generally incomplete when they have completed the data source level
                process but have some error during the document level process. When a job is
                incomplete, some of the documents may still have been successfully indexed. For an
                Amazon S3 data source, an incomplete job is typically caused by:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>The metadata for one or more documents was invalid.</p>
                </li><li class="listitem">
                    <p>When documents are submitted for indexing but at least one document was
                        not submitted.</p>
                </li><li class="listitem">
                    <p>When documents are submitted for deleting from the index but at least one
                        document was not submitted.</p>
                </li></ul></div>
            <p>To troubleshoot an incomplete synchronization job, look first to your CloudWatch logs. </p>
            <div class="procedure"><ol><li>
                    <p>From the details column, choose <b>View details in CloudWatch</b>.
                    </p>
                </li><li>
                    <p>Review the error messages to see what caused the document to fail.</p>
                </li></ol></div>
         
            <h2 id="troubleshooting-data-sources-succeeded-no-indexed-docs">My
                    synchronization job succeeded but there are no indexed documents</h2>
            <p>Occasionally, an index synchronization job run will be marked as
                    <b>Succeeded</b> but there are no new or updated documents indexed
                when you expect them. Possible reasons include:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Check CloudWatch <code class="code">DocumentsSubmittedForIndexingFailed</code> metric to see
                        if any documents failed to synchronize. Check your CloudWatch logs for
                        details.</p>
                </li><li class="listitem">
                    <p>For an Amazon S3 data source, you may have given Kendra the wrong bucket name
                        or prefix. Make sure that the bucket that Kendra is using is the one that
                        contains the documents to index.</p>
                </li><li class="listitem">
                    <p>When re-indexing a document that failed to be indexed in an earlier job,
                        Kendra won't index it unless you've changed the document or its associated
                        metadata file.</p>
                </li></ul></div>
         
            <h2 id="troubleshooting-data-sources-file-format-issues">I am running into
                    file format issues while syncing my data source</h2>
            <p>If you run into file format issues while adding files to your data source or
                syncing your data source, make sure that your document types are Kendra supported.
                For a list of document types supported by Amazon Kendra see <a href="https://docs.aws.amazon.com/kendra/latest/dg/index-document-types.html">Types of
                    documents</a>.</p>
            <p>If you are using the <code class="code">BatchPutDocument</code> API with plain text files,
                specify <code class="code">PLAIN_TEXT</code> as content type.</p>
         
            <h2 id="troubleshooting-data-sources-sync-time">How much time does syncing
                    a data source take?</h2>
            <p>If there are no updates to documents, sync time for a Amazon Kendra index increases in
                linear proportion to the number of documents. For example, 1,000 documents without
                any updates would take about five minutes to sync and 2,000 documents without any
                updates will take about 10 minutes. If there are any updates to the documents, then
                the sync time will increase based on the number of documents updated.</p>
         
            <h2 id="troubleshooting-data-sources-sync-charge">What is the charge for
                    syncing a data source?</h2>
            <p>When you sync your index, it takes two minutes to warm up and activate Amazon EC2 to
                establish the necessary connections. You are not charged during this process. Your
                usage meter begins only after the sync job starts. For more information on Kendra
                pricing, see <a href="http://aws.amazon.com/kendra/pricing/" rel="noopener noreferrer" target="_blank"><span><em>Amazon Kendra pricing</em></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
         
            <h2 id="troubleshooting-data-sources-ec2-error">I am getting an Amazon EC2
                    authorization error</h2>
            <p>If an Amazon EC2 unauthorized operation error occurs during a sync for a virtual
                private cloud (VPC) data source, it's likely that your VPC IAM role lacks required
                permissions. Please check that the IAM role you use for your data source has the
                attached permissions. For more information, see <a href="./iam-roles.html#iam-roles-vpc">Virtual private cloud (VPC) IAM
            role</a>.</p>
         
            <h2 id="troubleshooting-data-unable-to-open-s3-links">I am unable to use search
                    index links to open my Amazon S3 objects</h2>
            <p>Your Kendra index can only access files that an Amazon S3 data source grants it
                permissions to access. For example, Kendra cannot modify the Amazon S3 permissions that
                determine if an object is meant to be public or encrypted. Kendra also does not
                have the default permissions to create or return a signed link for Amazon S3 objects. If
                you want to activate signed linking for Amazon S3 objects in a Kendra index, you have
                two options:</p>

            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>You can use sign your index query results with the source uri object
                        before returning the result to the search page. For a step-by-step
                        walkthrough of this process, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html"><em>Sharing objects using presigned
                        URLs</em></a>.</p>
                </li><li class="listitem">
                    <p>You can override the Amazon S3 object metadata source uri and make your service
                        available through an CloudFront content delivery network (CDN) connected to an
                        Amazon S3 bucket. Or, you can use an API Gateway proxy endpoint that returns a
                        presigned URL and redirect to it.</p>
                </li></ul></div>

         
            <h2 id="troubleshooting-data-sources-ssl-certificate-access-denied">I am
                    getting an <strong class="errortext"><code>AccessDenied When Using SSL Certificate File</code></strong>
                    error message</h2>
            <p>If you are getting an access denied error when using an SSL certificate with your
                data source, make sure that your IAM role has the permission to access the SSL
                certificate file in its specified location. If the certificate is encrypted with an
                AWS KMS key, your IAM role should also have permission to decrypt using the AWS KMS
                key. For more information, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/control-access.html"><em>Authentication and access control for
                AWS KMS</em></a>.</p>

         
            <h2 id="troubleshooting-data-sources-sharepoint-authorization-error">I am
                    getting an authorization error when using a SharePoint data source</h2>
            <p>If you are getting an authorization error while syncing your index with a
                SharePoint data source, confirm that you have a Site Admin role assigned to you in
                SharePoint.</p>
         
            <h2 id="troubleshooting-data-sources-confluence-document-crawling">My index
                    does not crawl documents from my Confluence data source</h2>
            <p>If your Kendra index is not crawling documents from your Confluence data source
                during the syncing process, confirm that you are part of Administrator Groups in
                Confluence.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./troubleshooting.html">Troubleshooting</div><div id="next" class="next-link" accesskey="n" href="./troubleshooting-search-results.html">Troubleshooting document search
                results</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/troubleshooting-data-sources.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/troubleshooting-data-sources.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>