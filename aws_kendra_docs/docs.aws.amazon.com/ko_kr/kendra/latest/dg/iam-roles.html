<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ko-KR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IAM에 대한 액세스 역할Amazon Kendra - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="iam-roles" /><meta name="default_state" content="iam-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" /><meta name="description" content="에 필요한 액세스Amazon Kendra 권한입니다." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="개발자 안내서" /><meta name="abstract" content="Amazon Kendra에 대한 개념적 개요를 제공합니다. Amazon Kendra기능에 대해 알아보고 콘솔, CLI 및 API를 사용하여 문서 인덱싱을 시작하세요." /><meta name="guide-locale" content="ko_kr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/iam-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/iam-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/iam-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/iam-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/iam-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/iam-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/iam-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/iam-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/iam-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/iam-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/iam-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/iam-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="개발자 안내서" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="개발자 안내서" /><meta id="panorama-serviceConsolePage" value="IAM에 대한 액세스 역할Amazon Kendra" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IAM에 대한 액세스 역할Amazon Kendra - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#iam-roles" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" /><meta name="keywords" content="Kendra,Amazon Kendra,검색,인텔리전트 검색,자연 언어,인덱스를 구축하고 배포할 것입니다,질문,핵심어,데이터 원본,커넥터,FAQ" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "개발자 안내서",
        "item" : "https://docs.aws.amazon.com/ko_kr/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAM에 대한 액세스 역할Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#iam-roles" target="_blank" rel="noopener noreferrer" title="pdf-tooltip"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">aws-documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">개발자 안내서</a></div><div id="page-toc-src"><a href="#iam-roles-index">IAM인덱스의 역할</a><a href="#iam-roles-batch">IAM BatchPutDocumentAPI의 역할</a><a href="#iam-roles-ds">IAM데이터 원본의 역할</a><a href="#iam-roles-ds-faq">IAMFAQ (FAQ) 에 대한 역할</a><a href="#iam-roles-query-suggestions">IAM쿼리 제안을 위한 역할</a><a href="#iam-roles-principal-mapping">IAM사용자 및 그룹의 주요 매핑을 위한 역할</a><a href="#iam-roles-aws-sso">AWS IAM Identity Center (successor to AWS Single Sign-On)의 IAM 역할</a><a href="#iam-roles-amazon-kendra-experiences">IAMAmazon Kendra경험을 위한 역할</a><a href="#iam-roles-custom-document-enrichment">IAM사용자 지정 문서 보강을 위한 역할</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>기계 번역으로 제공되는 번역입니다. 제공된 번역과 원본 영어의 내용이 상충하는 경우에는 영어 버전이 우선합니다.</p></awsui-alert><h1 class="topictitle" id="iam-roles">IAM에 대한 액세스 역할Amazon Kendra</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>색인, 데이터 원본 또는 FAQ를 만들 때는 리소스를 만드는 데 필요한AWS 리소스에 액세스할 수 있어야 합니다.Amazon KendraAmazon Kendra Amazon Kendra리소스를 만들기 전에AWS Identity and Access Management (IAM) 정책을 만들어야 합니다. 작업을 호출할 때, 정책과 함께 역할의 Amazon 리소스 이름 (ARN) 을 제공합니다. 예를 들어 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API를 호출하여 버킷에서 문서를 추가하는 경우Amazon S3 버킷에 액세스할 수 있는 정책을 가진 역할을 제공해야Amazon Kendra 합니다.</p><p>Amazon Kendra콘솔에서 새IAM 역할을 만들거나 사용할IAM 기존 역할을 선택할 수 있습니다. 콘솔에는 역할 이름에 “kendra” 또는 “Kendra”라는 문자열이 있는 역할이 표시됩니다.</p><p>다음 항목에서는 필수 정책에 대한 세부 정보를 제공합니다. Amazon Kendra콘솔을 사용하여IAM 역할을 생성하면 이러한 정책이 자동으로 생성됩니다.</p><div class="highlights" id="inline-topiclist"><h6>주제</h6><ul><li><a href="#iam-roles-index">IAM인덱스의 역할</a></li><li><a href="#iam-roles-batch">IAM BatchPutDocumentAPI의 역할</a></li><li><a href="#iam-roles-ds">IAM데이터 원본의 역할</a></li><li><a href="#iam-roles-ds-faq">IAMFAQ (FAQ) 에 대한 역할</a></li><li><a href="#iam-roles-query-suggestions">IAM쿼리 제안을 위한 역할</a></li><li><a href="#iam-roles-principal-mapping">IAM사용자 및 그룹의 주요 매핑을 위한 역할</a></li><li><a href="#iam-roles-aws-sso">AWS IAM Identity Center (successor to AWS Single Sign-On)의 IAM 역할</a></li><li><a href="#iam-roles-amazon-kendra-experiences">IAMAmazon Kendra경험을 위한 역할</a></li><li><a href="#iam-roles-custom-document-enrichment">IAM사용자 지정 문서 보강을 위한 역할</a></li></ul></div>
        <h2 id="iam-roles-index">IAM인덱스의 역할</h2>
        <p>인덱스를 만들 때는 쓰기 권한이 있는IAM 역할을 제공해야Amazon CloudWatch 합니다. 또한 가 역할을Amazon Kendra 수임하도록 허용하는 트러스트 정책도 제공해야 합니다. 반드시 제공해야 하는 정책은 다음과 같습니다.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM인덱스의 역할" id="permissions-policy" expanded="false"><p>CloudWatch로그Amazon Kendra 액세스를 허용하는 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": "cloudwatch:PutMetricData",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "cloudwatch:namespace": "AWS/Kendra"
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": "logs:DescribeLogGroups",
            "Resource": "*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": "logs:CreateLogGroup",
            "Resource": "arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "logs:DescribeLogStreams",
                "logs:CreateLogStream",
                "logs:PutLogEvents"
            ],
            "Resource": "arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*:log-stream:*"
        }
    ]
}</code></pre><p>액세스를Amazon Kendra 허용하기 위한 역할AWS Secrets Manager 정책입니다. 사용자 컨텍스트를 키 위치로 사용하는 경우 다음 정책을 사용할 수 있습니다.Secrets Manager</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Action":"cloudwatch:PutMetricData",
         "Resource":"*",
         "Condition":<span>{</span>
            "StringEquals":<span>{</span>
               "cloudwatch:namespace":"AWS/Kendra"
            }
         }
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":"logs:DescribeLogGroups",
         "Resource":"*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":"logs:CreateLogGroup",
         "Resource":"arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "logs:DescribeLogStreams",
            "logs:CreateLogStream",
            "logs:PutLogEvents"
         ],
         "Resource":"arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*:log-stream:*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "secretsmanager:GetSecretValue"
         ],
         "Resource":[
            "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret_id</code>"
         ]
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "kms:Decrypt"
         ],
         "Resource":[
            "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key_id</code>"
         ],
         "Condition":<span>{</span>
            "StringLike":<span>{</span>
               "kms:ViaService":[
                  "secretsmanager.*.amazonaws.com"
               ]
            }
         }
      }
   ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-batch">IAM BatchPutDocumentAPI의 역할</h2>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>주의</h6></div><div class="awsdocs-note-text"><p>Amazon KendraAmazon Kendra보안 주체에 S3 버킷과 상호 작용할 권한을 부여하는 버킷 정책을 사용하지 않습니다. 대신IAM 역할을 사용합니다. 실수로 임의의 주체에게 권한을 부여할 때 데이터 보안 문제가 발생하지 않도록 해당 구성원을 버킷 정책에 신뢰할 수 있는 구성원으로Amazon Kendra 포함하지 않도록 하세요. 하지만 여러 계정에서 버킷을 사용하도록Amazon S3 버킷 정책을 추가할 수 있습니다. 자세한 내용은 <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds-s3-cross-accounts">계정Amazon S3 간 사용 정책을</a> 참조하세요. S3 데이터 소스의IAM 역할에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds-s3">IAM역할을</a> 참조하십시오.</p></div></div>
        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API를 사용하여 버킷의 문서를 인덱싱할 때는Amazon S3 버킷에 액세스할 수Amazon Kendra 있는IAM 역할을 제공해야 합니다. 또한 가 역할을Amazon Kendra 수임하도록 허용하는 트러스트 정책도 제공해야 합니다. 버킷의 문서가 암호화된 경우AWS KMS 고객 마스터 키 (CMK) 를 사용하여 문서를 해독할 수 있는 권한을 제공해야 합니다.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM BatchPutDocument API의 역할" id="iam-roles-batch-json" expanded="false"><p>Amazon S3버킷 액세스를 허용하는Amazon Kendra 데 필요한 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>신뢰 정책에<code class="code">aws:sourceAccount</code> 및<code class="code">aws:sourceArn</code> 를 포함하는 것이 좋습니다. 이렇게 하면 권한이<code class="code">aws:sourceAccount</code><code class="code">aws:sourceArn</code> 제한되고 해당<code class="code">sts:AssumeRole</code> 작업에 대한IAM 역할 정책에 제공된 것과 같은지 안전하게 확인할 수 있습니다. 이렇게 하면 승인되지 않은 엔티티가 사용자의IAM 역할과 권한에 액세스하는 것을 방지할 수 있습니다. 자세한 내용은 혼동된AWS Identity and Access Management 대리자 문제 에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">혼동된 대리자 문제</a> 를 참조하세요.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre><p>CMK (AWS KMS고객 마스터 키)Amazon Kendra 를 사용하여Amazon S3 버킷의 문서를 해독하도록 허용하는 선택적 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-ds">IAM데이터 원본의 역할</h2>
        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateDataSource.html">CreateDataSource</a>API를 사용할 때는 데이터베이스 리소스에 액세스할 수 있는 권한이 있는IAM 역할을Amazon Kendra 부여해야 합니다. 필수 권한은 데이터 원본에 따라 다릅니다.</p>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM야외 데이터 소스의 역할" id="iam-roles-ds-alfresco" expanded="false"><p>Alfresco를 사용하는 경우 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>AWS Secrets Manager비밀에 액세스하여 Alfresco를 인증할 수 있는 권한</p>
                    </li><li class="listitem">
                        <p>Alfresco 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMAmazon S3데이터 원본의 역할" id="iam-roles-ds-s3" expanded="false"><div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>주의</h6></div><div class="awsdocs-note-text"><p>Amazon KendraAmazon Kendra보안 주체에 S3 버킷과 상호 작용할 권한을 부여하는 버킷 정책을 사용하지 않습니다. 대신IAM 역할을 사용합니다. 실수로 임의의 주체에게 권한을 부여할 때 데이터 보안 문제가 발생하지 않도록 해당 구성원을 버킷 정책에 신뢰할 수 있는 구성원으로Amazon Kendra 포함하지 않도록 하세요. 하지만 여러 계정에서 버킷을 사용하도록Amazon S3 버킷 정책을 추가할 수 있습니다. 자세한 내용은<a href="#iam-roles-ds-s3-cross-accounts">Amazon S3여러 계정에서 사용할 정책</a> 섹션을 참조하세요.</p></div></div><p>버킷을 데이터 원본으로 사용하는 경우Amazon S3 버킷에 액세스하고<code class="code">BatchPutDocument</code> 및<code class="code">BatchDeleteDocument</code> 작업을 사용할 권한이 있는 역할을 제공해야 합니다. Amazon S3버킷의 문서가 암호화된 경우AWS KMS 고객 마스터 키 (CMK) 를 사용하여 문서를 해독할 수 있는 권한을 제공해야 합니다.</p><p>Amazon S3버킷을 데이터 소스로 사용할 수Amazon Kendra 있도록 허용하는 필수 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
         <span>{</span>
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            ]
        }
    ]
}</code></pre><p>CMK (AWS KMS고객 마스터 키)Amazon Kendra 를 사용하여Amazon S3 버킷의 문서를 해독하도록 허용하는 선택적 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre><p>를 사용하는 동안 또는AWS KMS 권한을AWS KMS 활성화하거나 공유하지 않고Amazon S3 버킷에 액세스할 수 있도록 허용하는Amazon Kendra 선택적 역할 정책입니다.Amazon VPC</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}/*"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Action": [
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]",
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:security-group/[[security_group]]"
      ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateNetworkInterface"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringLike": <span>{</span>
                "aws:RequestTag/AWS_KENDRA": "kendra_<span>{</span><span>{</span>account_id}}_<span>{</span><span>{</span>index_id}}_<span>{</span>datasource_id}}_*"
            }
        }
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateTags"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringEquals": <span>{</span>
                "ec2:CreateAction": "CreateNetworkInterface"
            }
        }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": ["arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}",
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
    }
  ]
}
<span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "kendra.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre><p>를 사용하고AWS KMS 권한이 활성화된 상태에서Amazon KendraAmazon S3 버킷에 액세스할 수 있도록 허용하는 선택적 역할 정책입니다.Amazon VPC</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}/*"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Action": [
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/<span>{</span><span>{</span>key_id}}"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "s3.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]",
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:security-group/[[security_group]]"
      ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateNetworkInterface"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringLike": <span>{</span>
                "aws:RequestTag/AWS_KENDRA": "kendra_<span>{</span><span>{</span>account_id}}_<span>{</span><span>{</span>index_id}}_<span>{</span>datasource_id}}_*"
            }
        }
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateTags"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringEquals": <span>{</span>
                "ec2:CreateAction": "CreateNetworkInterface"
            }
        }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": ["arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}",
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
    }
  ]
}

<span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "kendra.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                    <h4 id="iam-roles-ds-s3-cross-accounts">Amazon S3여러 계정에서 사용할 정책</h4>
                    <p>Amazon S3버킷이Amazon Kendra 인덱스에 사용하는 계정과 다른 계정에 있는 경우 정책을 생성하여 여러 계정에서 사용할 수 있습니다.</p>
                    <p>Amazon S3버킷이Amazon Kendra 인덱스와 다른 계정에 있을 때 버킷을 데이터 원본으로 사용하기 위한 역할 정책입니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
         <span>{</span>
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:$KENDRA_REGION:$KENDRA_ACCOUNT_ID:index/$KENDRA_INDEX_ID"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:PutObjectAcl"
            ],
            "Resource": "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
        }
    ]
}</code></pre>
                    <p>Amazon S3데이터 소스 역할이 여러 계정에서 버킷에 액세스할 수 있도록 하는Amazon S3 버킷 정책입니다.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "$KENDRA_S3_CONNECTOR_ROLE_ARN"
            },
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:PutObjectAcl"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "$KENDRA_S3_CONNECTOR_ROLE_ARN"
            },
            "Action": "s3:ListBucket",
            "Resource": "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT"
        }
    ]
}</code></pre>
                     
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                </awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM데이터베이스 데이터 원본의 역할" id="iam-roles-ds-jdbc" expanded="false"><p>데이터베이스를 데이터 원본으로 사용하는 경우 데이터베이스에 연결하는 데 필요한 권한이 있는 역할을 제공해야Amazon Kendra 합니다. 다음이 포함됩니다.</p><div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>데이터베이스 사이트의 사용자 이름 및AWS Secrets Manager 암호가 포함된 암호에 액세스할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-database.html">Amazon RDS/Aurora</a>.</p>
                    </li><li class="listitem">
                        <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할Secrets Manager 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p>데이터베이스 사이트와 통신하는 데 사용되는 SSL 인증서가 포함된Amazon S3 버킷에 액세스할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>데이터베이스 데이터 원본에 사용할 수 있는 두 가지 선택적 정책이 있습니다.</p><p>데이터베이스와 통신하는 데 사용되는 SSL 인증서가 포함된Amazon S3 버킷을 암호화한 경우 키에Amazon Kendra 대한 액세스 권한을 부여하는 정책을 제공하십시오.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre><p>VPC를 사용하는 경우 필요한 리소스에Amazon Kendra 대한 액세스를 제공하는 정책을 제공하십시오. 필수<a href="#iam-roles-vpc">Virtual Private Cloud (VPC)IAM 역할</a> 정책은 를 참조하십시오.</p>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMAmazon FSx데이터 원본의 역할" id="iam-roles-ds-fsx" expanded="false"><p>를 사용하면Amazon FSx 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>귀하의AWS Secrets Manager 비밀에 액세스하여 귀하를 인증할 수 있는 권한Amazon FSx.</p>
                    </li><li class="listitem">
                        <p>사용자가Amazon FSx 거주하는 곳의 액세스 권한Amazon Virtual Private Cloud (VPC)</p>
                    </li><li class="listitem">
                        <p>Amazon FSxWindows 파일 시스템의 Active Directory의 도메인 이름을 가져올 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p>Amazon FSx커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> API를 호출하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
        "Statement": [
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "secretsmanager:GetSecretValue"
          ],
          "Resource": [
            "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:<span>{</span><span>{</span>secret_id}}"
          ]
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "kms:Decrypt"
          ],
          "Resource": [
            "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/<span>{</span><span>{</span>key_id}}"
          ],
          "Condition": <span>{</span>
            "StringLike": <span>{</span>
              "kms:ViaService": [
                "secretsmanager.<span>{</span><span>{</span>region}}.amazonaws.com"
              ]
            }
          }
        },
        <span>{</span>
          "Effect": "Allow",
          "Action":[
            "ec2:CreateNetworkInterface",
            "ec2:DeleteNetworkInterface"
          ],
          "Resource": [
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]   
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "ec2:DescribeSubnets",
            "ec2:DescribeNetworkInterfaces"
          ],
          "Resource": "*"
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "ec2:CreateNetworkInterfacePermission"
          ],
          "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "ec2:AuthorizedService": "kendra.*.amazonaws.com"
            },
            "ArnEquals": <span>{</span>
              "ec2:Subnet": [
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
              ]
            }
          }
        },
        <span>{</span>
          "Sid": "AllowsKendraToGetDomainNameOfActiveDirectory",
          "Effect": "Allow",
          "Action": "ds:DescribeDirectories",
          "Resource": "*"
        },
        <span>{</span>
          "Sid": "AllowsKendraToCallRequiredFsxAPIs",
          "Effect": "Allow",
          "Action": [
              "fsx:DescribeFileSystems"
          ],
          "Resource": "*"
        },
        <span>{</span>
          "Sid": "iamPassRole",
          "Effect": "Allow",
          "Action": "iam:PassRole",
          "Resource": "*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "iam:PassedToService": [
                "kendra.*.amazonaws.com"
              ]
            }
          }
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "kendra:BatchPutDocument",
            "kendra:BatchDeleteDocument"
          ],
          "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
        }
        ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM웹 크롤러 데이터 원본의 역할" id="iam-roles-ds-webcrawler" expanded="false"><p>Amazon KendraWeb Crawler를 사용할 때는 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>기본 인증이AWS Secrets Manager 지원되는 웹 사이트 또는 웹 프록시 서버에 연결하기 위한 사용자 이름 및 암호가 포함된 암호에 액세스할 권한입니다. 암호의 내용에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-web-crawler.html">웹 크롤러 데이터 원본 사용을</a> 참조하세요.</p>
                    </li><li class="listitem">
                        <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할Secrets Manager 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMAmazon WorkDocs데이터 원본의 역할" id="iam-roles-workdocs" expanded="false"><p>를 사용하면Amazon WorkDocs 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon WorkDocs사이트 리포지토리에 해당하는 디렉터리 ID (조직 ID) 를 확인할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p>Amazon WorkDocs사이트 디렉터리가 포함된 Active Directory의 도메인 이름을 가져올 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p>Amazon WorkDocs커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> API를 호출하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "AllowsKendraToGetDomainNameOfActiveDirectory",
      "Effect": "Allow",
      "Action": "ds:DescribeDirectories",
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "AllowsKendraToCallRequiredWorkDocsAPIs",
      "Effect": "Allow",
      "Action": [
        "workdocs:GetDocumentPath",
        "workdocs:GetGroup",
        "workdocs:GetDocument",
        "workdocs:DownloadDocumentVersions",
        "workdocs:DescribeUsers",
        "workdocs:DescribeFolderContents",
        "workdocs:DescribeActivities",
        "workdocs:DescribeComments",
        "workdocs:GetFolder",
        "workdocs:DescribeResourcePermissions",
        "workdocs:GetFolderPath",
        "workdocs:DescribeInstances"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "iamPassRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "iam:PassedToService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Sid": "AllowsKendraToCallBatchPutDeleteAPIs",
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/$<span>{</span><code class="replaceable">IndexId</code>}"
      ]
    }
  ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMBox 데이터 소스의 역할" id="iam-roles-ds-box" expanded="false"><p>Box를 사용할 때는 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Slack을 인증하기 위해AWS Secrets Manager 비밀에 액세스할 수 있는 권한</p>
                    </li><li class="listitem">
                        <p>Box 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM컨플루언스 데이터 소스의 역할" id="iam-roles-ds-cnf" expanded="false"><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM컨플루언스 커넥터 v1.0의 역할" id="iam-roles-confluence-v1" expanded="false"><p>Confluence 서버를 데이터 소스로 사용하는 경우 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Confluence에 연결하는 데 필요한 자격 증명이 포함된AWS Secrets Manager 암호에 액세스할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-confluence.html">Confluence</a>.</p>
                            </li><li class="listitem">
                                <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할Secrets Manager 권한입니다.</p>
                            </li><li class="listitem">
                                <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                            </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre><p>VPC를 사용하는 경우 필요한 리소스에Amazon Kendra 대한 액세스를 제공하는 정책을 제공하십시오. 필수<a href="#iam-roles-vpc">Virtual Private Cloud (VPC)IAM 역할</a> 정책은 를 참조하십시오.</p>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM컨플루언스 커넥터 v2.0의 역할" id="iam-roles-confluence-v2" expanded="false"><p>Confluence 커넥터 v2.0 데이터 소스의 경우 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Confluence의 인증 자격 증명이 포함된AWS Secrets Manager 암호에 액세스할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-confluence.html">Confluence</a>.</p>
                            </li><li class="listitem">
                                <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할AWS Secrets Manager 권한입니다.</p>
                            </li><li class="listitem">
                                <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                            </li></ul></div><p>또한 가 역할을Amazon Kendra 수임하도록 허용하는 트러스트 정책도 첨부해야 합니다.</p><p>Confluence에Amazon Kendra 연결할 수 있도록 허용하는 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:region:account_id:secret:secret_id"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:region:account_id:key/key_id"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:region:account_id:index/index_id",
        "arn:aws:kendra:region:account_id:index/index_id/data-source/*"
      ]
    }
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:region:account_id:index/index_id"
    }
  ]
}</code></pre><p>VPC 구성을 사용하여 Confluence에Amazon Kendra 연결할 수 있도록 하는 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:region:account_id:secret:secret_id"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:region:account_id:key/key_id"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:region:account_id:index/index_id",
        "arn:aws:kendra:region:account_id:index/index_id/data-source/*"
      ]
    }
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:region:account_id:index/index_id"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:region:account_id:subnet/subnet_ids",
        "arn:aws:ec2:region:account_id:security-group/security_group"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:RequestTag/AWS_KENDRA": "kendra_account_id_index_id_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateTags"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:CreateAction": "CreateNetworkInterface"
        }
      }
    },
    
<span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:ResourceTag/AWS_KENDRA": "kendra_account_id_index_id_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeNetworkInterfaceAttribute",
        "ec2:DescribeVpcs",
        "ec2:DescribeRegions",
        "ec2:DescribeNetworkInterfacePermissions",
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    }
  ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div></awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMDropbox 데이터 소스의 역할" id="iam-roles-ds-dropbox" expanded="false"><p>Dropbox를 사용할 때는 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>AWS Secrets Manager암호에 액세스하여 Dropbox를 인증할 수 있는 권한</p>
                    </li><li class="listitem">
                        <p>Dropbox 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
"Version": "2012-10-17",
  "Statement": [
  <span>{</span>"Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>"StringLike": <span>{</span>"kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM GitHub 데이터 원본의 역할" id="iam-roles-ds-github" expanded="false"><p>를 사용하면 GitHub 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>귀하의AWS Secrets Manager 비밀에 액세스하여 귀하를 인증할 수 있는 권한 GitHub.</p>
                    </li><li class="listitem">
                        <p> GitHub커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>


        
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMGmail 데이터 소스의 역할" id="iam-roles-ds-gmail" expanded="false"><p>Gmail을 사용할 때는 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>AWS Secrets Manager비밀번호에 액세스하여 Gmail을 인증할 수 있는 권한</p>
                    </li><li class="listitem">
                        <p>Gmail 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
"Version": "2012-10-17",
  "Statement": [
  <span>{</span>"Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>"StringLike": <span>{</span>"kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMGoogle 드라이브 데이터 소스의 역할" id="iam-roles-ds-gd" expanded="false"><p>Google Workspace Drive 데이터 원본을 사용하는 경우 사이트에 연결하는 데 필요한 권한이 있는 역할을 제공해야Amazon Kendra 합니다. 다음이 포함됩니다.</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Google Drive 사이트에 연결하는 데 필요한 클라이언트 계정 이메일, 관리자 계정 이메일, 비공개 키가 포함된AWS Secrets Manager 암호를 가져오고 해독할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-google-drive.html">Google Drive</a>.</p>
                    </li><li class="listitem">
                        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>및 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API를 사용할 수 있는 권한.</p>
                    </li></ul></div><p>다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMJira 데이터 소스의 역할" id="iam-roles-ds-jira" expanded="false"><p>Jira를 사용할 때는 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>AWS Secrets Manager비밀에 액세스하여 Jira를 인증할 수 있는 권한</p>
                    </li><li class="listitem">
                        <p>Jira 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM마이크로소프트 익스체인지 데이터 소스의 역할" id="iam-roles-ds-exchange" expanded="false"><p>Microsoft Exchange 데이터 원본을 사용하는 경우 사이트에 연결하는 데 필요한 권한이 있는 역할을 제공해야Amazon Kendra 합니다. 다음이 포함됩니다.</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Microsoft Exchange 사이트에 연결하는 데 필요한 응용 프로그램 ID 및 암호 키가 포함된 암호를 가져오고 암호를 해독할 수 있는 권한입니다.AWS Secrets Manager 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-yammer.html">Microsoft Yammer</a>.</p>
                    </li><li class="listitem">
                        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>및 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API를 사용할 수 있는 권한.</p>
                    </li></ul></div><p>다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>인덱싱할 사용자 목록을Amazon S3 버킷에 저장하는 경우 S3<code class="code">GetObject</code> 작업을 사용할 권한도 제공해야 합니다. 다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM마이크로소프트 OneDrive  데이터 소스의 역할" id="iam-roles-ds-on" expanded="false"><p>Microsoft OneDrive  데이터 원본을 사용하는 경우 사이트에 연결하는 데 필요한 권한이Amazon Kendra 있는 역할을 제공해야 합니다. 다음이 포함됩니다.</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p> OneDrive 사이트에 연결하는 데 필요한 애플리케이션 ID와AWS Secrets Manager 비밀 키가 포함된 암호를 가져오고 해독할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-onedrive.html">마이크로소프트 OneDrive</a>.</p>
                    </li><li class="listitem">
                        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>및 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API를 사용할 수 있는 권한.</p>
                    </li></ul></div><p>다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>인덱싱할 사용자 목록을Amazon S3 버킷에 저장하는 경우 S3<code class="code">GetObject</code> 작업을 사용할 권한도 제공해야 합니다. 다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM마이크로소프트 SharePoint  데이터 소스의 역할" id="iam-roles-ds-spo" expanded="false"><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM SharePoint 커넥터 v1.0에 대한 역할" id="iam-roles-sharepoint-v1" expanded="false"><p>Microsoft SharePoint  커넥터 v1.0 데이터 원본의 경우 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p> SharePoint 사이트의 사용자 이름 및AWS Secrets Manager 암호가 포함된 암호에 액세스할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-sharepoint.html">마이크로소프트 SharePoint</a>.</p>
                            </li><li class="listitem">
                                <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할AWS Secrets Manager 권한입니다.</p>
                            </li><li class="listitem">
                                <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                            </li><li class="listitem">
                                <p> SharePoint 사이트와 통신하는 데 사용되는 SSL 인증서가 포함된Amazon S3 버킷에 액세스할 수 있는 권한입니다.</p>
                            </li></ul></div><p>또한 가 역할을Amazon Kendra 수임하도록 허용하는 트러스트 정책도 첨부해야 합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p> SharePoint 사이트와 통신하는 데 사용되는 SSL 인증서가 포함된Amazon S3 버킷을 암호화한 경우 키에Amazon Kendra 대한 액세스 권한을 부여하는 정책을 제공하십시오.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM SharePoint 커넥터 v2.0의 역할" id="iam-roles-sharepoint-v2" expanded="false"><p>Microsoft SharePoint  커넥터 v2.0 데이터 원본의 경우 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p> SharePoint 사이트의 인증 자격 증명이 포함된AWS Secrets Manager 암호에 액세스할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-sharepoint.html">마이크로소프트 SharePoint</a>.</p>
                            </li><li class="listitem">
                                <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할AWS Secrets Manager 권한입니다.</p>
                            </li><li class="listitem">
                                <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                            </li><li class="listitem">
                                <p> SharePoint 사이트와 통신하는 데 사용되는 SSL 인증서가 포함된Amazon S3 버킷에 액세스할 수 있는 권한입니다.</p>
                            </li></ul></div><p>또한 가 역할을Amazon Kendra 수임하도록 허용하는 트러스트 정책도 첨부해야 합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:secret:<code class="replaceable">secret_id</code>"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:key/<code class="replaceable">key_id</code>"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>",
        "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>/data-source/*"
      ]
    },
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/<code class="replaceable">input_key_name</code>"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:subnet/<code class="replaceable">subnet_ids</code>",
        "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:security-group/<code class="replaceable">security_group</code>"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:RequestTag/AWS_KENDRA": "kendra_<code class="replaceable">account_id</code>_<code class="replaceable">index_id</code>_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateTags"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:CreateAction": "CreateNetworkInterface"
        }
      }
    },
    
<span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:ResourceTag/AWS_KENDRA": "kendra_<code class="replaceable">account_id</code>_<code class="replaceable">index_id</code>_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeNetworkInterfaceAttribute",
        "ec2:DescribeVpcs",
        "ec2:DescribeRegions",
        "ec2:DescribeNetworkInterfacePermissions",
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    }
  ]
}</code></pre><p> SharePoint 사이트와 통신하는 데 사용되는 SSL 인증서가 포함된Amazon S3 버킷을 암호화한 경우 키에Amazon Kendra 대한 액세스 권한을 부여하는 정책을 제공하십시오.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div></awsui-expandable-section></div>

        

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM마이크로소프트 팀즈 데이터 소스의 역할" id="iam-roles-ds-teams" expanded="false"><p>Microsoft Teams 데이터 원본을 사용하는 경우 사이트에 연결하는 데 필요한 권한이 있는 역할을 제공해야Amazon Kendra 합니다. 다음이 포함됩니다.</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Microsoft Teams에 연결하는 데 필요한 클라이언트 ID 및 클라이언트AWS Secrets Manager 암호가 포함된 암호를 가져오고 해독할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-teams.html">Microsoft 팀즈</a>.</p>
                    </li><li class="listitem">
                         
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                    </li></ul></div><p>다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">client ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
        </code></pre></awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM마이크로소프트 야머 데이터 소스의 역할" id="iam-roles-ds-yammer" expanded="false"><p>Microsoft Yammer 데이터 원본을 사용하는 경우 사이트에 연결하는 데 필요한 권한이 있는 역할을Amazon Kendra 제공하게 됩니다. 다음이 포함됩니다.</p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Microsoft Yammer 사이트에 연결하는 데 필요한 응용 프로그램 ID 및 암호 키가 포함된 암호를 가져오고 해독할 수 있는 권한입니다.AWS Secrets Manager 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-yammer.html">Microsoft Yammer</a>.</p>
                    </li><li class="listitem">
                        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>및 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API를 사용할 수 있는 권한.</p>
                    </li></ul></div><p>다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>인덱싱할 사용자 목록을Amazon S3 버킷에 저장하는 경우 S3<code class="code">GetObject</code> 작업을 사용할 권한도 제공해야 합니다. 다음IAM 정책은 필수 권한을 제공합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMQuip 데이터 소스의 역할" id="iam-roles-ds-quip" expanded="false"><p>Quip을 사용할 때는 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Quip을 인증하기 위해AWS Secrets Manager 비밀에 액세스할 수 있는 권한.</p>
                    </li><li class="listitem">
                        <p>Quip 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMSalesforce 데이터 소스의 역할" id="iam-roles-ds-sf" expanded="false"><p>Salesforce를 데이터 소스로 사용하는 경우 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Salesforce 사이트의 사용자 이름 및 암호가 포함된 암호에 액세스할 수 있는 권한입니다.AWS Secrets Manager 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-salesforce.html">Salesforce</a>.</p>
                    </li><li class="listitem">
                        <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할Secrets Manager 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>


        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM ServiceNow 데이터 원본의 역할" id="iam-roles-ds-sn" expanded="false"><p>를 데이터 ServiceNow  원본으로 사용하는 경우 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p> ServiceNow 사이트의 사용자 이름 및Secrets Manager 암호가 포함된 암호에 액세스할 수 있는 권한입니다. 암호의 내용에 대한 자세한 내용은 섹션을 참조하세요<a href="./data-source-servicenow.html">ServiceNow</a>.</p>
                    </li><li class="listitem">
                        <p>AWS KMS고객 마스터 키 (CMK) 를 사용하여 에 저장된 사용자 이름 및 암호 암호를 해독할Secrets Manager 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>및<code class="code">BatchDeleteDocument</code> 작업을 사용하여 인덱스를 업데이트할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMSlack 데이터 소스의 역할" id="iam-roles-ds-slack" expanded="false"><p>Slack을 사용할 때는 다음 정책과 함께 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Slack을 인증하기 위해AWS Secrets Manager 비밀에 액세스할 수 있는 권한</p>
                    </li><li class="listitem">
                        <p>Slack 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMZendesk 데이터 소스의 역할" id="iam-roles-ds-zendesk" expanded="false"><p>Zendesk를 사용할 때는 다음 정책이 포함된 역할을 제공합니다.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Zendesk Suite를 인증하기 위해AWS Secrets Manager 비밀번호에 액세스할 수 있는 권한</p>
                    </li><li class="listitem">
                        <p>Zendesk 커넥터에 필요한 공개 API를 호출할 수 있는 권한입니다.</p>
                    </li><li class="listitem">
                        <p><code class="code">BatchPutDocument</code>,,<code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code><code class="code">DescribePrincipalMapping</code>, 및<code class="code">ListGroupsOlderThanOrderingId</code> API를 호출할 수 있는 권한입니다.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="Virtual Private Cloud (VPC)IAM 역할" id="iam-roles-vpc" expanded="false"><p>Virtual Private Private Cloud (Virtual Private Cloud) 를 사용하여 데이터 소스에 연결하는 경우 다음 권한을 제공해야 합니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface",
        "ec2:DescribeNetworkInterfaces",
        "ec2:DeleteNetworkInterface"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.*.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:subnet/<code class="replaceable">subnet IDs</code>"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "iamPassRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "iam:PassedToService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    }
  ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-ds-faq">IAMFAQ (FAQ) 에 대한 역할</h2>
        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateFaq.html">CreateFaq</a>API를 사용하여 질문과 답변을 인덱스로 로드할 때는 소스 파일이 포함된Amazon S3 버킷에 액세스할 수 있는IAM 역할을 제공해야Amazon Kendra 합니다. 소스 파일이 암호화된 경우 파일의 암호 해독에AWS KMS 고객 마스터 키 (CMK) 를 사용할 권한을 제공해야 합니다.</p>

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM역할 관련 자주 묻는 질문" id="iam-roles-faq" expanded="false"><p>Amazon S3버킷 액세스를 허용하는Amazon Kendra 데 필요한 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>CMK (AWS KMS고객 마스터 키)Amazon Kendra 를 사용하여Amazon S3 버킷의 파일을 해독하도록 허용하는 선택적 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        }
    ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-query-suggestions">IAM쿼리 제안을 위한 역할</h2>
        <p>파일을 쿼리 제안 차단 목록으로 사용하는 경우Amazon S3Amazon S3 파일 및Amazon S3 버킷에 액세스할 권한이 있는 역할을 제공해야 합니다. Amazon S3버킷의 차단 목록 텍스트 파일 (Amazon S3파일) 이 암호화된 경우AWS KMS 고객 마스터 키 (CMK) 를 사용하여 문서를 해독할 수 있는 권한을 제공해야 합니다.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM쿼리 제안을 위한 역할" id="iam-roles-query-sugestions-json" expanded="false"><p>Amazon S3파일을 쿼리 제안 차단Amazon Kendra 목록으로 사용할 수 있도록 허용하는 필수 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::bucket name/*"
            ]
        }
    ]
}
</code></pre><p>CMK (AWS KMS고객 마스터 키)Amazon Kendra 를 사용하여Amazon S3 버킷의 문서를 해독하도록 허용하는 선택적 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:region:account ID:key/key ID"
            ]
        }
    ]
}
</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-principal-mapping">IAM사용자 및 그룹의 주요 매핑을 위한 역할</h2>
        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API를 사용하여 사용자를 그룹에 매핑하여 사용자 컨텍스트별로 검색 결과를 필터링하려면 그룹에 속한 사용자 또는 하위 그룹 목록을 제공해야 합니다. 목록에 그룹의 사용자 또는 하위 그룹이 1000명 이상인 경우 목록의Amazon S3 파일 및Amazon S3 버킷에 액세스할 권한이 있는 역할을 제공해야 합니다. Amazon S3버킷에 있는 목록의 텍스트Amazon S3 파일 (파일) 이 암호화된 경우 CMK (AWS KMS고객 마스터 키) 를 사용하여 문서를 해독할 수 있는 권한을 제공해야 합니다.</p>

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM주요 매핑을 위한 역할" id="iam-roles-principal-mapping-json" expanded="false"><p>Amazon S3파일을 그룹에 속한 사용자 및 하위 그룹 목록으로 사용할 수Amazon Kendra 있도록 허용하는 필수 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::bucket name/*"
            ]
        }
    ]
}
</code></pre><p>CMK (AWS KMS고객 마스터 키)Amazon Kendra 를 사용하여Amazon S3 버킷의 문서를 해독하도록 허용하는 선택적 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:region:account ID:key/key ID"
            ]
        }
    ]
}
</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>신뢰 정책에<code class="code">aws:sourceAccount</code> 및<code class="code">aws:sourceArn</code> 를 포함하는 것이 좋습니다. 이렇게 하면 권한이<code class="code">aws:sourceAccount</code><code class="code">aws:sourceArn</code> 제한되고 해당<code class="code">sts:AssumeRole</code> 작업에 대한IAM 역할 정책에 제공된 것과 같은지 안전하게 확인할 수 있습니다. 이렇게 하면 승인되지 않은 엔티티가 사용자의IAM 역할과 권한에 액세스하는 것을 방지할 수 있습니다. 자세한 내용은 혼동된AWS Identity and Access Management 대리자 문제 에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">혼동된 대리자 문제</a> 를 참조하세요.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-aws-sso">AWS IAM Identity Center (successor to AWS Single Sign-On)의 IAM 역할</h2>
        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>객체를 사용하여AWS IAM Identity Center (successor to AWS Single Sign-On) ID 소스에서 그룹 및 사용자의 액세스 수준을 가져올 때는 액세스 권한이 있는 역할을 제공해야IAM Identity Center 합니다.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="AWS IAM Identity Center (successor to AWS Single Sign-On)의 IAM 역할" id="iam-roles-aws-sso-json" expanded="false"><p>액세스를 허용하는Amazon Kendra 데 필요한 역할IAM Identity Center 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "sso-directory:SearchUsers",
                "sso-directory:ListGroupsForUser",
                "sso-directory:DescribeGroups",
                "sso:ListDirectoryAssociations"
            ],
            "Resource": [
                 "*"
            ]
        },
        <span>{</span>
          "Sid": "iamPassRole",
          "Effect": "Allow",
          "Action": "iam:PassRole",
          "Resource": "*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "iam:PassedToService": [
                "kendra.*.amazonaws.com"
              ]
            }
          }
        }
     ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-amazon-kendra-experiences">IAMAmazon Kendra경험을 위한 역할</h2>
        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateExperience.html">CreateExperience</a>또는 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateExperience.html">UpdateExperience</a>API를 사용하여 검색 애플리케이션을 생성하거나 업데이트할 때는 필요한 작업 및 IAM Identity Center에 액세스할 권한이 있는 역할을 제공해야 합니다.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMAmazon Kendra검색 경험을 위한 역할" id="iam-roles-search-app-experience" expanded="false"><p>사용자 및 그룹 정보를 저장하는<code class="code">Query</code> 운영,<code class="code">QuerySuggestions</code><code class="code">SubmitFeedback</code> 운영, IAM Identity Center에 액세스할 수 있도록 허용하는Amazon Kendra 데 필요한 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "AllowsKendraSearchAppToCallKendraApi",
      "Effect": "Allow",
      "Action": [
        "kendra:GetQuerySuggestions",
        "kendra:Query",
        "kendra:DescribeIndex",
        "kendra:ListFaqs",
        "kendra:DescribeDataSource",
        "kendra:ListDataSources",
        "kendra:DescribeFaq",
        "kendra:SubmitFeedback"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>IndexId}}"
      ]
    },
    <span>{</span>
      "Sid": "AllowKendraSearchAppToDescribeDataSourcesAndFaq",
      "Effect": "Allow",
      "Action": [
        "kendra:DescribeDataSource",
        "kendra:DescribeFaq"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/<span>{</span><span>{</span><code class="replaceable">IndexId</code>}}/data-source/<span>{</span><span>{</span><code class="replaceable">DataSourceId</code>}}",
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/<span>{</span><span>{</span><code class="replaceable">IndexId</code>}}/faq/<span>{</span><span>{</span><code class="replaceable">FaqId</code>}}"
      ]
    },
    <span>{</span>
      "Sid": "AllowKendraSearchAppToCallSSODescribeUsersAndGroups",
      "Effect": "Allow",
      "Action": [
        "sso-directory:ListGroupsForUser",
        "sso-directory:SearchGroups",
        "sso-directory:SearchUsers",
        "sso-directory:DescribeUser",
        "sso-directory:DescribeGroup",
        "sso-directory:DescribeGroups",
        "sso-directory:DescribeUsers"
      ],
      "Resource": [
        "*"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    }
  ]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>신뢰 정책에<code class="code">aws:sourceAccount</code> 및<code class="code">aws:sourceArn</code> 를 포함하는 것이 좋습니다. 이렇게 하면 권한이<code class="code">aws:sourceAccount</code><code class="code">aws:sourceArn</code> 제한되고 해당<code class="code">sts:AssumeRole</code> 작업에 대한IAM 역할 정책에 제공된 것과 같은지 안전하게 확인할 수 있습니다. 이렇게 하면 승인되지 않은 엔티티가 사용자의IAM 역할과 권한에 액세스하는 것을 방지할 수 있습니다. 자세한 내용은 혼동된AWS Identity and Access Management 대리자 문제 에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">혼동된 대리자 문제</a> 를 참조하세요.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-custom-document-enrichment">IAM사용자 지정 문서 보강을 위한 역할</h2>
        <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CustomDocumentEnrichmentConfiguration.html">CustomDocumentEnrichmentConfiguration</a>객체를 사용하여 문서 메타데이터 및 콘텐츠의 고급 변경을 적용할 때는 실행<code class="code">PreExtractionHookConfiguration</code> 및/또는 실행에 필요한 권한이 있는 역할을 제공해야<code class="code">PostExtractionHookConfiguration</code> 합니다. 처리 프로세스 중에 문서 메타데이터 및 콘텐츠의 고급 변경을<code class="code">PreExtractionHookConfiguration</code> 적용하거나<code class="code">PostExtractionHookConfiguration</code> 적용하도록 Lambda 함수를 구성합니다. Amazon S3버킷에 대해 서버측 암호화를 활성화하려면AWS KMS 고객 마스터 키 (CMK) 를 사용하여Amazon S3 버킷에 저장된 객체를 암호화하고 해독할 수 있는 권한을 제공해야 합니다.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM사용자 지정 문서 보강을 위한 역할" id="iam-roles-custom-document-enrichment-json" expanded="false"><p>실행을<code class="code">PreExtractionHookConfiguration</code> 허용하고<code class="code">PostExtractionHookConfiguration</code>Amazon S3 버킷을 암호화하는Amazon Kendra 데 필요한 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Action": [
      "s3:GetObject",
      "s3:PutObject"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Action": [
      "s3:ListBucket"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt",
      "kms:GenerateDataKey"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:key/<span>{</span><span>{</span><code class="replaceable">key_id</code>}}"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "lambda:InvokeFunction"
    ],
    "Resource": "arn:aws:lambda:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:function:<span>{</span><span>{</span><code class="replaceable">lambda_function</code>}}"
  }]
}</code></pre><p>Amazon S3버킷을<code class="code">PostExtractionHookConfiguration</code> 암호화하지 않고 실행할<code class="code">PreExtractionHookConfiguration</code> 수Amazon Kendra 있도록 허용하는 선택적 역할 정책입니다.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Action": [
      "s3:GetObject",
      "s3:PutObject"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Action": [
      "s3:ListBucket"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "lambda:InvokeFunction"
    ],
    "Resource": "arn:aws:lambda:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:function:<span>{</span><span>{</span><code class="replaceable">lambda_function</code>}}"
  }]
}</code></pre>
   <p>역할을 맡을 수 있도록Amazon Kendra 하는 신뢰 정책입니다.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>신뢰 정책에<code class="code">aws:sourceAccount</code> 및<code class="code">aws:sourceArn</code> 를 포함하는 것이 좋습니다. 이렇게 하면 권한이<code class="code">aws:sourceAccount</code><code class="code">aws:sourceArn</code> 제한되고 해당<code class="code">sts:AssumeRole</code> 작업에 대한IAM 역할 정책에 제공된 것과 같은지 안전하게 확인할 수 있습니다. 이렇게 하면 승인되지 않은 엔티티가 사용자의IAM 역할과 권한에 액세스하는 것을 방지할 수 있습니다. 자세한 내용은 혼동된AWS Identity and Access Management 대리자 문제 에 대한 자세한 내용은 <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">혼동된 대리자 문제</a> 를 참조하세요.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="주의" /> <strong>javascript가 브라우저에서 비활성화되거나 사용이 불가합니다.</strong></p><p>AWS 설명서를 사용하려면 Javascript가 활성화되어야 합니다. 지침을 보려면 브라우저의 도움말 페이지를 참조하십시오.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">문서 규칙</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-kendra-set-up-sdks.html">AWSSDK 설정하기</div><div id="next" class="next-link" accesskey="n" href="./deploying.html">Amazon Kendra 배포</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 예</div><div class="content"><p>칭찬해 주셔서 감사합니다!</p><p>잠깐 시간을 내어 좋았던 부분을 알려 주시면 더 열심히 만들어 보겠습니다.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">이 페이지의 내용이 도움이 되었습니까? - 아니요</div><div class="content"><p>이 페이지에 작업이 필요하다는 점을 알려 주셔서 감사합니다. 실망시켜 드려 죄송합니다.</p><p>잠깐 시간을 내어 설명서를 향상시킬 수 있는 방법에 대해 말씀해 주십시오.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="feedback-tell-us" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>