<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using service-linked roles - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-service-linked-roles" /><meta name="default_state" content="using-service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html" /><meta name="description" content="How to use service-linked roles to give a service access to resources in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using service-linked roles" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using service-linked roles - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#using-service-linked-roles" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/using-service-linked-roles.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/using-service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/using-service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/using-service-linked-roles.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAM Identities (users, user groups, and roles)",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "IAM roles",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using service-linked roles",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#using-service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/using-service-linked-roles.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="page-toc-src"><a href="#service-linked-role-permissions">Service-linked role permissions</a><a href="#create-service-linked-role">Creating a service-linked role</a><a href="#edit-service-linked-role">Editing a service-linked role</a><a href="#delete-service-linked-role">Deleting a service-linked role</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-service-linked-roles">Using service-linked roles</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A service-linked role is a unique type of IAM role that is linked directly to an AWS
    service. Service-linked roles are predefined by the service and include all the permissions that
    the service requires to call other AWS services on your behalf. The linked service also
    defines how you create, modify, and delete a service-linked role. A service might automatically
    create or delete the role. It might allow you to create, modify, or delete the role as part of a
    wizard or process in the service. Or it might require that you use IAM to create or delete the
    role. Regardless of the method, service-linked roles simplify the process of setting up a
    service because you don't have to manually add permissions for the service to complete actions
    on your behalf.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Remember that service roles are different from service-linked roles.
      

      A service role is an <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">IAM role</a> that a service assumes to perform 
      actions on your behalf. An IAM administrator can create, modify, and delete a service role from within IAM. For 
      more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html">Creating a role to delegate permissions 
      to an AWS service</a> in the <em>IAM User Guide</em>.
 

      A service-linked role is a type of service role that is linked to an AWS service. The service can assume the role to perform an action on your behalf. 
      Service-linked roles appear in your AWS account and are owned by the service. An IAM administrator can view, 
      but not edit the permissions for service-linked roles. 
 </p></div></div><p>The linked service defines the permissions of its service-linked roles, and unless defined
    otherwise, only that service can assume the roles. The defined permissions include the trust
    policy and the permissions policy, and that permissions policy cannot be attached to any other
    IAM entity.</p><p>Before you can delete the roles, you must first delete their related resources. This
    protects your resources because you can't inadvertently remove permission to access the
    resources. </p><div class="awsdocs-note awsdocs-tip"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Tip</h6></div><div class="awsdocs-note-text"><p>For information about which services support using service-linked roles, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a> and look for the services that
      have <b>Yes </b>in the <b>Service-Linked
        Role</b> column. Choose a <b>Yes</b> with a link to view
      the service-linked role documentation for that service.</p></div></div>
    <h2 id="service-linked-role-permissions">Service-linked role permissions</h2>
    <p>You must configure permissions for an IAM entity (user or role) to allow the user or
      role to create or edit the service-linked role.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The ARN for a service-linked role includes a service principal, which is indicated in
        the policies below as <code class="code"><code class="replaceable">SERVICE-NAME</code>.amazonaws.com</code>. Do
        not try to guess the service principal, because it is case sensitive and the format can vary
        across AWS services. To view the service principal for a service, see its service-linked
        role documentation.</p></div></div>
    <p><b>To allow an IAM entity to create a specific service-linked
        role</b></p>
    <p>Add the following policy to the IAM entity that needs to create the service-linked
      role.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": "iam:CreateServiceLinkedRole",
            "Resource": "arn:aws:iam::*:role/aws-service-role/<code class="replaceable">SERVICE-NAME</code>.amazonaws.com/<code class="replaceable">SERVICE-LINKED-ROLE-NAME-PREFIX</code>*",
            "Condition": <span>{</span>"StringLike": <span>{</span>"iam:AWSServiceName": "<code class="replaceable">SERVICE-NAME</code>.amazonaws.com"}}
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "iam:AttachRolePolicy",
                "iam:PutRolePolicy"
            ],
            "Resource": "arn:aws:iam::*:role/aws-service-role/<code class="replaceable">SERVICE-NAME</code>.amazonaws.com/<code class="replaceable">SERVICE-LINKED-ROLE-NAME-PREFIX</code>*"
        }
    ]
}</code></pre>
    <p><b>To allow an IAM entity to create any service-linked
        role</b></p>
    <p>Add the following statement to the permissions policy for the IAM entity that needs to
      create a service-linked role, or any service role that includes the needed policies. This
      policy statement does not allow the IAM entity to attach a policy to the role.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": "iam:CreateServiceLinkedRole",
    "Resource": "arn:aws:iam::*:role/aws-service-role/*"
}</code></pre>
    <p><b>To allow an IAM entity to edit the description of any service
        roles</b></p>
    <p>Add the following statement to the permissions policy for the IAM entity that needs to
      edit the description of a service-linked role, or any service role.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": "iam:UpdateRoleDescription",
    "Resource": "arn:aws:iam::*:role/aws-service-role/*"
}</code></pre>
    <p><b>To allow an IAM entity to delete a specific service-linked
        role</b></p>
    <p>Add the following statement to the permissions policy for the IAM entity that needs to
      delete the service-linked role.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Effect": "Allow",
    "Action": [
        "iam:DeleteServiceLinkedRole",
        "iam:GetServiceLinkedRoleDeletionStatus"
    ],
    "Resource": "arn:aws:iam::*:role/aws-service-role/<code class="replaceable">SERVICE-NAME</code>.amazonaws.com/<code class="replaceable">SERVICE-LINKED-ROLE-NAME-PREFIX</code>*"
}</code></pre>
    <p><b>To allow an IAM entity to delete any service-linked
        role</b></p>
    <p>Add the following statement to the permissions policy for the IAM entity that needs to
      delete a service-linked role, but not service role.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": [
        "iam:DeleteServiceLinkedRole",
        "iam:GetServiceLinkedRoleDeletionStatus"
    ],
    "Resource": "arn:aws:iam::*:role/aws-service-role/*"
}</code></pre>
    <p><b>To allow an IAM entity to pass an existing role to the
        service</b></p>
    <p>Some AWS services allow you to pass an existing role to the service, instead of creating
      a new service-linked role. To do this, a user must have permissions to <em>pass the role</em> to the service. Add the following statement to the permissions
      policy for the IAM entity that needs to pass a role. This policy statement also allows the
      entity to view a list of roles from which they can choose the role to pass. For more
      information, see <a href="./id_roles_use_passrole.html">Granting a user permissions to pass a role to an AWS
      service</a>.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Effect": "Allow",
    "Action": [
        "iam:ListRoles",
        "iam:PassRole"
    ],
    "Resource": "arn:aws:iam::<code class="replaceable">123456789012</code>:role/<code class="replaceable">my-role-for-XYZ</code>"
}</code></pre>
     
      <h3 id="create-service-linked-role-permissions-transfer">Transferring
          service-linked role permissions</h3>
      <p>The permissions granted by a service-linked role are indirectly transferable to other
        users and roles. When you allow a service to perform operations in other services, the
        originating service can use those permissions in the future. If another user or role has
        permission to perform actions in the originating service, the originating service can then
        assume the role and access resources in other services. This means that the other user or
        role can indirectly access the other services.</p>
      <p>For example, when you create an Amazon RDS DB instance, <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.IAM.ServiceLinkedRoles.html">RDS creates the
          service-linked role</a> for you. This role allows RDS to call Amazon EC2, Amazon SNS, Amazon CloudWatch Logs,
        and Amazon Kinesis on your behalf whenever you edit the DB instance. If you create a policy to
        allow users and roles in your account or another account to have the same permissions to
        that Amazon RDS instance, then RDS can still use that role make changes to EC2, SNS, CloudWatch Logs,
        and Kinesis on their behalf. The new user or role can indirectly edit resources in those other
        services.</p>
      <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>When transferring service linked role permissions, be aware of the "confused deputy" 
          privilege escalation risk. Learn more about mitigating that risk in  <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html#cross-service-confused-deputy-prevention">
            Cross-service confused deputy prevention</a>.</p></div></div>
     
   
    <h2 id="create-service-linked-role">Creating a service-linked role</h2>
    <p>The method that you use to create a service-linked role depends on the service. In some
      cases, you don't need to manually create a service-linked role. For example, when you complete
      a specific action (such as creating a resource) in the service, the service might create the
      service-linked role for you. Or if you were using a service before it began supporting
      service-linked roles, then the service might have automatically created the role in your
      account. To learn more, see <a href="./troubleshoot_roles.html#troubleshoot_roles_new-role-appeared">A new role appeared in my AWS
        account</a>.</p>
    <p>In other cases, the service might support creating a service-linked role manually using
      the service console, API, or CLI. For information about which services support using
      service-linked roles, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a> and look for the services that
      have <b>Yes </b>in the <b>Service-Linked
        Role</b> column. To learn whether the service supports creating the service-linked
      role, choose the <b>Yes</b> link to view the service-linked role
      documentation for that service.</p>
    <p>If the service does not support creating the role, then you can use IAM to create the
      service-linked role.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Service-linked roles count toward your <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_iam-quotas.html#reference_iam-quotas-entities">IAM roles in
          an AWS account</a> limit, but if you have reached your limit, you can still create
        service-linked roles in your account. Only service-linked roles can exceed the limit.</p></div></div>
     
      <h3 id="create-service-linked-role-iam-console">Creating a service-linked role
          (console)</h3>
      <p>Before you create a service-linked role in IAM, find out whether the linked service
        automatically creates service-linked roles, In addition, learn whether you can create the
        role from the service's console, API, or CLI.</p>
      <div class="procedure"><h6>To create a service-linked role (console)</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>In the navigation pane of the IAM console, choose <b>Roles</b>.
            Then, choose <b>Create role</b>.</p>
        </li><li>
          <p>Choose the <b>AWS Service</b> role type.</p>
        </li><li>
          <p>Choose the use case for your service. Use cases are defined by the service to
            include the trust policy required by the service. Then, choose
            <b>Next</b>.</p>
        </li><li>
          <p>Choose one or more permissions policies to attach to the role. Depending on the use
            case that you selected, the service might do any of the following:</p>
          <div class="itemizedlist">
             
             
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p>Define the permissions used by the role.</p>
            </li><li class="listitem">
              <p>Allow you to choose from a limited set of permissions.</p>
            </li><li class="listitem">
              <p>Allow you to choose from any permissions.</p>
            </li><li class="listitem">
              <p>Allow you to select no policies at this time, create the policies later, and
                then attach them to the role.</p>
            </li></ul></div>
          <p>Select the check box next to the policy that assigns the permissions that you want
            the role to have, and then choose <b>Next</b>. </p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The permissions that you specify are available to any entity that uses the role.
              By default, a role has no permissions.</p></div></div>
        </li><li>
          <p>For <b>Role name</b>, the degree of role name customization is defined
            by the service. If the service defines the role's name, then this option is not
            editable. In other cases, the service might define a prefix for the role and let you
            enter an optional suffix.</p>
          <p>If possible, enter a role name suffix to add to the default name. This suffix helps
            you identify the purpose of this role. Role names must be unique within your AWS
            account. They are not distinguished by case. For example, you cannot create roles named
            both <code class="userinput">&lt;service-linked-role-name&gt;_SAMPLE</code> and
              <code class="userinput">&lt;service-linked-role-name&gt;_sample</code>. Because various entities
            might reference the role, you cannot edit the name of the role after it has been
            created.</p>
        </li><li>
          <p>(Optional) For <b>Description</b>, edit the description for the new
            service-linked role.</p>
        </li><li>
          <p>You cannot attach tags to service-linked roles during creation. For more information
            about using tags in IAM, see <a href="./id_tags.html">Tagging IAM resources</a>.</p>
        </li><li>
          <p>Review the role and then choose <b>Create role</b>.</p>
        </li></ol></div>
     
     
      <h3 id="create-service-linked-role-iam-cli">Creating a service-linked role
          (AWS CLI)</h3>
      <p>Before creating a service-linked role in IAM, find out whether the linked service
        automatically creates service-linked roles and whether you can create the role from the
        service's CLI. If the service CLI is not supported, you can use IAM commands to create a
        service-linked role with the trust policy and inline policies that the service needs to
        assume the role.</p>
      <p><b>To create a service-linked role (AWS CLI)</b></p>
      <p>Run the following command:</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/create-service-linked-role.html">create-service-linked-role</a> --aws-service-name <code class="replaceable">SERVICE-NAME</code>.amazonaws.com</code></code></pre>
     
     
      <h3 id="create-service-linked-role-iam-api">Creating a service-linked role (AWS
          API)</h3>
      <p>Before creating a service-linked role in IAM, find out whether the linked service
        automatically creates service-linked roles and whether you can create the role from the
        service's API. If the service API is not supported, you can use the AWS API to create a
        service-linked role with the trust policy and inline policies that the service needs to
        assume the role.</p>
      <p><b>To create a service-linked role (AWS API)</b></p>
      <p>Use the <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_CreateServiceLinkedRole.html">CreateServiceLinkedRole</a> API call. In the request, specify a service name of
            <code class="code"><code class="replaceable">SERVICE_NAME_URL</code>.amazonaws.com</code>. </p>
      <p>For example, to create the <b>Lex Bots</b> service-linked role, use
          <code class="code">lex.amazonaws.com</code>.</p>
     
   
    <h2 id="edit-service-linked-role">Editing a service-linked role</h2>
    <p>The method that you use to edit a service-linked role depends on the service. Some
      services might allow you to edit the permissions for a service-linked role from the service
      console, API, or CLI. However, after you create a service-linked role, you cannot change the
      name of the role because various entities might reference the role. You can edit the
      description of any role from the IAM console, API, or CLI.</p>
    <p>For information about which services support using service-linked roles, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a> and look for the services that
      have <b>Yes </b>in the <b>Service-Linked
        Role</b> column. To learn whether the service supports editing the service-linked
      role, choose the <b>Yes</b> link to view the service-linked role
      documentation for that service.</p>
     
      <h3 id="edit-service-linked-role-iam-console">Editing a service-linked role
          description (console)</h3>
      <p>You can use the IAM console to edit the description of a service-linked role.</p>
      <div class="procedure"><h6>To edit the description of a service-linked role (console)</h6><ol><li>
          <p>In the navigation pane of the IAM console, choose
            <b>Roles</b>.</p>
        </li><li>
          <p>Choose the name of the role to modify.</p>
        </li><li>
          <p>To the far right of <b>Role description</b>, choose
              <b>Edit</b>. </p>
        </li><li>
          <p>Enter a new description in the box and choose <b>Save</b>.</p>
        </li></ol></div>
     
     
      <h3 id="edit-service-linked-role-iam-cli">Editing a service-linked role description
          (AWS CLI)</h3>
      <p>You can use IAM commands from the AWS CLI to edit the description of a service-linked
        role.</p>
      <div class="procedure"><h6>To change the description of a service-linked role (AWS CLI)</h6><ol><li>
          <p>(Optional) To view the current description for a role, run the following
            commands:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/get-role.html">get-role</a> --role-name <code class="replaceable">ROLE-NAME</code></code></code></pre>
          <p>Use the role name, not the ARN, to refer to roles with the CLI commands. For
            example, if a role has the following ARN:
              <code class="code">arn:aws:iam::123456789012:role/myrole</code>, you refer to the role as
              <code class="userinput">myrole</code>.</p>
        </li><li>
          <p>To update a service-linked role's description, run the following command:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/update-role.html">update-role</a> --role-name <code class="replaceable">ROLE-NAME</code> --description <code class="replaceable">OPTIONAL-DESCRIPTION</code></code></code></pre>
        </li></ol></div>
     
     
      <h3 id="edit-service-linked-role-iam-api">Editing a service-linked role description
          (AWS API)</h3>
      <p>You can use the AWS API to edit the description of a service-linked role.</p>
      <div class="procedure"><h6>To change the description of a service-linked role (AWS API)</h6><ol><li>
          <p>(Optional) To view the current description for a role, call the following operation,
            and specify the name of the role:</p>
          <p>AWS API: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetRole.html">GetRole</a>
          </p>
        </li><li>
          <p>To update a role's description, call the following operation, and specify the name
            (and optional description) of the role: </p>
          <p>AWS API: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_UpdateRole.html">UpdateRole</a>
          </p>
        </li></ol></div>
     
   
    <h2 id="delete-service-linked-role">Deleting a service-linked role</h2>
    <p>The method that you use to create a service-linked role depends on the service. In some
      cases, you don't need to manually delete a service-linked role. For example, when you complete
      a specific action (such as removing a resource) in the service, the service might delete the
      service-linked role for you. </p>
    <p>In other cases, the service might support deleting a service-linked role manually from the
      service console, API, or AWS CLI. </p>
    <p>For information about which services support using service-linked roles, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a> and look for the services that
      have <b>Yes </b>in the <b>Service-Linked
        Role</b> column. To learn whether the service supports deleting the service-linked
      role, choose the <b>Yes</b> link to view the service-linked role
      documentation for that service.</p>
    <p>If the service does not support deleting the role, then you can delete the service-linked
      role from the IAM console, API, or AWS CLI. If you no longer need to use a feature or service
      that requires a service-linked role, we recommend that you delete that role. That way you
      don't have an unused entity that is not actively monitored or maintained. However, you must
      clean up your service-linked role before you can delete it.</p>
     
      <h3 id="service-linked-role-review-before-delete">Cleaning up a service-linked
          role</h3>
      <p>Before you can use IAM to delete a service-linked role, you must first confirm that
        the role has no active sessions and remove any resources used by the role.</p>
      <div class="procedure"><h6>To check whether the service-linked role has an active session in the IAM
          console</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>In the navigation pane of the IAM console, choose <b>Roles</b>. Then
            choose the name (not the check box) of the service-linked role.</p>
        </li><li>
          <p>On the <b>Summary</b> page for the selected role, choose the
              <b>Access Advisor</b> tab.</p>
        </li><li>
          <p>On the <b>Access Advisor</b> tab, review recent activity for the
            service-linked role.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you are unsure whether the service is using the service-linked role, you can
              try to delete the role. If the service is using the role, then the deletion fails and
              you can view the regions where the role is being used. If the role is being used, then
              you must wait for the session to end before you can delete the role. You cannot revoke
              the session for a service-linked role. </p></div></div>
        </li></ol></div>
      <p><b>To remove resources used by a service-linked
        role</b></p>
      <p>For information about which services support using service-linked roles, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a> and look for the services that
        have <b>Yes </b>in the <b>Service-Linked
          Role</b> column. To learn whether the service supports deleting the service-linked
        role, choose the <b>Yes</b> link to view the service-linked role
        documentation for that service. See the documentation for that service to learn how to
        remove resources used by your service-linked role.</p>
     
     
      <h3 id="delete-service-linked-role-iam-console">Deleting a service-linked role
          (console)</h3>
      <p>You can use the IAM console to delete a service-linked role.</p>
      <div class="procedure"><h6>To delete a service-linked role (console)</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>In the navigation pane of the IAM console, choose <b>Roles</b>. Then
            select the check box next to the role name that you want to delete, not the name or row
            itself. </p>
        </li><li>
          <p>For <b>Role actions</b> at the top of the page, choose
              <b>Delete</b>.</p>
        </li><li>
          <p>In the confirmation dialog box, review the last accessed information, which shows
            when each of the selected roles last accessed an AWS service. This helps you to
            confirm whether the role is currently active. If you want to proceed, choose
              <b>Yes, Delete</b> to submit the service-linked role for
            deletion.</p>
        </li><li>
          <p>Watch the IAM console notifications to monitor the progress of the service-linked
            role deletion. Because the IAM service-linked role deletion is asynchronous, after you
            submit the role for deletion, the deletion task can succeed or fail. </p>
          <div class="itemizedlist">
             
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p>If the task succeeds, then the role is removed from the list and a notification
                of success appears at the top of the page.</p>
            </li><li class="listitem">
              <p>If the task fails, you can choose <b>View details</b> or
                  <b>View Resources</b> from the notifications to learn why the
                deletion failed. If the deletion fails because the role is using the service's
                resources, then the notification includes a list of resources, if the service
                returns that information. You can then <a href="#service-linked-role-review-before-delete">clean up the resources</a>
                and submit the deletion again.</p>
              <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You might have to repeat this process several times, depending on the
                  information that the service returns. For example, your service-linked role might
                  use six resources and your service might return information about five of them. If
                  you clean up the five resources and submit the role for deletion again, the
                  deletion fails and the service reports the one remaining resource. A service might
                  return all of the resources, a few of them, or it might not report any
                  resources.</p></div></div>
            </li><li class="listitem">
              <p>If the task fails and the notification does not include a list of resources,
                then the service might not return that information. To learn how to clean up the
                resources for that service, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a>. Find your service in
                the table, and choose the <b>Yes</b> link to view the
                service-linked role documentation for that service.</p>
            </li></ul></div>
        </li></ol></div>
     
     
      <h3 id="delete-service-linked-role-iam-cli">Deleting a service-linked role
          (AWS CLI)</h3>
      <p>You can use IAM commands from the AWS CLI to delete a service-linked role.</p>
      <div class="procedure"><h6>To delete a service-linked role (AWS CLI)</h6><ol><li>
          <p>If you know the name of the service-linked role that you want to delete, enter the
            following command to list the role in your account:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/get-role.html">get-role</a> --role-name <code class="replaceable">role-name</code></code></code></pre>
          <p>Use the role name, not the ARN, to refer to roles with the CLI commands. For
            example, if a role has the following ARN:
              <code class="code">arn:aws:iam::123456789012:role/myrole</code>, you refer to the role as
              <code class="userinput">myrole</code>.</p>
        </li><li>
          <p>Because a service-linked role cannot be deleted if it is being used or has
            associated resources, you must submit a deletion request. That request can be denied if
            these conditions are not met. You must capture the <code class="code">deletion-task-id</code> from
            the response to check the status of the deletion task. Enter the following command to
            submit a service-linked role deletion request:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/delete-service-linked-role.html">delete-service-linked-role</a> --role-name <code class="replaceable">role-name</code></code></code></pre>
        </li><li>
          <p>Enter the following command to check the status of the deletion task:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/get-service-linked-role-deletion-status.html">get-service-linked-role-deletion-status</a> --deletion-task-id <code class="replaceable">deletion-task-id</code></code></code></pre>
          <p>The status of the deletion task can be <code class="code">NOT_STARTED</code>,
              <code class="code">IN_PROGRESS</code>, <code class="code">SUCCEEDED</code>, or <code class="code">FAILED</code>. If the
            deletion fails, the call returns the reason that it failed so that you can troubleshoot.
            If the deletion fails because the role is using the service's resources, then the
            notification includes a list of resources, if the service returns that information. You
            can then <a href="#service-linked-role-review-before-delete">clean up the
              resources</a> and submit the deletion again.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You might have to repeat this process several times, depending on the information
              that the service returns. For example, your service-linked role might use six
              resources and your service might return information about five of them. If you clean
              up the five resources and submit the role for deletion again, the deletion fails and
              the service reports the one remaining resource. A service might return all of the
              resources, a few of them, or it might not report any resources. To learn how to clean
              up the resources for a service that does not report any resources, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a>. Find your service in
              the table, and choose the <b>Yes</b> link to view the
              service-linked role documentation for that service.</p></div></div>
        </li></ol></div>
     
     
      <h3 id="delete-service-linked-role-iam-api">Deleting a service-linked role (AWS
          API)</h3>
      <p>You can use the AWS API to delete a service-linked role.</p>
      <div class="procedure"><h6>To delete a service-linked role (AWS API)</h6><ol><li>
          <p>To submit a deletion request for a service-linked role, call <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_DeleteServiceLinkedRole.html">DeleteServiceLinkedRole</a>.
            In the request, specify a role name.</p>
          <p>Because a service-linked role cannot be deleted if it is being used or has
            associated resources, you must submit a deletion request. That request can be denied if
            these conditions are not met. You must capture the <code class="code">DeletionTaskId</code> from the
            response to check the status of the deletion task.</p>
        </li><li>
          <p>To check the status of the deletion, call <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetServiceLinkedRoleDeletionStatus.html">GetServiceLinkedRoleDeletionStatus</a>. In the request, specify the
              <code class="code">DeletionTaskId</code>.</p>
          <p>The status of the deletion task can be <code class="code">NOT_STARTED</code>,
              <code class="code">IN_PROGRESS</code>, <code class="code">SUCCEEDED</code>, or <code class="code">FAILED</code>. If the
            deletion fails, the call returns the reason that it failed so that you can troubleshoot.
            If the deletion fails because the role is using the service's resources, then the
            notification includes a list of resources, if the service returns that information. You
            can then <a href="#service-linked-role-review-before-delete">clean up the
              resources</a> and submit the deletion again.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You might have to repeat this process several times, depending on the information
              that the service returns. For example, your service-linked role might use six
              resources and your service might return information about five of them. If you clean
              up the five resources and submit the role for deletion again, the deletion fails and
              the service reports the one remaining resource. A service might return all of the
              resources, a few of them, or it might not report any resources. To learn how to clean
              up the resources for a service that does not report any resources, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a>. Find your service in
              the table, and choose the <b>Yes</b> link to view the
              service-linked role documentation for that service.</p></div></div>
        </li></ol></div>
     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./id_roles_providers_enable-console-custom-url.html">Enabling custom identity broker access to the AWS console</div><div id="next" class="next-link" accesskey="n" href="./id_roles_create.html">Creating roles</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/using-service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/using-service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>