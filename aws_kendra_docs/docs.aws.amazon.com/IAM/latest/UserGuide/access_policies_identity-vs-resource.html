<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Identity-based policies and resource-based policies - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="access_policies_identity-vs-resource" /><meta name="default_state" content="access_policies_identity-vs-resource" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" /><meta name="description" content="Learn the difference between identity-based policies and resource-based policies." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Identity-based policies and resource-based policies" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Identity-based policies and resource-based policies - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#access_policies_identity-vs-resource" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/access_policies_identity-vs-resource.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/access_policies_identity-vs-resource.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Access management for AWS resources",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/access.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Policies and permissions in IAM",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Identity-based policies and resource-based policies",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#access_policies_identity-vs-resource" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/access_policies_identity-vs-resource.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="access_policies_identity-vs-resource">Identity-based policies and
         resource-based policies</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A policy is an object in AWS that, when associated with an identity or resource, defines
      their permissions. When you create a permissions policy to restrict access to a resource, you
      can choose an <em>identity-based policy</em> or a <em>resource-based
         policy</em>.</p><p><b>Identity-based policies</b> are attached to an IAM user,
      group, or role. These policies let you specify what that identity can do (its permissions).
      For example, you can attach the policy to the IAM user named John, stating that he is
      allowed to perform the Amazon EC2 <code class="code">RunInstances</code> action. The policy could further state
      that John is allowed to get items from an Amazon DynamoDB table named <code class="code">MyCompany</code>. You
      can also allow John to manage his own IAM security credentials. Identity-based policies can
      be <a href="./access_policies_managed-vs-inline.html">managed or inline</a>.</p><p><b>Resource-based policies</b> are attached to a resource. For
      example, you can attach resource-based policies to Amazon S3 buckets, Amazon SQS queues, VPC endpoints,
      and AWS Key Management Service encryption keys. For a list of services that support resource-based policies,
      see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a>.</p><p>With resource-based policies, you can specify who has access to the resource and what
      actions they can perform on it. 
To learn whether principals in accounts outside of your zone of trust (trusted organization or account) have access to assume your roles, see 
<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/what-is-access-analyzer.html">What is IAM Access Analyzer?</a>. Resource-based policies are inline only, not managed.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p><em>Resource-based</em> policies differ from
            <em>resource-level</em> permissions. You can attach resource-based policies
         directly to a resource, as described in this topic. Resource-level permissions refer to the
         ability to use <a href="./reference_identifiers.html#identifiers-arns">ARNs</a> to
         specify individual resources in a policy. Resource-based policies are supported only by
         some AWS services. For a list of which services support resource-based policies and
         resource-level permissions, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a>.</p></div></div><p>To learn how identity-based policies and resource-based policies interact within the same account, see <a href="./reference_policies_evaluation-logic.html#policy-eval-basics">Evaluating policies within a single account</a>.</p><p>To learn how the policies interact across accounts, see <a href="./reference_policies_evaluation-logic-cross-account.html">Cross-account policy
      evaluation logic</a>.</p><p>To better understand these concepts, view the following figure. The administrator of the
         <code class="code">123456789012</code> account attached <em>identity-based
         policies</em> to the <code class="code">JohnSmith</code>, <code class="code">CarlosSalazar</code>, and
         <code class="code">MaryMajor</code> users. Some of the actions in these policies can be performed on
      specific resources. For example, the user <code class="code">JohnSmith</code> can perform some actions on
         <code class="code">Resource X</code>. This is a <em>resource-level
         permission</em> in an identity-based policy. The administrator also added <em>resource-based policies</em> to <code class="code">Resource X</code>, <code class="code">Resource
         Y</code>, and <code class="code">Resource Z</code>. Resource-based policies allow you to specify who can
      access that resource. For example, the resource-based policy on <code class="code">Resource X</code> allows
      the <code class="code">JohnSmith</code> and <code class="code">MaryMajor</code> users list and read access to the
      resource.</p><div class="mediaobject">
       
         <img src="/images/IAM/latest/UserGuide/images/Types_of_Permissions.diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;         Identity-based vs resource-based policies&#xA;      " />
       
       
   </div><p>The <code class="code">123456789012</code> account example allows the following users to perform
      the listed actions:</p><div class="itemizedlist">
       
       
       
       
   <ul class="itemizedlist"><li class="listitem">
         <p><b>JohnSmith</b> – John can perform list and read
            actions on <code class="code">Resource X</code>. He is granted this permission by the identity-based
            policy on his user and the resource-based policy on <code class="code">Resource X</code>.</p>
      </li><li class="listitem">
         <p><b>CarlosSalazar</b> – Carlos can perform list,
            read, and write actions on <code class="code">Resource Y</code>, but is denied access to
               <code class="code">Resource Z</code>. The identity-based policy on Carlos allows him to perform
            list and read actions on <code class="code">Resource Y</code>. The <code class="code">Resource Y</code>
            resource-based policy also allows him write permissions. However, although his
            identity-based policy allows him access to <code class="code">Resource Z</code>, the <code class="code">Resource
               Z</code> resource-based policy denies that access. An explicit <code class="code">Deny</code>
            overrides an <code class="code">Allow</code> and his access to <code class="code">Resource Z</code> is denied. For
            more information, see <a href="./reference_policies_evaluation-logic.html">Policy evaluation logic</a>. </p>
      </li><li class="listitem">
         <p><b>MaryMajor</b> – Mary can perform list, read, and
            write operations on <code class="code">Resource X</code>, <code class="code">Resource Y</code>, and <code class="code">Resource
               Z</code>. Her identity-based policy allows her more actions on more resources than
            the resource-based policies, but none of them deny access.</p>
      </li><li class="listitem">
         <p><b>ZhangWei</b> – Zhang has full access to <code class="code">Resource Z</code>. Zhang has no identity-based
            policies, but the <code class="code">Resource Z</code> resource-based policy allows him full access
            to the resource. Zhang can also perform list and read actions on <code class="code">Resource Y</code>.</p>
      </li></ul></div><p>Identity-based policies and resource-based policies are both permissions policies and are
      evaluated together. For a request to which only permissions policies apply, AWS first checks
      all policies for a <code class="code">Deny</code>. If one exists, then the request is denied. Then AWS
      checks for each <code class="code">Allow</code>. If at least one policy statement allows the action in the
      request, the request is allowed. It doesn't matter whether the <code class="code">Allow</code> is in the
      identity-based policy or the resource-based policy.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>This logic applies only when the request is made within a single AWS account. For
         requests made from one account to another, the requester in <code class="code">Account A</code> must
         have an identity-based policy that allows them to make a request to the resource in
            <code class="code">Account B</code>. Also, the resource-based policy in <code class="code">Account B</code> must
         allow the requester in <code class="code">Account A</code> to access the resource. There must be
         policies in both accounts that allow the operation, otherwise the request fails. For more
         information about using resource-based policies for cross-account access, see <a href="./id_roles_compare-resource-policies.html">How IAM roles differ from resource-based
      policies</a>.</p></div></div><p>A user who has specific permissions might request a resource that also has a permissions
      policy attached to it. In that case, AWS evaluates both sets of permissions when determining
      whether to grant access to the resource. For information about how policies are evaluated, see
         <a href="./reference_policies_evaluation-logic.html">Policy evaluation logic</a>. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon S3 supports identity-based policies and resource-based policies (referred to as
            <em>bucket policies</em>). In addition, Amazon S3 supports a permission mechanism
         known as an <em>access control list (ACL)</em> that is independent of IAM
         policies and permissions. You can use IAM policies in combination with Amazon S3 ACLs. For
         more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingAuthAccess.html">Access Control</a>
         in the <em>Amazon Simple Storage Service User Guide</em>. </p></div></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./access_policies_boundaries.html">Permissions boundaries</div><div id="next" class="next-link" accesskey="n" href="./access_controlling.html">Controlling access using policies</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/access_policies_identity-vs-resource.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/access_policies_identity-vs-resource.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>