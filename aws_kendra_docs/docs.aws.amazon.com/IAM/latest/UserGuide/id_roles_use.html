<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using IAM roles - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="id_roles_use" /><meta name="default_state" content="id_roles_use" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html" /><meta name="description" content="Use an IAM role to delegate permissions to a user or service." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_roles_use.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_roles_use.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_roles_use.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_roles_use.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_roles_use.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_roles_use.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_roles_use.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_roles_use.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_roles_use.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_roles_use.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_roles_use.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_roles_use.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_use.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_use.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_roles_use.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_roles_use.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/id_roles_use.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/id_roles_use.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using IAM roles" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using IAM roles - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_roles_use" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_roles_use.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_use.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_use.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_use.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAM Identities (users, user groups, and roles)",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "IAM roles",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using IAM roles",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_roles_use" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_roles_use.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="page-toc-src"><a href="#id_roles_use_view-role-max-session">View the maximum session duration setting
        for a role</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="id_roles_use">Using IAM roles</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Before a user, application, or service can use a role that you created, you must grant
    permissions to switch to the role. You can use any policy attached to a groups or to the user to
    grant the necessary permissions. This section describes how to grant users permission to use a
    role. It also explains how the user can switch to a role from the AWS Management Console, the Tools for Windows PowerShell, the
    AWS Command Line Interface (AWS CLI) and the <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html"><code class="code">AssumeRole</code></a> API.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>When you create a role programmatically instead of in the IAM console, you have an
      option to add a <code class="code">Path</code> of up to 512 characters in addition to the
        <code class="code">RoleName</code>, which can be up to 64 characters long. However, if you intend to use
      a role with the <b>Switch Role</b> feature in the AWS Management Console, then the combined
        <code class="code">Path</code> and <code class="code">RoleName</code> cannot exceed 64 characters.</p></div></div><p>You can switch roles from the AWS Management Console. You can assume a role by calling an AWS CLI or API
    operation or by using a custom URL. The method that you use determines who can assume the role
    and how long the role session can last. When using <code class="code">AssumeRole*</code> API operations, the
    IAM role that you assume is the resource. The user or role that calls
      <code class="code">AssumeRole*</code> API operations is the principal.</p><a id="federation_api_differences"></a><div class="table-container"><div class="table-contents"><table id="w340aac16c30c28b9"><thead><tr><th class="table-header" colspan="100"><div class="title">Comparing methods for using roles</div></th></tr>
        <tr>
          <th> Method of assuming the role</th>
          <th>
            <b>Who can assume the role</b>
          </th>
          <th><b>Method to specify credential lifetime</b></th>
          <th>
            <b>Credential lifetime (min | max | default)</b>
          </th>
        </tr>
      </thead>
        <tr>
          <td>AWS Management Console</td>
          <td>User
            (by <a href="./id_roles_use_switch-role-console.html">switching roles</a>)</td>
          <td><b>Maximum session duration</b> on the <b>Role</b>
            Summary page</td>
          <td>15m | Maximum session duration setting² | 1hr</td>
        </tr>
        <tr>
          <td><a href="https://docs.aws.amazon.com/cli/latest/reference/sts/assume-role.html"><code class="code">assume-role</code></a> CLI
            or <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html"><code class="code">AssumeRole</code></a> API
            operation</td>
          <td>
            User
            or role¹</td>
          <td><code class="code">duration-seconds</code> CLI or <code class="code">DurationSeconds</code> API
            parameter</td>
          <td>15m | Maximum session duration setting² | 1hr </td>
        </tr>
        <tr>
          <td><a href="https://docs.aws.amazon.com/cli/latest/reference/sts/assume-role-with-saml.html"><code class="code">assume-role-with-saml</code></a> CLI or <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithSAML.html"><code class="code">AssumeRoleWithSAML</code></a>
            API operation</td>
          <td>Any user authenticated using SAML</td>
          <td><code class="code">duration-seconds</code> CLI or <code class="code">DurationSeconds</code> API
            parameter</td>
          <td>15m | Maximum session duration setting² | 1hr </td>
        </tr>
        <tr>
          <td><a href="https://docs.aws.amazon.com/cli/latest/reference/sts/assume-role-with-web-identity.html"><code class="code">assume-role-with-web-identity</code></a> CLI or <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRoleWithWebIdentity.html"><code class="code">AssumeRoleWithWebIdentity</code></a> API operation</td>
          <td>Any user authenticated using a web identity provider</td>
          <td><code class="code">duration-seconds</code> CLI or <code class="code">DurationSeconds</code> API
            parameter</td>
          <td>15m | Maximum session duration setting² | 1hr </td>
        </tr>
        <tr>
          <td><a href="./id_roles_providers_enable-console-custom-url.html">Console URL</a>
            constructed with <code class="code">AssumeRole</code>
          </td>
          <td>User
            or role</td>
          <td><code class="code">SessionDuration</code> HTML parameter in the URL</td>
          <td>15m | 12hr | 1hr </td>
        </tr>
        <tr>
          <td><a href="./id_roles_providers_enable-console-custom-url.html">Console URL</a>
            constructed with <code class="code">AssumeRoleWithSAML</code>
          </td>
          <td>Any user authenticated using SAML</td>
          <td><code class="code">SessionDuration</code> HTML parameter in the URL</td>
          <td>15m | 12hr | 1hr</td>
        </tr>
        <tr>
          <td><a href="./id_roles_providers_enable-console-custom-url.html">Console URL</a>
            constructed with <code class="code">AssumeRoleWithWebIdentity</code>
          </td>
          <td>Any user authenticated using a web identity provider</td>
          <td><code class="code">SessionDuration</code> HTML parameter in the URL</td>
          <td>15m | 12hr | 1hr </td>
        </tr>
      </table></div></div><p>¹ Using the credentials for one role to assume a different role is called <a href="./id_roles_terms-and-concepts.html#iam-term-role-chaining">role chaining</a>. When
    you use role chaining, your new credentials are limited to a maximum duration of one hour. When
    you use roles to <a href="./id_roles_use_switch-role-ec2.html">grant permissions to applications
      that run on EC2 instances</a>, those applications are not subject to this
    limitation.</p><p>² This setting can have a value from 1 hour to 12 hours. For details about modifying
    the maximum session duration setting, see <a href="./id_roles_manage_modify.html">Modifying a role</a>. This setting determines the maximum session duration
    that you can request when you get the role credentials. For example, when you use the <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html">AssumeRole*</a> API operations to assume a role,
    you can specify a session length using the <code class="code">DurationSeconds</code> parameter. Use this
    parameter to specify the length of the role session from 900 seconds (15 minutes) up to the
    maximum session duration setting for the role. IAM users who switch roles in the console are
    granted the maximum session duration, or the remaining time in their user session,
    whichever is less. Assume that you set a maximum duration of 5 hours on a role. An IAM user 
    that has been signed into the console for 10 hours (out of the default maximum of 12) switches
    to the role. The available role session duration is 2 hours. To learn how to view the maximum
    value for your role, see <a href="#id_roles_use_view-role-max-session">View the maximum session duration setting
        for a role</a> later in this page.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Notes</h6></div><div class="awsdocs-note-text"><div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>The maximum session duration setting does not limit sessions that are assumed by AWS
          services.</p>
      </li><li class="listitem">
        <p>To allow users to assume the current role again within a role session, specify the
          role ARN or AWS account ARN as a principal in the role trust policy. AWS services that
          provide compute resources such as Amazon EC2, Amazon ECS, Amazon EKS, and Lambda provide temporary
          credentials and automatically rotate these credentials. This ensures that you always have
          a valid set of credentials. For these services, it's not necessary to assume the current
          role again to obtain temporary credentials. However, if you intend to pass <a href="./id_session-tags.html">session tags</a> or a <a href="./access_policies.html#policies_session">session policy</a>, you need to assume the current role again. To learn how to
          modify a role trust policy to add the principal role ARN or AWS account ARN, see <a href="./roles-managingrole-editing-console.html#roles-managingrole_edit-trust-policy">Modifying a role trust policy
        (console)</a>.</p>
      </li></ul></div></div></div><div class="highlights"><h6>Topics</h6><ul><li><a href="#id_roles_use_view-role-max-session">View the maximum session duration setting
        for a role</a></li><li><a href="./id_roles_use_permissions-to-switch.html">Granting a user permissions to switch
      roles</a></li><li><a href="./id_roles_use_passrole.html">Granting a user permissions to pass a role to an AWS
      service</a></li><li><a href="./id_roles_use_switch-role-console.html">Switching to a role (console)</a></li><li><a href="./id_roles_use_switch-role-cli.html">Switching to an IAM role (AWS CLI)</a></li><li><a href="./id_roles_use_switch-role-twp.html">Switching to an IAM role (Tools for Windows PowerShell)</a></li><li><a href="./id_roles_use_switch-role-api.html">Switching to an IAM role (AWS API)</a></li><li><a href="./id_roles_use_switch-role-ec2.html">Using an IAM role to grant permissions to
      applications running on Amazon EC2 instances</a></li><li><a href="./id_roles_use_revoke-sessions.html">Revoking IAM role temporary security
      credentials</a></li></ul></div>
    <h2 id="id_roles_use_view-role-max-session">View the maximum session duration setting
        for a role</h2>
    <p>You can specify the maximum session duration for a role using the AWS Management Console or by using
      the AWS CLI or AWS API. When you use an AWS CLI or API operation to assume a role, you can
      specify a value for the <code class="code">DurationSeconds</code> parameter. You can use this parameter to
      specify the duration of the role session, from 900 seconds (15 minutes) up to the maximum
      session duration setting for the role. Before you specify the parameter, you should view this
      setting for your role. If you specify a value for the <code class="code">DurationSeconds</code> parameter
      that is higher than the maximum setting, the operation fails.</p>
    <div class="procedure"><h6>To view a role's maximum session duration (console)</h6><ol><li>
        <p>In the navigation pane of the IAM console, choose <b>Roles</b>.</p>
      </li><li>
        <p>Choose the name of the role that you want to view.</p>
      </li><li>
        <p>Next to <b>Maximum session duration</b>, view the maximum session length
          that is granted for the role. This is the maximum session duration that you can specify in
          your AWS CLI, or API operation. </p>
      </li></ol></div>
    <div class="procedure"><h6>To view a role's maximum session duration setting (AWS CLI)</h6><ol><li>
        <p>If you don't know the name of the role that you want to assume, run the following
          command to list the roles in your account:</p>
        <div class="itemizedlist">
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/cli/latest/reference/iam/list-roles.html">aws iam list-roles</a></p>
          </li></ul></div>
      </li><li>
        <p>To view the role's maximum session duration, run the following command. Then view the
          maximum session duration parameter.</p>
        <div class="itemizedlist">
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/cli/latest/reference/iam/get-role.html">aws iam get-role</a></p>
          </li></ul></div>
      </li></ol></div>
    <div class="procedure"><h6>To view a role's maximum session duration setting (AWS API)</h6><ol><li>
        <p>If you don't know the name of the role that you want to assume, call the following
          operation to list the roles in your account:</p>
        <div class="itemizedlist">
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_ListRoles.html">ListRoles</a></p>
          </li></ul></div>
      </li><li>
        <p>To view the role's maximum session duration, run the following operation. Then view
          the maximum session duration parameter.</p>
        <div class="itemizedlist">
           
        <ul class="itemizedlist"><li class="listitem">
            <p><a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetRole.html">GetRole</a></p>
          </li></ul></div>
      </li></ol></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./id_roles_create_policy-examples.html">Examples of policies for delegating access</div><div id="next" class="next-link" accesskey="n" href="./id_roles_use_permissions-to-switch.html">Granting a user permissions to switch roles</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_use.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_use.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>