<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Managing server certificates in IAM - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="id_credentials_server-certs" /><meta name="default_state" content="id_credentials_server-certs" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_server-certs.html" /><meta name="description" content="Upload and manage third-party X.509 SSL/TLS certificates (server certificates) with IAM for use with other AWS services." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_server-certs.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_server-certs.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Managing server certificates in IAM" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Managing server certificates in IAM - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_credentials_server-certs" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_credentials_server-certs.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_credentials_server-certs.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_credentials_server-certs.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_credentials_server-certs.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAM Identities (users, user groups, and roles)",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "IAM users",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Managing server certificates in IAM",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_credentials_server-certs" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_credentials_server-certs.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="page-toc-src"><a href="#upload-server-certificate">Uploading a server certificate (AWS API)</a><a href="#get-server-certificate">Retrieving a server certificate (AWS API)</a><a href="#list-server-certificates">Listing server certificates (AWS API)</a><a href="#tag-server-certificates">Tagging and Untagging Server Certificates (AWS
        API)</a><a href="#rename-server-certificate">Renaming a server certificate or updating its path
        (AWS API)</a><a href="#delete-server-certificate">Deleting a server certificate (AWS API)</a><a href="#server-certificate-troubleshooting">Troubleshooting</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="id_credentials_server-certs">Managing server certificates in IAM</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To enable HTTPS connections to your website or application in AWS, you need an SSL/TLS
      <em>server certificate</em>. For certificates in a Region supported by AWS Certificate Manager
    (ACM), we recommend that you use ACM to provision, manage, and deploy your server
    certificates. In unsupported Regions, you must use IAM as a certificate manager. To learn
    which Regions ACM supports, see <a href="https://docs.aws.amazon.com/general/latest/gr/acm.html">AWS Certificate Manager endpoints and
      quotas</a> in the <em>AWS General Reference</em>.</p><p>ACM is the preferred tool to provision, manage, and deploy your
    server certificates. With ACM you can request a certificate or deploy an existing ACM or
    external certificate to AWS resources. Certificates provided by ACM are free and
    automatically renew. In a <a href="https://docs.aws.amazon.com/general/latest/gr/acm.html">supported Region</a>, you can
    use ACM to manage server certificates from the console or programmatically. For more
    information about using ACM, see the <a href="https://docs.aws.amazon.com/acm/latest/userguide/acm-overview.html"><em>AWS Certificate Manager User Guide</em></a>. For more information about requesting an ACM
    certificate, see <a href="https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-request-public.html">Request a Public
      Certificate</a> or <a href="https://docs.aws.amazon.com/acm/latest/userguide/gs-acm-request-private.html">Request a Private
      Certificate</a> in the <em>AWS Certificate Manager User Guide</em>. For more information about
    importing third-party certificates into ACM, see <a href="https://docs.aws.amazon.com/acm/latest/userguide/import-certificate.html">Importing Certificates</a> in the
      <em>AWS Certificate Manager User Guide</em>.</p><p>Use IAM as a certificate manager only when you must support HTTPS connections in a Region
    that is not <a href="https://docs.aws.amazon.com/general/latest/gr/acm.html">supported by ACM</a>. IAM securely
    encrypts your private keys and stores the encrypted version in IAM SSL certificate storage.
    IAM supports deploying server certificates in all Regions, but you must obtain your
    certificate from an external provider for use with AWS. You cannot upload an ACM certificate
    to IAM. Additionally, you cannot manage your certificates from the IAM Console.</p><p>For more information about uploading third-party certificates to IAM, see the following
    topics.</p><div class="highlights" id="inline-topiclist"><h6>Contents</h6><ul><li><a href="#upload-server-certificate">Uploading a server certificate (AWS API)</a></li><li><a href="#get-server-certificate">Retrieving a server certificate (AWS API)</a></li><li><a href="#list-server-certificates">Listing server certificates (AWS API)</a></li><li><a href="#tag-server-certificates">Tagging and Untagging Server Certificates (AWS
        API)</a></li><li><a href="#rename-server-certificate">Renaming a server certificate or updating its path
        (AWS API)</a></li><li><a href="#delete-server-certificate">Deleting a server certificate (AWS API)</a></li><li><a href="#server-certificate-troubleshooting">Troubleshooting</a></li></ul></div>
    <h2 id="upload-server-certificate">Uploading a server certificate (AWS API)</h2>
    <p>To upload a server certificate to IAM, you must provide the certificate and its matching
      private key. When the certificate is not self-signed, you must also provide a certificate
      chain. (You don't need a certificate chain when uploading a self-signed certificate.) Before
      you upload a certificate, ensure that you have all these items and that they meet the
      following criteria:</p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>The certificate must be valid at the time of upload. You cannot upload a certificate
          before its validity period begins (the certificate's <code class="code">NotBefore</code> date) or after
          it expires (the certificate's <code class="code">NotAfter</code> date).</p>
      </li><li class="listitem">
        <p>The private key must be unencrypted. You cannot upload a private key that is protected
          by a password or passphrase. For help decrypting an encrypted private key, see <a href="#server-certificate-troubleshooting">Troubleshooting</a>.</p>
      </li><li class="listitem">
        <p>The certificate, private key, and certificate chain must all be PEM-encoded. For help
          converting these items to PEM format, see <a href="#server-certificate-troubleshooting">Troubleshooting</a>.</p>
      </li></ul></div>
    <p>To use the <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/">IAM API</a> to upload a certificate, send an
        <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_UploadServerCertificate.html">UploadServerCertificate</a>
      request. The following example shows how to do this with the <a href="https://aws.amazon.com/cli/" rel="noopener noreferrer" target="_blank"><span>AWS Command Line Interface (AWS CLI)</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. The example assumes the following:</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>The PEM-encoded certificate is stored in a file named
            <code>Certificate.pem</code>.</p>
      </li><li class="listitem">
        <p>The PEM-encoded certificate chain is stored in a file named
            <code>CertificateChain.pem</code>.</p>
      </li><li class="listitem">
        <p>The PEM-encoded, unencrypted private key is stored in a file named
            <code>PrivateKey.pem</code>.</p>
      </li><li class="listitem">
        <p>(Optional) You want to tag the server certificate with a key–value pair. For
          example, you might add the tag key <code class="code">Department</code> and the tag value
            <code class="code">Engineering</code> to help you identify and organize your certificates.</p>
      </li></ul></div>
    <p>To use the following example command, replace these file names with your own. Replace
        <code class="replaceable">ExampleCertificate</code> with a name for your uploaded certificate. If
      you want to tag the certificate, replace the <code class="replaceable">ExampleKey</code> and
        <code class="replaceable">ExampleValue</code> tag key-value pair with your own values. Type the
      command on one continuous line. The following example includes line breaks and extra spaces to
      make it easier to read.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam upload-server-certificate --server-certificate-name <code class="replaceable">ExampleCertificate</code>
                                    --certificate-body file://<code class="replaceable">Certificate.pem</code>
                                    --certificate-chain file://<code class="replaceable">CertificateChain.pem</code>
                                    --private-key file://<code class="replaceable">PrivateKey.pem</code>
                                    --tags '<span>{</span>"Key": "<code class="replaceable">ExampleKey</code>", "Value": "<code class="replaceable">ExampleValue</code>"}'</code></pre>
    <p>When the preceding command is successful, it returns metadata about the uploaded
      certificate, including its <a href="./reference_identifiers.html#identifiers-arns">Amazon Resource Name (ARN)</a>,
      its friendly name, its identifier (ID), its expiration date, tags, and more.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you are uploading a server certificate to use with Amazon CloudFront, you must specify a path
        using the <code class="code">--path</code> option. The path must begin with <code class="code">/cloudfront</code> and
        must include a trailing slash (for example, <code class="code">/cloudfront/test/</code>).</p></div></div>
    <p>To use the AWS Tools for Windows PowerShell to upload a certificate, use <a href="https://docs.aws.amazon.com/powershell/latest/reference/Index.html?page=Publish-IAMServerCertificate.html&amp;tocid=Publish-IAMServerCertificate">Publish-IAMServerCertificate</a>.</p>
   
    <h2 id="get-server-certificate">Retrieving a server certificate (AWS API)</h2>
    <p>To use the IAM API to retrieve a certificate, send a <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetServerCertificate.html">GetServerCertificate</a> request. The
      following example shows how to do this with the AWS CLI. Replace
        <code class="replaceable">ExampleCertificate</code> with the name of the certificate to
      retrieve.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam get-server-certificate --server-certificate-name <code class="replaceable">ExampleCertificate</code></code></pre>
    <p>When the preceding command is successful, it returns the certificate, the certificate
      chain (if one was uploaded), and metadata about the certificate.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You cannot download or retrieve a private key from IAM after you upload it.</p></div></div>
    <p>To use the AWS Tools for Windows PowerShell to retrieve a certificate, use <a href="https://docs.aws.amazon.com/powershell/latest/reference/Index.html?page=Get-IAMServerCertificate.html&amp;tocid=Get-IAMServerCertificate">Get-IAMServerCertificate</a>.</p>
   
    <h2 id="list-server-certificates">Listing server certificates (AWS API)</h2>
    <p>To use the IAM API to list your uploaded server certificates, send a <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_ListServerCertificates.html">ListServerCertificates</a> request.
      The following example shows how to do this with the AWS CLI.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws iam list-server-certificates</code></pre>
    <p>When the preceding command is successful, it returns a list that contains metadata about
      each certificate.</p>
    <p>To use the AWS Tools for Windows PowerShell to list your uploaded server certificates, use <a href="https://docs.aws.amazon.com/powershell/latest/reference/Index.html?page=Get-IAMServerCertificates.html&amp;tocid=Get-IAMServerCertificates">Get-IAMServerCertificates</a>.</p>
   
    <h2 id="tag-server-certificates">Tagging and Untagging Server Certificates (AWS
        API)</h2>
    <p>You can attach tags to your IAM resources to organize and control access to them. To use
      the IAM API to tag an existing server certificate, send a <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_TagServerCertificate.html">TagServerCertificate</a> request. The
      following example shows how to do this with the AWS CLI.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam tag-server-certificate --server-certificate-name <code class="replaceable">ExampleCertificate</code>
                                 --tags '<span>{</span>"Key": "<code class="replaceable">ExampleKey</code>", "Value": "<code class="replaceable">ExampleValue</code>"}'</code></pre>
    <p>When the preceding command is successful, no output is returned. </p>
    <p>To use the IAM API to untag a server certificate, send a <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_UntagServerCertificate.html">UntagServerCertificate</a> request.
      The following example shows how to do this with the AWS CLI.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam untag-server-certificate --server-certificate-name <code class="replaceable">ExampleCertificate</code>
                                 --tag-keys <code class="replaceable">ExampleKeyName</code></code></pre>
    <p>When the preceding command is successful, no output is returned.</p>
   
    <h2 id="rename-server-certificate">Renaming a server certificate or updating its path
        (AWS API)</h2>
    <p>To use the IAM API to rename a server certificate or update its path, send an <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_UpdateServerCertificate.html">UpdateServerCertificate</a> request.
      The following example shows how to do this with the AWS CLI.</p>
    <p>To use the following example command, replace the old and new certificate names and the
      certificate path, and type the command on one continuous line. The following example includes
      line breaks and extra spaces to make it easier to read.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam update-server-certificate --server-certificate-name <code class="replaceable">ExampleCertificate</code>
                                    --new-server-certificate-name <code class="replaceable">CloudFrontCertificate</code>
                                    --new-path <code class="replaceable">/cloudfront/</code></code></pre>
    <p>When the preceding command is successful, it does not return any output.</p>
    <p>To use the AWS Tools for Windows PowerShell to rename a server certificate or update its path, use <a href="https://docs.aws.amazon.com/powershell/latest/reference/Index.html?page=Update-IAMServerCertificate.html&amp;tocid=Update-IAMServerCertificate">Update-IAMServerCertificate</a>.</p>
   
    <h2 id="delete-server-certificate">Deleting a server certificate (AWS API)</h2>
    <p>To use the IAM API to delete a server certificate, send a <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_DeleteServerCertificate.html">DeleteServerCertificate</a> request.
      The following example shows how to do this with the AWS CLI.</p>
    <p>To use the following example command, replace
        <code class="replaceable">ExampleCertificate</code> with the name of the certificate to
      delete.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam delete-server-certificate --server-certificate-name <code class="replaceable">ExampleCertificate</code></code></pre>
    <p>When the preceding command is successful, it does not return any output.</p>
    <p>To use the AWS Tools for Windows PowerShell to delete a server certificate, use <a href="https://docs.aws.amazon.com/powershell/latest/reference/Index.html?page=Remove-IAMServerCertificate.html&amp;tocid=Remove-IAMServerCertificate">Remove-IAMServerCertificate</a>.</p>
   
    <h2 id="server-certificate-troubleshooting">Troubleshooting</h2>
    <p>Before you can upload a certificate to IAM, you must make sure that the certificate,
      private key, and certificate chain are all PEM-encoded. You must also ensure that the private
      key is unencrypted. See the following examples.</p>
    <div class="example"><h6>Example PEM-encoded certificate</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">-----BEGIN CERTIFICATE-----
<code class="replaceable">Base64-encoded certificate</code>
-----END CERTIFICATE-----</code></pre></div></div>
    <div class="example"><h6>Example PEM-encoded, unencrypted private key</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">-----BEGIN RSA PRIVATE KEY-----
<code class="replaceable">Base64-encoded private key</code>
-----END RSA PRIVATE KEY-----</code></pre></div></div>
    <div class="example"><h6>Example PEM-encoded certificate chain</h6><div class="example-contents"><p>A certificate chain contains one or more certificates. You can use a text editor, the
        copy command in Windows, or the Linux cat command to concatenate your certificate files into
        a chain. When you include multiple certificates, each certificate must certify the preceding
        certificate. You accomplish this by concatenating the certificates, including the root CA
        certificate last.</p><p>The following example contains three certificates, but your certificate chain might
        contain more or fewer certificates.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">-----BEGIN CERTIFICATE-----
<code class="replaceable">Base64-encoded certificate</code>
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
<code class="replaceable">Base64-encoded certificate</code>
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
<code class="replaceable">Base64-encoded certificate</code>
-----END CERTIFICATE-----</code></pre></div></div>
    <p>If these items are not in the right format for uploading to IAM, you can use <a href="https://openssl.org/" rel="noopener noreferrer" target="_blank"><span>OpenSSL</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to convert them to the right format.</p>
    <div class="variablelist">
       
       
       
       
       
    <dl>
        <dt><b><span class="term">To convert a certificate or certificate chain from DER to PEM</span></b></dt>
        <dd>
          <p>Use the <a href="https://openssl.org/docs/manmaster/man1/x509.html" rel="noopener noreferrer" target="_blank"><span>OpenSSL <b>x509</b> command</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, as in the following example. In the
            following example command, replace
              <code><code class="replaceable">Certificate.der</code></code> with the name of the
            file that contains your DER-encoded certificate. Replace
                <code><code class="replaceable">Certificate.pem</code></code> with the preferred
            name of the output file to contain the PEM-encoded certificate.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">openssl x509 -inform DER -in <code class="replaceable">Certificate.der</code> -outform PEM -out <code class="replaceable">Certificate.pem</code></code></pre>
          <p> </p>
        </dd>
      
        <dt><b><span class="term">To convert a private key from DER to PEM</span></b></dt>
        <dd>
          <p>Use the <a href="https://openssl.org/docs/manmaster/man1/rsa.html" rel="noopener noreferrer" target="_blank"><span>OpenSSL <b>rsa</b> command</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, as in the following example. In the
            following example command, replace
              <code><code class="replaceable">PrivateKey.der</code></code> with the name of the
            file that contains your DER-encoded private key. Replace
                <code><code class="replaceable">PrivateKey.pem</code></code> with the preferred
            name of the output file to contain the PEM-encoded private key.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">openssl rsa -inform DER -in <code class="replaceable">PrivateKey.der</code> -outform PEM -out <code class="replaceable">PrivateKey.pem</code></code></pre>
          <p> </p>
        </dd>
      
        <dt><b><span class="term">To decrypt an encrypted private key (remove the password or passphrase)</span></b></dt>
        <dd>
          <p>Use the <a href="https://openssl.org/docs/manmaster/man1/rsa.html" rel="noopener noreferrer" target="_blank"><span>OpenSSL <b>rsa</b> command</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, as in the following example. To use the
            following example command, replace
                <code><code class="replaceable">EncryptedPrivateKey.pem</code></code> with the
            name of the file that contains your encrypted private key. Replace
                <code><code class="replaceable">PrivateKey.pem</code></code> with the preferred
            name of the output file to contain the PEM-encoded unencrypted private key.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">openssl rsa -in <code class="replaceable">EncryptedPrivateKey.pem</code> -out <code class="replaceable">PrivateKey.pem</code></code></pre>
          <p> </p>
        </dd>
      
        <dt><b><span class="term">To convert a certificate bundle from PKCS#12 (PFX) to PEM</span></b></dt>
        <dd>
          <p>Use the <a href="https://openssl.org/docs/manmaster/man1/pkcs12.html" rel="noopener noreferrer" target="_blank"><span>OpenSSL <b>pkcs12</b> command</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, as in the following example. In the
            following example command, replace
                <code><code class="replaceable">CertificateBundle.p12</code></code> with the name
            of the file that contains your PKCS#12-encoded certificate bundle. Replace
                <code><code class="replaceable">CertificateBundle.pem</code></code> with the
            preferred name of the output file to contain the PEM-encoded certificate bundle.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">openssl pkcs12 -in <code class="replaceable">CertificateBundle.p12</code> -out <code class="replaceable">CertificateBundle.pem</code> -nodes</code></pre>
          <p> </p>
        </dd>
      
        <dt><b><span class="term">To convert a certificate bundle from PKCS#7 to PEM</span></b></dt>
        <dd>
          <p>Use the <a href="https://openssl.org/docs/manmaster/man1/pkcs7.html" rel="noopener noreferrer" target="_blank"><span>OpenSSL <b>pkcs7</b> command</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, as in the following example. In the
            following example command, replace
                <code><code class="replaceable">CertificateBundle.p7b</code></code> with the name
            of the file that contains your PKCS#7-encoded certificate bundle. Replace
                <code><code class="replaceable">CertificateBundle.pem</code></code> with the
            preferred name of the output file to contain the PEM-encoded certificate bundle.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">openssl pkcs7 -in <code class="replaceable">CertificateBundle.p7b</code> -print_certs -out <code class="replaceable">CertificateBundle.pem</code></code></pre>
        </dd>
      </dl></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./id_credentials_keyspaces.html">Using IAM with Amazon Keyspaces</div><div id="next" class="next-link" accesskey="n" href="./id_groups.html">User groups</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_credentials_server-certs.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_credentials_server-certs.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>