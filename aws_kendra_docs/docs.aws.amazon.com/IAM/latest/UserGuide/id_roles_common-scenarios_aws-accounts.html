<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Providing access to an IAM user in another AWS account that you own - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="id_roles_common-scenarios_aws-accounts" /><meta name="default_state" content="id_roles_common-scenarios_aws-accounts" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" /><meta name="description" content="Use roles to grant an IAM user access to another AWS account that you own." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Providing access to an IAM user in another AWS account that you own" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Providing access to an IAM user in another AWS account that you own - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_roles_common-scenarios_aws-accounts" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_roles_common-scenarios_aws-accounts.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAM Identities (users, user groups, and roles)",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "IAM roles",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Common scenarios for roles: Users, applications, and services",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Providing access to an IAM user in another AWS account that you own",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_common-scenarios.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_roles_common-scenarios_aws-accounts" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_roles_common-scenarios_aws-accounts.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="page-toc-src"><a href="#id_roles_common-scenarios_aws-accounts-example">Example scenario using
        separate development and production accounts</a><a href="#id_roles_common-scenarios_more-info">More information</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="id_roles_common-scenarios_aws-accounts">Providing access to an IAM user in
      another AWS account that you own</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can grant your IAM users permission to switch to roles within your AWS account or to
    roles defined in other AWS accounts that you own. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you want to grant access to an account that you do not own or control, see <a href="./id_roles_common-scenarios_third-party.html">Providing access to AWS accounts owned
      by third parties</a> later in this topic. </p></div></div><p>Imagine that you have Amazon EC2 instances that are critical to your organization. Instead of
    directly granting your users permission to terminate the instances, you can create a role with
    those privileges. Then allow administrators to switch to the role when they need to terminate an
    instance. Doing this adds the following layers of protection to the instances:</p><div class="itemizedlist">
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p>You must explicitly grant your users permission to assume the role.</p>
    </li><li class="listitem">
      <p>Your users must actively switch to the role using the AWS Management Console or assume the role using
        the AWS CLI or AWS
        API.</p>
    </li><li class="listitem">
      <p>You can add multi-factor authentication (MFA) protection to the role so that only users
        who sign in with an MFA device can assume the role. To learn how to configure a role so that
        users who assume the role must first be authenticated using multi-factor authentication
        (MFA), see <a href="./id_credentials_mfa_configure-api-require.html">Configuring MFA-protected API
      access</a>.</p>
    </li></ul></div><p>We recommend using this approach to enforce the <em>principle of least privilege</em>.
    That means restricting the use of elevated permissions to only those times when they are needed
    for specific tasks. With roles you can help prevent accidental changes to sensitive
    environments, especially if you combine them with <a href="./cloudtrail-integration.html">auditing</a> to help ensure that roles are only used when needed.</p><p>When you create a role for this purpose, you specify the accounts by ID whose users need
    access in the <code class="code">Principal</code> element of the role's trust policy. You can then grant
    specific users in those other accounts permissions to switch to the role. 
To learn whether principals in accounts outside of your zone of trust (trusted organization or account) have access to assume your roles, see 
<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/what-is-access-analyzer.html">What is IAM Access Analyzer?</a>.</p><p>A user in one account can switch to a role in the same or a different account. While using
    the role, the user can perform only the actions and access only the resources permitted by the
    role; their original user permissions are suspended. When the user exits the role, the original
    user permissions are restored.</p>
    <h2 id="id_roles_common-scenarios_aws-accounts-example">Example scenario using
        separate development and production accounts</h2>
  <p>Imagine that your organization has multiple AWS accounts to isolate a development
      environment from a production environment. Users in the development account might occasionally
      need to access resources in the production account. For example, you might need cross-account
      access when you are promoting an update from the development environment to the production
      environment. Although you could create separate identities (and passwords) for users who work
      in both accounts, managing credentials for multiple accounts makes identity management
      difficult. In the following figure, all users are managed in the development account, but some
      developers require limited access to the production account. The development account has two
      groups: Testers and Developers, and each group has its own policy.</p>
    <div class="mediaobject">
       
        <img src="/images/IAM/latest/UserGuide/images/roles-usingroletodelegate.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;        Use a role to delegate permissions to a user in a different account&#xA;      " />
       
       
    </div>
  <div class="orderedlist">
     
     
     
     
     
  <ol><li>
      <p>In the production account, an administrator uses IAM to create the
            <code class="code">UpdateApp</code> role in that account. In the role, the administrator defines a
          trust policy that specifies the development account as a <code class="code">Principal</code>, meaning
          that authorized users from the development account can use the <code class="code">UpdateApp</code>
          role. The administrator also defines a permissions policy for the role that specifies
          the read and write permissions to the Amazon S3 bucket named
            <code class="code">productionapp</code>.</p>
      <p>The administrator then shares the appropriate information with anyone who needs to
          assume the role. That information is the account number and name of the role (for AWS
          console users) or the Amazon Resource Name (ARN) (for AWS CLI or AWS API access). The role
          ARN might look like <code class="code">arn:aws:iam::123456789012:role/UpdateApp</code>,
          where the role is named <code class="code">UpdateApp</code> and the role was created in account number
          123456789012.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The administrator can optionally configure the role so that users who assume the role
          must first be authenticated using multi-factor authentication (MFA). For more information,
          see <a href="./id_credentials_mfa_configure-api-require.html">Configuring MFA-protected API
      access</a>. </p></div></div>
    </li><li>
      <p>In the development account, an administrator grants members of the Developers group
          permission to switch to the role. This is done by granting the Developers group permission
          to call the AWS Security Token Service (AWS STS) <code class="code">AssumeRole</code> API for the
            <code class="code">UpdateApp</code> role. Any IAM user that belongs to the Developers group in the
          development account can now switch to the <code class="code">UpdateApp</code> role in the production
          account. Other users who are not in the developer group do not have permission to switch
          to the role and therefore cannot access the S3 bucket in the production account.</p>
    </li><li>
      <p>The user requests switches to the role:</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>AWS console: The user chooses the account name on the navigation bar and chooses
                <b>Switch Role</b>. The user specifies the account ID (or alias) and
              role name. Alternatively, the user can click on a link sent in email by the
              administrator. The link takes the user to the <b>Switch Role</b> page
              with the details already filled in.</p>
        </li><li class="listitem">
          <p>AWS API/AWS CLI: A user in the Developers group of the development account calls the
                <code class="code">AssumeRole</code> function to obtain credentials for the
                <code class="code">UpdateApp</code> role. The user specifies the ARN of the
                <code class="code">UpdateApp</code> role as part of the call. If a user in the Testers group
              makes the same request, the request fails because Testers do not have permission to
              call <code class="code">AssumeRole</code> for the <code class="code">UpdateApp</code> role ARN.</p>
        </li></ul></div>
    </li><li>
      <p>AWS STS returns temporary credentials:</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>AWS console: AWS STS verifies the request with the role's trust policy to
            ensure that the request is from a trusted entity (which it is: the development account).
            After verification, AWS STS returns <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html">temporary
              security credentials</a> to the AWS console.</p>
        </li><li class="listitem">
          <p>API/CLI: AWS STS verifies the request against the role's trust policy to ensure
            that the request is from a trusted entity (which it is: the Development account). After
            verification, AWS STS returns <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/Welcome.html">temporary
              security credentials</a> to the application.</p>
        </li></ul></div>
    </li><li>
      <p>The temporary credentials allow access to the AWS resource:</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>AWS console: The AWS console uses the temporary credentials on behalf of the
              user for all subsequent console actions, in this case, to read and write to the
                <code class="code">productionapp</code> bucket. The console cannot access any other resource in
              the production account. When the user exits the role, the user's permissions revert to
              the original permissions held before switching to the role.</p>
        </li><li class="listitem">
          <p>API/CLI: The application uses the temporary security credentials to update the
              <code class="code">productionapp</code> bucket. With the temporary security credentials, the
            application can only read from and write to the <code class="code">productionapp</code> bucket and
            cannot access any other resource in the Production account. The application does not
            have to exit the role, but instead stops using the temporary credentials and uses the
            original credentials in subsequent API calls.</p>
        </li></ul></div>
    </li></ol></div>
   
    <h2 id="id_roles_common-scenarios_more-info">More information</h2>
    
    <p>For more information, see the following:</p>
    <div class="itemizedlist">
       
    <ul class="itemizedlist"><li class="listitem">
        <p><a href="./tutorial_cross-account-with-roles.html">IAM tutorial: Delegate access across AWS
         accounts using IAM roles</a></p>
      </li></ul></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./id_roles_common-scenarios.html">Common scenarios</div><div id="next" class="next-link" accesskey="n" href="./id_roles_common-scenarios_non-aws.html">Providing access for non AWS workloads</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_common-scenarios_aws-accounts.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>