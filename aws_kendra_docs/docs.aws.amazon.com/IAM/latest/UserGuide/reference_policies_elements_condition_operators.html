<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IAM JSON policy elements: Condition operators - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="reference_policies_elements_condition_operators" /><meta name="default_state" content="reference_policies_elements_condition_operators" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" /><meta name="description" content="Describes the operators that you can use in the Condition element of the IAM JSON policy language." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="IAM JSON policy elements: Condition operators" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IAM JSON policy elements: Condition operators - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#reference_policies_elements_condition_operators" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/reference_policies_elements_condition_operators.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Reference information for AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "IAM JSON policy reference",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "IAM JSON policy elements reference",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "IAM JSON policy elements: Condition",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "IAM JSON policy elements: Condition operators",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#reference_policies_elements_condition_operators" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/reference_policies_elements_condition_operators.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="page-toc-src"><a href="#Conditions_String">String condition operators</a><a href="#Conditions_Numeric">Numeric condition operators</a><a href="#Conditions_Date">Date condition operators</a><a href="#Conditions_Boolean">Boolean condition operators</a><a href="#Conditions_BinaryEquals">Binary condition operators </a><a href="#Conditions_IPAddress">IP address condition operators</a><a href="#Conditions_ARN">Amazon Resource Name (ARN) condition operators</a><a href="#Conditions_IfExists">...IfExists condition operators</a><a href="#Conditions_Null">Condition operator to check existence of condition keys
      </a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="reference_policies_elements_condition_operators">IAM JSON policy elements:
      Condition operators</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p></p><p>Use condition operators in the <code class="code">Condition</code> element to match the condition key and
    value in the policy against values in the request context. For more information about the
      <code class="code">Condition</code> element, see <a href="./reference_policies_elements_condition.html">IAM JSON policy elements:
        Condition</a>.</p><p>The condition operator that you can use in a policy depends on the condition key you choose.
    You can choose a global condition key or a service-specific condition key. To learn which
    condition operator you can use for a global condition key, see <a href="./reference_policies_condition-keys.html">AWS global condition context
            keys</a>. To learn which condition operator you can use for a service-specific condition key, see
      <a href="reference_policies_actions-resources-contextkeys.html" rel="noopener noreferrer" target="_blank">Actions, Resources, and
      Condition Keys for AWS Services</a> and choose the service that you want to view.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match and the condition is <em>false</em>. If the policy
      condition requires that the key is <em>not</em> matched, such as
        <code class="code">StringNotLike</code> or <code class="code">ArnNotLike</code>, and the right key is not present, the
      condition is <em>true</em>. This logic applies to all condition operators except
        <a href="#Conditions_IfExists">...IfExists</a> and <a href="#Conditions_Null">Null check</a>. These operators test whether the key is present (exists) in the request
      context.</p></div></div><p>The condition operators can be grouped into the following categories:</p><div class="itemizedlist">
     
     
     
     
     
     
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p><a href="#Conditions_String">String</a></p>
    </li><li class="listitem">
      <p><a href="#Conditions_Numeric">Numeric</a></p>
    </li><li class="listitem">
      <p><a href="#Conditions_Date">Date and time</a></p>
    </li><li class="listitem">
      <p><a href="#Conditions_Boolean">Boolean</a></p>
    </li><li class="listitem">
      <p><a href="#Conditions_BinaryEquals">Binary</a></p>
    </li><li class="listitem">
      <p><a href="#Conditions_IPAddress">IP address</a></p>
    </li><li class="listitem">
      <p><a href="#Conditions_ARN">Amazon Resource Name (ARN)</a> (available for only
        some services.)</p>
    </li><li class="listitem">
      <p><a href="#Conditions_IfExists">...IfExists</a> (checks if the key value exists
        as part of another check)</p>
    </li><li class="listitem">
      <p><a href="#Conditions_Null">Null check</a> (checks if the key value exists as a
        standalone check)</p>
    </li></ul></div>
    <h2 id="Conditions_String">String condition operators</h2>
    <p>String condition operators let you construct <code class="code">Condition</code> elements that restrict
      access based on comparing a key to a string value.</p>
    <div class="table-container"><div class="table-contents"><table id="w340aac35c19c11c35c29c15b5"><thead>
          <tr>
            <th>Condition operator</th>
            <th>Description</th>
          </tr>
        </thead>
          <tr>
            <td>
              <p>
                <code class="code">StringEquals</code>
              </p>
            </td>
            <td>
              <p>Exact matching, case sensitive</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">StringNotEquals</code>
              </p>
            </td>
            <td>
              <p>Negated matching</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">StringEqualsIgnoreCase</code>
              </p>
            </td>
            <td>
              <p>Exact matching, ignoring case</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">StringNotEqualsIgnoreCase</code>
              </p>
            </td>
            <td>
              <p>Negated matching, ignoring case</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">StringLike</code>
              </p>
            </td>
            <td><p>Case-sensitive matching. The values can include multi-character match
                wildcards (*) and single-character match wildcards (?) anywhere in the string. You
                must specify wildcards to achieve partial string matches. </p>
              <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If a key contains multiple values, <code class="code">StringLike</code> can be qualified
                  with set operators—<code class="code">ForAllValues:StringLike</code> and
                    <code class="code">ForAnyValue:StringLike</code>. For more information, see <a href="./reference_policies_multi-value-conditions.html">Creating a condition with multiple
         keys or values</a>. </p></div></div></td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">StringNotLike</code>
              </p>
            </td>
            <td>
              <p>Negated case-sensitive matching. The values can include multi-character match
                wildcards (*) or single-character match wildcards (?) anywhere in the string.</p>
            </td>
          </tr>
        </table></div></div>
    <p>For example, the following statement contains a <code class="code">Condition</code> element that uses
        <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-principaltag"><code class="code">aws:PrincipalTag</code></a> key to specify that the principal making the
      request must be tagged with the <code class="code">iamuser-admin</code> job category.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "iam:*AccessKey*",
    "Resource": "arn:aws:iam::<code class="replaceable">account-id</code>:user/*",
    "Condition": <span>{</span>"StringEquals": <span>{</span>"aws:PrincipalTag/job-category": "iamuser-admin"}}
  }
}</code></pre>
    <p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match. In this example, the <code class="code">aws:PrincipalTag/job-category</code> key
      is present in the request context if the principal is using an IAM user with attached tags.
      It is also included for a principal using an IAM role with attached tags or session tags. If a
      user without the tag attempts to view or edit an access key, the condition returns
        <code class="code">false</code> and the request is implicitly denied by this statement.</p>
    <p>You can use a <a href="./reference_policies_variables.html">policy variable</a> with the
        <code class="code">String</code> condition operator.</p>
    <p>The following example uses the <code class="code">StringLike</code> condition operator to perform
      string matching with a <a href="./reference_policies_variables.html">policy variable</a> to
      create a policy that lets an IAM user use the Amazon S3 console to manage his or her own "home
      directory" in an Amazon S3 bucket. The policy allows the specified actions on an S3 bucket as long
      as the <code class="code">s3:prefix</code> matches any one of the specified patterns.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "s3:ListAllMyBuckets",
        "s3:GetBucketLocation"
      ],
      "Resource": "arn:aws:s3:::*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": "s3:ListBucket",
      "Resource": "arn:aws:s3:::<code class="replaceable">BUCKET-NAME</code>",
      "Condition": <span>{</span>"StringLike": <span>{</span>"s3:prefix": [
        "",
        "home/",
        "home/$<span>{</span>aws:username}/"
      ]}}
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": "s3:*",
      "Resource": [
        "arn:aws:s3:::<code class="replaceable">BUCKET-NAME</code>/home/$<span>{</span>aws:username}",
        "arn:aws:s3:::<code class="replaceable">BUCKET-NAME</code>/home/$<span>{</span>aws:username}/*"
      ]
    }
  ]
}</code></pre>
    <p>For an example of a policy that shows how to use the <code class="code">Condition</code> element to
      restrict access to resources based on an application ID and a user ID for web identity
      federation, see <a href="./reference_policies_examples_s3_cognito-bucket.html">Amazon S3: Allows Amazon Cognito users to
      access objects in their bucket</a>. </p>
   
    <h2 id="Conditions_Numeric">Numeric condition operators</h2>
    <p>Numeric condition operators let you construct <code class="code">Condition</code> elements that
      restrict access based on comparing a key to an integer or decimal value.</p>
    <div class="table-container"><div class="table-contents"><table id="w340aac35c19c11c35c29c17b5"><thead>
          <tr>
            <th>Condition operator</th>
            <th>Description</th>
          </tr>
        </thead>
          <tr>
            <td>
              <p>
                <code class="code">NumericEquals</code>
              </p>
            </td>
            <td>
              <p>Matching</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">NumericNotEquals</code>
              </p>
            </td>
            <td>
              <p>Negated matching</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">NumericLessThan</code>
              </p>
            </td>
            <td>
              <p>"Less than" matching</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">NumericLessThanEquals</code>
              </p>
            </td>
            <td>
              <p>"Less than or equals" matching</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">NumericGreaterThan</code>
              </p>
            </td>
            <td>
              <p>"Greater than" matching</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">NumericGreaterThanEquals</code>
              </p>
            </td>
            <td>
              <p>"Greater than or equals" matching</p>
            </td>
          </tr>
        </table></div></div>
    <p>For example, the following statement contains a <code class="code">Condition</code> element that uses
      the <code class="code">NumericLessThanEquals</code> condition operator with the <code class="code">s3:max-keys</code>
      key to specify that the requester can list <em>up to</em> 10 objects in
        <code class="code">example_bucket</code> at a time.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "s3:ListBucket",
    "Resource": "arn:aws:s3:::example_bucket",
    "Condition": <span>{</span>"NumericLessThanEquals": <span>{</span>"s3:max-keys": "10"}}
  }
}</code></pre>
    <p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match. In this example, the <code class="code">s3:max-keys</code> key is always present
      in the request when you perform the <code class="code">ListBucket</code> operation. If this policy allowed
      all Amazon S3 operations, then only the operations that include the <code class="code">max-keys</code> context
      key with a value of less than or equal to 10 would be allowed. </p>
    <p>You can not use a <a href="./reference_policies_variables.html">policy variable</a> with
      the <code class="code">Numeric</code> condition operator.</p>
   
    <h2 id="Conditions_Date">Date condition operators</h2>
    <p>Date condition operators let you construct <code class="code">Condition</code> elements that restrict
      access based on comparing a key to a date/time value. You use these condition operators with
        <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-currenttime"><code class="code">aws:CurrentTime</code></a> key or <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-epochtime"><code class="code">aws:EpochTime</code></a> key. You must specify date/time values with one of the
        <a href="http://www.w3.org/TR/NOTE-datetime" rel="noopener noreferrer" target="_blank"><span>W3C implementations of the ISO 8601 date
        formats</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> or in epoch (UNIX) time. 
    </p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Wildcards are not permitted for date condition operators.</p></div></div>
    <div class="table-container"><div class="table-contents"><table id="w340aac35c19c11c35c29c19b7"><thead>
          <tr>
            <th>Condition operator</th>
            <th>Description</th>
          </tr>
        </thead>
          <tr>
            <td>
              <p>
                <code class="code">DateEquals</code>
              </p>
            </td>
            <td>
              <p>Matching a specific date</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">DateNotEquals</code>
              </p>
            </td>
            <td>
              <p>Negated matching</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">DateLessThan</code>
              </p>
            </td>
            <td>
              <p>Matching before a specific date and time</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">DateLessThanEquals</code>
              </p>
            </td>
            <td>
              <p>Matching at or before a specific date and time</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">DateGreaterThan</code>
              </p>
            </td>
            <td>
              <p>Matching after a specific a date and time</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">DateGreaterThanEquals</code>
              </p>
            </td>
            <td>
              <p>Matching at or after a specific date and time</p>
            </td>
          </tr>
        </table></div></div>
    <p>For example, the following statement contains a <code class="code">Condition</code> element that uses
      the <code class="code">DateGreaterThan</code> condition operator with the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-tokenissuetime"><code class="code">aws:TokenIssueTime</code></a> key. This condition specifies that the temporary
      security credentials used to make the request were issued in 2020. This policy can be updated
      programmatically every day to ensure that account members use fresh credentials.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "iam:*AccessKey*",
    "Resource": "arn:aws:iam::<code class="replaceable">account-id</code>:user/*",
    "Condition": <span>{</span>"DateGreaterThan": <span>{</span>"aws:TokenIssueTime": "2020-01-01T00:00:01Z"}}
  }
}</code></pre>
    <p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match. The <code class="code">aws:TokenIssueTime</code> key is present in the request
      context only when the principal uses temporary credentials to make the request. The key is not
      present in AWS CLI, AWS API, or AWS SDK requests that are made using access keys. In this
      example, if an IAM user attempts to view or edit an access key, the request is
      denied.</p>
    <p>You can not use a <a href="./reference_policies_variables.html">policy variable</a> with
      the <code class="code">Date</code> condition operator.</p>
   
    <h2 id="Conditions_Boolean">Boolean condition operators</h2>
    <p>Boolean conditions let you construct <code class="code">Condition</code> elements that restrict access
      based on comparing a key to "true" or "false." </p>
    <div class="table-container"><div class="table-contents"><table id="w340aac35c19c11c35c29c21b5"><thead>
          <tr>
            <th>Condition operator</th>
            <th>Description</th>
          </tr>
        </thead>
          <tr>
            <td>
              <p>
                <code class="code">Bool</code>
              </p>
            </td>
            <td>
              <p>Boolean matching</p>
            </td>
          </tr>
        </table></div></div>
    <p>For example, this identity-based policy uses the <code class="code">Bool</code> condition operator with
      the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-securetransport"><code class="code">aws:SecureTransport</code></a> key to deny all S3 actions on a bucket and its
      contents if the request is not over SSL.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>This policy does not allow any actions. Use this policy in combination with other
        policies that allow specific actions. </p></div></div>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "BooleanExample",
      "Action": "s3:*",
      "Effect": "Deny",
      "Resource": [
        "arn:aws:s3:::DOC-EXAMPLE-BUCKET",
        "arn:aws:s3:::DOC-EXAMPLE-BUCKET/*"
      ],
      "Condition": <span>{</span>
        "Bool": <span>{</span>
          "aws:SecureTransport": "false"
        }
      }
    }
  ]
}
</code></pre>
    <p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match. The <code class="code">aws:SecureTransport</code> key is always present in the
      request context. </p>
    <p>You can use a <a href="./reference_policies_variables.html">policy variable</a> with the
        <code class="code">Boolean</code> condition operator.</p>
   
    <h2 id="Conditions_BinaryEquals">Binary condition operators </h2>
    <p>The <code class="code">BinaryEquals</code> condition operator let you construct <code class="code">Condition</code>
      elements that test key values that are in binary format. It compares the value of the
      specified key byte for byte against a <a href="https://en.wikipedia.org/wiki/Base64" rel="noopener noreferrer" target="_blank"><span>base-64</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> encoded representation of the binary value in the policy. </p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Condition" : <span>{</span>
  "BinaryEquals": <span>{</span>
    "<code class="replaceable">key</code>" : "QmluYXJ5VmFsdWVJbkJhc2U2NA=="
  }
}     </code></pre>
    <p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match.</p>
    <p>You can not use a <a href="./reference_policies_variables.html">policy variable</a> with
      the <code class="code">Binary</code> condition operator.</p>
   
    <h2 id="Conditions_IPAddress">IP address condition operators</h2>
    <p>IP address condition operators let you construct <code class="code">Condition</code> elements that
      restrict access based on comparing a key to an IPv4 or IPv6 address or range of IP addresses.
      You use these with the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourceip"><code class="code">aws:SourceIp</code></a> key. The value must be in the standard CIDR format (for
      example, 203.0.113.0/24 or 2001:DB8:1234:5678::/64). If you specify an IP address without the
      associated routing prefix, IAM uses the default prefix value of <code class="code">/32</code>.</p>
    <p>Some AWS services support IPv6, using :: to represent a range of 0s. To learn whether a
      service supports IPv6, see the documentation for that service.</p>
    <div class="table-container"><div class="table-contents"><table id="w340aac35c19c11c35c29c25b7"><thead>
          <tr>
            <th>Condition operator</th>
            <th>Description</th>
          </tr>
        </thead>
          <tr>
            <td>
              <p>
                <code class="code">IpAddress</code>
              </p>
            </td>
            <td>
              <p>The specified IP address or range</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">NotIpAddress</code>
              </p>
            </td>
            <td>
              <p>All IP addresses except the specified IP address or range</p>
            </td>
          </tr>
        </table></div></div>
    <p>For example, the following statement uses the <code class="code">IpAddress</code> condition operator
      with the <code class="code">aws:SourceIp</code> key to specify that the request must come from the IP range
      203.0.113.0 to 203.0.113.255.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "iam:*AccessKey*",
    "Resource": "arn:aws:iam::<code class="replaceable">account-id</code>:user/*",
    "Condition": <span>{</span>"IpAddress": <span>{</span>"aws:SourceIp": "203.0.113.0/24"}}
  }
}</code></pre>
    <p>The <code class="code">aws:SourceIp</code> condition key resolves to the IP address that the request
      originates from. If the requests originates from an Amazon EC2 instance, <code class="code">aws:SourceIp</code>
      evaluates to the instance's public IP address. </p>
    <p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match. The <code class="code">aws:SourceIp</code> key is always present in the request
      context, except when the requester uses a VPC endpoint to make the request. In this case, the
      condition returns <code class="code">false</code> and the request is implicitly denied by this
      statement.</p>
    <p>You can not use a <a href="./reference_policies_variables.html">policy variable</a> with
      the <code class="code">IpAddress</code> condition operator.</p>
    <p>The following example shows how to mix IPv4 and IPv6 addresses to cover all of your
      organization's valid IP addresses. We recommend that you update your organization's policies
      with your IPv6 address ranges in addition to IPv4 ranges you already have to ensure the
      policies continue to work as you make the transition to IPv6.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "<code class="replaceable">someservice</code>:*",
    "Resource": "*",
    "Condition": <span>{</span>
      "IpAddress": <span>{</span>
        "aws:SourceIp": [
          "203.0.113.0/24",
          "2001:DB8:1234:5678::/64"
        ]
      }
    }
  }
}</code></pre>
    <p>The <code class="code">aws:SourceIp</code> condition key works only in a JSON policy if you are calling
      the tested API directly as a user. If you instead use a service to call the target service on
      your behalf, the target service sees the IP address of the calling service rather than the IP
      address of the originating user. This can happen, for example, if you use AWS CloudFormation to call
      Amazon EC2 to construct instances for you. There is currently no way to pass the originating IP
      address through a calling service to the target service for evaluation in a JSON policy. For
      these types of service API calls, do not use the <code class="code">aws:SourceIp</code> condition
      key.</p>
   
    <h2 id="Conditions_ARN">Amazon Resource Name (ARN) condition operators</h2>
    <p>Amazon Resource Name (ARN) condition operators let you construct <code class="code">Condition</code>
      elements that restrict access based on comparing a key to an ARN. The ARN is considered a
      string. </p>
    <div class="table-container"><div class="table-contents"><table id="w340aac35c19c11c35c29c27b5"><thead>
          <tr>
            <th>Condition operator</th>
            <th>Description</th>
          </tr>
        </thead>
          <tr>
            <td>
              <p>
                <code class="code">ArnEquals</code>, <code class="code">ArnLike</code></p>
            </td>
            <td>
              <p>Case-sensitive matching of the ARN. Each of the six colon-delimited components
                of the ARN is checked separately and each can include multi-character match
                wildcards (*) or single-character match wildcards (?). The <code class="code">ArnEquals</code>
                and <code class="code">ArnLike</code> condition operators behave identically.</p>
            </td>
          </tr>
          <tr>
            <td>
              <p>
                <code class="code">ArnNotEquals</code>, <code class="code">ArnNotLike</code></p>
            </td>
            <td>
              <p>Negated matching for ARN. The <code class="code">ArnNotEquals</code> and
                  <code class="code">ArnNotLike</code> condition operators behave identically.</p>
            </td>
          </tr>
        </table></div></div>
    <p>There are certain cases when a string operator would match when an ARN operator would not
      match. In that case, try using <a href="#Conditions_String">string condition
        operators</a>.</p>

    <p>For example, if the following pattern is used for matching:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">arn:aws:<code class="replaceable">someservice</code>:*:<code class="replaceable">111122223333</code>:finance/*</code></pre>
    <p>And the following value is in the request:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">arn:aws:<code class="replaceable">someservice</code>:<code class="replaceable">us-east-2</code>:<code class="replaceable">999999999999</code>:store/abc:<code class="replaceable">111122223333</code>:finance/document.txt</code></pre>
    <p>With a <code class="code">StringLike</code> condition, the match succeeds. The first asterisk matches
          <code class="code"><code class="replaceable">us-east-2</code>:<code class="replaceable">999999999999</code>:store/abc:</code>.
      With an <code class="code">ArnLike</code> condition, which matches elements between colons, the match
      fails. The first asterisk matches only
        <code class="code"><code class="replaceable">us-east-2</code></code> and fails on
          <code class="code"><code class="replaceable">999999999999</code>:store/abc:</code>.</p>
    <p>You can use a <a href="./reference_policies_variables.html">policy variable</a> with the
        <code class="code">ARN</code> condition operator.</p>
    <p>The following resource-based policy example shows a policy attached to an Amazon SQS queue to
      which you want to send SNS messages. It gives Amazon SNS permission to send messages to the queue
      (or queues) of your choice, but only if the service is sending the messages on behalf of a
      particular Amazon SNS topic (or topics). You specify the queue in the <code class="code">Resource</code> field,
      and the Amazon SNS topic as the value for the <code class="code">SourceArn</code> key.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Principal": <span>{</span>"AWS": "<code class="replaceable">123456789012</code>"},
    "Action": "SQS:SendMessage",
    "Resource": "arn:aws:sqs:<code class="replaceable">REGION</code>:<code class="replaceable">123456789012</code>:<code class="replaceable">QUEUE-ID</code>",
    "Condition": <span>{</span>"ArnEquals": <span>{</span>"aws:SourceArn": "arn:aws:sns:<code class="replaceable">REGION</code>:<code class="replaceable">123456789012</code>:<code class="replaceable">TOPIC-ID</code>"}}
  }
}</code></pre>
    <p>If the key that you specify in a policy condition is not present in the request context,
      the values do not match. The <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourcearn"><code class="code">aws:SourceArn</code></a> key is present in the request context only if a
      resource triggers a service to call another service on behalf of the resource owner. If an
      IAM user attempts to perform this operation directly, the condition returns
        <code class="code">false</code> and the request is implicitly denied by this statement.</p>
   
    <h2 id="Conditions_IfExists">...IfExists condition operators</h2>
    <p>You can add <code class="code">IfExists</code> to the end of any condition operator name except the
        <code class="code">Null</code> condition—for example, <code class="code">StringLikeIfExists</code>. You do this
      to say "If the policy key is present in the context of the request, process the key as
      specified in the policy. If the key is not present, evaluate the condition element as true."
      Other condition elements in the statement can still result in a nonmatch, but not a missing
      key when checked with <code class="code">...IfExists</code>. If you are using an <code class="code">"Effect":
        "Deny"</code> element with a negated condition operator like
        <code class="code">StringNotEqualsIfExists</code>, the request is still denied even if the tag is
      missing.</p>
    <p><b>Example using <code class="code">IfExists</code></b></p>
    <p>Many condition keys describe information about a certain type of resource and only exist
      when accessing that type of resource. These condition keys are not present on other types of
      resources. This doesn't cause an issue when the policy statement applies to only one type of
      resource. However, there are cases where a single statement can apply to multiple types of
      resources, such as when the policy statement references actions from multiple services or when
      a given action within a service accesses several different resource types within the same
      service. In such cases, including a condition key that applies to only one of the resources in
      the policy statement can cause the <code class="code">Condition</code> element in the policy statement to
      fail such that the statement's <code class="code">"Effect"</code> does not apply.</p>
    <p>For example, consider the following policy example:</p>
    <pre class="programlisting"><div class="code-btn-container"></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Sid": "<code class="replaceable">THISPOLICYDOESNOTWORK</code>",
    "Effect": "Allow",
    "Action": "ec2:RunInstances",
    "Resource": "*",
    "Condition": <span>{</span>"StringLike": <span>{</span>"ec2:InstanceType": [
      "t1.*",
      "t2.*",
      "m3.*"
    ]}}
  }
}</code></pre>
    <p>The <em>intent</em> of the preceding policy is to enable the user to launch
      any instance that is type <code class="code">t1</code>, <code class="code">t2</code> or <code class="code">m3</code>. However,
      launching an instance requires accessing many resources in addition to the instance itself;
      for example, images, key pairs, security groups, and more. The entire statement is evaluated
      against every resource that is required to launch the instance. These additional resources do
      not have the <code class="code">ec2:InstanceType</code> condition key, so the <code class="code">StringLike</code> check
      fails, and the user is not granted the ability to launch <em>any</em> instance
      type. </p>
    <p>To address this, use the <code class="code">StringLikeIfExists</code> condition operator instead. This
      way, the test only happens if the condition key exists. You could read the following policy
      as: "If the resource being checked has an "<code class="code">ec2:InstanceType</code>" condition key, then
      allow the action only if the key value begins with <code class="code">t1.</code>, <code class="code">t2.</code>, or
        <code class="code">m3.</code>. If the resource being checked does not have that condition key, then don't
      worry about it." The asterisk (*) in the condition key values, when used with the
        <code class="code">StringLikeIfExists</code> condition operator, is interpreted as a wildcard to achieve
      partial string matches. The <code class="code">DescribeActions</code> statement includes the actions
      required to view the instance in the console.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "RunInstance",
            "Effect": "Allow",
            "Action": "ec2:RunInstances",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringLikeIfExists": <span>{</span>
                    "ec2:InstanceType": [
                        "t1.*",
                        "t2.*",
                        "m3.*"
             ]}}
        },
        <span>{</span>
            "Sid": "DescribeActions",
            "Effect": "Allow",
            "Action": [
                "ec2:DescribeImages",
                "ec2:DescribeInstances",
                "ec2:DescribeVpcs",
                "ec2:DescribeKeyPairs",
                "ec2:DescribeSubnets",
                "ec2:DescribeSecurityGroups"
            ],
            "Resource": "*"
        }]
}</code></pre>
   
    <h2 id="Conditions_Null">Condition operator to check existence of condition keys
      </h2>
    <p>Use a <code class="code">Null</code> condition operator to check if a condition key is absent at the
      time of authorization. In the policy statement, use either <code class="code">true</code> (the key doesn't
      exist — it is null) or <code class="code">false</code> (the key exists and its value is not
      null).</p>
    <p>You can not use a <a href="./reference_policies_variables.html">policy variable</a> with
      the <code class="code">Null</code> condition operator.</p>
    <p>For example, you can use this condition operator to determine whether a user is using
      their own credentials for the operation or temporary credentials. If the user is using
      temporary credentials, then the key <code class="code">aws:TokenIssueTime</code> exists and has a value.
      The following example shows a condition that states that the user must not be using temporary
      credentials (the key must not exist) for the user to use the Amazon EC2 API.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement":<span>{</span>
      "Action":"ec2:*",
      "Effect":"Allow",
      "Resource":"*",
      "Condition":<span>{</span>"Null":<span>{</span>"aws:TokenIssueTime":"true"}}
  }
}</code></pre>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./reference_policies_elements_condition.html">Condition</div><div id="next" class="next-link" accesskey="n" href="./reference_policies_multi-value-conditions.html">Conditions with multiple keys or values</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>