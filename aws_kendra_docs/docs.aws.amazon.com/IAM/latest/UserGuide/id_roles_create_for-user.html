<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Creating a role to delegate permissions to an IAM user - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="id_roles_create_for-user" /><meta name="default_state" content="id_roles_create_for-user" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html" /><meta name="description" content="Create an IAM role that determines the permissions that users have when they access resources that belong to the same or a different account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Creating a role to delegate permissions to an IAM user" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Creating a role to delegate permissions to an IAM user - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_roles_create_for-user" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_roles_create_for-user.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_create_for-user.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_create_for-user.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_create_for-user.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAM Identities (users, user groups, and roles)",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "IAM roles",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Creating IAM roles",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Creating a role to delegate permissions to an IAM user",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#id_roles_create_for-user" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/id_roles_create_for-user.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="page-toc-src"><a href="#roles-creatingrole-user-console">Creating an IAM role (console)</a><a href="#roles-creatingrole-user-cli">Creating an IAM role (AWS CLI)</a><a href="#roles-creatingrole-user-api">Creating an IAM role (AWS API)</a><a href="#roles_creatingrole-user-cloudformation">Creating an IAM role
        (AWS CloudFormation)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="id_roles_create_for-user">Creating a role to delegate permissions to an IAM
      user</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can use IAM roles to delegate access to your AWS resources. With IAM roles, you
    can establish trust relationships between your <em>trusting</em>
    account and other AWS <em>trusted</em> accounts. The trusting
    account owns the resource to be accessed and the trusted account contains the users who need
    access to the resource. However, it is possible for another account to own a resource in your
    account. For example, the trusting account might allow the trusted account to create new
    resources, such as creating new objects in an Amazon S3 bucket. In that case, the account that
    creates the resource owns the resource and controls who can access that resource.</p><p>After you create the trust relationship, an IAM user or an application from the trusted
    account can use the AWS Security Token Service (AWS STS) <a href="https://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html"><code class="code">AssumeRole</code></a> API operation. This operation provides temporary security
    credentials that enable access to AWS resources in your account.</p><p>The accounts can both be controlled by you, or the account with the users can be controlled
    by a third party. If the other account with the users is an AWS account that you do not
    control, then you can use the <code class="code">externalId</code> attribute. The external ID can be any word
    or number that is agreed upon between you and the administrator of the third-party account. This
    option automatically adds a condition to the trust policy that allows the user to assume the
    role only if the request includes the correct <code class="code">sts:ExternalID</code>. For more information,
    see <a href="./id_roles_create_for-user_externalid.html">How to use an external ID when granting
      access to your AWS resources to a third party</a>.</p><p>For information about how to use roles to delegate permissions, see <a href="./id_roles_terms-and-concepts.html">Roles terms and concepts</a>. For
    information about using a service role to allow services to access resources in your account,
    see <a href="./id_roles_create_for-service.html">Creating a role to delegate permissions to an
      AWS service</a>.</p>
    <h2 id="roles-creatingrole-user-console">Creating an IAM role (console)</h2>
    <p>You can use the AWS Management Console to create a role that an IAM user can assume. For example,
      assume that your organization has multiple AWS accounts to isolate a development environment
      from a production environment. For high-level information about creating a role that allows
      users in the development account to access resources in the production account, see <a href="./id_roles_common-scenarios_aws-accounts.html#id_roles_common-scenarios_aws-accounts-example">Example scenario using
        separate development and production accounts</a>.</p>
    <div class="procedure"><h6>To create a role (console)</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
        <p>In the navigation pane of the console, choose <b>Roles</b> and then
          choose <b>Create role</b>.</p>
      </li><li>
        <p>Choose <b>AWS account</b> role type.</p>
      </li><li>
        <p>To create a role for your account, choose <b>This account</b>. To create
          a role for another account, choose <b>Another AWS account</b> and enter
          the <b>Account ID</b> to which you want to grant access to your
          resources.</p>
        <p>The administrator of the specified account can grant permission to assume this role to
          any IAM user in that account. To do this, the administrator attaches a policy to the
          user or a group that grants permission for the <code class="code">sts:AssumeRole</code> action. That
          policy must specify the role's ARN as the <code class="code">Resource</code>. </p>
      </li><li>
        <p>If you are granting permissions to users from an account that you do not control, and
          the users will assume this role programmatically, select <b>Require external
            ID</b>. The external ID can be any word or number that is agreed upon between you
          and the administrator of the third party account. This option automatically adds a
          condition to the trust policy that allows the user to assume the role only if the request
          includes the correct <code class="code">sts:ExternalID</code>. For more information, see <a href="./id_roles_create_for-user_externalid.html">How to use an external ID when granting
      access to your AWS resources to a third party</a>.</p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Choosing this option restricts access to the role only through the AWS CLI, Tools for Windows PowerShell, or
            the AWS API. This is because you cannot use the AWS console to switch to a role that
            has an <code class="code">externalId</code> condition in its trust policy. However, you can create
            this kind of access programmatically by writing a script or an application using the
            relevant SDK. For more information and a sample script, see <a href="http://aws.amazon.com/blogs/security/how-to-enable-cross-account-access-to-the-aws-management-console" rel="noopener noreferrer" target="_blank"><span>How to Enable Cross-Account Access to the AWS Management Console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the AWS Security
            Blog.</p></div></div>
      </li><li>
        <p>If you want to restrict the role to users who sign in with multi-factor authentication
          (MFA), select <b>Require MFA</b>. This adds a condition to the role's trust
          policy that checks for an MFA sign-in. A user who wants to assume the role must sign in
          with a temporary one-time password from a configured MFA device. Users without MFA
          authentication cannot assume the role. For more information about MFA, see <a href="./id_credentials_mfa.html">Using multi-factor authentication (MFA) in AWS</a></p>
      </li><li>
        <p>Choose <b>Next</b>.</p>
      </li><li>
        <p>IAM includes a list of the AWS managed and customer managed policies in your
          account. Select the policy to use for the permissions policy or choose <b>Create
            policy</b> to open a new browser tab and create a new policy from scratch. For
          more information, see <a href="./access_policies_create-console.html#access_policies_create-start">Creating IAM policies</a>. After you create the policy, close that
          tab and return to your original tab. Select the check box next to the permissions policies
          that you want anyone who assumes the role to have. If you prefer, you can select no
          policies at this time, and then attach policies to the role later. By default, a role has
          no permissions.</p>
      </li><li>
        <p>(Optional) Set a <a href="./access_policies_boundaries.html">permissions
            boundary</a>. This is an advanced feature. </p>
        <p>Open the <b>Set permissions boundary</b> section and choose <b>Use a
            permissions boundary to control the maximum role permissions</b>. Select the
          policy to use for the permissions boundary.</p>
      </li><li>
        <p>Choose <b>Next</b>.</p>
      </li><li>
        <p>For <b>Role name</b>, enter a name for your role. Role names must be
          unique within your AWS account. They are not distinguished by case. For example, you
          cannot create roles named both <code class="userinput">PRODROLE</code> and
            <code class="userinput">prodrole</code>. Because other AWS resources might reference the role,
          you cannot edit the name of the role after it has been created.</p>
      </li><li>
        <p>(Optional) For <b>Description</b>, enter a description for the new
          role.</p>
      </li><li>
        <p>Choose <b>Edit</b> in the <b>Step 1: Select trusted
            entities</b> or <b>Step 2: Add permissions</b> sections to edit the
          use cases and permissions for the role. </p>
      </li><li>
        <p>(Optional) Add metadata to the role by attaching tags as keyâ€“value pairs. For
          more information about using tags in IAM, see <a href="./id_tags.html">Tagging IAM resources</a>.</p>
      </li><li>
        <p>Review the role and then choose <b>Create role</b>.</p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Remember that this is only the first half of the configuration required. You must
            also give individual users in the trusted account permissions to switch to the role in
            the console, or assume the role programmatically. For more information about this step,
            see <a href="./id_roles_use_permissions-to-switch.html">Granting a user permissions to switch
      roles</a>.</p></div></div>
      </li></ol></div>
   
    <h2 id="roles-creatingrole-user-cli">Creating an IAM role (AWS CLI)</h2>
    <p>Creating a role from the AWS CLI involves multiple steps. When you use the console to create
      a role, many of the steps are done for you, but with the AWS CLI you must explicitly perform
      each step yourself. You must create the role and then assign a permissions policy to the role.
      Optionally, you can also set the <a href="./access_policies_boundaries.html">permissions
        boundary</a> for your role.</p>
    <div class="procedure"><h6>To create a role for cross-account access (AWS CLI)</h6><ol><li>
        <p>Create a role: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/create-role.html">aws iam
            create-role</a></p>
      </li><li>
        <p>Attach a managed permissions policy to the role: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/attach-role-policy.html">aws iam attach-role-policy</a></p>
        <p> or</p>
        <p>Create an inline permissions policy for the role: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/put-role-policy.html">aws iam put-role-policy</a></p>
      </li><li>
        <p>(Optional) Add custom attributes to the role by attaching tags: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/tag-role.html">aws iam tag-role</a></p>
        <p>For more information, see <a href="./id_tags_roles.html#id_tags_roles_procs-cli-api">Managing tags on IAM roles (AWS CLI or
                AWS API)</a>.</p>
      </li><li>
        <p>(Optional) Set the <a href="./access_policies_boundaries.html">permissions
            boundary</a> for the role: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/put-role-permissions-boundary.html">aws iam
            put-role-permissions-boundary</a></p>
        <p>A permissions boundary controls the maximum permissions that a role can have.
          Permissions boundaries are an advanced AWS feature.</p>
      </li></ol></div>
    <p>The following example shows the first two, and most common steps for creating a
      cross-account role in a simple environment. This example allows any user in the
        <code class="code">123456789012</code> account to assume the role and view the
        <code class="code">example_bucket</code> Amazon S3 bucket. This example also assumes that you are using a
      client computer running Windows, and have already configured your command line interface with
      your account credentials and Region. For more information, see <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html">Configuring the AWS Command Line
        Interface</a>.</p>
    <p>In this example, include the following trust policy in the first command when you create
      the role. This trust policy allows users in the <code class="code">123456789012</code> account to
      assume the role using the <code class="code">AssumeRole</code> operation, but only if the user provides MFA
      authentication using the <code class="code">SerialNumber</code> and <code class="code">TokenCode</code> parameters. For
      more information about MFA, see <a href="./id_credentials_mfa.html">Using multi-factor authentication (MFA) in AWS</a>.</p>
    
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
      <span>{</span>
          "Effect": "Allow",
          "Principal": <span>{</span> "AWS": "arn:aws:iam::123456789012:root" },
          "Action": "sts:AssumeRole",
          "Condition": <span>{</span> "Bool": <span>{</span> "aws:MultiFactorAuthPresent": "true" } }
      }
  ]
}</code></pre>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If your <code class="code">Principal</code> element contains the ARN for a specific IAM role or
        user, then that ARN is transformed to a unique principal ID when the policy is saved. This
        helps mitigate the risk of someone escalating their permissions by removing and recreating
        the role or user. You don't normally see this ID in the console because there is also a
        reverse transformation back to the ARN when the trust policy is displayed. However, if you
        delete the role or user, then the principal ID appears in the console because AWS can no
        longer map it back to an ARN. Therefore, if you delete and recreate a user or role
        referenced in a trust policy's <code class="code">Principal</code> element, you must edit the role to
        replace the ARN.</p></div></div>
    <p>When you use the second command, you must attach an existing managed policy to the role.
      The following permissions policy allows anyone who assumes the role to perform only the
        <code class="code">ListBucket</code> action on the <code class="code">example_bucket</code> Amazon S3 bucket.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
      <span>{</span>
          "Effect": "Allow",
          "Action": "s3:ListBucket",
          "Resource": "arn:aws:s3:::example_bucket"
      }
  ]
}</code></pre>
    <p>To create this <code class="code">Test-UserAccess-Role</code> role, you must first save the previous
      trust policy with the name <code class="code">trustpolicyforacct123456789012.json</code> to the
        <code class="code">policies</code> folder in your local <code class="code">C:</code> drive. Then save the previous
      permissions policy as a customer managed policy in your AWS account with the name
        <code class="code">PolicyForRole</code>. You can then use the following commands to create the role and
      attach the managed policy.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="false"># Create the role and attach the trust policy file that allows users in the specified account to assume the role.
$ </code><code class="userinput">aws iam create-role --role-name Test-UserAccess-Role --assume-role-policy-document file://C:\policies\trustpolicyforacct123456789012.json</code>

<code class="code" copy="false"># Attach the permissions policy (in this example a managed policy) to the role to specify what it is allowed to do.
$ </code><code class="userinput">aws iam attach-role-policy --role-name Test-UserAccess-Role --policy-arn arn:aws:iam::123456789012:policy/PolicyForRole</code></code></pre>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Remember that this is only the first half of the configuration required. You must also
        give individual users in the trusted account permissions to switch to the role. For more
        information about this step, see <a href="./id_roles_use_permissions-to-switch.html">Granting a user permissions to switch
      roles</a>.</p></div></div>
    <p>After you create the role and grant it permissions to perform AWS tasks or access AWS
      resources, any users in the <code class="code">123456789012</code> account can assume the role. For
      more information, see <a href="./id_roles_use_switch-role-cli.html">Switching to an IAM role (AWS CLI)</a>.</p>
   
    <h2 id="roles-creatingrole-user-api">Creating an IAM role (AWS API)</h2>
    <p>Creating a role from the AWS API involves multiple steps. When you use the console to
      create a role, many of the steps are done for you, but with the API you must explicitly
      perform each step yourself. You must create the role and then assign a permissions policy to
      the role. Optionally, you can also set the <a href="./access_policies_boundaries.html">permissions boundary</a> for your role.</p>
    <div class="procedure"><h6>To create a role in code (AWS API)</h6><ol><li>
        <p>Create a role: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_CreateRole.html">CreateRole</a></p>
        <p>For the role's trust policy, you can specify a file location.</p>
      </li><li>
        <p>Attach a managed permission policy to the role: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_AttachRolePolicy.html">AttachRolePolicy</a></p>
        <p>or</p>
        <p>Create an inline permission policy for the role: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_PutRolePolicy.html">PutRolePolicy</a></p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Remember that this is only the first half of the configuration required. You must
            also give individual users in the trusted account permissions to switch to the role. For
            more information about this step, see <a href="./id_roles_use_permissions-to-switch.html">Granting a user permissions to switch
      roles</a>.</p></div></div>
      </li><li>
        <p>(Optional) Add custom attributes to the user by attaching tags: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_TagRole.html">TagRole</a></p>
        <p>For more information, see <a href="./id_tags_users.html#id_tags_users_procs-cli-api">Managing tags on IAM users (AWS CLI or
                AWS API)</a>.</p>
      </li><li>
        <p>(Optional) Set the <a href="./access_policies_boundaries.html">permissions
            boundary</a> for the role: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_PutRolePermissionsBoundary.html">PutRolePermissionsBoundary</a></p>
        <p>A permissions boundary controls the maximum permissions that a role can have.
          Permissions boundaries are an advanced AWS feature.</p>
      </li></ol></div>
    <p>After you create the role and grant it permissions to perform AWS tasks or access AWS
      resources, you must grant permissions to users in the account to allow them to assume the
      role. For more information about assuming a role, see <a href="./id_roles_use_switch-role-api.html">Switching to an IAM role (AWS API)</a>.</p>
   
    <h2 id="roles_creatingrole-user-cloudformation">Creating an IAM role
        (AWS CloudFormation)</h2>
    <p>For information about creating an IAM role in AWS CloudFormation, see the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html">resource and property reference</a> and
        <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-role.html#aws-resource-iam-role--examples">examples</a> in the <em>AWS CloudFormation User Guide</em>.</p>
    <p>For more information about IAM templates in AWS CloudFormation, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-iam.html">AWS Identity and Access Management template snippets</a> in the
        <em>AWS CloudFormation User Guide</em>.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./id_roles_create.html">Creating roles</div><div id="next" class="next-link" accesskey="n" href="./id_roles_create_for-service.html">Creating a role for an AWS service</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_create_for-user.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/id_roles_create_for-user.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>