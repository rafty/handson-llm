<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Troubleshooting general IAM issues - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="troubleshoot_general" /><meta name="default_state" content="troubleshoot_general" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="description" content="Diagnose and fix issues that you might encounter when working with AWS Identity and Access Management (IAM)." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Control access to your AWS resources with user identity (authentication) and with policies that define specific permissions (authorization)." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Troubleshooting general IAM issues" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Troubleshooting general IAM issues - AWS Identity and Access Management</title><meta name="pdf" content="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#troubleshoot_general" /><meta name="github" content="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/troubleshoot_general.md" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM user,user,IAM group,group,IAM role,role,permission policy,trust policy,policy,access key,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Troubleshooting IAM",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Troubleshooting general IAM issues",
        "item" : "https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/IAM/latest/UserGuide/iam-ug.pdf#troubleshoot_general" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/iam-user-guide/tree/main/doc_source/troubleshoot_general.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">User Guide</a></div><div id="page-toc-src"><a href="#troubleshoot_general_cant-sign-in">I can't sign in to my AWS
            account</a><a href="#troubleshoot_general_access-keys">I lost my access keys</a><a href="#troubleshoot_general_access-denied-service">I get "access denied" when I
            make a request to an AWS service</a><a href="#troubleshoot_general_access-denied-temp-creds">I get "access denied" when
            I make a request with temporary security credentials</a><a href="#troubleshoot_general_policy-variables-dont-work">Policy variables aren't
            working</a><a href="#troubleshoot_general_eventual-consistency">Changes that I make are not
            always immediately visible</a><a href="#troubleshoot_general_access-denied-delete-mfa">I am not authorized to
            perform: iam:DeleteVirtualMFADevice</a><a href="#troubleshoot_general_securely-create-iam-users">How do I securely create
            IAM users?</a><a href="#troubleshoot_general_resources">Additional resources</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="troubleshoot_general">Troubleshooting general IAM issues</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Use the information here to help you diagnose and fix access-denied or other common issues
      when you work with AWS Identity and Access Management (IAM).</p><div class="highlights" id="inline-topiclist"><h6>Issues</h6><ul><li><a href="#troubleshoot_general_cant-sign-in">I can't sign in to my AWS
            account</a></li><li><a href="#troubleshoot_general_access-keys">I lost my access keys</a></li><li><a href="#troubleshoot_general_access-denied-service">I get "access denied" when I
            make a request to an AWS service</a></li><li><a href="#troubleshoot_general_access-denied-temp-creds">I get "access denied" when
            I make a request with temporary security credentials</a></li><li><a href="#troubleshoot_general_policy-variables-dont-work">Policy variables aren't
            working</a></li><li><a href="#troubleshoot_general_eventual-consistency">Changes that I make are not
            always immediately visible</a></li><li><a href="#troubleshoot_general_access-denied-delete-mfa">I am not authorized to
            perform: iam:DeleteVirtualMFADevice</a></li><li><a href="#troubleshoot_general_securely-create-iam-users">How do I securely create
            IAM users?</a></li><li><a href="#troubleshoot_general_resources">Additional resources</a></li></ul></div>
      <h2 id="troubleshoot_general_cant-sign-in">I can't sign in to my AWS
            account</h2>
      <p>Verify that you have the correct credentials and that you are using the correct method
         to sign in. For more information, see <a href="https://docs.aws.amazon.com/signin/latest/userguide/troubleshooting-sign-in-issues.html">Troubleshooting
            sign-in issues</a> in the <em>AWS Sign-In User Guide</em>.</p>
    
      <h2 id="troubleshoot_general_access-keys">I lost my access keys</h2>
      <p>Access keys consist of two parts:</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><b>The access key identifier</b>. This is not a secret,
               and can be seen in the IAM console wherever access keys are listed, such as on the
               user summary page.</p>
         </li><li class="listitem">
            <p><b>The secret access key</b>. This is provided when you
               initially create the access key pair. Just like a password, it <b><em>cannot be retrieved later</em></b>. If
               you lost your secret access key, then you must create a new access key pair. If you
               already have the <a href="./reference_iam-quotas.html#reference_iam-quotas-entities">maximum number of
                  access keys</a>, you must delete an existing pair before you can create
               another.</p>
         </li></ul></div>
      <p>For more information, see <a href="./id_credentials_access-keys_retrieve.html">Resetting lost or forgotten passwords or
      access keys for AWS</a>.</p>
    
      <h2 id="troubleshoot_general_access-denied-service">I get "access denied" when I
            make a request to an AWS service</h2>
      <div class="itemizedlist">
          
          
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Check if the error message includes the type of policy responsible for denying
               access. For example, if the error mentions that access is denied due to a Service
               Control Policy (SCP), then you can focus on troubleshooting SCP issues. When you know
               the policy type, you can also check for a deny statement or a missing allow on the
               specific action in policies of that policy type. For more information, see <a href="./troubleshoot_access-denied.html">Troubleshooting access denied error
            messages</a>.
               If the error message doesn't mention the policy type responsible for denying access,
               use the rest of the guidelines in this section to troubleshoot further.</p>
         </li><li class="listitem">
            <p>Verify that you have the identity-based policy permission to call the action and
               resource that you have requested. If any conditions are set, you must also meet those
               conditions when you send the request. For information about viewing or modifying
               policies for an IAM user, group, or role, see <a href="./access_policies_manage.html">Managing IAM policies</a>.</p>
         </li><li class="listitem">
            <p>If the AWS Management Console returns a message stating that you're not authorized to perform
               an action, then you must contact your administrator for assistance. Your
               administrator provided you with your sign-in credentials or sign-in link.</p>
            <p>The following example error occurs when the <code class="code">mateojackson</code> IAM user
               attempts to use the console to view details about a fictional
                     <code class="code"><code class="replaceable">my-example-widget</code></code> resource but does not
               have the fictional <code class="code">widgets:<code class="replaceable">GetWidget</code></code>
               permissions.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">User: arn:aws:iam::123456789012:user/mateojackson is not authorized to perform: widgets:<code class="replaceable">GetWidget</code> on resource: <code class="replaceable">my-example-widget</code></code></pre>
            <p>In this case, Mateo must ask his administrator to update his policies to allow
               access to the <code class="code"><code class="replaceable">my-example-widget</code></code> resource
               using the <code class="code">widgets:<code class="replaceable">GetWidget</code></code> action.</p>
         </li><li class="listitem">
            <p>Are you trying to access a service that supports <a href="./access_policies_identity-vs-resource.html">resource-based policies</a>,
               such as Amazon S3, Amazon SNS, or Amazon SQS? If so, verify that the policy specifies you as a
               principal and grants you access. If you make a request to a service within your
               account, either your identity-based policies or the resource-based policies can grant
               you permission. If you make a request to a service in a different account, then both
               your identity-based policies and the resource-based policies must grant you
               permission. To view the services that support resource-based policies, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a>.</p>
         </li><li class="listitem">
            <p>If your policy includes a condition with a key–value pair, review it
               carefully. Examples include the <a href="./reference_policies_condition-keys.html">aws:RequestTag/tag-key</a>
               global condition key, the AWS KMS <a href="https://docs.aws.amazon.com/kms/latest/developerguide/policy-conditions.html#conditions-kms-encryption-context"><code class="code">kms:EncryptionContext:<code class="replaceable">encryption_context_key</code></code></a>,
               and the <code class="code">ResourceTag/<code class="replaceable">tag-key</code></code> condition key
               supported by multiple services. Make sure that the key name does not match multiple
               results. Because condition key names are not case sensitive, a condition that checks
               for a key named <code class="code">foo</code> matches <code class="code">foo</code>, <code class="code">Foo</code>, or
                  <code class="code">FOO</code>. If your request includes multiple key–value pairs with key
               names that differ only by case, then your access might be unexpectedly denied. For
               more information, see <a href="./reference_policies_elements_condition.html">IAM JSON policy elements:
        Condition</a>.</p>
         </li><li class="listitem">
            <p>If you have a <a href="./access_policies_boundaries.html">permissions
                  boundary</a>, verify that the policy that is used for the permissions boundary
               allows your request. If your identity-based policies allow the request, but your
               permissions boundary does not, then the request is denied. A permissions boundary
               controls the maximum permissions that an IAM principal (user or role) can have.
               Resource-based policies are not limited by permissions boundaries. Permissions
               boundaries are not common. For more information about how AWS evaluates policies,
               see <a href="./reference_policies_evaluation-logic.html">Policy evaluation logic</a>.</p>
         </li><li class="listitem">
            <p>If you are signing requests manually (without using the <a href="http://aws.amazon.com/tools/" rel="noopener noreferrer" target="_blank"><span>AWS SDKs</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>), verify that you have
               correctly <a href="https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html">signed the
                  request</a>.</p>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_access-denied-temp-creds">I get "access denied" when
            I make a request with temporary security credentials</h2>
      <div class="itemizedlist">
          
          
          
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>First, make sure that you are not denied access for a reason that is unrelated to
               your temporary credentials. For more information, see <a href="#troubleshoot_general_access-denied-service">I get "access denied" when I
            make a request to an AWS service</a>.</p>
         </li><li class="listitem">
            <p>Verify that the service accepts temporary security credentials, see <a href="./reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a>.</p>
         </li><li class="listitem">
            <p>Verify that your requests are being signed correctly and that the request is
               well-formed. For details, see your <a href="http://aws.amazon.com/tools/" rel="noopener noreferrer" target="_blank"><span>toolkit</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> documentation or <a href="./id_credentials_temp_use-resources.html">Using temporary credentials with AWS
      resources</a>.</p>
         </li><li class="listitem">
            <p>Verify that your temporary security credentials haven't expired. For more
               information, see <a href="./id_credentials_temp.html">Temporary security credentials in IAM</a>. </p>
         </li><li class="listitem">
            <p>Verify that the IAM user or role has the correct permissions. Permissions for
               temporary security credentials are derived from an IAM user or role. As a result,
               the permissions are limited to those that are granted to the role whose temporary
               credentials you have assumed. For more information about how permissions for
               temporary security credentials are determined, see <a href="./id_credentials_temp_control-access.html">Controlling permissions for temporary
    security credentials</a>.</p>
         </li><li class="listitem">
            <p>If you assumed a role, your role session might be limited by session policies.
               When you <a href="./id_credentials_temp_request.html">request temporary security
                  credentials</a> programmatically using AWS STS, you can optionally pass inline or
               managed <a href="./access_policies.html#policies_session">session policies</a>. Session policies
               are advanced policies that you pass as a parameter when you programmatically create a
               temporary credential session for a role. You can pass a single JSON inline session
               policy document using the <code class="code">Policy</code> parameter. You can use the
                  <code class="code">PolicyArns</code> parameter to specify up to 10 managed session policies.
               The resulting session's permissions are the intersection of the role's identity-based
               policies and the session policies. Alternatively, if your administrator or a custom
               program provides you with temporary credentials, they might have included a session
               policy to limit your access.</p>
         </li><li class="listitem">
            <p>If you are a federated user, your session might be limited by session policies.
               You become a federated user by signing in to AWS as an IAM user and then
               requesting a federation token. For more information about federated users, see <a href="./id_credentials_temp_request.html#api_getfederationtoken">GetFederationToken—federation through a custom identity broker</a>. If you
               or your identity broker passed session policies while requesting a federation token,
               then your session is limited by those policies. The resulting session's permissions
               are the intersection of your IAM user identity-based policies and the session
               policies. For more information about session policies, see <a href="./access_policies.html#policies_session">Session policies</a>.</p>
         </li><li class="listitem">
            <p>If you are accessing a resource that has a resource-based policy by using a role,
               verify that the policy grants permissions to the role. For example, the following
               policy allows <code class="code">MyRole</code> from account <code class="code">111122223333</code> to access
                  <code class="code">MyBucket</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Sid": "S3BucketPolicy",
    "Effect": "Allow",
    "Principal": <span>{</span>"AWS": ["arn:aws:iam::111122223333:role/MyRole"]},
    "Action": ["s3:PutObject"],
    "Resource": ["arn:aws:s3:::MyBucket/*"]
  }]
}</code></pre>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_policy-variables-dont-work">Policy variables aren't
            working</h2>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>Verify that all policies that include variables include the following version
               number in the policy: <code class="code">"Version": "2012-10-17"</code>. Without the correct
               version number, the variables are not replaced during evaluation. Instead, the
               variables are evaluated literally. Any policies that don't include variables will
               still work if you include the latest version number.</p>
            <p>A <code class="code">Version</code> policy element is different from a policy version. The
                  <code class="code">Version</code> policy element is used within a policy and defines the
               version of the policy language. A policy version, on the other hand, is created when
               you make changes to a customer managed policy in IAM. The changed policy doesn't
               overwrite the existing policy. Instead, IAM creates a new version of the managed
               policy. To learn more about the <code class="code">Version</code> policy element see <a href="./reference_policies_elements_version.html">IAM JSON policy elements:
        Version</a>. To learn more about policy
               versions, see <a href="./access_policies_managed-versioning.html">Versioning IAM policies</a>.</p>
         </li><li class="listitem">
            <p>Verify that your policy variables are in the right case. For details, see <a href="./reference_policies_variables.html">IAM policy elements: Variables and tags</a>.</p>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_eventual-consistency">Changes that I make are not
            always immediately visible</h2>
      <p>As a service that is accessed through computers in data centers around the world, IAM
         uses a distributed computing model called <a href="https://wikipedia.org/wiki/Eventual_consistency" rel="noopener noreferrer" target="_blank"><span>eventual consistency</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Any
         change that you make in IAM (or other AWS services), including tags used in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_attribute-based-access-control.html">attribute-based
            access control (ABAC)</a>, takes time to become visible from all possible endpoints.
         Some of the delay results from the time it takes to send the data from server to server,
         from replication zone to replication zone, and from Region to Region around the world.
         IAM also uses caching to improve performance, but in some cases this can add time. The
         change might not be visible until the previously cached data times out.</p>
      <p>You must design your global applications to account for these potential delays. Ensure
         that they work as expected, even when a change made in one location is not instantly
         visible at another. Such changes include creating or updating users, groups, roles, or
         policies. We recommend that you do not include such IAM changes in the critical,
         high-availability code paths of your application. Instead, make IAM changes in a separate
         initialization or setup routine that you run less frequently. Also, be sure to verify that
         the changes have been propagated before production workflows depend on them. </p>
      <p>For more information about how some other AWS services are affected by this, consult
         the following resources:</p>
      <div class="itemizedlist">
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><b>Amazon DynamoDB</b>: <a href="https://aws.amazon.com/dynamodb/faqs" rel="noopener noreferrer" target="_blank"><span>What is the consistency model of
                  Amazon DynamoDB?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the <em>DynamoDB FAQ</em>, and <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadConsistency.html">Read Consistency</a> in the
               Amazon DynamoDB Developer Guide.</p>
         </li><li class="listitem">
            <p><b>Amazon EC2</b>: <a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/query-api-troubleshooting.html#eventual-consistency">EC2
                  Eventual Consistency</a> in the <em>Amazon EC2 API Reference</em>.</p>
         </li><li class="listitem">
            <p><b>Amazon EMR</b>: <a href="http://aws.amazon.com/blogs/big-data/ensuring-consistency-when-using-amazon-s3-and-amazon-elastic-mapreduce-for-etl-workflows/" rel="noopener noreferrer" target="_blank"><span>Ensuring Consistency When Using Amazon S3 and Amazon Elastic MapReduce for ETL
                  Workflows</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the AWS Big Data Blog</p>
         </li><li class="listitem">
            <p><b>Amazon Redshift</b>: <a href="https://docs.aws.amazon.com/redshift/latest/dg/managing-data-consistency.html">Managing Data Consistency</a>
               in the <em>Amazon Redshift Database Developer Guide</em></p>
         </li><li class="listitem">
            <p><b>Amazon S3</b>: <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#ConsistencyModel">Amazon S3 Data Consistency
                  Model</a> in the <em>Amazon Simple Storage Service User Guide</em></p>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_access-denied-delete-mfa">I am not authorized to
            perform: iam:DeleteVirtualMFADevice</h2>
      <p>You might receive the following error when you attempt to assign or remove a virtual MFA
         device for yourself or others:</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">User: arn:aws:iam::123456789012:user/Diego is not authorized to perform: iam:DeleteVirtualMFADevice on resource: arn:aws:iam::123456789012:mfa/Diego with an explicit deny</code></pre>
      <p>This could happen if someone previously began assigning a virtual MFA device to a user
         in the IAM console and then cancelled the process. This creates a virtual MFA device for
         the user in IAM but never assigns it to the user. You must delete the existing virtual
         MFA device before you can create a new virtual MFA device with the same device name.</p>
      <p>To fix this issue, an administrator should <b>not</b> edit
         policy permissions. Instead, the administrator must use the AWS CLI or AWS API to delete
         the existing but unassigned virtual MFA device.</p>
      <div class="procedure"><h6>To delete an existing but unassigned virtual MFA device</h6><ol><li>
            <p>View the virtual MFA devices in your account.</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>AWS CLI: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/list-virtual-mfa-devices.html"><code class="code">aws iam
                           list-virtual-mfa-devices</code></a></p>
               </li><li class="listitem">
                  <p>AWS API: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_ListVirtualMFADevices.html"><code class="code">ListVirtualMFADevices</code></a></p>
               </li></ul></div>
         </li><li>
            <p>In the response, locate the ARN of the virtual MFA device for the user you are
               trying to fix.</p>
         </li><li>
            <p>Delete the virtual MFA device.</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>AWS CLI: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/delete-virtual-mfa-device.html"><code class="code">aws
                           iam delete-virtual-mfa-device</code></a></p>
               </li><li class="listitem">
                  <p>AWS API: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_DeleteVirtualMFADevice.html"><code class="code">DeleteVirtualMFADevice</code></a></p>
               </li></ul></div>
         </li></ol></div>
    
      <h2 id="troubleshoot_general_securely-create-iam-users">How do I securely create
            IAM users?</h2>
      <p>If you have employees that require access to AWS, you might choose to create IAM
         users or <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/what-is.html">use IAM Identity Center for authentication</a>. If
         you use IAM, AWS recommends that you create an IAM user and securely communicate the
         credentials to the employee. If you are not physically located next to your employee, use a
         secure workflow to communicate credentials to employees.</p>
      <p>Use the following workflow to securely create a new user in IAM:</p>
      <div class="procedure"><ol><li>
            <p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html">Create a new user</a> using
               the AWS Management Console. Choose to grant AWS Management Console access with an auto-generated password. If
               necessary, select the <b>Users must create a new password at next
                  sign-in</b> check box. Do not add a permissions policy to the user until
               after they have changed their password.</p>
         </li><li>
            <p>After the user is added, copy the sign-in URL, user name, and password for the new
               user. To view the password, choose <b>Show</b>.</p>
         </li><li>
            <p>Send the password to your employee using a secure communications method in your
               company, such as email, chat, or a ticketing system. Separately, provide your users
               with the IAM user console link and their user name. Tell the employee to confirm
               that they can sign in successfully before you will grant them permissions.</p>
         </li><li>
            <p>After the employee confirms, add the permissions that they need. As a security
               best practice, add a policy that requires the user to authenticate using MFA to
               manage their credentials. For an example policy, see <a href="./reference_policies_examples_aws_my-sec-creds-self-manage.html">AWS: Allows
            MFA-authenticated IAM users to manage their own credentials on the My security
            credentials page</a>.</p>
         </li></ol></div>
    
      <h2 id="troubleshoot_general_resources">Additional resources</h2>
      <p>The following resources can help you troubleshoot as you work with AWS.</p>
      <div class="itemizedlist">
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><b><a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/">AWS CloudTrail User Guide</a></b> – Use AWS CloudTrail to track a
               history of API calls made to AWS and store that information in log files. This
               helps you determine which users and accounts accessed resources in your account, when
               the calls were made, what actions were requested, and more. For more information, see
                  <a href="./cloudtrail-integration.html">Logging IAM and AWS STS API calls
      with AWS CloudTrail</a>.</p>
         </li><li class="listitem">
            <p><b><a href="http://aws.amazon.com/premiumsupport/knowledge-center/" rel="noopener noreferrer" target="_blank"><span>AWS Knowledge
                  Center</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></b> – Find FAQs and links to other resources to help
               you troubleshoot issues.</p>
         </li><li class="listitem">
            <p><b><a href="https://console.aws.amazon.com/support/home#/" rel="noopener noreferrer" target="_blank"><span>AWS Support
                     Center</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></b> – Get technical support.</p>
         </li><li class="listitem">
            <p><b><a href="https://aws.amazon.com/premiumsupport/" rel="noopener noreferrer" target="_blank"><span>AWS Premium Support
                     Center</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></b> – Get premium technical support.</p>
         </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./troubleshoot.html">Troubleshooting IAM</div><div id="next" class="next-link" accesskey="n" href="./troubleshoot_access-denied.html">Access denied error messages</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/troubleshoot_general.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/IAM/latest/UserGuide/troubleshoot_general.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>