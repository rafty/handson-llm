<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>篩選使用者內容 - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="user-context-filter" /><meta name="default_state" content="user-context-filter" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" /><meta name="description" content="如何Amazon Kendra根據用戶或他們對文檔的組訪問過濾搜索結果。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="開發人員指南" /><meta name="abstract" content="提供 Amazon Kendra 的概念性概觀。瞭解Amazon Kendra功能，並開始使用主控台、CLI 和 API 編製文件索引。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/user-context-filter.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/user-context-filter.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/user-context-filter.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/user-context-filter.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/user-context-filter.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/user-context-filter.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/user-context-filter.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/user-context-filter.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/user-context-filter.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/user-context-filter.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/user-context-filter.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/user-context-filter.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/user-context-filter.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="開發人員指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="開發人員指南" /><meta id="panorama-serviceConsolePage" value="篩選使用者內容" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>篩選使用者內容 - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#user-context-filter" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,智能搜索,自然語言,index,question,關鍵詞,資料來源,連接器,常見問答集,query,內容篩選,個人化搜尋" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "開發人員指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "搜尋索引",
        "item" : "https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "篩選使用者內容",
        "item" : "https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#user-context-filter" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">開發人員指南</a></div><div id="page-toc-src"><a href="#context-filter-token">按用戶令牌過濾</a><a href="#context-filter-user-incl-datasources">按用戶 ID 和組過濾</a><a href="#context-filter-attribute">依使用者屬性篩選</a><a href="#context-filter-batch">直接新增至索引的文件的使用者前後關聯篩選</a><a href="#context-filter-faq">常見問題集的使用者內容篩選</a><a href="#context-filter-alfresco">適用於露天資料來源的使用者內容篩選</a><a href="#context-filter-s3">Amazon S3資料來源的使用者內容篩選</a><a href="#context-filter-jdbc">資料庫資料來源的使用者內容篩選</a><a href="#context-filter-fsx">Amazon FSx資料來源的使用者內容篩選</a><a href="#context-filter-workdocs">Amazon WorkDocs資料來源的使用者內容篩選</a><a href="#context-filter-box">Box 資料來源的使用者內容篩選</a><a href="#context-filter-confluence">匯流資料來源的使用者內容篩選</a><a href="#context-filter-dropbox">Dropbox 資料來源的使用者上下文篩選</a><a href="#context-filter-github"> GitHub 資料來源的使用者內容篩選</a><a href="#context-filter-google">Google 雲端硬碟資料來源的使用者內容篩選</a><a href="#context-filter-gmail">Gmail 資料來源的使用者內容篩選</a><a href="#context-filter-jira">Jira 資料來源的使用者內容篩選</a><a href="#context-filter-exchange">微軟交換資料來源的使用者內容篩選</a><a href="#context-filter-teams">微軟團隊資料來源的使用者內容篩選</a><a href="#context-filter-onedrive">微軟 OneDrive 資料來源的使用者內容篩選</a><a href="#context-filter-onedrivev2">微軟 OneDrive  2.0 資料來源的使用者內容篩選</a><a href="#context-filter-yammer">微軟 Yammer 資料來源的使用者內容篩選</a><a href="#context-filter-sharepoint-online">微軟 SharePoint 資料來源的使用者內容篩選</a><a href="#context-filter-quip">Quip 資料來源的使用者內容篩選</a><a href="#context-filter-salesforce">Salesforce 資料來源的使用者內容篩選</a><a href="#context-filter-servicenow"> ServiceNow資料來源的使用者內容篩選</a><a href="#context-filter-slack">Slack 資料來源的使用者內容篩選</a><a href="#context-filter-zendesk">Zendesk 資料來源的使用者內容篩選</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="user-context-filter">篩選使用者內容</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>您可以根據使用者或使用者對文件的群組存取權來篩選使用者的搜尋結果。您可以使用使用者權杖、使用者 ID 或使用者屬性來篩選文件。 Amazon Kendra也可以將使用者對應至其群組。您可以選擇用AWS IAM Identity Center (successor to AWS Single Sign-On)作身份存儲/源。</p><p>使用者前後關聯篩選是一種個人化搜尋，具有控制文件存取權的好處。例如，並非所有在公司入口網站中搜尋資訊的團隊都應該存取絕密的公司文件，也不是這些文件與所有使用者相關。只有具備絕密文件存取權的特定使用者或專案團隊群組才能在搜尋結果中看到這些文件。</p><p>將文件編入索引時Amazon Kendra，大多數文件都會擷取對應的存取控制清單 (ACL)。ACL 指定允許或拒絕存取文件的使用者名稱和群組名稱。沒有 ACL 的文件是公開文件。</p><p>Amazon Kendra自動擷取與大多數資料來源中每個文件相關聯的使用者或群組資訊。例如，Quip 中的文檔可以包含具有文檔訪問權限的選定用戶或組的「共享」列表。如果您使用 S3 儲存貯體做為資料來源，則為 ACL 提供 <a href="https://docs.aws.amazon.com/kendra/latest/dg/s3-acl.html">JSON 檔案</a>，並將此檔案的 S3 路徑納入資料來源組態的一部分。如果您直接將文件新增至索引，您可以將<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">主參與者</a>物件中的 ACL 指定為 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API 中文件物件的一部分。</p><p>您可以使用 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateAccessControlConfiguration.html">CreateAccessControlConfiguration</a>API 重新設定現有文件層級的存取控制，而不需要再次編製所有文件的索引。例如，您的索引包含只有特定員工或使用者應存取的絕密公司文件。其中一位使用者離開公司或切換至應封鎖的小組，無法存取絕密文件。使用者仍然可以存取絕密文件，因為使用者可以存取您的文件先前已編製索引。您可以為具有拒絕存取權的使用者建立特定的存取控制組態。您可以稍後更新存取控制組態，以便在使用者返回公司並重新加入「絕密」小組的情況下允許存取。您可以在情況變更時重新設定文件的存取控制。</p><p>若要將存取控制設定套用至特定文件，請呼叫<code class="code">AccessControlConfigurationId</code>包含在 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Document.html">Document</a> 物件中的 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API。如果您使用 S3 儲存貯體做為資料來源，請使用資料來<code class="code">.metadata.json</code>源更新<code class="code">AccessControlConfigurationId</code>並同步處理資料來源。 Amazon Kendra目前僅支援 S3 資料來源和使用<code class="code">BatchPutDocument</code> API 編製索引的文件的存取控制組態。</p>
            <h2 id="context-filter-token">按用戶令牌過濾</h2>
            <p>當您查詢索引時，您可以使用使用者權杖，根據使用者或他們對文件的群組存取權來篩選搜尋結果。當您發出查詢時，Amazon Kendra擷取和驗證 Token、提取並檢查使用者和群組資訊，然後執行查詢。傳回使用者可存取的所有文件 (包括公用文件)。如需詳細資訊，請參閱以字符為<a href="https://docs.aws.amazon.com/kendra/latest/dg/create-index-access-control.html">基礎的使用者存取控制</a>。</p>
            <p>您可以在<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserContext.html">UserContext</a>物件中提供使用者權杖，並在<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">查詢</a> API 中傳遞。</p>
            <p>以下內容會顯示如何包含使用者 Token。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
    QueryText = query,
    IndexId = index,
    UserToken = <span>{</span>
        Token = "<code class="replaceable">token</code>"
    })</code></pre>
            <p>您可以將使用者對應至群組。當您使用使用者內容篩選時，在您發出查詢時，不需要包含使用者所屬的所有群組。使用 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API，您可以將使用者對應至其群組。如果您不想使用<code class="code">PutPrincipalMapping</code> API，則必須在發出查詢時提供使用者名稱和使用者所屬的所有群組。您也可以使用<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>物件，在 IAM 身分中心身分識別來源中擷取群組和使用者的存取層級。</p>
         
            <h2 id="context-filter-user-incl-datasources">按用戶 ID 和組過濾</h2>
            <p>當您查詢索引時，您可以使用使用者 ID 和群組，根據使用者或他們對文件的群組存取權來篩選搜尋結果。當您發出查詢時，請Amazon Kendra檢查使用者和群組資訊並執行查詢。系統會傳回與使用者可存取之查詢相關的所有文件 (包括公用文件)。</p>
            <p>您也可以依使用者和群組可存取的資料來源篩選搜尋結果。如果群組與多個資料來源相關聯，但您只希望群組存取特定資料來源的文件，則指定資料來源非常有用。例如，組「研究」，「工程」和「銷售和市場營銷」都綁定到存儲在數據源匯流和 Salesforce 公司的文檔。不過，「銷售與行銷」團隊只需要存取儲存在 Salesforce 中的客戶相關文件。因此，當銷售和行銷使用者搜尋與客戶相關的文件時，他們可以在搜尋結果中看到 Salesforce 的文件。不從事銷售和行銷工作的使用者在搜尋結果中看不到 Salesforce 文件。</p>
            <p>您可以在<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserContext.html">UserContext</a>物件中提供使用者、群組和資料來源資訊，並在 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Query</a> API 中傳遞此資訊。使用者 ID、群組和資料來源清單應與您在 P <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">rincipal</a> 物件中指定的名稱相符，以識別使用者、群組和資料來源。透過<code class="code">Principal</code>物件，您可以將使用者、群組或資料來源新增至用於存取文件的允許清單或拒絕清單。</p>
            <p>您必須提供下列其中一個：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>使用者和群組資訊，以及 (選用) 資料來源資訊。</p>
                </li><li class="listitem">
                    <p>如果您使用 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API 將使用者對應至群組和資料來源，則只有使用者資訊。您也可以使用<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>物件，在 IAM 身分中心身分識別來源中擷取群組和使用者的存取層級。</p>
                </li></ul></div>
            <p>如果查詢中未包含此資訊，則會Amazon Kendra傳回所有文件。如果您提供此資訊，則只會傳回具有相符使用者 ID、群組和資料來源的文件。</p>
            <p>以下說明如何包含使用者 ID、群組和資料來源。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
    QueryText = query,
    IndexId = index,
    UserId = <span>{</span>
        UserId = "<code class="replaceable">user1</code>"
    },
    Groups = <span>{</span>
        Groups = ["<code class="replaceable">Sales and Marketing</code>"]
    },
    DataSourceGroups = <span>{</span>
        DataSourceGroups = [<span>{</span>"DataSourceId" : "<code class="replaceable">SalesforceCustomerDocsGroup</code>", "GroupId": "<code class="replaceable">Sales and Marketing</code>"}]
    })</code></pre>
         
            <h2 id="context-filter-attribute">依使用者屬性篩選</h2>
            <p>當您查詢索引時，您可以使用內建屬性，<code class="code">_user_id</code>並根據<code class="code">_group_id</code>使用者及其對文件的群組存取權來篩選搜尋結果。您最多可以設定 100 個群組識別碼。當您發出查詢時，請Amazon Kendra檢查使用者和群組資訊並執行查詢。傳回與使用者有權存取之查詢相關的所有文件 (包括公用文件)。</p>
            <p>您可以在<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_AttributeFilter.html">AttributeFilter</a>物件中提供使用者和群組屬性，並在<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">查詢</a> API 中傳遞此屬性。</p>
            <p>下列範例會顯示根據使用者識別碼以及使用者所屬群組「HR」和「IT」群組來篩選查詢回應的要求。查詢會傳回允許清單中具有使用者或「HR」或「IT」群組的任何文件。如果使用者或其中一個群組位於文件的拒絕清單中，則不會傳回文件。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
        QueryText = query,
        IndexId = index,
        AttributeFilter = <span>{</span>
            "OrAllFilters": [
                <span>{</span>
                    "EqualsTo": <span>{</span>
                        "Key": "_user_id",
                        "Value": <span>{</span>
                            "StringValue": "user1"
                        }
                     }
                },
                <span>{</span>
                    "EqualsTo": <span>{</span>
                        "Key": "_group_ids",
                        "Value": <span>{</span>
                            "StringListValue": ["HR", "IT"]
                        }
                    }
                }
            ]
        }
        )</code></pre>
            <p>您也可以指定群組可以在<code class="code">Principal</code>物件中存取的資料來源。</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注意</h6></div><div class="awsdocs-note-text"><p>使用者內容篩選不是內容的驗證或授權控制項。它不會對發送到<code class="code">Query</code> API 的用戶和組進行用戶身份驗證。這取決於您的應用程序，以確保發送到<code class="code">Query</code> API 的用戶和組信息經過身份驗證和授權。</p></div></div>
        <p>每個資料來源都有使用者內容篩選的實作。以下部分描述了每個實現。</p><div class="highlights" id="inline-topiclist"><h6>主題</h6><ul><li><a href="#context-filter-batch">直接新增至索引的文件的使用者前後關聯篩選</a></li><li><a href="#context-filter-faq">常見問題集的使用者內容篩選</a></li><li><a href="#context-filter-alfresco">適用於露天資料來源的使用者內容篩選</a></li><li><a href="#context-filter-s3">Amazon S3資料來源的使用者內容篩選</a></li><li><a href="#context-filter-jdbc">資料庫資料來源的使用者內容篩選</a></li><li><a href="#context-filter-fsx">Amazon FSx資料來源的使用者內容篩選</a></li><li><a href="#context-filter-workdocs">Amazon WorkDocs資料來源的使用者內容篩選</a></li><li><a href="#context-filter-box">Box 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-confluence">匯流資料來源的使用者內容篩選</a></li><li><a href="#context-filter-dropbox">Dropbox 資料來源的使用者上下文篩選</a></li><li><a href="#context-filter-github"> GitHub 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-google">Google 雲端硬碟資料來源的使用者內容篩選</a></li><li><a href="#context-filter-gmail">Gmail 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-jira">Jira 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-exchange">微軟交換資料來源的使用者內容篩選</a></li><li><a href="#context-filter-teams">微軟團隊資料來源的使用者內容篩選</a></li><li><a href="#context-filter-onedrive">微軟 OneDrive 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-onedrivev2">微軟 OneDrive  2.0 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-yammer">微軟 Yammer 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-sharepoint-online">微軟 SharePoint 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-quip">Quip 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-salesforce">Salesforce 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-servicenow"> ServiceNow資料來源的使用者內容篩選</a></li><li><a href="#context-filter-slack">Slack 資料來源的使用者內容篩選</a></li><li><a href="#context-filter-zendesk">Zendesk 資料來源的使用者內容篩選</a></li></ul></div>
            <h2 id="context-filter-batch">直接新增至索引的文件的使用者前後關聯篩選</h2>
            <p>當您使用 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API 直接將文件新增至索引時，Amazon Kendra會從文件的<code class="code">AccessControlList</code>欄位中取得使用者和群組資訊。您為文件提供存取控制清單 (ACL)，且 ACL 會隨您的文件一併擷取。</p>
            <p>您可以在<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">主參與者</a>物件中指定 ACL 做為<code class="code">BatchPutDocument</code> API 中<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Document.html">文件物件</a>的一部分。您會提供下列資訊：</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>使用者或群組應具有的存取權。你可以說<code class="code">ALLOW</code>或<code class="code">DENY</code>。</p>
                </li><li class="listitem">
                    <p>實體類型。你可以說<code class="code">USER</code>或<code class="code">GROUP</code>。</p>
                </li><li class="listitem">
                    <p>使用者或群組的名稱。</p>
                </li></ul></div>
            <p>您可以在<code class="code">AccessControlList</code>欄位中新增最多 200 個項目。</p>
         
            <h2 id="context-filter-faq">常見問題集的使用者內容篩選</h2>
            <p>當您<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateFaq.html">將常見問題集新增</a>至索引時，Amazon Kendra會從常見問題 JSON 檔案的<code class="code">AccessControlList</code>物件/欄位取得使用者和群組資訊。您也可以使用具有自訂欄位或屬性的常見問題解答 CSV 檔案進行存取控制。</p>
            <p>您會提供下列資訊：</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>使用者或群組應具有的存取權。你可以說<code class="code">ALLOW</code>或<code class="code">DENY</code>。</p>
                </li><li class="listitem">
                    <p>實體類型。你可以說<code class="code">USER</code>或<code class="code">GROUP</code>。</p>
                </li><li class="listitem">
                    <p>使用者或群組的名稱。</p>
                </li></ul></div>
            <p>如需詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/kendra/latest/dg/in-creating-faq.html">FAQ 檔案</a>。</p>
         
            <h2 id="context-filter-alfresco">適用於露天資料來源的使用者內容篩選</h2>
            <p>當您使用 Alfresco 資料來源時，Amazon Kendra會從 Alfresco 執行個體取得使用者和群組資訊。</p>
            <p>群組和使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>在有設置訪問權限的文件上，Alfresco 中存在組 ID。它們是從 Alfresco 中的組（不顯示名稱）的系統名稱映射的。</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>用戶 ID 存在於 Alfresco 中，存在於有設置訪問權限的文件上。它們從用戶電子郵件中映射為 Alfresco 中的 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-s3">Amazon S3資料來源的使用者內容篩選</h2>
            <p>您可以使用與文件關聯的中繼Amazon S3資料檔案，將使用者前後關聯篩選新增至資料來源中的文件。您可以將資訊新增至 JSON 文件中的<code class="code">AccessControlList</code>欄位。如需將中繼資料新增至從資Amazon S3料來源編製索引的文件的詳細資訊，請參閱 <a href="https://docs.aws.amazon.com/kendra/latest/dg/s3-metadata.html">S3 文件中繼</a>資料。</p>
            <p>您提供三項資訊：</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>該實體應具有的訪問權限。你可以說<code class="code">ALLOW</code>或<code class="code">DENY</code>。</p>
                </li><li class="listitem">
                    <p>實體類型。你可以說<code class="code">USER</code>或<code class="code">GROUP</code>。</p>
                </li><li class="listitem">
                    <p>實體的名稱。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-jdbc">資料庫資料來源的使用者內容篩選</h2>
            <p>當您使用資料庫資料來源時，例如Amazon Aurora PostgreSQL，Amazon Kendra會從來源資料表中的資料行取得使用者和群組資訊。您可以在<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_AclConfiguration.html">AclConfiguration</a>物件中將此欄指定為 <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateDataSource.html">CreateDataSource</a>API 中<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DatabaseConfiguration.html">DatabaseConfiguration</a>物件的一部分。</p>
            <p>資料庫資料來源具有下列限制：</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>您只能指定資料庫資料來源的允許清單。您無法指定拒絕清單。</p>
                </li><li class="listitem">
                    <p>您只能指定群組。您無法為允許清單指定個別使用者。</p>
                </li><li class="listitem">
                    <p>資料庫欄應該是包含以分號分隔的群組清單的字串。</p>
                </li></ul></div>
         
            <h2 id="context-filter-fsx">Amazon FSx資料來源的使用者內容篩選</h2>
            <p>使用資Amazon FSx料來源時，Amazon Kendra會從Amazon FSx執行個體的目錄服務取得使用者和群組資訊。</p>
            <p>群Amazon FSx組和使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>群組 ID 存在Amazon FSx於具有設定存取權限的檔案中。它們會從的目錄服務中的系統群組名稱對應Amazon FSx。</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>使用者 ID 存在Amazon FSx於具有設定存取權限的檔案中。它們會從的目錄服務中的系統使用者名稱對應Amazon FSx。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-workdocs">Amazon WorkDocs資料來源的使用者內容篩選</h2>
            <p>使用資Amazon WorkDocs料來源時，Amazon Kendra會從Amazon WorkDocs執行個體取得使用者和群組資訊。</p>
            <p>群Amazon WorkDocs組和使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>群組 ID 存在Amazon WorkDocs於具有設定存取權限的檔案中。它們會從中的群組名稱對應Amazon WorkDocs。</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>使用者 ID 存在Amazon WorkDocs於具有設定存取權限的檔案中。它們會從中的使用者名稱對應Amazon WorkDocs。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-box">Box 資料來源的使用者內容篩選</h2>
            <p>使用 Box 資料來源時，Amazon Kendra會從 Box 執行個體取得使用者和群組資訊。</p>
            <p>Box 群組和使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>群組 ID 存在於 Box 中，存在於具有設定存取權限的檔案上。它們是從 Box 中的組的名稱映射的。</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>在有設定存取權限的檔案上，使用者 ID 存在於 Box 中。它們從用戶電子郵件映射為 Box 中的用戶 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-confluence">匯流資料來源的使用者內容篩選</h2>
            <p>當您使用匯流資料來源時，Amazon Kendra會從匯流執行個體取得使用者和群組資訊。</p>
            <p>您可以使用空間權限頁面設定使用者和群組對空間的存取權限。對於頁面和博客，您可以使用限制頁面。如需有關空間權限的詳細資訊，請參閱 Confluence Support 網站上的<a href="https://confluence.atlassian.com/doc/space-permissions-overview-139521.html" rel="noopener noreferrer" target="_blank"><span>空間權限概觀</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。如需有關頁面和部落格限制的詳細資訊，請參閱 Confluence Support 網站上的<a href="https://confluence.atlassian.com/doc/page-restrictions-139414.html" rel="noopener noreferrer" target="_blank"><span>頁面限制</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。</p>
            <p>匯流群組和使用者名稱的對應方式如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>群組名稱會出現在有限制的空間、頁面和部落格上。它們是從匯流組的名稱映射的。群組名稱永遠是小寫。</p>
                </li></ul></div>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>使用者名稱會出現在有限制的空間、頁面或部落格上。它們是根據您正在使用的匯合執行個體的類型進行映射。</p>

                    <p><b>對於匯合連接器 v1.0</b></p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>伺服器-<code class="code">_user_id</code> 是使用者名稱。用戶名總是小寫。</p>
                        </li><li class="listitem">
                            <p>雲端 —<code class="code">_user_id</code> 是使用者的帳戶 ID。</p>
                        </li></ul></div>
                    <p><b>對於匯流連接器 v2.0</b></p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>伺服器-<code class="code">_user_id</code> 是使用者名稱。用戶名總是小寫。</p>
                        </li><li class="listitem">
                            <p>雲端 —<code class="code">_user_id</code> 是使用者的電子郵件 ID。</p>
                        </li></ul></div>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-dropbox">Dropbox 資料來源的使用者上下文篩選</h2>
            <p>當您使用 Dropbox 資料來源時，Amazon Kendra會從 Dropbox 執行個體取得使用者和群組資訊。</p>
            <p>群組和使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— 群組 ID 存在於 Dropbox 中，存在於有設定存取權限的檔案上。它們是從 Dropbox 中的群組名稱對應而來。</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— 使用者 ID 存在於 Dropbox 中，存在於有設定存取權限的檔案上。它們從用戶的電子郵件中映射為 Dropbox 中的 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-github"> GitHub 資料來源的使用者內容篩選</h2>
            <p>使用資 GitHub 料來源時，Amazon Kendra會從執行個 GitHub 體取得使用者資訊。</p>
            <p> GitHub 使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>使用者 ID 存在 GitHub 於具有設定存取權限的檔案中。它們會從使用者電子郵件中對應為中的 ID GitHub。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-google">Google 雲端硬碟資料來源的使用者內容篩選</h2>
            <p>Google 工作區雲端硬碟資料來源會傳回 Google 雲端硬碟使用者和群組的使用者和群組資訊。群組和網域成員資格會對應至索<code class="code">_group_ids</code>引欄位。Google 雲端硬碟使用者名稱會對應至<code class="code">_user_id</code>欄位。</p>
            <p>當您在<code class="code">Query</code> API 中提供一或多個使用者電子郵件地址時，只會傳回與這些電子郵件地址共用的文件。下列<code class="code">AttributeFilter</code>參數只會傳回與「martha@example.com」共用的文件。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_user_id", 
                   "Value": <span>{</span>
                       "StringValue": "martha@example.com"
                   }
               }
           }</code></pre>
            <p>如果您在查詢中提供一或多個群組電子郵件地址，則只會傳回與群組共用的文件。下列<code class="code">AttributeFilter</code>參數只會傳回與「hr@example.com」群組共用的文件。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_group_ids", 
                   "Value": <span>{</span>
                       "StringListValue": ["hr@example.com"]
                   }
               }
           }</code></pre>
            <p>如果您在查詢中提供網域，則會傳回與該網域共用的所有文件。下列<code class="code">AttributeFilter</code>參數會傳回與「example.com」網域共用的文件。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_group_ids", 
                   "Value": <span>{</span>
                       "StringListValue": ["example.com"]
                   }
               }
           }</code></pre>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
            <p></p>
         
            <h2 id="context-filter-gmail">Gmail 資料來源的使用者內容篩選</h2>
            <p>當您使用 Gmail 資料來源時，Amazon Kendra會從 Gmail 執行個體取得使用者資訊。</p>
            <p>使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— 在有設置訪問權限的文件上，用戶 ID 存在於 Gmail 中。它們從用戶電子郵件中映射為 Gmail 中的 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-jira">Jira 資料來源的使用者內容篩選</h2>
            <p>使用 Jira 資料來源時，Amazon Kendra會從 Jira 執行個體取得使用者和群組資訊。</p>
            <p>Jira 使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>在有設定存取權限的檔案上，使用者 ID 存在於 Jira 中。它們從用戶電子郵件中映射為 Jira 中的用戶 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-exchange">微軟交換資料來源的使用者內容篩選</h2>
            <p>Amazon Kendra當網站上的文件編製索引時，會從微軟 Exchange 擷取使用者資訊。使用者資訊取自基礎的微軟 Exchange 主機網站。</p>
            <p>當您使用 Exchange 使用者進行使用者內容篩選時，Amazon Kendra會從微軟 Exchange 執行個體取得使用者資訊。交換 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_tenant_id</code>— 您的 Microsoft 租用戶識別碼是設定每個連接器執行個體所需的全域唯一識別碼。您的承租人識別碼與組織名稱或網域不同，您可以在 Microsoft 帳戶儀表板的 [內容] 區段中找到。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-teams">微軟團隊資料來源的使用者內容篩選</h2>
            <p>Amazon Kendra當網站上的文件編製索引時，會從 Microsoft 小組擷取使用者資訊。使用者資訊取自基礎微軟團隊主機網站。</p>
            <p>當您使用 Teams 使用者進行使用者前後關聯篩選時，Amazon Kendra會從 Microsoft Teams 執行個體取得使用者資訊。團隊承租人識別碼對應如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_tenant_id</code>— 您的 Microsoft 租用戶識別碼是設定每個連接器執行個體所需的全域唯一識別碼。您的承租人識別碼與組織名稱或網域不同，您可以在 Microsoft 帳戶儀表板的 [內容] 區段中找到。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-onedrive">微軟 OneDrive 資料來源的使用者內容篩選</h2>
            <p>Amazon Kendra當 Microsoft 索引網站上的文件 OneDrive時，會從 Microsoft 擷取使用者和群組資訊。使用者和群組資訊取自主控的基礎 Microsoft SharePoint  網站 OneDrive。</p>
            <p>當您使用使用 OneDrive 者或群組進行使用者前後關聯篩選時，請按如下方式計算 ID：</p>
            <div class="orderedlist">
                 
                 
                 
            <ol><li>
                    <p>取得網站名稱。例如：<code class="code">https://host.onmicrosoft.com/sites/siteName.</code></p>
                </li><li>
                    <p>取站點名稱的 MD5 哈希值。例如：<code class="code">430a6b90503eef95c89295c8999c7981</code>。</p>
                </li><li>
                    <p>透過將 MD5 雜湊與垂直列 (|) 和 ID 連接，以建立使用者電子郵件或群組 ID。例如，如果群組名稱為「網站擁有者」，則群組 ID 為：</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|site
                        owners</code>"</code></p>
                    <p>使用者名稱「someone@host.onmicrosoft.com」的使用者識別碼如下：</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|someone@host.onmicrosoft.com</code>"</code></p>
                </li></ol></div>
            <p>當您呼叫<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">查詢</a> API 時，將使用者<code class="code">_user_id</code>或群組 IDAmazon Kendra 做為或<code class="code">_group_ids</code>屬性傳送至。例如，使用群組篩選查詢回應的AWS CLI命令如下所示：</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "430a6b90503eef95c89295c8999c7981|site owners"}
                  }}'</code></pre>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-onedrivev2">微軟 OneDrive  2.0 資料來源的使用者內容篩選</h2>
            <p>微軟 OneDrive  2.0 資料來源會從 OneDrive 存取控制清單 (ACL) 實體傳回區段和頁面資訊。 Amazon Kendra使用 OneDrive承租人網域連線至 OneDrive 執行個體，並可根據區段名稱、頁面類型、檔案名稱、檔案類型和檔案內容進行篩選。</p>

            <p>對於標準物件，<code class="code">_user_id</code>和的使<code class="code">_group_id</code>用方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— 您的微軟 OneDrive 用戶電子郵件 ID 被映射到該<code class="code">_user_id</code>字段。</p>
                </li><li class="listitem">
                    <p><code class="code">_group_id</code>— 您的微軟 OneDrive 群組電子郵件已對應至<code class="code">_group_id</code>欄位。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-yammer">微軟 Yammer 資料來源的使用者內容篩選</h2>
            <p>Amazon Kendra從微軟 Yammer 擷取使用者和群組資訊時，它會在網站上的文件編製索引。使用者和群組資訊取自基礎微軟 Yammer 主機網站。</p>
            <p>當您使用 Yammer 使用者進行使用者內容篩選時，Amazon Kendra會從 Microsoft Yammer 執行個體取得使用者資訊。微軟 Yammer 使用者識別碼對應如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_email_id</code>— 您的 Microsoft 電子郵件 ID 是設定每個連接器執行個體所需的識別碼。您可以在 Microsoft 帳戶儀表板的屬性區段中找到您的電子郵件 ID。</p>
                </li><li class="listitem">
                    <p> <code class="code">_group_id</code>— 群組識別碼存在於具有設定存取權限的微軟 Yammer 執行個體中。它們是從微軟 Yammer 組的名稱映射。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
            <p></p>
         
            <h2 id="context-filter-sharepoint-online">微軟 SharePoint 資料來源的使用者內容篩選</h2>
            <p>Amazon Kendra當 Microsoft 索引網站上的文件 SharePoint時，會從 Microsoft 擷取使用者和群組資訊。若要篩選文件，請在呼叫<code class="code">Query</code> API 時提供使用者和群組資訊。</p>
            <p>若要使用使用者名稱進行篩選，請使用使用者的電子郵件地址。例如，johnstiles@example.com。</p>

            <p>當您使用 SharePoint 群組進行使用者前後關聯篩選時，請依照下列方式計算群組 ID：</p>

            <p><b>對於本地團體</b></p>
            <div class="orderedlist">
                 
                 
                 
            <ol><li>
                    <p>取得網站名稱。例如：<code class="code">https://host.onmicrosoft.com/sites/siteName.</code></p>
                </li><li>
                    <p>採取站點名稱的 SHA256 雜湊。例如：<code class="code">430a6b90503eef95c89295c8999c7981</code>。</p>
                </li><li>
                    <p>透過將 SHA256 雜湊與垂直列 (|) 和群組名稱相連，以建立群組識別碼。例如，如果群組名稱為「網站擁有者」，則群組 ID 為：</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|site
                        owners</code>"</code></p>
                </li></ol></div>
            <p>當您呼叫<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">查詢 API</a> 時，傳送群組識別碼Amazon Kendra做為<code class="code">_group_ids</code>屬性。例如，AWS CLI命令看起來像這樣：</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "430a6b90503eef95c89295c8999c7981|site owners"}
                  }}'</code></pre>

            <p><b>適用於廣告群組</b></p>
            <div class="orderedlist">
                 
            <ol><li>
                    <p>使用 AD 群組 ID 來設定使用者內容。</p>
                </li></ol></div>
            <p>當您呼叫<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">查詢</a> API 時，傳送群組識別碼Amazon Kendra做為<code class="code">_group_ids</code>屬性。例如，AWS CLI命令看起來像這樣：</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "AD group"}
                  }}'</code></pre>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-quip">Quip 資料來源的使用者內容篩選</h2>
            <p>當您使用 Quip 資料來源時，Amazon Kendra會從 Quip 執行個體取得使用者資訊。</p>
            <p>Quip 使用者識別碼的對應方式如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>在有設定存取權限的檔案上，使用者 ID 存在於 Quip 中。它們從用戶電子郵件映射為 Quip 中的 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-salesforce">Salesforce 資料來源的使用者內容篩選</h2>
            <p>Salesforce 資料來源會從 Salesforce 存取控制清單 (ACL) 實體傳回使用者和群組資訊。您可以將使用者內容篩選套用至 Salesforce 標準物件和聊天程式摘要。Salesforce 知識文章無法使用使用者內容篩選。</p>
            <p>對於標準物件，<code class="code">_user_id</code>和的使<code class="code">_group_ids</code>用方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>Salesforce 使用者的使用者名稱。</p>
                </li><li class="listitem">
                    <p><code class="code">_group_ids</code>—</p>
                    <div class="itemizedlist">
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>銷售隊伍的名稱<code class="code">Profile</code></p>
                        </li><li class="listitem">
                            <p>銷售隊伍的名稱<code class="code">Group</code></p>
                        </li><li class="listitem">
                            <p>銷售隊伍的名稱<code class="code">UserRole</code></p>
                        </li><li class="listitem">
                            <p>銷售隊伍的名稱<code class="code">PermissionSet</code></p>
                        </li></ul></div>
                </li></ul></div>
            <p>對於喋喋不休的摘要，<code class="code">_user_id</code>和<code class="code">_group_ids</code>的使用方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>Salesforce 使用者的使用者名稱。只有當項目張貼在使用者的摘要中時才可用。</p>
                </li><li class="listitem">
                    <p><code class="code">_group_ids</code>群組 ID 的使用方式如下。只有在動態消息項目張貼在聊天或協同作業群組時才可使用。</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Chatter 或協同合作群組的名稱。</p>
                        </li><li class="listitem">
                            <p>如果群組是公開的，<code class="code">PUBLIC:ALL</code>.</p>
                        </li></ul></div>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
            
         
            <h2 id="context-filter-servicenow"> ServiceNow資料來源的使用者內容篩選</h2>
            <p>的使用者內容篩選僅支援 TemplateConfiguration  API 和 ServiceNow 連接器 2.0 版。 ServiceNow   ServiceNowConfiguration API 和 ServiceNow 連接器 1.0。不支持用戶上下文過濾。</p>
            <p>使用資 ServiceNow 料來源時，Amazon Kendra會從 ServiceNow 執行個體取得使用者和群組資訊。</p>
            <p>群組和使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>群組 ID 存在 ServiceNow 於具有設定存取權限的檔案中。它們是從中的角色名稱對應而<code class="code">sys_ids</code>來 ServiceNow。</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>使用者 ID 存在 ServiceNow 於具有設定存取權限的檔案中。它們會從使用者電子郵件中對應為中的 ID ServiceNow。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-slack">Slack 資料來源的使用者內容篩選</h2>
            <p>使用 Slack 資料來源時，Amazon Kendra會從 Slack 執行個體取得使用者資訊。</p>
            <p>Slack 使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>Slack 中有使用者 ID 存在於具有設定存取權限的訊息和通道上。它們會從使用者電子郵件對應為 Slack 中的 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
         
            <h2 id="context-filter-zendesk">Zendesk 資料來源的使用者內容篩選</h2>
            <p>使用 Zendesk 資料來源時，Amazon Kendra會從 Zendesk 執行個體取得使用者和群組資訊。</p>
            <p>群組和使用者 ID 的對應方式如下：</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>群組 ID 存在於有設定存取權限的 Zendesk 票證和文章中。它們是從 Zendesk 中的群組名稱進行對映。</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>群組 ID 存在於有設定存取權限的 Zendesk 票證和文章中。它們會從使用者電子郵件對應為 Zendesk 中的 ID。</p>
                </li></ul></div>
            <p>您可以在欄位中新增最多可以在<code class="code">AccessControlList</code>欄位中新增最多可以</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./filtering.html">篩選和平面搜尋</div><div id="next" class="next-link" accesskey="n" href="./query-responses-types.html">查詢回應和回應類型</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>