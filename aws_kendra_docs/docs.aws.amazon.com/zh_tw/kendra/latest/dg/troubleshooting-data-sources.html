<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>對資料來源進行 - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="troubleshooting-data-sources" /><meta name="default_state" content="troubleshooting-data-sources" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="description" content="協助解決使用模擬資料來源時可能遇到的問題。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="開發人員指南" /><meta name="abstract" content="提供 Amazon Kendra 的概念性概觀。瞭解Amazon Kendra功能，並開始使用主控台、CLI 和 API 編製文件索引。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/troubleshooting-data-sources.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="開發人員指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="開發人員指南" /><meta id="panorama-serviceConsolePage" value="對資料來源進行" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>對資料來源進行 - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#troubleshooting-data-sources" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,智能搜索,自然語言,index,question,關鍵詞,資料來源,連接器,常見問答集" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "開發人員指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "故障診斷",
        "item" : "https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "對資料來源進行",
        "item" : "https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#troubleshooting-data-sources" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">開發人員指南</a></div><div id="page-toc-src"><a href="#troubleshooting-data-sources-not-indexed">我的文件沒有編製索引</a><a href="#troubleshooting-data-sources-failed">我的同步工作失敗</a><a href="#troubleshooting-data-sources-sync-job-incomplete">我的同步工作不完整</a><a href="#troubleshooting-data-sources-succeeded-no-indexed-docs">我的同步處理工作成功，但沒有索引文件</a><a href="#troubleshooting-data-sources-file-format-issues">我在同步資料來源時遇到檔案格式問題</a><a href="#troubleshooting-data-sources-sync-time">同步資料來源需要多少時間？</a><a href="#troubleshooting-data-sources-sync-charge">同步資料來源的費用為何？</a><a href="#troubleshooting-data-sources-ec2-error">我收到一個 Amazon EC2 授權錯誤</a><a href="#troubleshooting-data-unable-to-open-s3-links">我無法使用搜索索引鏈接打開我的 Amazon S3 對象</a><a href="#troubleshooting-data-sources-ssl-certificate-access-denied">我收到「使用 SSL 憑證檔案AccessDenied 時」錯誤訊息</a><a href="#troubleshooting-data-sources-sharepoint-authorization-error">我在使用 SharePoint 資料來源時收到授權錯誤</a><a href="#troubleshooting-data-sources-confluence-document-crawling">我的索引不會從我的匯合資料來源抓取文件</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>本文為英文版的機器翻譯版本，如內容有任何歧義或不一致之處，概以英文版為準。</p></awsui-alert><h1 class="topictitle" id="troubleshooting-data-sources">對資料來源進行</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>本節可協助您修正 Amazon Kendra 資料來源的相關問題。</p>
            <h2 id="troubleshooting-data-sources-not-indexed">我的文件沒有編製索引</h2>
            <p>當您將 Kendra 索引與資料來源同步處理時，可能會遇到導致文件無法編製索引的問題。索引分為兩個步驟。首先，檢查資料來源是否有要建立索引的新文件和更新文件，並尋找要從索引中移除的文件。其次，在文檔級別，每個文檔被訪問和索引。</p>
            <p>在這些步驟之一中都可能發生錯誤。資料來源詳細資料頁面的 [<b>同步執行歷</b>程記錄] 區段的主控台中會報告資料來源層級錯誤。同步化工作的狀態可以是「成<b>功</b>」、「未<b>完</b>成」或「<b>失敗</b>」。您也可以查看工作期間編製索引和刪除的文件數目。如果狀態為「<b>失敗</b>」，則「<b>詳細資料</b>」欄中會顯示訊息。</p>
            <p>文件層級錯誤會在 Amazon CloudWatch  日誌中報告。你可以使用 CloudWatch 控制台看到錯誤。</p>
         
            <h2 id="troubleshooting-data-sources-failed">我的同步工作失敗</h2>
            <p>當索引或資料來源中發生組態錯誤時，同步化工作通常會失敗。資料來源的 [詳細資料] 欄中的錯誤訊息會提供有關發生錯誤的資訊。問題通常是索引或資料來源沒有適當的 IAM 許可。錯誤訊息會描述遺失的權限。以下是您可能收到的一些錯誤訊息：</p>

            <p><code class="code">Failed to create log group for job. Please make sure that the IAM role
                    provided has sufficient permissions.</code></p>
            <p>如果您的索引角色沒有使用權限 CloudWatch，則資料來源將無法建立 CloudWatch 記錄檔。如果您收到這個錯誤，您必須新增索引角色的 CloudWatch 權限。</p>

            <p><code class="code">Failed to access S3 file prefix (<code class="replaceable">bucket name</code>)
                    while trying to crawl your metadata files. Please make sure the IAM Role
                        (<code class="replaceable">role ARN</code>) provided has sufficient permissions.
                </code></p>
            <p>當您使用 Amazon S3 資料來源時，Kendra 必須擁有存取包含文件的儲存貯體的權限。您需要新增 Kendra 的權限，才能將儲存貯體讀取至資料來源 IAM 角色。</p>

            <p><code class="code">The provided IAM Role (<code class="replaceable">role ARN</code>) could not be
                    assumed. Please make sure Amazon Kendra is a trusted entity that is allowed to
                    assume the role.</code></p>
            <p>Kendra 需要許可才能擔任索引和資料來源 IAM 角色。您需要將信任原則新增至具有<code class="code">sts:AssumeRole</code>動作權限的角色。</p>

            <p>如需 Kendra 對資料來源建立索引所需的 IAM 政策，請參閱<a href="./iam-roles.html">IAM存取角色Amazon Kendra</a>。</p>
         
            <h2 id="troubleshooting-data-sources-sync-job-incomplete">我的同步工作不完整</h2>
            <p>工作通常在完成資料來源層級程序後不完整，但在文件層級處理期間出現一些錯誤。當工作不完整時，某些文件可能仍然已成功編製索引。對於 Amazon S3 資料來源，不完全的任務通常是由以下原因造成：</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>一或多個文件的中繼資料無效。</p>
                </li><li class="listitem">
                    <p>提交文件進行索引，但至少有一份文件未提交時。</p>
                </li><li class="listitem">
                    <p>提交要從索引中刪除的文件，但至少有一份文件未提交時。</p>
                </li></ul></div>
            <p>若要疑難排解不完整的同步處理工作，請先查看您的 CloudWatch 記錄檔。</p>
            <div class="procedure"><ol><li>
                    <p>從詳細資訊欄中，選擇<b>檢視詳細資料於 CloudWatch</b>。</p>
                </li><li>
                    <p>檢閱錯誤訊息以查看導致文件失敗的原因。</p>
                </li></ol></div>
         
            <h2 id="troubleshooting-data-sources-succeeded-no-indexed-docs">我的同步處理工作成功，但沒有索引文件</h2>
            <p>有時候，索引同步處理工作執行會標示為「<b>成功</b>」，但沒有新文件或更新的文件在您預期的情況下編製索引。可能的原因包括：</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>檢查 CloudWatch <code class="code">DocumentsSubmittedForIndexingFailed</code>量度以查看是否有任何文件無法同步處理。如需詳細資訊，請檢查 CloudWatch 記錄。</p>
                </li><li class="listitem">
                    <p>對於 Amazon S3 資料來源，您可能已經為 Kendra 指定了錯誤的儲存貯體名稱或前置詞。請確定 Kendra 正在使用的值區是包含要編製索引之文件的值區。</p>
                </li><li class="listitem">
                    <p>重新索引未能在先前工作中建立索引的文件時，除非您已變更文件或其關聯的中繼資料檔案，否則 Kendra 不會對其建立索引。</p>
                </li></ul></div>
         
            <h2 id="troubleshooting-data-sources-file-format-issues">我在同步資料來源時遇到檔案格式問題</h2>
            <p>如果您在將檔案新增至資料來源或同步資料來源時遇到檔案格式問題，請確定您的文件類型受 Kendra 支援。如需支援的文件類型清單，Amazon Kendra請參閱<a href="https://docs.aws.amazon.com/kendra/latest/dg/index-document-types.html">文件類型</a>。</p>
            <p>如果您將<code class="code">BatchPutDocument</code> API 與純文字檔案搭配使用，請指定<code class="code">PLAIN_TEXT</code>為內容類型。</p>
         
            <h2 id="troubleshooting-data-sources-sync-time">同步資料來源需要多少時間？</h2>
            <p>如果沒有文件更新，Amazon Kendra 索引的同步時間會隨文件數量成線性成比增加。例如，1,000 份沒有任何更新的文件大約需要 5 分鐘才能同步處理，而 2,000 份文件而沒有任何更新則大約需要 10 分鐘。如果文件有任何更新，則同步時間會根據更新的文件數量而增加。</p>
         
            <h2 id="troubleshooting-data-sources-sync-charge">同步資料來源的費用為何？</h2>
            <p>同步索引時，需要兩分鐘才能預熱並啟用 Amazon EC2 以建立必要的連線。在此過程中，您不會收取任何費用。您的使用量計量器只會在同步工作開始後開始。如需 Kendra 定價的詳細資訊，請參閱 <a href="http://aws.amazon.com/kendra/pricing/" rel="noopener noreferrer" target="_blank"><span><em>Amazon Kendra 定價</em></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。</p>
         
            <h2 id="troubleshooting-data-sources-ec2-error">我收到一個 Amazon EC2 授權錯誤</h2>
            <p>如果在同步虛擬私有雲 (VPC) 資料來源期間發生 Amazon EC2 未經授權的操作錯誤，很可能是您的 VPC IAM 角色缺少必要的許可。請檢查您用於資料來源的 IAM 角色是否具有附加的許可。如需詳細資訊，請參閱<a href="./iam-roles.html#iam-roles-vpc">Virtual private cloud (VPC)IAM 角色</a>。</p>
         
            <h2 id="troubleshooting-data-unable-to-open-s3-links">我無法使用搜索索引鏈接打開我的 Amazon S3 對象</h2>
            <p>您的 Kendra 索引只能存取 Amazon S3 資料來源授予其存取權限的檔案。例如，Kendra 無法修改確定物件是公開還是加密的 Amazon S3 許可。Kendra 也沒有為 Amazon S3 物件建立或傳回已簽署連結的預設許可。如果您想要啟用 Kendra 索引中 Amazon S3 物件的已簽署連結，您有兩種選擇：</p>

            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>在將結果傳回至搜尋頁面之前，您可以使用來源 uri 物件來簽署索引查詢結果。如需此程序的 step-by-step逐步解說，請參閱<a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html"><em>使用預先簽署的 URL 共用物件</em></a>。</p>
                </li><li class="listitem">
                    <p>您可以覆寫 Amazon S3 物件中繼資料來源 uri，並透過連接到 Amazon S3 儲存貯體的 CloudFront 內容交付網路 (CDN) 提供服務。或者，您可以使用 API Gateway 代理端點返回預先簽署的 URL 並重新導向到該端點。</p>
                </li></ul></div>

         
            <h2 id="troubleshooting-data-sources-ssl-certificate-access-denied">我收到「<strong class="errortext"><code>使用 SSL 憑證檔案AccessDenied 時</code></strong>」錯誤訊息</h2>
            <p>如果在將 SSL 憑證與資料來源搭配使用時出現存取遭拒的錯誤，請確定您的 IAM 角色具有存取其指定位置的 SSL 憑證檔案的權限。如果憑證使用AWS KMS金鑰加密，您的 IAM 角色也應具有使用AWS KMS金鑰進行解密的權限。如需詳細資訊，請參閱的身分<a href="https://docs.aws.amazon.com/kms/latest/developerguide/control-access.html"><em>驗證和存取控制AWS KMS</em></a>。</p>

         
            <h2 id="troubleshooting-data-sources-sharepoint-authorization-error">我在使用 SharePoint 資料來源時收到授權錯誤</h2>
            <p>如果您在同步索引與 SharePoint 資料來源時收到授權錯誤，請確認您在中指派了網站管理員角色 SharePoint。</p>
         
            <h2 id="troubleshooting-data-sources-confluence-document-crawling">我的索引不會從我的匯合資料來源抓取文件</h2>
            <p>如果您的 Kendra 索引未在同步處理過程中從 Confluence 資料來源搜索文件，請確認您是 Confluence 中的系統管理員群組的一部分。</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./troubleshooting.html">故障診斷</div><div id="next" class="next-link" accesskey="n" href="./troubleshooting-search-results.html">解決文件搜尋結果的</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/troubleshooting-data-sources.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>