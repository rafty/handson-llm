<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>故障診斷一般 IAM 問題 - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="troubleshoot_general" /><meta name="default_state" content="troubleshoot_general" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="description" content="針對使用 AWS Identity and Access Management (IAM) 時可能遇到的問題進行診斷和修正。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="使用者指南" /><meta name="abstract" content="透過使用者身分 (身分驗證) 和定義特定許可 (授權) 的政策，控制存取您的 AWS 資源。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_general.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="使用者指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="使用者指南" /><meta id="panorama-serviceConsolePage" value="故障診斷一般 IAM 問題" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>故障診斷一般 IAM 問題 - AWS Identity and Access Management</title><meta name="pdf" content="iam-ug.pdf#troubleshoot_general" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,IAM 使用者,使用者,IAM 群組,群組,IAM 角色,角色,許可政策,信任政策,政策,存取金鑰,密碼" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "使用者指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "疑難排解 IAM",
        "item" : "https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "故障診斷一般 IAM 問題",
        "item" : "https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="iam-ug.pdf#troubleshoot_general" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">使用者指南</a></div><div id="page-toc-src"><a href="#troubleshoot_general_cant-sign-in">我無法登入到我的 AWS 帳戶</a><a href="#troubleshoot_general_access-keys">如果遺失存取金鑰</a><a href="#troubleshoot_general_access-denied-service">當我向 AWS 服務發出請求時，出現「存取遭拒」</a><a href="#troubleshoot_general_access-denied-temp-creds">當我使用臨時安全憑證來發出請求時，出現「存取遭拒」</a><a href="#troubleshoot_general_policy-variables-dont-work">政策變數無法運作</a><a href="#troubleshoot_general_eventual-consistency">我所做的變更不一定都會立刻生效</a><a href="#troubleshoot_general_access-denied-delete-mfa">我未獲得授權，不得執行：iam:DeleteVirtualMFADevice</a><a href="#troubleshoot_general_securely-create-iam-users">如何安全地建立 IAM 使用者？</a><a href="#troubleshoot_general_resources">其他資源</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="troubleshoot_general">故障診斷一般 IAM 問題</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>使用此處的資訊，來協助您針對使用 AWS Identity and Access Management (IAM) 時的存取遭拒或其他常見問題進行診斷與修正。</p><div class="highlights" id="inline-topiclist"><h6>問題</h6><ul><li><a href="#troubleshoot_general_cant-sign-in">我無法登入到我的 AWS 帳戶</a></li><li><a href="#troubleshoot_general_access-keys">如果遺失存取金鑰</a></li><li><a href="#troubleshoot_general_access-denied-service">當我向 AWS 服務發出請求時，出現「存取遭拒」</a></li><li><a href="#troubleshoot_general_access-denied-temp-creds">當我使用臨時安全憑證來發出請求時，出現「存取遭拒」</a></li><li><a href="#troubleshoot_general_policy-variables-dont-work">政策變數無法運作</a></li><li><a href="#troubleshoot_general_eventual-consistency">我所做的變更不一定都會立刻生效</a></li><li><a href="#troubleshoot_general_access-denied-delete-mfa">我未獲得授權，不得執行：iam:DeleteVirtualMFADevice</a></li><li><a href="#troubleshoot_general_securely-create-iam-users">如何安全地建立 IAM 使用者？</a></li><li><a href="#troubleshoot_general_resources">其他資源</a></li></ul></div>
      <h2 id="troubleshoot_general_cant-sign-in">我無法登入到我的 AWS 帳戶</h2>
      <p>請驗證您有正確的憑證，並且正在使用正確的方法登入。如需詳細資訊，請參閱《AWS 登入 使用者指南》<em></em> 中的 <a href="https://docs.aws.amazon.com/signin/latest/userguide/troubleshooting-sign-in-issues.html">登入問題故障診斷</a>。</p>
    
      <h2 id="troubleshoot_general_access-keys">如果遺失存取金鑰</h2>
      <p>存取金鑰包含兩個部分：</p>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><b>存取金鑰識別符</b>。識別符是公開的，您可以在列出存取金鑰的任意 IAM 主控台中進行查看，例如使用者摘要頁面。</p>
         </li><li class="listitem">
            <p><b>私密存取金鑰</b>。該金鑰會在您最初建立存取金鑰對時提供。它與密碼一樣，<b><em>之後無法再擷取</em></b>。如果您遺失了私密存取金鑰，則必須建立新的存取金鑰對。如果您已擁有<a href="./reference_iam-quotas.html#reference_iam-quotas-entities">最大數量的存取金鑰</a>，則必須先刪除現有的金鑰對，才能建立另一個。</p>
         </li></ul></div>
      <p>如需更多詳細資訊，請參閱 <a href="./id_credentials_access-keys_retrieve.html">重設 AWS 遺失或遺忘的密碼或存取金鑰</a>。</p>
    
      <h2 id="troubleshoot_general_access-denied-service">當我向 AWS 服務發出請求時，出現「存取遭拒」</h2>
      <div class="itemizedlist">
          
          
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>檢查錯誤訊息是否包含發出拒絕存取的政策類型。例如，如果錯誤提到由於服務控制政策 (SCP) 而拒絕存取，則您可以專注於排除 SCP 問題。當您知道政策類型時，也可以針對該政策類型的政策中的特定動作，檢查是否有拒絕陳述式或缺少允許。如需更多詳細資訊，請參閱 <a href="./troubleshoot_access-denied.html">排查拒絕存取錯誤訊息問題</a>。如果錯誤訊息未提及發出拒絕存取的政策類型，請使用本節中的其餘指導方針進一步疑難排解。</p>
         </li><li class="listitem">
            <p>確任您擁有呼叫所請求之動作和資源的以身分為基礎的政策許可。如果設定了任何條件，還必須在送出請求時滿足這些條件。有關查看或修改用於 IAM 使用者、群組或角色的政策的資訊，請參閱 <a href="./access_policies_manage.html">管理 IAM 政策</a>。</p>
         </li><li class="listitem">
            <p>若 AWS Management Console 返回訊息告知您並未獲得執行動作的授權，您必須聯絡您的管理員以取得協助。您的管理員提供您的登入憑證或登入連結。</p>
            <p>以下範例錯誤的發生情境是 <code class="code">mateojackson</code> IAM 使用者嘗試使用主控台檢視虛構 <code class="code"><code class="replaceable">my-example-widget</code></code> 資源的詳細資訊，但卻沒有虛構 <code class="code">widgets:<code class="replaceable">GetWidget</code></code> 許可。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">User: arn:aws:iam::123456789012:user/mateojackson is not authorized to perform: widgets:<code class="replaceable">GetWidget</code> on resource: <code class="replaceable">my-example-widget</code></code></pre>
            <p>在此情況下，Mateo 必須請求管理員更新他的政策，允許他使用 <code class="code">widgets:<code class="replaceable">GetWidget</code></code> 動作存取 <code class="code"><code class="replaceable">my-example-widget</code></code> 資源。</p>
         </li><li class="listitem">
            <p>您是否試著存取支援<a href="./access_policies_identity-vs-resource.html">以資源為基礎的政策</a>的服務，例如 Amazon S3，Amazon SNS 或 Amazon SQS？ 若是如此，確認政策將您指定為主體，並授與您存取權。如果您要對在您的帳戶中的服務發出請求，則您的以身分為基礎的政策或以資源為基礎的政策中之一可為您授與許可。如果您要對不同帳戶中的服務發出請求，則您的以身分為基礎的政策或以資源為基礎的政策都必須為您授與許可。若要檢視支援以資源為基礎的政策之服務，請參閱 <a href="./reference_aws-services-that-work-with-iam.html">可搭配 IAM 運作的 AWS 服務</a>。</p>
         </li><li class="listitem">
            <p>如果您的政策包含搭配金鑰值組的條件，請仔細地檢閱該條件。範例包括 <a href="./reference_policies_condition-keys.html">aws:RequestTag/tag-key</a> 全域條件金鑰、AWS KMS <a href="https://docs.aws.amazon.com/kms/latest/developerguide/policy-conditions.html#conditions-kms-encryption-context"><code class="code">kms:EncryptionContext:<code class="replaceable">encryption_context_key</code></code></a> 以及多個服務支援的 <code class="code">ResourceTag/<code class="replaceable">tag-key</code></code> 條件金鑰。確定金鑰名稱不符合多個結果。由於條件金鑰名稱不區分大小寫，條件會檢查符合 <code class="code">foo</code>、<code class="code">Foo</code> 或 <code class="code">FOO</code> 且名為 <code class="code">foo</code> 的金鑰。如果您的請求包含多個鍵值組，且其中有鍵名稱只有大小寫不同，則您的存取可能會意外遭拒。如需更多詳細資訊，請參閱 <a href="./reference_policies_elements_condition.html">IAM JSON 政策元素：Condition</a>。</p>
         </li><li class="listitem">
            <p>如果您具有<a href="./access_policies_boundaries.html">許可界限</a>，請確認允許您的請求時之許可界限所使用的政策。如果您的以身分為基礎的政策允許該請求，但您的許可界限不允許，則請求會遭拒絕。許可界限會控制 IAM 主體 (使用者或角色) 可以擁有的許可上限。以資源為基礎的政策不會受到許可界限所限制。許可界限不常見。如需 AWS 如何評估政策的詳細資訊，請參閱 <a href="./reference_policies_evaluation-logic.html">政策評估邏輯</a>。</p>
         </li><li class="listitem">
            <p>如果您是手動簽署請求 (而未使用 <a href="http://aws.amazon.com/tools/" rel="noopener noreferrer" target="_blank"><span>AWS 開發套件</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>)，請確認您已正確地<a href="https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html">簽署請求</a>。</p>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_access-denied-temp-creds">當我使用臨時安全憑證來發出請求時，出現「存取遭拒」</h2>
      <div class="itemizedlist">
          
          
          
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>首先，確定您不是因為與臨時憑證無關的原因而遭拒絕存取。如需更多詳細資訊，請參閱 <a href="#troubleshoot_general_access-denied-service">當我向 AWS 服務發出請求時，出現「存取遭拒」</a>。</p>
         </li><li class="listitem">
            <p>要確認服務是否接受臨時安全憑證，請參閱 <a href="./reference_aws-services-that-work-with-iam.html">可搭配 IAM 運作的 AWS 服務</a>。</p>
         </li><li class="listitem">
            <p>確認您的請求正確簽署且請求的格式也正確。如需詳細資訊，請參閱您的<a href="http://aws.amazon.com/tools/" rel="noopener noreferrer" target="_blank"><span>工具組</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>文件或 <a href="./id_credentials_temp_use-resources.html">搭配使用暫時憑證與 AWS 資源</a>。</p>
         </li><li class="listitem">
            <p>確認您的臨時安全憑證並未過期。如需更多詳細資訊，請參閱 <a href="./id_credentials_temp.html">IAM 中的暫時安全憑證</a>。</p>
         </li><li class="listitem">
            <p>確認 IAM 使用者或角色擁有正確許可。臨時安全性憑證的許可衍生自 IAM 使用者或角色。因此，這些許可僅限於您所擔任臨時憑證之角色所獲得授與的許可。有關如何確定臨時安全憑證的許可的更多資訊，請參閱 <a href="./id_credentials_temp_control-access.html">控制臨時安全安全憑證的許可</a>。</p>
         </li><li class="listitem">
            <p>如果您擔任角色，您的角色工作階段可能受工作階段政策限制。當您使用 AWS STS 以程式設計的方式<a href="./id_credentials_temp_request.html">請求臨時安全憑證</a>時，可以選擇性地傳遞內嵌或受管<a href="./access_policies.html#policies_session">工作階段政策</a>。工作階段政策是一種進階政策，且您會在以程式設計方式建立角色的暫時憑證工作階段時，以參數方式傳遞。您可以使用 <code class="code">Policy</code> 參數傳遞單一 JSON 內嵌工作階段政策文件。您可以使用 <code class="code">PolicyArns</code> 參數，指定多達 10 個受管工作階段政策。所產生工作階段的許可會是角色的以身分為基礎的政策和工作階段政策的交集。或者，如果您的管理員或自訂程式為您提供臨時憑證，他們可能已包含限制您存取的工作階段政策。</p>
         </li><li class="listitem">
            <p>如果您是聯合身分使用者，您的工作階段可能受工作階段政策限制。您透過以 IAM 使用者的身分登入 AWS，然後請求聯合權杖來成為聯合身分使用者。如需有關聯合身分使用者的詳細資訊，請參閱 <a href="./id_credentials_temp_request.html#api_getfederationtoken">GetFederationToken - 透過自訂身分經紀人的聯合</a>。如果您或身分經紀人在請求聯合權杖時傳遞工作階段政策，則您的工作階段會受這些政策限制。所產生工作階段的許可會是 IAM 使用者的以身分為基礎的政策和工作階段政策的交集。如需有關工作階段政策的詳細資訊，請參閱 <a href="./access_policies.html#policies_session">工作階段政策</a>。</p>
         </li><li class="listitem">
            <p>如果您使用角色存取具有以資源為基礎之政策的資源，則請確認政策已授與該角色許可。例如，以下政策允許 <code class="code">MyRole</code> 從帳戶 <code class="code">111122223333</code> 存取 <code class="code">MyBucket</code>。</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Sid": "S3BucketPolicy",
    "Effect": "Allow",
    "Principal": <span>{</span>"AWS": ["arn:aws:iam::111122223333:role/MyRole"]},
    "Action": ["s3:PutObject"],
    "Resource": ["arn:aws:s3:::MyBucket/*"]
  }]
}</code></pre>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_policy-variables-dont-work">政策變數無法運作</h2>
      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>請確認包含變數的所有政策是否在政策中包含以下版本編號：<code class="code">"Version": "2012-10-17"</code>。若沒有正確的版本編號，在評估期間不會替換這些變數。反之，只會從字面上評估這些變數。如果您包含最新的版本編號，則不包含變數的任何政策仍將具有效用。</p>
            <p><code class="code">Version</code> 政策元素與政策版本不同。<code class="code">Version</code> 政策元素是在政策內使用，並定義政策語言的版本。另一方面，政策版本會在您在 IAM 中變更客戶受管政策時建立。變更的政策不會覆寫現有的政策。IAM 反而會建立新版本的受管政策。若要進一步了解 <code class="code">Version</code> 政策元素，請參閱 <a href="./reference_policies_elements_version.html">IAM JSON 政策元素：Version</a>。若要進一步了解政策版本，請參閱 <a href="./access_policies_managed-versioning.html">版本控制 IAM 政策</a>。</p>
         </li><li class="listitem">
            <p>確認您的政策變數為正確的大小寫。如需詳細資訊，請參閱 <a href="./reference_policies_variables.html">IAM 政策元素：變數與標籤</a>。</p>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_eventual-consistency">我所做的變更不一定都會立刻生效</h2>
      <p>作為可透過全球各地資料中心的電腦存取的服務，IAM 採用了稱為<a href="https://wikipedia.org/wiki/Eventual_consistency" rel="noopener noreferrer" target="_blank"><span>最終一致性</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>的分散式運算模式。您在 IAM (或其他 AWS 服務) 中所進行的任何變更，包括在<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_attribute-based-access-control.html">基於屬性的存取控制 (ABAC)</a> 中使用的標籤，均需要一段時間才能出現在所有可能的端點中。部分延遲是由在伺服器之間、複寫區域之間和全球不同地區之間傳送資料所花費的時間造成。IAM 也會使用快取以提升效能，但在某些情況下，這可能會增加時間。直到先前快取的資料逾時後，才能看到變更。</p>
      <p>您設計的全域應用程式必須能夠處理這些可能的延遲問題。確保它們即使在某個位置所做的變更不會立即顯示在另一個位置時，仍能如預期般運作。此類變更包括建立或更新使用者、群組、角色或政策。在應用程式的關鍵、高可用性代碼路徑中，我們不建議進行此類 IAM 變更。而應在不常運作的、單獨的初始化或設定常式中進行 IAM 變更。另外，在生產工作流程套用這些變更之前，請務必確認變更已傳播完畢。</p>
      <p>如需此模式如何影響其他 AWS 服務的詳細資訊，請參閱下列資源：</p>
      <div class="itemizedlist">
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><b>Amazon DynamoDB</b>：<em>DynamoDB 常見問答集</em>中的 <a href="http://aws.amazon.com/dynamodb/faqs" rel="noopener noreferrer" target="_blank"><span>Amazon DynamoDB 的一致性模式是什麼？</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>以及位於 Amazon DynamoDB 開發人員指南中<a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadConsistency.html">讀取一致性</a>。</p>
         </li><li class="listitem">
            <p><b>Amazon EC2</b>：<em>Amazon EC2 API 參考</em>中的 <a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/query-api-troubleshooting.html#eventual-consistency">EC2 最終一致性</a>。</p>
         </li><li class="listitem">
            <p><b>Amazon EMR</b>：AWS 大數據部落格中的<a href="http://aws.amazon.com/blogs/big-data/ensuring-consistency-when-using-amazon-s3-and-amazon-elastic-mapreduce-for-etl-workflows/" rel="noopener noreferrer" target="_blank"><span>在將 Amazon S3 和 Amazon Elastic MapReduce 用於 ETL 工作流程時確保一致性</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
         </li><li class="listitem">
            <p><b>Amazon Redshift</b>：<em> Amazon Redshift 資料庫開發人員指南</em>中的<a href="https://docs.aws.amazon.com/redshift/latest/dg/managing-data-consistency.html">管理資料一致性</a></p>
         </li><li class="listitem">
            <p><b>Amazon S3</b>：<em>Amazon Simple Storage Service 使用者指南</em>中的 <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/Introduction.html#ConsistencyModel">Amazon S3 資料一致性模式</a></p>
         </li></ul></div>
    
      <h2 id="troubleshoot_general_access-denied-delete-mfa">我未獲得授權，不得執行：iam:DeleteVirtualMFADevice</h2>
      <p>當您嘗試為您自己或其他人指派或移除虛擬 MFA 裝置時，您可能會接收到下列錯誤：</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="複製"><awsui-icon name="copy"></awsui-icon></div></div><code class="">User: arn:aws:iam::123456789012:user/Diego is not authorized to perform: iam:DeleteVirtualMFADevice on resource: arn:aws:iam::123456789012:mfa/Diego with an explicit deny</code></pre>
      <p>如果有人先前在 IAM 主控台中開始將虛擬 MFA 裝置指派給使用者的程序又將其取消，就可能發生此錯誤。這會在 IAM 中為該使用者建立虛擬 MFA 裝置，但從未將此裝置指派給該使用者。您必須先刪除現有的虛擬 MFA 裝置，才能使用相同的裝置名稱建立新的虛擬 MFA 裝置。</p>
      <p>若要修正此問題，管理員<b>不應</b>編輯政策許可。管理員反而必須使用 AWS CLI 或 AWS API 刪除現有但未指派的虛擬 MFA 裝置。</p>
      <div class="procedure"><h6>刪除現有但未指派的虛擬 MFA 裝置</h6><ol><li>
            <p>檢視您帳戶中的虛擬 MFA 裝置。</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>AWS CLI: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/list-virtual-mfa-devices.html"><code class="code">aws iam
                           list-virtual-mfa-devices</code></a></p>
               </li><li class="listitem">
                  <p>AWS API：<a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_ListVirtualMFADevices.html"><code class="code">ListVirtualMFADevices</code></a></p>
               </li></ul></div>
         </li><li>
            <p>在回應中，找到您嘗試修正的使用者虛擬 MFA 裝置 ARN。</p>
         </li><li>
            <p>刪除虛擬 MFA 裝置。</p>
            <div class="itemizedlist">
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p>AWS CLI: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/delete-virtual-mfa-device.html"><code class="code">aws
                           iam delete-virtual-mfa-device</code></a></p>
               </li><li class="listitem">
                  <p>AWS API：<a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_DeleteVirtualMFADevice.html"><code class="code">DeleteVirtualMFADevice</code></a></p>
               </li></ul></div>
         </li></ol></div>
    
      <h2 id="troubleshoot_general_securely-create-iam-users">如何安全地建立 IAM 使用者？</h2>
      <p>如果您的員工需要存取 AWS，您可以選擇建立 IAM 使用者或<a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/what-is.html">使用 IAM Identity Center 進行身分驗證</a>。如果您使用 IAM，AWS 建議您建立 IAM 使用者，並安全地將憑證傳達給員工。如果您不在員工旁邊，請使用安全的工作流程將憑證傳達給員工。</p>
      <p>使用下列工作流程可在 IAM 中安全地建立新使用者：</p>
      <div class="procedure"><ol><li>
            <p>使用 AWS Management Console <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html">建立新使用者</a>。選擇以使用自動產生的密碼授與 AWS Management Console 存取權。如有必要，請選取 <b>Users must create a new password at next sign-in</b> (使用者必須在下次登入時建立新密碼) 核取方塊。在使用者變更密碼之前，請勿將許可政策新增至使用者。</p>
         </li><li>
            <p>新增使用者之後，複製新使用者的登入 URL、使用者名稱和密碼。若要檢視密碼，請選擇 <b>Show</b> (顯示)。</p>
         </li><li>
            <p>使用公司內的安全通訊方法，例如電子郵件、聊天或票證系統，將密碼傳送給您的員工。另外，為使用者提供 IAM 使用者主控台連結及其使用者名稱。請員工確認他們可以成功登入，然後再授與他們許可。</p>
         </li><li>
            <p>員工確認之後，新增他們所需的許可。安全最佳實務是新增要求使用者使用 MFA 進行身分驗證以管理其憑證的政策。如需政策範例，請參閱 <a href="./reference_policies_examples_aws_my-sec-creds-self-manage.html">AWS：允許經過 MFA 驗證的 IAM 使用者在 My Security Credentials (我的安全憑證) 頁面上管理其憑證。</a>。</p>
         </li></ol></div>
    
      <h2 id="troubleshoot_general_resources">其他資源</h2>
      <p>以下相關資源可協助您在使用 AWS 時進行故障診斷。</p>
      <div class="itemizedlist">
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><b><a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/">AWS CloudTrail 使用者指南</a></b> – 使用 AWS CloudTrail 追蹤對 AWS 所做的 API 呼叫的歷史記錄，並將該資訊儲存在日誌檔中。這有助於您判斷哪些使用者和帳戶存取帳戶中的資源，何時進行呼叫，請求了哪些動作等等。如需更多詳細資訊，請參閱 <a href="./cloudtrail-integration.html">使用 AWS CloudTrail 記錄 IAM 和 AWS STS API 呼叫</a>。</p>
         </li><li class="listitem">
            <p><b><a href="http://aws.amazon.com/premiumsupport/knowledge-center/" rel="noopener noreferrer" target="_blank"><span>AWS知識中心</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></b> — 尋找常見問答集和其他資源連結，協助您進行故障診斷。</p>
         </li><li class="listitem">
            <p><b><a href="https://console.aws.amazon.com/support/home#/" rel="noopener noreferrer" target="_blank"><span>AWS支援中心</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></b> — 取得技術支援。</p>
         </li><li class="listitem">
            <p><b><a href="http://aws.amazon.com/premiumsupport/" rel="noopener noreferrer" target="_blank"><span>AWSPremium Support 中心</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></b> — 取得付費技術支援。</p>
         </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./troubleshoot.html">疑難排解 IAM</div><div id="next" class="next-link" accesskey="n" href="./troubleshoot_access-denied.html">拒絕存取錯誤訊息</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/troubleshoot_general.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>