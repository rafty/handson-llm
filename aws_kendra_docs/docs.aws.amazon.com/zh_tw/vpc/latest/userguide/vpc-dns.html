<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="zh-TW"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VPC 的 DNS 屬性 - Amazon Virtual Private Cloud</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="vpc-dns" /><meta name="default_state" content="vpc-dns" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" /><meta name="description" content="控制 VPC 的 DNS 支援。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Virtual Private Cloud" /><meta name="guide" content="使用者指南" /><meta name="abstract" content="使用 Amazon VPC 將 AWS 資源啟動至虛擬網路，這是在邏輯上隔離的 AWS 雲端區段。" /><meta name="guide-locale" content="zh_tw" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/vpc-dns.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/vpc-dns.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/vpc-dns.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/vpc-dns.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/vpc-dns.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/vpc-dns.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/vpc-dns.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/vpc-dns.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/vpc-dns.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/vpc-dns.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/vpc-dns.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/vpc-dns.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/vpc-dns.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/vpc-dns.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/vpc-dns.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="x-default" /><meta name="feedback-item" content="VPC" /><meta name="this_doc_product" content="Amazon Virtual Private Cloud" /><meta name="this_doc_guide" content="使用者指南" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'vpc'}"></script><meta id="panorama-serviceSubSection" value="使用者指南" /><meta id="panorama-serviceConsolePage" value="VPC 的 DNS 屬性" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>VPC 的 DNS 屬性 - Amazon Virtual Private Cloud</title><meta name="pdf" content="vpc-ug.pdf#vpc-dns" /><meta name="rss" content="amazon-vpc-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=58" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=http://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" /><meta name="keywords" content="VPC,Amazon VPC,網路,路由表,網際網路閘道,子網路,NAT" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon VPC",
        "item" : "https://docs.aws.amazon.com/vpc/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "使用者指南",
        "item" : "https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Virtual Private Cloud (VPC)",
        "item" : "https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/configure-your-vpc.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "VPC 的 DNS 屬性",
        "item" : "https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/configure-your-vpc.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="vpc-ug.pdf#vpc-dns" target="_blank" rel="noopener noreferrer" title="開啟 PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">文件</a><a href="/vpc/index.html">Amazon VPC</a><a href="what-is-amazon-vpc.html">使用者指南</a></div><div id="page-toc-src"><a href="#AmazonDNS">Amazon DNS 伺服器</a><a href="#vpc-dns-hostnames">DNS 主機名稱</a><a href="#vpc-dns-support">VPC 中的 DNS 屬性</a><a href="#vpc-dns-limits">DNS 配額</a><a href="#vpc-dns-viewing">檢視 EC2 執行個體的 DNS 主機名稱</a><a href="#vpc-dns-updating">檢視和更新 VPC 的 DNS 屬性</a><a href="#vpc-private-hosted-zones">私有託管區域</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="vpc-dns">VPC 的 DNS 屬性</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>網域名稱系統 (DNS) 是一種在網際網路上用於解析為對應 IP 地址的標準名稱。DNS 主機名稱是電腦的唯一絕對名稱；由主機名稱和網域名稱組成。DNS 伺服器會將 DNS 主機名稱解析為對應的 IP 地址。</p><p>公有 IPv4 地址可啟用透過網際網路的通訊，而私有 IPv4 地址可啟用執行個體網路內的通訊。如需更多詳細資訊，請參閱 <a href="./vpc-ip-addressing.html">您 VPC 和子網路的 IP 定址</a>。</p><p>Amazon 為您的 VPC 提供 DNS 伺服器 (<a href="#AmazonDNS">Amazon Route 53 Resolver</a>)。若要改用您自己的 DNS 伺服器，請為 VPC 建立一組新的 DHCP 選項。如需更多詳細資訊，請參閱 <a href="./VPC_DHCP_Options.html">Amazon VPC 中的 DHCP 選項集</a>。</p><div class="highlights" id="inline-topiclist"><h6>內容</h6><ul><li><a href="#AmazonDNS">Amazon DNS 伺服器</a></li><li><a href="#vpc-dns-hostnames">DNS 主機名稱</a></li><li><a href="#vpc-dns-support">VPC 中的 DNS 屬性</a></li><li><a href="#vpc-dns-limits">DNS 配額</a></li><li><a href="#vpc-dns-viewing">檢視 EC2 執行個體的 DNS 主機名稱</a></li><li><a href="#vpc-dns-updating">檢視和更新 VPC 的 DNS 屬性</a></li><li><a href="#vpc-private-hosted-zones">私有託管區域</a></li></ul></div>
    <h2 id="AmazonDNS">Amazon DNS 伺服器</h2>
    <p>Route 53 Resolver (也稱為「Amazon DNS 伺服器」或 "AmazonProvidedDNS") 是內建在 AWS 區域內每個可用區域中的 DNS Resolver 服務。Route 53 Resolver 位於 <code class="code">169.254.169.253</code> (IPv4)、<code class="code">fd00:ec2::253</code> (IPv6) 以及佈建至 VPC+2 的主要私有 IPV4 CIDR 範圍。例如，如果您的 VPC 具有 <code class="code">10.0.0.0/16</code> IPv4 CIDR 和 <code class="code">fd00:ec2::253</code> IPv6 CIDR，則您可以連線位於 <code class="code">169.254.169.253</code> (IPv4)、<code class="code">fd00:ec2::253</code> (IPv6) 或 <code class="code">10.0.0.2</code> (IPv4) 的 Route 53 Resolver。</p>
    <p>當您在 VPC 中啟動執行個體時，我們會為該執行個體提供私有 DNS 主機名稱。如果該執行個體設定了公有 IPv4 地址，且 VPC DNS 屬性已啟用，我們也會提供公有 DNS 主機名稱。</p>
    <p>私有 DNS 主機名稱的格式取決於您在啟動 EC2 執行個體時設定的方式。如需有關私有 DNS 主機名稱類型的詳細資訊，請參閱「<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-naming.html">EC2 執行個體命名</a>」。</p>
    <p>在您 VPC 中的 Amazon DNS 伺服器，會用於解析您在 Route 53 中私有託管區域中指定的 DNS 網域名稱。如需私有託管區域的詳細資訊，請參閱 <em>Amazon Route 53 開發人員指南</em>中的<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-private.html">使用私有託管區域</a>。</p>
    
     
      <h3 id="amazon-dns-rules">規則和考量</h3>
      <p>使用 Amazon DNS 伺服器時，須遵循以下規則和考量。</p>
      <div class="itemizedlist">
         
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>您無法使用網路 ACL 或安全群組來篩選與 Amazon DNS 伺服器往來的流量。</p>
        </li><li class="listitem">
          <p>使用 Hadoop 框架的服務 (如 Amazon EMR)，會請求執行個體解析其完全合格的網域名稱 (FQDN)。在此情況下，如果 <code class="code">domain-name-servers</code> 選項設定為自訂值，則 DNS 解析可能會失敗。若要確保正確解析 DNS，請考慮在您的 DNS 伺服器上新增條件式轉寄站，將針對 <code class="code"><code class="replaceable">region-name</code>.compute.internal</code> 網域的查詢轉送至 Amazon DNS 伺服器。如需詳細資訊，請參閱 <em>Amazon EMR 管理指南</em>中的<a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-vpc-host-job-flows.html">設定 VPC 以託管叢集</a>。</p>
        </li><li class="listitem">
          <p>Windows Server 2008 不允許使用位於本地鏈路地址範圍 (169.254.0.0/16) 內的 DNS 伺服器。</p>
        </li><li class="listitem">
          <p>Amazon Route 53 Resolver 只支援遞迴 DNS 查詢。</p>
        </li></ul></div>
     
   
    <h2 id="vpc-dns-hostnames">DNS 主機名稱</h2>
    <p>當您啟動執行個體時，它始終會接收私有 IPv4 地址和對應至其私有 IPv4 地址的私有 DNS 主機名稱。如果您的執行個體具有公有 IPv4 地址，其 VPC 的 DNS 屬性會決定它是否接收對應於該公有 IPv4 地址的公有 DNS 主機名稱。如需更多詳細資訊，請參閱 <a href="#vpc-dns-support">VPC 中的 DNS 屬性</a>。</p>
    <p>啟用 Amazon 提供的 DNS 伺服器後，會指派 DNS 主機名稱並解析如下。</p>
       
        <h6>私有 IP DNS 名稱 (僅限 IPv4)</h6>   
        <p>您可以使用私有 IP DNS 名稱 (僅限 IPv4) 主機名稱，在相同 VPC 的執行個體之間進行通訊。您可以解析其他 VPC 中其他執行個體的私有 IP DNS 名稱 (僅限 IPv4) 主機名稱，前提是這些執行個體位於同一 AWS 區域，其他執行個體的主機名稱位於 <a href="https://datatracker.ietf.org/doc/html/rfc1918" rel="noopener noreferrer" target="_blank"><span>RFC 1918</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 定義的私有地址空間範圍：<code class="code">10.0.0.0 - 10.255.255.255 (10/8 prefix)</code>、<code class="code">172.16.0.0 - 172.31.255.255 (172.16/12 prefix)</code> 和 <code class="code">192.168.0.0 - 192.168.255.255 (192.168/16 prefix)</code>。</p>
     
     
      <h6>私有資源 DNS 名稱</h6>
      <p>RBN 型 DNS 名稱，可解析為此執行個體選取的 A 和 AAAA DNS 記錄。此 DNS 主機名稱會顯示在雙堆疊和僅限 IPv6 子網中執行個體的執行個體詳細資訊中。如需有關 RBN 的詳細資訊，請參閱「<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-naming.html">EC2 執行個體主機名稱類型</a>」。</p>
     
       
        <h6>公有 IPv4 DNS</h6>
          <p>公有 (外部) IPv4 DNS 主機名稱會對 <code class="code">us-east-1</code> 區域採用 <code class="code">ec2-<code class="replaceable">public-ipv4-address</code>.compute-1.amazonaws.com</code> 格式，對其他區域則採用 <code class="code">ec2-<code class="replaceable">public-ipv4-address</code>.<code class="replaceable">region</code>.compute.amazonaws.com</code> 格式。Amazon DNS 伺服器可將公有 DNS 主機名稱解析為執行個體網路外部的執行個體公有 IPv4 地址，以及執行個體網路內部的執行個體私有 IPv4 地址。如需詳細資訊，請參閱《<em>適用於 Linux 執行個體的 Amazon EC2 使用者指南</em>》中的「<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses">公有 IPv4 地址和外部 DNS 主機名稱</a>」。</p>
       
   
    <h2 id="vpc-dns-support">VPC 中的 DNS 屬性</h2>
    
    <p>下列 VPC 屬性會決定為您的 VPC 提供的 DNS 支援。如果啟用兩個屬性，則在 VPC 中啟動的執行個體會收到公有 DNS 主機名稱 (如果在建立時被指派公有 IPv4 地址或彈性 IP 地址)。如果您對 VPC 啟用兩個屬性 (原本並未啟用)，則已在 VPC 中啟動的執行個體會收到公有 DNS 主機名稱 (如果其具備公有 IPv4 地址或彈性 IP 地址)。</p>
     <p>若要確認您的 VPC 是否啟用這些屬性，請參閱 <a href="#vpc-dns-updating">檢視和更新 VPC 的 DNS 屬性</a>。</p>
      <div class="table-container"><div class="table-contents"><table id="w282aac13c19c15b7"><thead>
            <tr>
              <th>屬性</th>
              <th>描述</th>
            </tr>
          </thead>
            <tr>
              <td><code class="code">enableDnsHostnames</code></td>
              <td>
                <p>判斷 VPC 是否支援將公有 DNS 主機名稱指派給具有公有 IP 地址的執行個體。</p>
                <p>此屬性的預設值為 <code class="code">false</code>，除非 VPC 為預設 VPC。</p>
                
              </td>
            </tr>
            <tr>
              <td><code class="code">enableDnsSupport</code></td>
              <td>
                <p>確定 VPC 是否支援透過 Amazon 提供的 DNS 伺服器進行 DNS 解析。</p>
                <p>如果此屬性為 <code class="code">true</code>，對 Amazon 提供的 DNS 伺服器的查詢成功。如需更多詳細資訊，請參閱 <a href="#AmazonDNS">Amazon DNS 伺服器</a>。</p>
                <p>此屬性的預設值為 <code class="code">true</code>。</p>
              </td>
            </tr>
          </table></div></div>
    
    <div class="itemizedlist">
          <h6>規則和考量</h6>
           
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>如果這兩個屬性都設定為 <code class="code">true</code>，會發生下列情況：</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>具有公有 IP 地址的執行個體會收到對應的公有 DNS 主機名稱。</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53 Resolver 伺服器可以解析 Amazon 提供的私有 DNS 主機名稱。</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>如果至少一個屬性設定為 <code class="code">false</code>，將發生以下情況：</p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>具有公有 IP 地址的執行個體不會收到對應的公有 DNS 主機名稱。</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53 Resolver 無法解析 Amazon 提供的私有 DNS 主機名稱。</p>
                    </li><li class="listitem">
                        <p>如果 <a href="./VPC_DHCP_Options.html">DHCP 選項集</a>中有自訂網域名稱，則執行個體會收到自訂私有 DNS 主機名稱。如果您未使用 Amazon Route 53 Resolver 伺服器，您的自訂網域名稱伺服器就必須視需要解析主機名稱。</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>如果您使用 Amazon Route 53 中私有託管區域中定義的自訂 DNS 網域名稱，或使用具有介面 VPC 端點的私有 DNS (AWS PrivateLink)，則必須將 <code class="code">enableDnsHostnames</code> 和 <code class="code">enableDnsSupport</code> 屬性皆設為 <code class="code">true</code>。</p>
            </li><li class="listitem">
                <p>Amazon Route 53 Resolver 可針對所有地址空間將私有 DNS 主機名稱解析為私有 IPv4 地址，包括當 VPC 的 IPv4 地址範圍不在 <a href="https://tools.ietf.org/html/rfc1918" rel="noopener noreferrer" target="_blank"><span>RFC 1918</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 指定之私有 IPv4 地址範圍內的情況。但是，如果您的 VPC 是在 2016 年 10 月之前建立，當 VPC 的 IPv4 地址範圍超出這些範圍時，Amazon Route 53 Resolver 就無法解析私有 DNS 主機名稱。若要啟用這項支援，請聯絡 <a href="http://aws.amazon.com/contact-us/" rel="noopener noreferrer" target="_blank"><span>AWS Support</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。</p>
            </li><li class="listitem">
              <p>如果您使用 VPC 對等互連，則必須為兩個 VPC 來啟用這兩個屬性，並且必須為對等互連啟用 DNS 解析。如需詳細資訊，請參閱<a href="https://docs.aws.amazon.com/vpc/latest/peering/modify-peering-connections.html#vpc-peering-dns">啟用 VPC 對等互連的 DNS 解析</a>。</p>
            </li></ul></div>
   
        <h2 id="vpc-dns-limits">DNS 配額</h2>
         <p>每個 EC2 執行個體會將每個網路介面每秒 1024 個封包傳送至 Route 53 Resolver (亦即 .2 地址，例如 10.0.0.2 和 169.254.169.253)。此配額無法增加。依據查詢類型、回應大小以及使用的通訊協定而異，Route 53 Resolver 支援的每秒 DNS 查詢數目也不同。如需詳細資訊和可擴展的 DNS 架構建議，請參閱《<a href="https://d1.awsstatic.com/whitepapers/aws-hybrid-dns-with-active-directory.pdf" rel="noopener noreferrer" target="_blank"><span>AWS 混合 DNS 與 Active Directory</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 技術指南》。</p> 
    <p>如果您達到配額限制，Route 53 Resolver 會拒絕流量。達到配額限制的一些原因可能是 DNS 調節問題，或使用 Route 53 Resolver 網路介面的執行個體中繼資料查詢。如需關於如何解決 VPC DNS 節流問題的資訊，請參閱<a href="http://aws.amazon.com/premiumsupport/knowledge-center/vpc-find-cause-of-failed-dns-queries/" rel="noopener noreferrer" target="_blank"><span>如何判斷我向 Amazon 提供之 DNS 伺服器的 DNS 查詢是否會因 VPC DNS 節流而失敗</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>。如需有關執行個體中繼資料擷取的資訊，請參閱《<em>適用於 Linux 執行個體的 Amazon EC2 使用者指南</em>》中的「<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html">擷取執行個體中繼資料</a>」。</p>
   
    <h2 id="vpc-dns-viewing">檢視 EC2 執行個體的 DNS 主機名稱</h2>
    
    <p>您可以使用 Amazon EC2 主控台或命令列，檢視運作中執行個體或網路介面的 DNS 主機名稱。</p>
    <p>與執行個體相關聯的 VPC 啟用 DNS 選項時，就可以使用 <b>Public DNS (IPv4) (公有 DNS (IPv4))</b> 和 <b>Private DNS (私有 DNS)</b> 欄位。如需更多詳細資訊，請參閱 <a href="#vpc-dns-support">VPC 中的 DNS 屬性</a>。</p>

     
      <h3 id="instance-dns">執行個體</h3>
      
      <div class="procedure"><h6>使用主控台檢視執行個體的 DNS 主機名稱</h6><ol><li><p>在 <a href="https://console.aws.amazon.com/ec2/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/ec2/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 開啟 Amazon EC2 主控台。</p></li><li><p>在導覽窗格中，選擇 <b>Instances</b> (執行個體)。</p></li><li><p>從清單選取執行個體。</p></li><li>
          <p>在詳細資訊窗格中，<b>Public DNS (IPv4) (公有 DNS (IPv4))</b> 和 <b>Private DNS (私有 DNS)</b> 欄位會顯示 DNS 主機名稱 (如適用)。</p>
        </li></ol></div>
      
      <div class="itemizedlist">
        <h6>使用命令列檢視執行個體的 DNS 主機名稱</h6>
        <p>您可以使用下列其中一個命令。如需關於這些命令列介面的詳細資訊，請參閱 <a href="./what-is-amazon-vpc.html#VPCInterfaces">使用 Amazon VPC</a>。</p>
         
         
      <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html">describe-instances</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Instance.html">Get-EC2Instance</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
     
    
     
      <h3 id="eni-dns">網路介面</h3>
      
      <div class="procedure"><h6>使用主控台檢視網路介面的私有 DNS 主機名稱</h6><ol><li><p>在 <a href="https://console.aws.amazon.com/ec2/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/ec2/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 開啟 Amazon EC2 主控台。</p></li><li><p>在導覽窗格中，選擇 <b>Network Interfaces</b> (網路介面)。</p></li><li><p>從清單選取網路介面。</p></li><li>
          <p>在詳細資訊窗格中，<b>Private DNS (IPv4) (私有 DNS (IPv4))</b> 欄位會顯示私有 DNS 主機名稱。</p>
        </li></ol></div>
      
      <div class="itemizedlist">
        <h6>使用命令列檢視網路介面的 DNS 主機名稱</h6>
        <p>您可以使用下列其中一個命令。如需關於這些命令列介面的詳細資訊，請參閱 <a href="./what-is-amazon-vpc.html#VPCInterfaces">使用 Amazon VPC</a>。</p>
         
         
      <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-network-interfaces.html">describe-network-interfaces</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2NetworkInterface.html">Get-EC2NetworkInterface</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
     
            
   
    <h2 id="vpc-dns-updating">檢視和更新 VPC 的 DNS 屬性</h2>
    
    <p>您可以使用 Amazon VPC 主控台檢視和更新 VPC 的 DNS 支援屬性。</p>
    
    <div class="procedure"><h6>使用主控台來說明和更新 VPC 的 DNS 支援屬性</h6><ol><li><p>在 <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 開啟 Amazon VPC 主控台。</p></li><li><p>在導覽窗格中，選擇 <b>Your VPCs</b> (您的 VPC)。</p></li><li><p>選取 VPC 的核取方塊。</p></li><li>
        <p>檢閱<b>詳細資訊</b>中的資訊。在此範例中，<b>DNS 主機名稱</b>及 <b>DNS 解析</b>均已啟用。</p>
          <div class="mediaobject">
             
              <img src="images/dns-settings.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;              DNS Settings (DNS 設定) 標籤&#xA;            " />
             
             
          </div>
      </li><li>
    		<p>若要更新這些設定，請選擇 <b>Actions</b> (動作)，然後選擇 <b>Edit VPC settings</b> (編輯 VPC 設定)。在適當的 DNS 屬性上選取或清除 <b>Enable</b> (啟用)，然後選擇 <b>Save changes</b> (儲存變更)。</p>
    	</li></ol></div>

    <div class="itemizedlist">
      <h6>使用命令列說明 VPC 的 DNS 支援</h6>
      <p>您可以使用下列其中一個命令。如需關於這些命令列介面的詳細資訊，請參閱 <a href="./what-is-amazon-vpc.html#VPCInterfaces">使用 Amazon VPC</a>。</p>
       
       
    <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-vpc-attribute.html">describe-vpc-attribute</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2VpcAttribute.html">Get-EC2VpcAttribute</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
    
    <div class="itemizedlist">
      <h6>使用命令列更新 VPC 的 DNS 支援</h6>
      <p>您可以使用下列其中一個命令。如需關於這些命令列介面的詳細資訊，請參閱 <a href="./what-is-amazon-vpc.html#VPCInterfaces">使用 Amazon VPC</a>。</p>
       
       
    <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-vpc-attribute.html">modify-vpc-attribute</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2VpcAttribute.html">Edit-EC2VpcAttribute</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
        
   
	  <h2 id="vpc-private-hosted-zones">私有託管區域</h2>
		
		<p>如果您想要使用自訂 DNS 網域名稱 (如 <code>example.com</code>) 而不使用私有 IPv4 地址或 AWS 提供的私有 DNS 主機名稱來存取 VPC 中的資源，您可以在 Route 53 中建立私有託管區域。私有託管區域是一種容器，其中包含的資訊說明您可以如何在一或多個 VPC 中路由某個網域及其子網域的流量，而不用將資源公開至網際網路。接著，您可以建立 Route 53 資源紀錄集，以決定 Route 53 如何回應網域和子網域的查詢。舉例來說，如果您想將 example.com 的瀏覽器請求路由至 VPC 中的 Web 伺服器，您可以在私有託管區域中建立 A 記錄，然後指定該 Web 伺服器的 IP 地址。如需如何建立私有託管區域的詳細資訊，請參閱 <em>Amazon Route 53 開發人員指南</em>中的<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-private.html">使用私有託管區域</a>。</p>
		<p>若要使用自訂 DNS 網域名稱來存取資源，您必須連線至 VPC 內的執行個體。您可以在執行個體中使用 <code class="code">ping</code> 命令 (例如 <code class="code">ping mywebserver.example.com</code>)，來測試私有託管區域中的資源是否可透過其自訂 DNS 名稱來存取。(您必須確認執行個體的安全群組允許傳入 ICMP 流量，<code class="code">ping</code> 命令才能運作。)</p>
    <p>私有託管區域將無法支援 VPC 之外的轉移關係；這樣一來，您就無法使用資源的自訂私有 DNS 名稱從 VPN 連線另一端存取資源。</p>
		<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>如果您使用在 Amazon Route 53 私有託管區域中定義的自訂 DNS 網域名稱，則必須將 <code class="code">enableDnsHostnames</code> 和 <code class="code">enableDnsSupport</code> 屬性設定為 <code class="code">true</code>。</p></div></div>
	<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>您的瀏覽器已停用或無法使用 Javascript。</strong></p><p>您必須啟用 Javascript，才能使用 AWS 文件。請參閱您的瀏覽器說明頁以取得說明。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">文件慣用形式</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./DHCPOptionSet.html">使用 DHCP 選項集</div><div id="next" class="next-link" accesskey="n" href="./network-address-usage.html">網路地址使用</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">此頁面是否有幫助？ - 是</div><div class="content"><p>感謝您，讓我們知道我們做得很好！</p><p>若您有空，歡迎您告知我們值得讚許的地方，這樣才能保持良好服務。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">此頁面是否有幫助？ - 否</div><div class="content"><p>感謝讓我們知道此頁面仍須改善。很抱歉，讓您失望。</p><p>若您有空，歡迎您提供改善文件的方式。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="意見回饋" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>