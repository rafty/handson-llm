<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Create an integration with an event source outside of AWS - AWS CloudTrail</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="query-event-data-store-integration" /><meta name="default_state" content="query-event-data-store-integration" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-integration.html" /><meta name="description" content="You can use CloudTrail to log and store user activity data from any source in your hybrid environments, such as in-house or SaaS applications hosted on-premises or in the cloud, virtual machines, or containers. You can store, access, analyze, troubleshoot and take action on this data without maintaining multiple log aggregators and reporting tools." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudTrail" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Get a history of actions taken by a user, role, or an AWS service account with AWS CloudTrail." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-integration.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/query-event-data-store-integration.html" hreflang="x-default" /><meta name="feedback-item" content="CloudTrail" /><meta name="this_doc_product" content="AWS CloudTrail" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudtrail'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Create an integration with an event source outside of AWS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Create an integration with an event source outside of AWS - AWS CloudTrail</title><meta name="pdf" content="/pdfs/awscloudtrail/latest/userguide/awscloudtrail-ug.pdf#query-event-data-store-integration" /><meta name="github" content="https://github.com/awsdocs/aws-cloudtrail-user-guide/tree/master/doc_source/query-event-data-store-integration.md" /><meta name="rss" content="aws-cloudtrail-document-history.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=168" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=http://docs.aws.amazon.com/en_us/awscloudtrail/latest/userguide/query-event-data-store-integration.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/awscloudtrail/latest/userguide/query-event-data-store-integration.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/awscloudtrail/latest/userguide/query-event-data-store-integration.html" /><meta name="keywords" content="CloudTrail,Trail" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudTrail",
        "item" : "https://docs.aws.amazon.com/cloudtrail/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/awscloudtrail/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with AWS CloudTrail Lake",
        "item" : "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-lake.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Create an integration with an event source outside of AWS",
        "item" : "https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-lake.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/awscloudtrail/latest/userguide/awscloudtrail-ug.pdf#query-event-data-store-integration" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/aws-cloudtrail-user-guide/tree/master/doc_source/query-event-data-store-integration.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/cloudtrail/index.html">AWS CloudTrail</a><a href="cloudtrail-user-guide.html">User Guide</a></div><div id="page-toc-src"><a href="#query-event-data-store-integration-partner">Create an integration with a CloudTrail partner</a><a href="#query-event-data-store-integration-custom">Create a custom integration</a><a href="#cloudtrail-lake-partner-information">Additional information about integration partners</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="query-event-data-store-integration">Create an integration with an event
                source outside of AWS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can use CloudTrail to log and store user activity data from any source in your hybrid
        environments, such as in-house or SaaS applications hosted on-premises or in the cloud,
        virtual machines, or containers. You can store, access, analyze, troubleshoot and take
        action on this data without maintaining multiple log aggregators and reporting tools.
        </p><p>Activity events from non-AWS sources work by using <em>channels</em> to
        bring events into CloudTrail Lake from external partners that work with CloudTrail, or from your own
        sources. When you create a channel, you choose one or more event data stores to store
        events that arrive from the channel source. You can change the destination event data
        stores for a channel as needed, as long as the destination event data stores are set to
        log <code class="code">eventCategory="ActivityAuditLog"</code> events. When you create a channel for
        events from an external partner, you provide a channel ARN to the partner or
        source application. The resource policy attached to the channel allows 
        the source to transmit events through the channel. If a channel does not have a resource policy, 
        only the channel owner can call the <code class="code">PutAuditEvents</code> API on the channel.</p><p>CloudTrail has partnered with many event source providers, such as Okta and LaunchDarkly. 
        When you create an integration with an event source outside AWS, you can
        choose one of these partners as your event source, or choose <b>My custom
            integration</b> to integrate events from your own sources into CloudTrail. 
        A maximum of one channel is allowed per source.</p><p>There are two types of integrations: direct and
        solution. With direct integrations, the partner calls the <code class="code">PutAuditEvents</code>
        API to deliver events to the event data store for your AWS account. With solution
        integrations, the application runs in your AWS account and the application calls the
        <code class="code">PutAuditEvents</code> API to deliver events to the event data store for your
        AWS account.</p><p>From the <b>Integrations</b> page, you can choose the <b>Available
                sources</b> tab to the view the <b>Integration type</b>
            for partners.</p><div class="mediaobject">
         
            <img src="/images/awscloudtrail/latest/userguide/images/partner-integration-type.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            Partner integration type&#xA;        " style="max-width:100%" />
         
         
    </div><p>To get started, create an integration to log events from partner or other application
        sources using the CloudTrail console.</p><div class="highlights"><h6>Topics</h6><ul><li><a href="#query-event-data-store-integration-partner">Create an integration with a CloudTrail partner</a></li><li><a href="#query-event-data-store-integration-custom">Create a custom integration</a></li><li><a href="#cloudtrail-lake-partner-information">Additional information about integration partners</a></li><li><a href="./query-integration-event-schema.html">CloudTrail Lake integrations event
                    schema</a></li></ul></div>
            <h2 id="query-event-data-store-integration-partner">Create an integration with a CloudTrail partner</h2>
            
            <p>When you create an integration with an event source outside AWS, you can
                choose one of these partners as your event source. When you create an integration in
                CloudTrail with a partner application, the partner needs the Amazon Resource Name (ARN) of
                the channel that you create in this workflow to send events to CloudTrail. After you create the
                integration, you finish configuring the integration by following the partner's
                instructions to provide the required channel ARN to the partner. The integration starts
                ingesting partner events into CloudTrail after the partner calls <code class="code">PutAuditEvents</code> 
                on the integration's channel.</p>
            <div class="procedure"><ol><li> <p>Sign in to the AWS Management Console and open the CloudTrail console at
         <a href="https://console.aws.amazon.com/cloudtrail/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudtrail/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> </li><li>
                    <p>
                        From the navigation pane, under <b>Lake</b>, choose <b>Integrations</b>.
                    </p>
                </li><li>
                    <p>On the <b>Add integration</b> page, enter a name for your
                        channel. The name can be 3-128 characters. Only letters, numbers, periods,
                        underscores, and dashes are allowed.</p>
                </li><li>
                    <p>Choose the partner application source from which you want to get events. If you're integrating with
                        events from your own applications hosted on-premises or in the cloud, choose
                        <b>My custom integration</b>.</p>
                </li><li>
                    <p>From <b>Event delivery location</b>, choose to 
                        log the same activity events to existing event data stores, or
                        create a new event data store.</p>
                    <p>If you choose to create a new event data store, enter a name for the event
                        data store and specify the retention period in days. Valid values for the
                        retention period are integers from 7 to 2557 (seven years). The event data
                        store retains event data for the specified number of days. By default, event
                        data is retained for 2557 days.</p>
                    <p>If you choose to log activity events to
                        one or more existing event data stores, choose the event data stores from the list. 
                        The event data stores can only include activity events. 
                        The event type in the console must be <b>Events from
                            integrations</b>. In the API, the <code class="code">eventCategory</code>
                        value must be <code class="code">ActivityAuditLog</code>.</p>
                </li><li>
                    <p>In <b>Resource policy</b>, configure the resource policy for
                        the integration's channel. Resource policies are JSON policy documents that
                        specify what actions a specified principal can perform on the resource and
                        under what conditions. The accounts defined as principals in the resource
                        policy can call the <code class="code">PutAuditEvents</code> API to deliver events to
                        your channel. The resource owner has implicit access to the
                        resource if their IAM policy allows the
                        <code class="code">cloudtrail-data:PutAuditEvents</code> action.</p>
                    <p>The information required for the policy is determined by the integration
                        type. For a direction integration, CloudTrail automatically adds the partner's AWS account IDs, and requires you to enter the unique external ID provided by the partner. For a solution integration, you 
                    must specify at least one AWS account ID as principal, and can optionally enter an external ID to prevent against confused deputy.</p>
                    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you do not create a resource policy for the channel, only the channel owner can call the <code class="code">PutAuditEvents</code> API on the channel.</p></div></div>
                    <ol><li>
                            <p>For a direct integration, enter the external ID provided by your
                                partner. The integration partner provides a unique external ID, such
                                as an account ID or a randomly generated string, to use for the
                                integration to prevent against confused deputy. The partner is
                                responsible for creating and providing a unique external ID.</p>
                            <p>
                                You can choose <b>How to find this?</b> to view the partner's documentation 
                                that describes how to find the external ID. 
                            </p>
                            <div class="mediaobject">
                                 
                                    <img src="/images/awscloudtrail/latest/userguide/images/integration-external-id.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                                    Partner documentation for external ID&#xA;                                " style="max-width:100%" />
                                 
                                 
                            </div>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If the resource policy includes an external ID, all calls to the
                                    <code class="code">PutAuditEvents</code> API must include the external ID. However, 
                                    if the policy does not define an external ID, the 
                                    partner can still call the <code class="code">PutAuditEvents</code> 
                                    API and specify an <code class="code">externalId</code> parameter.</p></div></div>
                        </li><li>
                            <p> For a solution integration, choose <b>Add AWS
                                account</b> to specify an AWS account ID to add as a
                                principal in the policy.</p>
                        </li></ol>
                </li><li>
                    <p>(Optional) In the <b>Tags</b> area, you can add up to 50 tag
                        key and value pairs to help you identify, sort, and control access to your
                        event data store and channel. For more information about how to use IAM
                        policies to authorize access to an event data store based on tags, see <a href="./security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-eds-tags">Examples: Denying
               access to create or delete event data stores based on tags</a>. For
                        more information about how you can use tags in AWS, see <a href="https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html">Tagging
                            AWS resources</a> in the
                        <em>AWS General Reference</em>.</p>
                </li><li>
                    <p>When you are ready to create the new integration, choose <b>Add
                        integration</b>. There is no review page. CloudTrail creates the
                        integration, but you must provide the channel Amazon Resource Name (ARN) to the partner application. Instructions for providing the channel ARN
                        to the partner application are found on the partner documentation website.
                        For more information, choose the <b>Learn more</b>
                        link for the partner on the <b>Available sources</b> tab of the <b>Integrations</b> page to open the partner's page in
                        AWS Marketplace.</p>
                </li></ol></div>
            <p>To finish the setup for your 
                integration, provide the channel ARN to the partner or source application. Depending upon the integration type, either you, 
                the partner, or the application runs the <code class="code">PutAuditEvents</code> API to deliver activity events to the event data store for your 
                AWS account. After your activity events are delivered, you can use CloudTrail Lake to search,
                query, and analyze the data that is logged from your applications. Your event data includes fields that match CloudTrail
                event payload, such as <code class="code">eventVersion</code>, <code class="code">eventSource</code>, and
                <code class="code">userIdentity</code>.</p>
         
            <h2 id="query-event-data-store-integration-custom">Create a custom integration</h2>
            
            <p>You can use CloudTrail to log and store user activity data from any source in your
                hybrid environments, such as in-house or SaaS applications hosted on-premises or in
                the cloud, virtual machines, or containers. Perform the first half of this procedure
                in the CloudTrail Lake console, then call the <a href="https://docs.aws.amazon.com/awscloudtraildata/latest/APIReference/API_PutAuditEvents.html"><code class="code">PutAuditEvents</code></a> API to ingest events,
                providing your channel ARN and event payload. After you use the
                    <code class="code">PutAuditEvents</code> API to ingest your application activity into CloudTrail,
                you can use CloudTrail Lake to search, query, and analyze the data that is logged from
                your applications.</p>
            <div class="procedure"><ol><li> <p>Sign in to the AWS Management Console and open the CloudTrail console at
         <a href="https://console.aws.amazon.com/cloudtrail/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudtrail/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> </li><li>
                    <p>
                        From the navigation pane, under <b>Lake</b>, choose <b>Integrations</b>.
                    </p>
                </li><li>
                    <p>On the <b>Add integration</b> page, enter a name for your
                        channel. The name can be 3-128 characters. Only letters, numbers, periods,
                        underscores, and dashes are allowed.</p>
                </li><li>
                    <p>Choose <b>My custom integration</b>.</p>
                </li><li>
                    <p>From <b>Event delivery location</b>, choose to 
                        log the same activity events to existing event data stores, or
                        create a new event data store.</p>
                    <p>If you choose to create a new event data store, enter a name for the event
                        data store and specify the retention period in days. Valid values for the
                        retention period are integers from 7 to 2557 (seven years). The event data
                        store retains event data for the specified number of days. By default, event
                        data is retained for 2557 days.</p>
                    <p>If you choose to log activity events to
                        one or more existing event data stores, choose the event data stores from the list. 
                        The event data stores can only include activity events. 
                        The event type in the console must be <b>Events from
                            integrations</b>. In the API, the <code class="code">eventCategory</code>
                        value must be <code class="code">ActivityAuditLog</code>.</p>
                </li><li>
                    <p>In <b>Resource policy</b>, configure the resource policy for
                        the integration's channel. Resource policies are JSON
                        policy documents that specify what actions a specified principal can perform
                        on the resource and under what conditions. The accounts defined as
                        principals in the resource policy can call the <code class="code">PutAuditEvents</code>
                        API to deliver events to your channel.</p>
                    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you do not create a resource policy for the channel, only the channel owner can call the <code class="code">PutAuditEvents</code> API on the channel.</p></div></div>
                    <ol><li>
                            <p>(Optional) Enter a unique external ID to provide an extra layer of protection. The external ID is a unique string such as 
                                an account ID or a randomly generated string, to prevent against confused deputy. </p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If the resource policy includes an external ID, all calls to the
                                    <code class="code">PutAuditEvents</code> API must include the external ID. However, 
                                    if the policy does not define an external ID, you can still call the <code class="code">PutAuditEvents</code> 
                                    API and specify an <code class="code">externalId</code> parameter.</p></div></div>
                        </li><li>
                            <p>Choose <b>Add AWS
                                account</b> to specify each AWS account ID to add as a
                                principal in the resource policy for the channel.</p>
                        </li></ol>
                </li><li>
                    <p>(Optional) In the <b>Tags</b> area, you can add up to 50 tag
                        key and value pairs to help you identify, sort, and control access to your
                        event data store and channel. For more information about how to use IAM
                        policies to authorize access to an event data store based on tags, see <a href="./security_iam_id-based-policy-examples.html#security_iam_id-based-policy-examples-eds-tags">Examples: Denying
               access to create or delete event data stores based on tags</a>. For
                        more information about how you can use tags in AWS, see <a href="https://docs.aws.amazon.com/general/latest/gr/aws_tagging.html">Tagging
                            AWS resources</a> in the
                        <em>AWS General Reference</em>.</p>
                </li><li>
                    <p>When you are ready to create the new integration, choose <b>Add
                            integration</b>. There is no review page. CloudTrail creates the
                        integration, but to integrate your custom events, you must specify the
                        channel ARN in a <a href="https://docs.aws.amazon.com/awscloudtraildata/latest/APIReference/API_PutAuditEvents.html"><code class="code">PutAuditEvents</code></a> request.</p>
                </li><li>
                    <p>Call the <code class="code">PutAuditEvents</code> API to ingest your activity events
                        into CloudTrail. You can add up
                        to 100 activity events (or up to 1 MB) per <code class="code">PutAuditEvents</code> request. You'll need the channel ARN that you created in preceding steps,
                        the payload of events that you want CloudTrail to add, and the external ID (if specified for your resource policy). Be sure that there is
                        no sensitive or personally-identifying information in event payload before
                        ingesting it into CloudTrail. Events that you ingest into CloudTrail must follow the
                            <a href="./query-integration-event-schema.html">CloudTrail Lake integrations event
                    schema</a>.</p>
                    <div class="awsdocs-note awsdocs-tip"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Tip</h6></div><div class="awsdocs-note-text"><p>Use <a href="https://docs.aws.amazon.com/cloudshell/latest/userguide/welcome.html">AWS CloudShell</a> to be sure you are running the
                            most current AWS APIs.</p></div></div>
                    <p>The following examples show how to use the
                            <b>put-audit-events</b> CLI command. The
                            <b>--audit-events</b> and <b>--channel-arn</b>
                        parameters are required. You need the ARN of the channel that you created in
                        the preceding steps, which you can copy from the integration details page.
                        The value of <b>--audit-events</b> is a JSON array of event
                        objects. <code class="code">--audit-events</code> includes a required ID from the event,
                        the required payload of the event as the value of <code class="code">EventData</code>,
                        and an <a href="#event-data-store-integration-custom-checksum">optional
                            checksum</a> to help validate the integrity of the event after
                        ingestion into CloudTrail.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws cloudtrail-data put-audit-events \
--region <code class="replaceable">region</code> \
--channel-arn $ChannelArn \
--audit-events \
id="<code class="replaceable">event_ID</code>",eventData='"<span>{</span><code class="replaceable">event_payload</code>}"' \
id="<code class="replaceable">event_ID</code>",eventData='"<span>{</span><code class="replaceable">event_payload</code>}"',eventDataChecksum="<code class="replaceable">optional_checksum</code>"</code></pre>
                    <p>The following is an example command with two event examples.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">aws cloudtrail-data put-audit-events \
--region us-east-1 \
--channel-arn arn:aws:cloudtrail:us-east-1:01234567890:channel/EXAMPLE8-0558-4f7e-a06a-43969EXAMPLE \
--audit-events \
id="EXAMPLE3-0f1f-4a85-9664-d50a3EXAMPLE",eventData='"<span>{</span>\"eventVersion\":\0.01\",\"eventSource\":\"custom1.domain.com\", ...
\}"' \
id="EXAMPLE7-a999-486d-b241-b33a1EXAMPLE",eventData='"<span>{</span>\"eventVersion\":\0.02\",\"eventSource\":\"custom2.domain.com\", ...
\}"',eventDataChecksum="EXAMPLE6e7dd61f3ead...93a691d8EXAMPLE"</code></pre>
                    <p>The following example command adds the <code class="code">--cli-input-json</code>
                        parameter to specify a JSON file (<code>custom-events.json</code>)
                        of event payload.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">aws cloudtrail-data put-audit-events \
--channel-arn $channelArn \
--cli-input-json file://custom-events.json \
--region us-east-1</code></pre>
                    <p>The following are the sample contents of the example JSON file,
                            <code>custom-events.json</code>.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "auditEvents": [
      <span>{</span>
        "eventData": "<span>{</span>\"version\":\"eventData.version\",\"UID\":\"UID\",
        \"userIdentity\":<span>{</span>\"type\":\"CustomUserIdentity\",\"principalId\":\"principalId\",
        \"details\":<span>{</span>\"key\":\"value\"}},\"eventTime\":\"2021-10-27T12:13:14Z\",\"eventName\":\"eventName\",
        \"userAgent\":\"userAgent\",\"eventSource\":\"eventSource\",
        \"requestParameters\":<span>{</span>\"key\":\"value\"},\"responseElements\":<span>{</span>\"key\":\"value\"},
        \"additionalEventData\":<span>{</span>\"key\":\"value\"},
        \"sourceIPAddress\":\"<code class="replaceable">source_IP_address</code>\",\"recipientAccountId\":\"<code class="replaceable">recipient_account_ID</code>\"}",
        "id": "1"
      }
   ]
}</code></pre>
                </li></ol></div>
             
                <h3 id="event-data-store-integration-custom-checksum">(Optional)
                        Calculate a checksum value</h3>
                <p>The checksum that you specify as the value of <code class="code">EventDataChecksum</code>
                    in a <code class="code">PutAuditEvents</code> request helps you verify that CloudTrail receives the
                    event that matches with the checksum; it helps verify the integrity of events.
                    The checksum value is a base64-SHA256 algorithm that you calculate by running
                    the following command.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">printf %s "<span>{</span>"eventData": "<span>{</span>\"version\":\"eventData.version\",\"UID\":\"UID\",
        \"userIdentity\":<span>{</span>\"type\":\"CustomUserIdentity\",\"principalId\":\"principalId\",
        \"details\":<span>{</span>\"key\":\"value\"}},\"eventTime\":\"2021-10-27T12:13:14Z\",\"eventName\":\"eventName\",
        \"userAgent\":\"userAgent\",\"eventSource\":\"eventSource\",
        \"requestParameters\":<span>{</span>\"key\":\"value\"},\"responseElements\":<span>{</span>\"key\":\"value\"},
        \"additionalEventData\":<span>{</span>\"key\":\"value\"},
        \"sourceIPAddress\":\"<code class="replaceable">source_IP_address</code>\",
        \"recipientAccountId\":\"<code class="replaceable">recipient_account_ID</code>\"}",
        "id": "1"}" \
 | openssl dgst -binary -sha256 | base64</code></pre>
                <p>The command returns the checksum. The following is an example.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">EXAMPLEHjkI8iehvCUCWTIAbNYkOgO/t0YNw+7rrQE=</code></pre>
                <p>The checksum value becomes the value of <code class="code">EventDataChecksum</code> in your
                        <code class="code">PutAuditEvents</code> request. If the checksum doesn't match with the
                    one for the provided event, CloudTrail rejects the event with an
                        <code class="code">InvalidChecksum</code> error.</p>
             
         
        <h2 id="cloudtrail-lake-partner-information">Additional information about integration partners</h2>
        
        <p>The table in this section provides the source name for each integration partner and identifies the integration type (direct or solution).</p>
        <p>The information in the <b>Source name</b> column is required when calling the <code class="code">CreateChannel</code> API.
            You specify the source name as the value for the <code class="code">Source</code> parameter.</p>
  
        <div class="table-container"><div class="table-contents"><table id="w587aac11c37c23b7"><thead>
                    <tr>
                        <th>Partner name (console)</th>
                        <th>Source name (API)</th>
                        <th>Integration type</th>
                    </tr>
                </thead>
                    <tr>
                        <td>My custom integration</td>
                        <td><code class="code">Custom</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>Cloud Storage Security</td>
                        <td><code class="code">CloudStorageSecurityConsole</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>Clumio</td>
                        <td><code class="code">Clumio</code></td>
                        <td>direct</td>
                    </tr>
                    <tr>
                        <td>CrowdStrike</td>
                        <td><code class="code">CrowdStrike</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>CyberArk</td>
                        <td><code class="code">CyberArk</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>GitHub</td>
                        <td><code class="code">GitHub</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>Kong Inc</td>
                        <td><code class="code">KongGatewayEnterprise</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>LaunchDarkly</td>
                        <td><code class="code">LaunchDarkly</code></td>
                        <td>direct</td>
                    </tr>
                    <tr>
                        <td>Netskope</td>
                        <td><code class="code">NetskopeCloudExchange</code></td>
                        <td>solution</td>
                    </tr>
             
                    <tr>
                        <td>Nordcloud, an IBM Company</td>
                        <td><code class="code">IBMMulticloud</code></td>
                        <td>direct</td>
                    </tr>
                    <tr>
                        <td>MontyCloud</td>
                        <td><code class="code">MontyCloud</code></td>
                        <td>direct</td>
                    </tr>
                    <tr>
                        <td>Okta</td>
                        <td><code class="code">OktaSystemLogEvents</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>One Identity</td>
                        <td><code class="code">OneLogin</code></td>
                        <td>solution</td>
                    </tr>
              
                    <tr>
                        <td>Shoreline.io</td>
                        <td><code class="code">Shoreline</code></td>
                        <td>solution</td>
                    </tr>
                    <tr>
                        <td>Snyk.io</td>
                        <td><code class="code">Snyk</code></td>
                        <td>direct</td>
                    </tr>
                    <tr>
                        <td>Wiz</td>
                        <td><code class="code">WizAuditLogs</code></td>
                        <td>solution</td>
                    </tr>
                </table></div></div>
        
         
         <h3 id="lake-integration-partner-documentation">View partner documentation</h3>
             
             <p>You can learn more about a partner's integration with CloudTrail Lake by viewing their documentation.</p>
            <p><b>To view partner documentation</b></p>
             
            <div class="procedure"><ol><li> <p>Sign in to the AWS Management Console and open the CloudTrail console at
         <a href="https://console.aws.amazon.com/cloudtrail/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudtrail/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> </li><li>
                    <p>
                        From the navigation pane, under <b>Lake</b>, choose <b>Integrations</b>.
                    </p>
                </li><li>
                    <p>From the <b>Integrations</b> page, choose <b>Available sources</b>, 
                        then choose <b>Learn more</b> for the partner whose documentation you want to view. </p>
                </li></ol></div>
             
        
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./copy-trail-details.html">Event copy details</div><div id="next" class="next-link" accesskey="n" href="./query-integration-event-schema.html">CloudTrail Lake integrations event
                    schema</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/awscloudtrail/latest/userguide/query-event-data-store-integration.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudTrail&amp;topic_url=https://docs.aws.amazon.com/en_us/awscloudtrail/latest/userguide/query-event-data-store-integration.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>