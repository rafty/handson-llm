<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Adobe Experience Manager - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="data-source-aem" /><meta name="default_state" content="data-source-aem" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-aem.html" /><meta name="description" content="How to use an Adobe Experience Manager data source connector in Amazon Kendra to index your documents." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-aem.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/data-source-aem.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/data-source-aem.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/data-source-aem.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/data-source-aem.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-aem.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-aem.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/data-source-aem.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/data-source-aem.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/data-source-aem.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/data-source-aem.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/data-source-aem.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/data-source-aem.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/data-source-aem.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/data-source-aem.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/data-source-aem.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/data-source-aem.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/data-source-aem.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/data-source-aem.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/data-source-aem.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/data-source-aem.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-aem.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Adobe Experience Manager" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Adobe Experience Manager - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#data-source-aem" /><meta name="github" content="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/data-source-aem.md" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-aem.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-aem.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-aem.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question,Adobe Experience Manager" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Creating a data source connector",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/data-source.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Data source connectors",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/data-sources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Adobe Experience Manager",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/data-sources.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#data-source-aem" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-kendra-developer-guide/tree/master/doc_source/data-source-aem.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#supported-features-aem">Supported features</a><a href="#prerequisites-aem">Prerequisites</a><a href="#data-source-procedure-aem">Connection instructions</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="data-source-aem">Adobe Experience Manager</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Adobe Experience Manager is a content management system that's used for creating
        website or mobile app content. You can use Amazon Kendra to connect to
            Adobe Experience Manager and index your pages and content assets.</p><p>Amazon Kendra supports Adobe Experience Manager (AEM) as a Cloud Service author 
        instance and Adobe Experience Manager On-Premise author and publish instance.</p><p>You can connect Amazon Kendra to your Adobe Experience Manager data source
        using the <a href="https://console.aws.amazon.com/kendra/" rel="noopener noreferrer" target="_blank"><span>Amazon Kendra console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> or the
            <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_TemplateConfiguration.html">TemplateConfiguration</a> API.</p><p>For troubleshooting your Amazon Kendra Adobe Experience Manager data source connector, see <a href="./troubleshooting-data-sources.html">Troubleshooting data sources</a>.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#supported-features-aem">Supported features</a></li><li><a href="#prerequisites-aem">Prerequisites</a></li><li><a href="#data-source-procedure-aem">Connection instructions</a></li></ul></div>
        <h2 id="supported-features-aem">Supported features</h2>
        <p>Adobe Experience Manager data source connector supports the following
            features:</p>
        <div class="itemizedlist">
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Field mappings</p>
            </li><li class="listitem">
                <p>Inclusion/exclusion filters</p>
            </li><li class="listitem">
                <p>Virtual private cloud (VPC)</p>
            </li><li class="listitem">
                <p>Full sync/ New and modified content sync/ New, modified, and deleted content
                    sync</p>
            </li><li class="listitem">
                <p>User context filtering</p>
            </li><li class="listitem">
                <p>OAuth 2.0 and basic authentication</p>
            </li></ul></div>
     
        <h2 id="prerequisites-aem">Prerequisites</h2>
        <p>Before you can use Amazon Kendra to index your Adobe Experience Manager
            data source, make these changes in your Adobe Experience Manager and AWS accounts.</p>
        <p><b>In Adobe Experience Manager, make sure you
                have</b>:</p>
        <div class="itemizedlist">
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Access to an account with administrative privileges, or an admin user.</p>
            </li><li class="listitem">
                <p>Copied your Adobe Experience Manager host URL.</p>
                
 <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>(On-premise/server) Amazon Kendra checks if the endpoint information included in  
 AWS Secrets Manager is the same the endpoint information specified in your data source 
 configuration details. This helps protect against the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">confused deputy problem</a>, which is a 
 security issue where a user doesn’t have permission to perform an action but uses 
 Amazon Kendra as a proxy to access the configured secret and perform the action. If you 
 later change your endpoint information, you must update or create a new secret to sync this 
 information.</p></div></div>

            </li><li class="listitem">
                <p>Noted your basic authentication credentials of admin user name and
                    password.</p>
            </li><li class="listitem">
                <p><b>Optional</b>: Generated OAuth 2.0 credentials in
                        Adobe Experience Manager (AEM) as a Cloud Service or AEM
                    On-Premise. If you use AEM On-Premise, the credentials include client ID,
                    client secret, and private key. If you use AEM as a Cloud Service, the
                    credentials include client ID, client secret, private key, organization ID,
                    technical account ID, and Adobe Identity Management System (IMS)
                    host. For more information about how to generate these credentials for AEM as a 
                    Cloud Service, see <a href="https://experienceleague.adobe.com/docs/experience-manager-learn/getting-started-with-aem-headless/authentication/service-credentials.html" rel="noopener noreferrer" target="_blank"><span>Adobe Experience Manager documentation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. For AEM 
                    On-Premise, Adobe Granite OAuth 2.0 server implementation 
                    (com.adobe.granite.oauth.server) provides the support for OAuth 
                    2.0 server functionalities in AEM.</p>
            </li><li class="listitem">
    <p>Checked each document is unique in Adobe Experience Manager and across other 
    data sources you plan to use for the same index. Each data source that you 
    want to use for an index must not contain the same document across the data 
    sources. Document IDs are global to an index and must be unique per index.</p>
</li></ul></div>
        

 <p><b>In your AWS account, make sure you
                have:</b></p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/create-index.html">Created
                        an Amazon Kendra index</a> and, if using the API, noted the index
                    ID.</p>
            </li><li class="listitem">
                <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds">Created an IAM role</a> for your data source and, if
                    using the API, noted the ARN of the IAM role.</p>
                    

 <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you change your authentication type and credentials, you must 
 update your IAM role to access the correct AWS Secrets Manager secret ID.</p></div></div>


            </li><li class="listitem">
                <p>Stored your Adobe Experience Manager authentication credentials in an AWS
                    Secrets Manager secret and, if using the API, noted the ARN of the
                    secret.</p>
                

 <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>It’s recommended that you regularly refresh or rotate your credentials 
  and secret. Provide only the necessary access level for your own security. 
  It’s <b>not</b> recommended to re-use
  credentials and secrets across data sources, and connector versions 1.0 and
  2.0 (where applicable).</p></div></div>


            </li></ul></div>
        <p>If you don’t have an existing IAM role or secret, you can use the
            console to create a new IAM role and Secrets Manager secret when you
            connect your Adobe Experience Manager data source to Amazon Kendra. If you are using the
            API, you must provide the ARN of an existing IAM role and Secrets Manager secret, and an index ID.</p>


     
        <h2 id="data-source-procedure-aem">Connection instructions</h2>
        <p>To connect Amazon Kendra to your Adobe Experience Manager data source,
            you must provide the necessary details of your Adobe Experience Manager data
            source so that Amazon Kendra can access your data. If you have not yet configured 
            Adobe Experience Manager for Amazon Kendra, see <a href="#prerequisites-aem">Prerequisites</a>.</p>
        
        
        
         
            <awsdocs-tabs><dl style="display: none">
                
                
                
                <dt>Console</dt><dd tab-id="console">
                        <p><b>To connect Amazon Kendra to 
                            Adobe Experience Manager</b>
                        </p>
                        <div class="procedure"><ol><li>
    <p>Sign in to the AWS Management Console and open the <a href="https://console.aws.amazon.com/kendra/" rel="noopener noreferrer" target="_blank"><span>Amazon Kendra console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
    </li><li>
    <p>From the left navigation pane, choose <b>Indexes</b> and then choose the index you want to use from the list of indexes.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can choose to configure or edit your <b>User access control</b> settings under <b>Index settings</b>.
    </p></div></div>
    </li><li>
    <p>On the <b>Getting started</b> page, choose <b>Add data source</b>.</p>
    </li><li>
    <p>On the <b>Add data source</b> page, choose <b>Adobe Experience Manager connector</b>, and then choose <b>Add data source</b>.</p>
    </li><li> 
    <p>On the <b>Specify data source details</b> page, enter the following information:</p>
        <ol><li>
            <p>In <b>Name and description</b>, for <b>Data source name</b>—Enter a name for your data source. You can include hyphens but not spaces.</p>
            </li><li>
            <p>(Optional)<b> Description</b>—Enter an optional description for your data source.</p>
            </li><li>
            <p>In <b>Language</b>, for <b>Default language</b>—A language to filter your documents for the index. Unless you specify otherwise,
            the language defaults to English. Language specified in the document metadata overrides the selected language.</p>
            </li><li>
            <p>In <b>Tags</b>, for <b>Add new tag</b>—Tags to search and filter your resources or track your AWS costs.</p>
            </li><li>
            <p>Choose <b>Next</b>.</p>
            </li></ol>
      </li><li>
                                <p>On the <b>Define access and security</b> page,
                                    enter the following information:</p>
                                <ol><li>
                                        <p><b>Source</b>—Choose either
                                                <b>AEM On-Premise</b> or
                                                <b>AEM as a Cloud Service</b>.</p>
                                        <p>Enter your Adobe Experience Manager host URL.
                                            For example, if you use AEM On-Premise, you include the
                                            hostname and port: 
                                            <em>http://hostname:port</em>. 
                                            Or, if you use AEM as a Cloud Service, you can use the 
                                            author URL: 
                                            <em>https://author-xxxxxx-xxxxxxx.adobeaemcloud.com</em>.</p>
                                    </li><li>
                                        <p><b>SSL certificate location</b>—Enter 
                                            the path to the SSL certificate stored in an 
                                            Amazon S3 bucket. You use this to connect to AEM 
                                            On-Premise with a secure SSL connection.</p>
                                    </li><li>
                                        <p><b>Authentication</b>—Choose
                                                <b>Basic authentication</b> or
                                                <b>OAuth 2.0 authentication</b>. Then
                                            choose an existing AWS Secrets Manager secret or
                                            create a new secret to store your
                                                Adobe Experience Manager credentials. If
                                            you choose to create a new secret, an AWS Secrets Manager secret window opens.</p>
                                        <p>If you chose <b>Basic
                                            authentication</b>, enter a name for the secret,
                                            the Adobe Experience Manager site user name and
                                            password. The user must have admin permission or be an
                                            admin user.</p>
                                        <p>If you chose <b>OAuth 2.0
                                                authentication</b> and you use AEM
                                            On-Premise, enter a name for the secret, client ID,
                                            client secret, and private key. If you use AEM as a
                                            Cloud Service, enter a name for the secret, client ID,
                                            client secret, private key, organization ID, technical
                                            account ID, and Adobe Identity Management
                                                System (IMS) host.</p>
                                        <p>Choose <b>Save</b>.</p>
                                    </li><li>
                                        <p><b>Identity crawler</b>—Choose to
                                            crawl identity information on users and groups with
                                            access to certain documents and store this in  
                                            Amazon Kendra's principal/identity store. This is
                                            useful for user context filtering, where search results
                                            are filtered based on the user or their group access to
                                            documents.</p>
                                    </li><li>
   <p><b>Virtual Private Cloud (VPC)</b>—You can choose to use a VPC. If
   so, you must add <b>Subnets</b> and <b>VPC security groups</b>.</p>
   
   </li><li>
    <p><b>IAM role</b>—Choose an existing IAM 
    role or create a new IAM role to access your repository credentials and index content.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>IAM roles used for indexes cannot be used for data sources. If you are unsure 
       if an existing role is used for an index or FAQ, choose <b>Create a new role</b> to avoid 
       errors.</p></div></div>
   </li><li>
                                        <p>Choose <b>Next</b>.</p>
                                    </li></ol>
                            </li><li>
                                <p>On the <b>Configure sync settings</b> page,
                                    enter the following information:</p>
                                <ol><li>
                                        <p><b>Sync scope</b>—Set limits for
                                            crawling certain content types, page components, and
                                            roots paths, and filter content using regex expression
                                            patterns.</p>
                                        <ol><li>
                                                <p><b>Content
                                                  types</b>—Choose whether to crawl
                                                  only pages or assets, or both.</p>
                                            </li><li>
                                                <p>(Optional) <b>Additional
                                                  configuration</b>—Configure the
                                                  following settings:</p>
                                                <div class="itemizedlist">
                                                   
                                                   
                                                   
                                                   
                                                <ul class="itemizedlist"><li class="listitem">
                                                      <p><b>Page 
                                                          components</b>—The specific 
                                                          names of page components. The Page Component is 
                                                          an extensible page component designed to work 
                                                          with the Adobe Experience Manager template 
                                                          editor and allows page header/footer and structure 
                                                          components to be assembled with the template editor.</p>
                                                  </li><li class="listitem">
                                                      <p><b>Content fragment 
                                                          variations</b>—The specific 
                                                          names of content fragment variations. Content Fragments 
                                                          allow you to design, create, curate and publish 
                                                          page-independent content in Adobe Experience Manager. 
                                                          They allow you to prepare content ready for use in multiple 
                                                          locations/over multiple channels.</p>
                                                  </li><li class="listitem">
                                                      <p><b>Root paths</b>—The 
                                                          root paths to specific content.</p>
                                                  </li><li class="listitem">
                                                      <p><b>Regex 
                                                          patterns</b>—The regular 
                                                          expression patterns to include or exclude certain 
                                                          pages and assets.</p>
                                                  </li></ul></div>
                                            </li></ol>
                                    </li><li>
                                        <p><b>Sync mode</b>—Choose how you
                                            want to update your index when your data source content
                                            changes. When you sync your data source with Amazon Kendra for the first time, all content is synced
                                            by default.</p>
                                        <div class="itemizedlist">
                                             
                                             
                                             
                                        <ul class="itemizedlist"><li class="listitem">
                                                <p><b>Full sync</b>—Sync all 
                                                    content regardless of the previous sync status.</p>
                                            </li><li class="listitem">
                                                <p><b>New or modified documents 
                                                    sync</b>—Sync only new and modified 
                                                    documents.</p>
                                            </li><li class="listitem">
                                                <p><b>New, modified, or deleted documents 
                                                    sync</b>—Sync only new, modified, 
                                                    and deleted documents.</p>
                                            </li></ul></div>
                                    </li><li>
                                        <p><b>Time zone ID</b>—If you use
                                            AEM On-Premise and the time zone of your server is
                                            different than the time zone of the Amazon Kendra
                                            AEM connector or index, you can specify the server time
                                            zone to align with the AEM connector or index. The default 
                                            time zone for AEM On-Premise is the time zone of the 
                                            Amazon Kendra AEM connector or index. The default time 
                                            zone for AEM as a Cloud Service is Greenwich Mean Time.</p>
                                    </li><li>
                                        <p><b>Sync run schedule</b>—For 
                                            <b>Frequency</b>, choose how often 
                                            Amazon Kendra will sync with your data
                                            source.</p>
                                    </li><li>
                                        <p>Choose <b>Next</b>.</p>
                                    </li></ol>
                            </li><li>
                                <p>On the <b>Set field mappings</b> page,
                                    enter the following information:</p>
                                <ol><li>
                                        <p>Select from the Amazon Kendra generated default 
                                            data source fields you want to map to your index. To add 
                                            custom data source fields, create an index field name to 
                                            map to and the field data type.</p>
                                    </li><li>
                                        <p>Choose <b>Next</b>.</p>
                                    </li></ol>
                            </li><li>
   <p>On the <b>Review and create</b> page, check that
   the information you have entered is correct and then select
   <b>Add data source</b>. You can also choose to edit your information from this page. 
   Your data source will appear on the <b>Data sources</b> page after it’s added successfully.</p>
   
   </li></ol></div>
                    </dd>
                
                
                
                <dt>API</dt><dd tab-id="api">
                        <p><b>To connect Amazon Kendra to 
                            Adobe Experience Manager</b></p>
                        <p>You must specify a JSON of the <a href="https://docs.aws.amazon.com/kendra/latest/dg/ds-schemas.html#ds-aem-schema">data source
                                schema</a> using the <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_TemplateConfiguration.html">TemplateConfiguration</a> API. You must
                            provide the following information:</p>
                        
                        
                        
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><b>Data source</b>—Specify
                                    the data source as <code class="code">AEM</code>.</p>
                            </li><li class="listitem">
                                <p><b>AEM host URL</b>—Specify
                                    the Adobe Experience Manager host URL. For example, if
                                    you use AEM On-Premise, you include the hostname and port: 
                                    <em>https://hostname:port</em>. Or, if 
                                    you use AEM as a Cloud Service, you can use the author URL: 
                                    <em>https://author-xxxxxx-xxxxxxx.adobeaemcloud.com</em>.</p>
                            </li><li class="listitem">
                                <p><b>Authentication 
                                    type</b>—Specify which type of authentication you
                                    want to use, either <code class="code">Basic</code> or <code class="code">OAuth2</code>.</p>
                            </li><li class="listitem">
                                <p><b>AEM type</b>—Specify which
                                    type of Adobe Experience Manager you use, either 
                                    <code class="code">CLOUD</code> or <code class="code">ON_PREMISE</code>.</p>
                            </li><li class="listitem">
    <p><b>Type</b>—Specify
    <code class="code">TEMPLATE</code> as the Type when you call <code class="code">CreateDataSource</code>.</p>
    
   </li><li class="listitem">
                                <p><b>Secret Amazon Resource Name 
                                    (ARN)</b>—If you want to use basic
                                    authentication for either AEM On-Premise or Cloud, you provide 
                                    a secret that stores your authentication credentials of your user 
                                    name and password. You provide the Amazon Resource Name (ARN) of 
                                    an AWS Secrets Manager secret. The secret is stored in a JSON
                                    structure with the following keys:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "aemUrl": "<code class="replaceable">Adobe Experience Manager On-Premise host URL</code>",
    "username": "<code class="replaceable">user name with admin permissions</code>",
    "password": "<code class="replaceable">password with admin permissions</code>"
}</code></pre>
                                <p>If you want to use OAuth 2.0 authentication for AEM
                                    On-Premise, the secret is stored in a JSON structure with the
                                    following keys:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "aemUrl": "<code class="replaceable">Adobe Experience Manager host URL</code>",
    "clientId": "<code class="replaceable">client ID</code>",
    "clientSecret": "<code class="replaceable">client secret</code>",
    "privateKey": "<code class="replaceable">private key</code>"
}</code></pre>
                                <p>If you want to use OAuth 2.0 authentication for AEM as a Cloud
                                    Service, the secret is stored in a JSON structure with the
                                    following keys:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "clientId": "<code class="replaceable">client ID</code>",
    "clientSecret": "<code class="replaceable">client secret</code>",
    "privateKey": "<code class="replaceable">private key</code>",
    "orgId": "<code class="replaceable">organization ID</code>",
    "technicalAccountId": "<code class="replaceable">technical account ID</code>",
    "imsHost": "Adobe Identity Management System (IMS) host"
}</code></pre>
                            </li><li class="listitem">
    <p><b>IAM role</b>—Specify <code class="code">RoleArn</code>
     when you call <code class="code">CreateDataSource</code> to provide an IAM role with permissions to access
    your Secrets Manager secret and to call the required public
    APIs for the Adobe Experience Manager connector and Amazon Kendra. 
    For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds">IAM roles for Adobe Experience Manager 
    data sources</a>.</p>
    
   </li></ul></div>
                        
                        
                        
                        <p>You can also add the following optional features:</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
    <p>
    <b>Virtual Private Cloud
    (VPC)</b>—Specify
    <code class="code">VpcConfiguration</code> when you call <code class="code">CreateDataSource</code>. 
    For more information, see <a href="./vpc-configuration.html">Configuring Amazon Kendra to use an Amazon VPC</a>.</p>
    
   </li><li class="listitem">
                                <p><b>Sync mode</b>—Specify
                                    whether Amazon Kendra should update your index by syncing
                                    all documents or only new, modified, and deleted documents. You
                                    can choose between the following options:</p>
                                <div class="itemizedlist">
                                     
                                     
                                     
                                <ul class="itemizedlist"><li class="listitem">
                                        <p><code class="code">FORCED_FULL_CRAWL</code> to freshly 
                                            re-crawl all content and replace existing content each time 
                                            your data source syncs with your index.</p>
                                    </li><li class="listitem">
                                        <p><code class="code">FULL_CRAWL</code> to incrementally 
                                            crawl only new, modified, and deleted content each time your 
                                            data source syncs with your index.</p>
                                    </li><li class="listitem">
                                        <p><code class="code">CHANGE_LOG</code> to incrementally crawl 
                                            only new and modified content each time your data source syncs 
                                            with your index.</p>
                                    </li></ul></div>
                            </li><li class="listitem">
                                <p><b>Time zone ID</b>—If you
                                    use AEM On-Premise and the time zone of your server is
                                    different than the time zone of the Amazon Kendra AEM
                                    connector or index, you can specify the server time zone to
                                    align with the AEM connector or index.</p>
                                <p>The default time zone for AEM On-Premise is the time zone of
                                    the Amazon Kendra AEM connector or index. The default time
                                    zone for AEM as a Cloud Service is Greenwich Mean Time.</p>
                                <p>For information about the supported time zones IDs, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/ds-schemas.html#aem-json">Adobe Experience Manager JSON
                                    schema</a>.</p>
                            </li><li class="listitem">
                                <p><b>Inclusion and exclusion
                                        filters</b>—Specify whether to include or
                                    exclude certain pages and assets.</p>
                                
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Most data sources use regular expression patterns, 
     which are inclusion or exclusion patterns referred to as filters. 
     If you specify an inclusion filter, only content that
     matches the inclusion filter is indexed. Any document that
     doesn’t match the inclusion filter isn’t indexed. If you
     specify an inclusion and exclusion filter, documents that
     match the exclusion filter are not indexed, even if they
     match the inclusion filter.</p></div></div>
    
   
                            </li><li class="listitem">
                                <p><b>Identity
                                    crawler</b>—Specify whether to activate Amazon Kendra identity crawler. If identity crawler is
                                    deactivated, you must upload the identity/principal information
                                    using the <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a> API.
                                    Crawling identity information on users and groups with access to
                                    certain documents is useful for user context filtering. Search
                                    results are filtered based on the user or their group access to
                                    documents. For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html#context-filter-user-incl-datasources">User context filtering</a>.</p>
                            </li><li class="listitem">
   <p>
   <b>Field mappings</b>—Choose to map your Adobe Experience Manager 
   data source fields to your
   Amazon Kendra index fields. For more information, see
   <a href="https://docs.aws.amazon.com/kendra/latest/dg/field-mapping.html">Mapping data
   source fields</a>.</p>
    
   </li></ul></div>
                        <p>For a list of other important JSON keys to configure, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/ds-schemas.html#ds-aem-schema">Adobe Experience Managertemplate schema</a>.</p>
                    </dd>
            </dl></awsdocs-tabs>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./ds-schemas.html">Data source template schemas</div><div id="next" class="next-link" accesskey="n" href="./data-source-alfresco.html">Alfresco</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-aem.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-aem.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>