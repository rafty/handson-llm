<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AMAZON. KendraSearchIntent - Amazon Lex</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="built-in-intent-kendra-search" /><meta name="default_state" content="built-in-intent-kendra-search" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html" /><meta name="description" content="Untuk mencari dokumen yang telah Anda indeks dengan Amazon Kendra, gunakan AMAZON.KendraSearchIntent intent tersebut. Jika Amazon Lex V2 tidak dapat menentukan tindakan berikutnya dalam percakapan dengan pengguna, Amazon Lex V2 akan memicu maksud penelusuran." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Lex" /><meta name="guide" content="Panduan Developer V2 2 per" /><meta name="abstract" content="Memberikan gambaran umum konseptual Amazon Lex V2. Termasuk petunjuk terperinci untuk menggunakan berbagai fitur, seperti percakapan streaming, dan memberikan referensi lengkap untuk API V2." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-kendra-search.html" hreflang="x-default" /><meta name="feedback-item" content="Lex" /><meta name="this_doc_product" content="Amazon Lex" /><meta name="this_doc_guide" content="Panduan Developer V2 2 per" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lex'}"></script><meta id="panorama-serviceSubSection" value="Panduan Developer V2 2 per" /><meta id="panorama-serviceConsolePage" value="AMAZON. KendraSearchIntent" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AMAZON. KendraSearchIntent - Amazon Lex</title><meta name="pdf" content="lex2.0.pdf#built-in-intent-kendra-search" /><meta name="rss" content="amazon-lex-v2-document-history.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=251" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=http://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Lex",
        "item" : "https://docs.aws.amazon.com/lex/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Panduan Developer V2 2 per",
        "item" : "https://docs.aws.amazon.com/id_id/lexv2/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Membangun bot",
        "item" : "https://docs.aws.amazon.com/id_id/lexv2/latest/dg/building-bots.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Maksud bawaan dan jenis slot",
        "item" : "https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Maksud bawaan",
        "item" : "https://docs.aws.amazon.com/id_id/lexv2/latest/dg/howitworks-builtins-intents.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "AMAZON. KendraSearchIntent",
        "item" : "https://docs.aws.amazon.com/id_id/lexv2/latest/dg/howitworks-builtins-intents.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="lex2.0.pdf#built-in-intent-kendra-search" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/lex/index.html">Amazon Lex</a><a href="what-is.html">Panduan Developer V2 2 per</a></div><div id="page-toc-src"><a href="#kendra-search-iam">Kebijakan IAM</a><a href="#kendra-search-filter">Menggunakan Atribut Permintaan dan Sesi sebagai Filter</a><a href="#kendra-search-response">Menggunakan Respons Pencarian</a><a href="#kendra-search-lambda">Menggunakan Fungsi Lambda untuk Mengelola Permintaan dan Respons</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="built-in-intent-kendra-search">AMAZON. KendraSearchIntent</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Untuk mencari dokumen yang telah Anda indeks dengan Amazon Kendra, gunakan<code class="code">AMAZON.KendraSearchIntent</code> intent tersebut. Jika Amazon Lex V2 tidak dapat menentukan tindakan berikutnya dalam percakapan dengan pengguna, Amazon Lex V2 akan memicu maksud penelusuran.</p><p><code class="code">AMAZON.KendraSearchIntent</code>Ini hanya tersedia di Wilayah Inggris (US) dan di Wilayah US East (N. Virginia), US West (Oregon) dan Europe (Ireland).</p><p>Amazon Kendra adalah layanan machine-learning-based  pencarian yang mengindeks dokumen bahasa alami seperti dokumen PDF atau file Microsoft Word. Hal ini dapat mencari dokumen diindeks dan mengembalikan jenis berikut tanggapan untuk pertanyaan:</p><div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Sebuah jawaban </p>
                </li><li class="listitem">
                    <p>Entri dari FAQ yang mungkin menjawab pertanyaan</p>
                </li><li class="listitem">
                    <p>Dokumen yang terkait dengan pertanyaan</p>
                </li></ul></div><p>Untuk contoh menggunakan<code class="code">AMAZON.KendraSearchIntent</code>, lihat<a href="./faq-bot-kendra-search.html">Contoh: Membuat Bot FAQ untuk Indeks Amazon Kendra</a>.</p><p>Jika Anda mengonfigurasi<code class="code">AMAZON.KendraSearchIntent</code> maksud untuk bot Anda, Amazon Lex V2 memanggil maksud kapan pun tidak dapat menentukan ucapan pengguna untuk maksud. Jika tidak ada tanggapan dari Amazon Kendra, percakapan berlanjut seperti yang dikonfigurasi di bot.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p> Amazon Lex V2 saat ini tidak mendukung<code class="code">AMAZON.KendraSearchIntent</code> selama Slot elicitation. Jika Amazon Lex V2 tidak dapat menentukan ucapan pengguna untuk slot, panggilan<code class="code">AMAZON.FallbackIntent</code>. </p></div></div><p>Ketika Anda menggunakan<code class="code">AMAZON.KendraSearchIntent</code> dengan<code class="code">AMAZON.FallbackIntent</code> dalam bot yang sama, Amazon Lex V2 menggunakan maksud sebagai berikut:</p><div class="orderedlist">
                 
                 
                 
                 
            <ol><li>
                    <p>Amazon Lex V2 panggilan<code class="code">AMAZON.KendraSearchIntent</code>. Tujuannya memanggil<code class="code">Query</code> operasi Amazon Kendra.</p>
                </li><li>
                    <p>Jika Amazon Kendra mengembalikan respons, Amazon Lex V2 menampilkan hasilnya kepada pengguna.</p>
                </li><li>
                    <p>Jika tidak ada tanggapan dari Amazon Kendra, Amazon Lex V2 meminta kembali pengguna. Tindakan selanjutnya tergantung pada respons dari pengguna.</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Jika respons dari pengguna berisi ucapan yang dikenali Amazon Lex V2, seperti mengisi nilai slot atau mengonfirmasi maksud, percakapan dengan pengguna akan berjalan seperti yang dikonfigurasi untuk bot.</p>
                        </li><li class="listitem">
                            <p>Jika respons dari pengguna tidak mengandung ucapan yang dikenali Amazon Lex V2, Amazon Lex V2 membuat panggilan lain ke<code class="code">Query</code> operasi.</p>
                        </li></ul></div>
                </li><li>
                    <p>Jika tidak ada respons setelah jumlah percobaan ulang yang dikonfigurasi, Amazon Lex V2 memanggil<code class="code">AMAZON.FallbackIntent</code> dan mengakhiri percakapan dengan pengguna.</p>
                </li></ol></div><p>Ada tiga cara untuk menggunakan<code class="code">AMAZON.KendraSearchIntent</code> untuk membuat permintaan ke Amazon Kendra:</p><div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Biarkan intent pencarian membuat permintaan untuk Anda. Amazon Lex V2 memanggil Amazon Kendra dengan ucapan pengguna sebagai string pencarian. Saat membuat maksud, Anda dapat menentukan string filter kueri yang membatasi jumlah respons yang dikembalikan Amazon Kendra. Amazon Lex V2 menggunakan filter dalam permintaan kueri.</p>
                </li><li class="listitem">
                    <p>Tambahkan parameter kueri tambahan ke permintaan untuk mempersempit hasil pencarian menggunakan fungsi Lambda Anda. Anda menambahkan<code class="code">kendraQueryFilterString</code> bidang yang berisi parameter kueri Amazon Kendra ke tindakan<code class="code">delegate</code> dialog. Bila Anda menambahkan parameter kueri ke permintaan dengan fungsi Lambda, parameter tersebut lebih diutamakan daripada filter kueri yang Anda tentukan saat membuat intent.</p>
                </li><li class="listitem">
                    <p>Buat kueri baru menggunakan fungsi Lambda. Anda dapat membuat permintaan kueri Amazon Kendra lengkap yang dikirim Amazon Lex V2. Anda menentukan kueri di<code class="code">kendraQueryRequestPayload</code> bidang dalam tindakan<code class="code">delegate</code> dialog. <code class="code">kendraQueryRequestPayload</code>Bidang lebih diutamakan daripada<code class="code">kendraQueryFilterString</code> lapangan.</p>
                </li></ul></div><p>Untuk menentukan<code class="code">queryFilterString</code> parameter saat Anda membuat bot, atau untuk menentukan<code class="code">kendraQueryFilterString</code> bidang saat Anda memanggil<code class="code">delegate</code> aksi dalam fungsi Lambda dialog, Anda menentukan string yang digunakan sebagai filter atribut untuk kueri Amazon Kendra. Jika string bukan filter atribut yang valid, Anda akan mendapatkan<code class="code">InvalidBotConfigException</code> pengecualian saat runtime. Untuk informasi selengkapnya tentang filter atribut, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/filtering.html#search-filtering">Menggunakan atribut dokumen untuk memfilter kueri</a> di <em>Panduan Pengembang Amazon Kendra</em>.</p><p>Untuk memiliki kontrol atas kueri yang dikirim Amazon Lex V2 ke Amazon Kendra, Anda dapat menentukan kueri di<code class="code">kendraQueryRequestPayload</code> bidang dalam fungsi Lambda Anda. Jika kueri tidak valid, Amazon Lex V2 mengembalikan<code class="code">InvalidLambdaResponseException</code> pengecualian. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">operasi Query</a> di <em>Panduan Pengembang Amazon Kendra</em>.</p><p>Untuk contoh bagaimana menggunakan<code class="code">AMAZON.KendraSearchIntent</code>, lihat<a href="./faq-bot-kendra-search.html">Contoh: Membuat Bot FAQ untuk Indeks Amazon Kendra</a>.</p>
                <h2 id="kendra-search-iam">Kebijakan IAM untuk Pencarian Amazon Kendra</h2>
                <p>Untuk menggunakan<code class="code">AMAZON.KendraSearchIntent</code> maksud, Anda harus menggunakan peran yang menyediakan kebijakanAWS Identity and Access Management (IAM) yang memungkinkan Amazon Lex V2 untuk mengambil peran runtime yang memiliki izin untuk memanggil<code class="code">Query</code> maksud Amazon Kendra. Pengaturan IAM yang Anda gunakan bergantung pada apakah Anda membuat konsol Amazon Lex V2, atau menggunakan AWS SDK atauAWS Command Line Interface (AWS CLI).<code class="code">AMAZON.KendraSearchIntent</code> Saat menggunakan konsol, Anda dapat memilih antara menambahkan izin untuk memanggil Amazon Kendra ke peran terkait layanan Amazon Lex V2 atau menggunakan peran khusus untuk memanggil<code class="code">Query</code> operasi Amazon Kendra. Bila Anda menggunakanAWS CLI atau SDK untuk membuat maksud, Anda harus menggunakan peran khusus untuk memanggil<code class="code">Query</code> operasi.</p>
                 
                    <h3 id="kendra-iam-attach">Melampirkan Izin Terlebih Dulu </h3>
                    <p>Anda dapat menggunakan konsol untuk melampirkan izin untuk mengakses<code class="code">Query</code> operasi Amazon Kendra ke peran tertaut layanan Amazon Lex V2 default. Saat Anda melampirkan izin ke peran terkait layanan, Anda tidak perlu membuat dan mengelola peran waktu proses secara khusus untuk terhubung ke indeks Amazon Kendra.</p>
                    <p>Pengguna, peran, atau grup yang Anda gunakan untuk mengakses konsol Amazon Lex V2 harus memiliki izin untuk mengelola kebijakan peran. Lampirkan kebijakan IAM berikut untuk peran akses konsol. Saat Anda memberikan izin ini, peran tersebut memiliki izin untuk mengubah kebijakan peran terkait layanan yang ada. </p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "iam:AttachRolePolicy",
                "iam:PutRolePolicy",
                "iam:GetRolePolicy"
            ],
            "Resource": "arn:aws:iam::*:role/aws-service-role/lexv2.amazonaws.com/AWSServiceRoleForLexBots*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": "iam:ListRoles",
            "Resource": "*"
        }
    ]
}</code></pre>
                 
                 
                    <h3 id="kendra-iam-role">Menentukan Peran </h3>
                    <p>Anda dapat menggunakan konsol,AWS CLI, atau API untuk menentukan peran waktu proses yang akan digunakan saat memanggil<code class="code">Query</code> operasi Amazon Kendra. </p>
                    <p>Pengguna, peran, atau grup yang Anda gunakan untuk menentukan peran waktu proses harus memiliki<code class="code">iam:PassRole</code> izin. Kebijakan berikut mendefinisikan izin. Anda dapat menggunakan kunci konteks<code class="code">iam:AssociatedResourceArn</code> dan<code class="code">iam:PassedToService</code> kondisi untuk membatasi cakupan izin lebih lanjut. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html">IAM danAWS STS Condition Context Keys</a> di <em>AWS Identity and Access ManagementUser Guide</em>.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": "iam:PassRole",
            "Resource": "arn:aws:iam::<code class="replaceable">account</code>:role/<code class="replaceable">role</code>"
        }
    ]
}</code></pre>
                    <p>Peran runtime yang perlu digunakan Amazon Lex V2 untuk memanggil Amazon Kendra harus memiliki<code class="code">kendra:Query</code> izin. Bila Anda menggunakan peran IAM yang ada untuk izin untuk memanggil<code class="code">Query</code> operasi Amazon Kendra, peran tersebut harus memiliki kebijakan berikut yang dilampirkan.</p>
                    <p>Anda dapat menggunakan konsol IAM, API, atauAWS CLI untuk membuat kebijakan dan melampirkannya ke peran. Petunjuk ini menggunakan AWS CLI untuk menciptakan peran dan kebijakan ini.</p>
                    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>catatan</h6></div><div class="awsdocs-note-text"><p>Kode berikut diformat untuk Linux dan macOS. Untuk Windows, ganti karakter kelanjutan baris Linux (\) dengan tanda sisipan (^).</p></div></div>
                    <div class="procedure"><h6>Untuk menambahkan izin operasi Query ke peran</h6><ol><li>
                            <p>Buat dokumen yang disebut<code class="userinput">KendraQueryPolicy.json</code> di direktori saat ini, dan menyimpannya</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:Query"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account</code>:index/<code class="replaceable">index ID</code>"
            ]
        }
    ]
}</code></pre>
                        </li><li>
                            <p>DalamAWS CLI, jalankan perintah berikut untuk membuat kebijakan IAM untuk menjalankan<code class="code">Query</code> operasi Amazon Kendra.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam create-policy \
    --policy-name <code class="replaceable">query-policy-name</code> \
    --policy-document file://KendraQueryPolicy.json</code></pre>
                        </li><li>
                            <p>Lampirkan kebijakan ke IAM role yang Anda gunakan untuk memanggil<code class="code">Query</code> operasi.</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam attach-role-policy \
    --policy-arn arn:aws:iam::<code class="replaceable">account-id</code>:policy/<code class="replaceable">query-policy-name</code>
    --role-name <code class="replaceable">role-name</code></code></pre>
                        </li></ol></div>
                    <p>Anda dapat memilih untuk memperbarui peran terkait layanan Amazon Lex V2 atau menggunakan peran yang Anda buat saat membuat<code class="code">AMAZON.KendraSearchIntent</code> untuk bot Anda. Prosedur berikut menunjukkan cara memilih peran IAM untuk digunakan.</p>
                    <div class="procedure"><h6>Untuk menentukan peran runtime untuk AMAZON. KendraSearchIntent</h6><ol><li>
                            <p>Masuk keAWS Management Console dan buka konsol Amazon Lex di <a href="https://console.aws.amazon.com/lex/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/lex/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                        </li><li>
                            <p>Pilih bot yang ingin Anda tambahkan.<code class="code">AMAZON.KendraSearchIntent</code></p>
                        </li><li>
                            <p>Pilih plus (+) di sebelah <b>Intent</b>.</p>
                        </li><li>
                            <p>Di <b>Tambahkan maksud</b>, pilih <b>Cari maksud yang ada</b>.</p>
                        </li><li>
                            <p>Di <b>maksud pencarian</b>, masukkan<code class="userinput">AMAZON.KendraSearchIntent</code> dan kemudian pilih <b>Tambah</b>.</p>
                        </li><li>
                            <p>Di <b>Salin maksud bawaan</b>, masukkan nama untuk maksud, seperti<code class="userinput">KendraSearchIntent</code>, lalu pilih <b>Tambah</b>.</p>
                        </li><li>
                            <p>Buka bagian <b>kueri Amazon Kendra</b>.</p>
                        </li><li>
                            <p>Untuk <b>peran IAM</b>, pilih salah satu opsi berikut:</p>
                            <div class="itemizedlist">
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p>Untuk memperbarui peran terkait layanan Amazon Lex V2 agar bot Anda dapat melakukan kueri indeks Amazon Kendra, pilih <b>Tambahkan izin Amazon Kendra</b>.</p>
                                </li><li class="listitem">
                                    <p>Untuk menggunakan peran yang memiliki izin untuk memanggil<code class="code">Query</code> operasi Amazon Kendra, pilih <b>Gunakan peran yang ada</b>.</p>
                                </li></ul></div>
                        </li></ol></div>
                 
             
                <h2 id="kendra-search-filter">Menggunakan Atribut Permintaan dan Sesi sebagai Filter</h2>
                <p>Untuk memfilter respons dari Amazon Kendra ke item yang terkait dengan percakapan saat ini, gunakan atribut sesi dan minta sebagai filter dengan menambahkan<code class="code">queryFilterString</code> parameter saat Anda membuat bot. Anda menentukan placeholder untuk atribut saat Anda membuat intent, dan kemudian Amazon Lex V2 mengganti nilai sebelum memanggil Amazon Kendra. Untuk informasi lebih lanjut tentang atribut permintaan, lihat<a href="./context-mgmt-request-attribs.html">Pengaturan</a>. Untuk informasi lebih lanjut tentang atribut sesi, lihat<a href="./context-mgmt-session-attribs.html">Mengatur atribut sesi</a>.</p>
                <p>Berikut ini adalah contoh<code class="code">queryFilterString</code> parameter yang menggunakan string untuk memfilter kueri Amazon Kendra.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"<span>{</span>"equalsTo": <span>{</span>"key": "City", "value": <span>{</span>"stringValue": "Seattle"}}}"</code></pre>
                <p>Berikut ini adalah contoh<code class="code">queryFilterString</code> parameter yang menggunakan atribut sesi yang dipanggil<code class="code">"SourceURI"</code> untuk memfilter kueri Amazon Kendra.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"<span>{</span>"equalsTo": <span>{</span>"key": "SourceURI","value": <span>{</span>"stringValue": "[FileURL]"}}}"</code></pre>
                <p>Berikut ini adalah contoh<code class="code">queryFilterString</code> parameter yang menggunakan atribut request yang dipanggil<code class="code">"DepartmentName"</code> untuk memfilter kueri Amazon Kendra.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"<span>{</span>"equalsTo": <span>{</span>"key": "Department","value": <span>{</span>"stringValue": "((DepartmentName))"}}}"</code></pre>
                <p><code class="code">AMAZON.KendraSearchInteng</code>Filter menggunakan format yang sama dengan filter pencarian Amazon Kendra. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/filtering.html#search-filtering">Menggunakan atribut dokumen untuk memfilter hasil pencarian</a> di <em>panduan pengembang Amazon Kendra</em>.</p>
                <p>String filter query yang digunakan dengan<code class="code">AMAZON.KendraSearchIntent</code> harus menggunakan huruf kecil untuk huruf pertama dari setiap filter. Sebagai contoh, berikut ini adalah query filter yang valid untuk<code class="code">AMAZON.KendraSearchIntent</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "andAllFilters": [
        <span>{</span>
            "equalsTo": <span>{</span>
                "key": "City",
                "value": <span>{</span>
                    "stringValue": "Seattle"
                }
            }
        },
        <span>{</span>
            "equalsTo": <span>{</span>
                "key": "State",
                "value": <span>{</span>
                    "stringValue": "Washington"
                }
            }
        }
    ]
}</code></pre>
             
                <h2 id="kendra-search-response">Menggunakan Respons Pencarian</h2>
                <p>Amazon Kendra mengembalikan respons terhadap pencarian dalam respons dari<code class="code">IntentClosingSetting</code> pernyataan intent. Maksud harus memiliki<code class="code">closingResponse</code> pernyataan kecuali fungsi Lambda menghasilkan pesan respons penutup.</p>
                <p>Amazon Kendra memiliki lima jenis tanggapan. </p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Dua respons berikut memerlukan FAQ untuk disiapkan untuk indeks Amazon Kendra Anda. Untuk detail selengkapnya, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/in-creating-faq.html">Menambahkan pertanyaan dan jawaban langsung ke indeks</a>.</p>
                        <div class="itemizedlist">
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p> <code class="code">x-amz-lex:kendra-search-response-question_answer-question-&lt;N&gt;</code>- Pertanyaan dari FAQ yang cocok dengan pencarian. </p>
                            </li><li class="listitem">
                                <p> <code class="code">x-amz-lex:kendra-search-response-question_answer-answer-&lt;N&gt;</code>- Jawaban dari FAQ yang cocok dengan pencarian. </p>
                            </li></ul></div>                        
                    </li><li class="listitem">
                        <p>Tiga respons berikut memerlukan sumber data untuk disiapkan untuk indeks Amazon Kendra Anda. Untuk rincian selengkapnya, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/data-source.html">Membuat sumber data</a>. </p>
                        <div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">x-amz-lex:kendra-search-response-document-&lt;N&gt;</code>— Kutipan dari dokumen dalam indeks yang terkait dengan teks ucapan.</p>
                            </li><li class="listitem">
                                <p><code class="code">x-amz-lex:kendra-search-response-document-link-&lt;N&gt;</code>- URL dokumen dalam indeks yang terkait dengan teks ucapan.</p>
                            </li><li class="listitem">
                                <p><code class="code">x-amz-lex:kendra-search-response-answer-&lt;N&gt;</code>— Kutipan dari dokumen dalam indeks yang menjawab pertanyaan.</p>
                            </li></ul></div>
                    </li></ul></div>
                <p>Tanggapan dikembalikan dalam<code class="code">request</code> atribut. Bisa ada hingga lima tanggapan untuk setiap atribut, bernomor 1 sampai 5. Untuk informasi selengkapnya tentang tanggapan, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/response-types.html">Jenis respons</a> di <em>Panduan Pengembang Amazon Kendra</em>. </p>
                <p><code class="code">closingResponse</code>Pernyataan harus memiliki satu atau beberapa kelompok pesan. Setiap grup pesan berisi satu atau beberapa pesan. Setiap pesan dapat berisi satu atau beberapa variabel placeholder yang diganti dengan atribut permintaan dalam respons dari Amazon Kendra. Harus ada setidaknya satu pesan dalam grup pesan di mana semua variabel dalam pesan diganti dengan nilai atribut permintaan dalam respons runtime, atau harus ada pesan dalam grup tanpa variabel placeholder. Atribut permintaan berangkat dengan tanda kurung ganda (“((” “))”). Pesan grup pesan berikut cocok dengan respons apa pun dari Amazon Kendra:</p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>“Saya menemukan pertanyaan FAQ untuk Anda: ((x-amz-lex:kendra-search-response-question _answer-question-1)), dan jawabannya adalah ((x-amz-lex:kendra-search-response-question _answer-answer-1))”</p>
                    </li><li class="listitem">
                        <p>“Saya menemukan kutipan dari dokumen yang bermanfaat: ((x-amz-lex:kendra-search-response-document -1))”</p>
                    </li><li class="listitem">
                        <p>“Saya pikir jawaban atas pertanyaan Anda adalah ((x-amz-lex:kendra-search-response-answer -1))”</p>
                    </li></ul></div>
             
                <h2 id="kendra-search-lambda">Menggunakan Fungsi Lambda untuk Mengelola Permintaan dan Respons</h2>
                <p><code class="code">AMAZON.KendraSearchIntent</code>Maksud tersebut dapat menggunakan hook kode dialog dan hook kode pemenuhan Anda untuk mengelola permintaan ke Amazon Kendra dan respons. Gunakan fungsi Lambda kait kode dialog saat Anda ingin memodifikasi kueri yang Anda kirim ke Amazon Kendra, dan kode pemenuhan mengaitkan fungsi Lambda saat Anda ingin memodifikasi respons.</p>
                 
                    <h3 id="kendra-search-lambda-dialog">Membuat Query dengan Hook Kode Dialog</h3>
                    <p>Anda dapat menggunakan kait kode dialog untuk membuat kueri yang akan dikirim ke Amazon Kendra. Menggunakan hook kode dialog adalah opsional. Jika Anda tidak menentukan hook kode dialog, Amazon Lex V2 membuat kueri dari ucapan pengguna dan menggunakan<code class="code">queryFilterString</code> yang Anda berikan saat mengonfigurasi intent, jika Anda menyediakannya.</p>
                    <p>Anda dapat menggunakan dua bidang dalam respons kait kode dialog untuk memodifikasi permintaan ke Amazon Kendra:</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><code class="code">kendraQueryFilterString</code>- Gunakan string ini untuk menentukan filter atribut untuk permintaan Amazon Kendra. Anda dapat memfilter query menggunakan salah satu bidang indeks didefinisikan dalam indeks Anda. Untuk struktur string filter, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/filtering.html#search-filtering">Menggunakan atribut dokumen untuk memfilter kueri</a> di <em>Panduan Pengembang Amazon Kendra</em>. Jika string filter yang ditentukan tidak valid, Anda akan mendapatkan<code class="code">InvalidLambdaResponseException</code> pengecualian. <code class="code">kendraQueryFilterString</code>String menimpa string kueri yang ditentukan dalam<code class="code">queryFilterString</code> konfigurasi untuk intent.</p>
                        </li><li class="listitem">
                            <p><code class="code">kendraQueryRequestPayload</code>- Gunakan string ini untuk menentukan kueri Amazon Kendra. Kueri Anda dapat menggunakan salah satu fitur Amazon Kendra. Jika Anda tidak menentukan kueri yang valid, Anda akan mendapatkan<code class="code">InvalidLambdaResponseException</code> pengecualian. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Kueri</a> di <em>Panduan Pengembang Amazon Kendra</em>.</p>
                        </li></ul></div>
                    <p>Setelah Anda membuat filter atau string kueri, Anda mengirim respons ke Amazon Lex V2 dengan<code class="code">dialogAction</code> bidang respons yang ditetapkan<code class="code">delegate</code>. Amazon Lex V2 mengirimkan kueri ke Amazon Kendra dan kemudian mengembalikan respons kueri ke hook kode pemenuhan.</p>
                 
                 
                    <h3 id="kendra-search-lambda-fulfillment">Menggunakan Hook Kode Pemenuhan untuk Respon</h3>
                    <p>Setelah Amazon Lex V2 mengirimkan kueri ke Amazon Kendra, respons kueri dikembalikan ke fungsi<code class="code">AMAZON.KendraSearchIntent</code> Lambda pemenuhan. Peristiwa masukan ke hook kode berisi respons lengkap dari Amazon Kendra. Data kueri berada dalam struktur yang sama dengan yang dikembalikan oleh<code class="code">Query</code> operasi Amazon Kendra. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html#API_Query_ResponseSyntax">Sintaks respons kueri</a> di <em>Panduan Pengembang Amazon Kendra</em>.</p>
                    <p>Pengait kode pemenuhan adalah opsional. Jika salah satu tidak ada, atau jika hook kode tidak mengembalikan pesan dalam respons, Amazon Lex V2 menggunakan<code class="code">closingResponse</code> pernyataan untuk tanggapan.</p>
                 
            <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./built-in-intent-help.html">AMAZON. HelpIntent</div><div id="next" class="next-link" accesskey="n" href="./faq-bot-kendra-search.html">Contoh: Membuat Bot FAQ untuk Indeks Amazon Kendra</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-kendra-search.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>