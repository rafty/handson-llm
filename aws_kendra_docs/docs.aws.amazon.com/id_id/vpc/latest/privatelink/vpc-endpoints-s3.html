<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="id-ID"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Titik akhir gateway untuk Amazon S3 - Amazon Virtual Private Cloud</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="vpc-endpoints-s3" /><meta name="default_state" content="vpc-endpoints-s3" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="description" content="Anda dapat mengakses Amazon S3 dari VPC Anda menggunakan titik akhir gateway VPC. Setelah Anda membuat titik akhir gateway, Anda dapat menambahkannya sebagai target di tabel rute Anda untuk lalu lintas yang ditakdirkan dari VPC Anda ke Amazon S3." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Virtual Private Cloud" /><meta name="guide" content="AWS PrivateLink" /><meta name="abstract" content="GunakanAWS PrivateLink untuk menghubungkan VPC Anda ke layanan yang didukungLayanan AWS, yang dihosting oleh layanan mitraAWS Marketplace lainnyaAkun AWS, dan didukung." /><meta name="guide-locale" content="id_id" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="x-default" /><meta name="feedback-item" content="PrivateLink" /><meta name="this_doc_product" content="Amazon Virtual Private Cloud" /><meta name="this_doc_guide" content="AWS PrivateLink" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'vpc'}"></script><meta id="panorama-serviceSubSection" value="AWS PrivateLink" /><meta id="panorama-serviceConsolePage" value="Titik akhir gateway untuk Amazon S3" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Titik akhir gateway untuk Amazon S3 - Amazon Virtual Private Cloud</title><meta name="pdf" content="aws-privatelink.pdf#vpc-endpoints-s3" /><meta name="rss" content="privatelink-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=58" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=http://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="keywords" content="VPC,Amazon VPC,PrivateLink" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon VPC",
        "item" : "https://docs.aws.amazon.com/vpc/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "AWS PrivateLink",
        "item" : "https://docs.aws.amazon.com/id_id/vpc/latest/privatelink"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AksesLayanan AWS melaluiAWS PrivateLink",
        "item" : "https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/privatelink-access-aws-services.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Titik akhir Gateway",
        "item" : "https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/gateway-endpoints.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Titik akhir gateway untuk Amazon S3",
        "item" : "https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/gateway-endpoints.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="aws-privatelink.pdf#vpc-endpoints-s3" target="_blank" rel="noopener noreferrer" title="Buka PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentasi</a><a href="/vpc/index.html">Amazon VPC</a><a href="what-is-privatelink.html">AWS PrivateLink</a></div><div id="page-toc-src"><a href="#gateway-endpoint-considerations-s3">Pertimbangan-pertimbangan</a><a href="#private-dns-s3">DNS pribadi</a><a href="#create-gateway-endpoint-s3">Membuat titik akhir gateway</a><a href="#bucket-policies-s3">Mengontrol akses menggunakan kebijakan bucket</a><a href="#associate-route-tables-s3">Tabel rute asosiasi</a><a href="#edit-vpc-endpoint-policy-s3">Mengedit kebijakan VPC endpoint</a><a href="#delete-gateway-endpoint-s3">Menghapus titik akhir gateway</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Terjemahan disediakan oleh mesin penerjemah. Jika konten terjemahan yang diberikan bertentangan dengan versi bahasa Inggris aslinya, utamakan versi bahasa Inggris.</p></awsui-alert><h1 class="topictitle" id="vpc-endpoints-s3">Titik akhir gateway untuk Amazon S3</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Anda dapat mengakses Amazon S3 dari VPC Anda menggunakan titik akhir gateway VPC. Setelah Anda membuat titik akhir gateway, Anda dapat menambahkannya sebagai target di tabel rute Anda untuk lalu lintas yang ditakdirkan dari VPC Anda ke Amazon S3.</p><p>Tidak ada biaya tambahan karena menggunakan titik akhir gateway.</p><p>Amazon S3 men-support titik akhir gateway dan antarmuka titik akhir. Dengan titik akhir gateway, Anda dapat mengakses Amazon S3 dari VPC Anda, tanpa memerlukan gateway internet atau perangkat NAT untuk VPC Anda, dan tanpa biaya tambahan. Namun, titik akhir gateway tidak mengizinkan akses dari jaringan lokal, dari VPC peered diAWS Wilayah lain, atau melalui gateway transit. Untuk skenario tersebut, Anda harus menggunakan endpoint antarmuka, yang tersedia dengan biaya tambahan. Untuk informasi selengkapnya, lihat <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/privatelink-interface-endpoints.html#types-of-vpc-endpoints-for-s3">Jenis titik akhir VPC untuk Amazon S3</a> di <em>Panduan Pengguna Amazon S3</em>.</p><div class="highlights" id="inline-topiclist"><h6>Daftar Isi</h6><ul><li><a href="#gateway-endpoint-considerations-s3">Pertimbangan-pertimbangan</a></li><li><a href="#private-dns-s3">DNS pribadi</a></li><li><a href="#create-gateway-endpoint-s3">Membuat titik akhir gateway</a></li><li><a href="#bucket-policies-s3">Mengontrol akses menggunakan kebijakan bucket</a></li><li><a href="#associate-route-tables-s3">Tabel rute asosiasi</a></li><li><a href="#edit-vpc-endpoint-policy-s3">Mengedit kebijakan VPC endpoint</a></li><li><a href="#delete-gateway-endpoint-s3">Menghapus titik akhir gateway</a></li></ul></div>
      <h2 id="gateway-endpoint-considerations-s3">Pertimbangan-pertimbangan</h2>
      <div class="itemizedlist">
         
         
         
         
         
         
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>Sebuah titik akhir gateway hanya tersedia di Wilayah tempat Anda membuatnya. Pastikan untuk membuat titik akhir gateway di Wilayah yang sama dengan bucket S3.</p>
        </li><li class="listitem">
          <p>Jika Anda menggunakan server Amazon DNS, Anda harus mengaktifkan <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html#vpc-dns-updating">nama host DNS dan resolusi DNS</a> untuk VPC Anda. Jika Anda menggunakan server DNS Anda sendiri, pastikan bahwa permintaan ke Amazon S3 dapat diselesaikan dengan benar ke alamat IP yang dikelola olehAWS.</p>
        </li><li class="listitem">
          <p>Periksa apakah Anda menggunakanLayanan AWS yang memerlukan akses ke bucket S3. Misalnya, layanan mungkin memerlukan akses ke bucket yang berisi file log, atau mungkin mengharuskan Anda mengunduh driver atau agen ke instans EC2 Anda. Jika demikian, pastikan bahwa kebijakan endpoint Anda memungkinkanLayanan AWS atau sumber daya untuk mengakses bucket ini menggunakan<code class="code">s3:GetObject</code> tindakan.</p>
        </li><li class="listitem">
          <p>Anda tidak dapat menggunakan kebijakan IAM atau kebijakan bucket untuk mengizinkan akses dari rentang CIDR IPv4 VPC. Blok CIDR VPC dapat tumpang tindih atau identik, yang dapat menyebabkan hasil yang tidak terduga. Oleh karena itu, Anda tidak dapat menggunakan<code class="code">aws:SourceIp</code> kondisi dalam kebijakan IAM Anda untuk permintaan ke Amazon S3 melalui titik akhir VPC. Ini berlaku untuk kebijakan berbasis identitas, dan kebijakan bucket apa pun. Jika pernyataan termasuk<code class="code">aws:SourceIp</code> kondisi, nilai gagal untuk mencocokkan alamat IP yang disediakan atau jangkauan. Sebagai gantinya, Anda dapat melakukan hal berikut:</p>
          <div class="itemizedlist">
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p>Gunakan tabel rute untuk mengontrol instans mana yang dapat mengakses sumber daya di Amazon S3 melalui titik akhir gateway.</p>
            </li><li class="listitem">
              <p>Gunakan <a href="#bucket-policies-s3">kebijakan bucket</a> untuk membatasi akses ke rentang endpoint, VPC, atau alamat IP tertentu.</p>
            </li></ul></div>
        </li><li class="listitem">
          <p>Aturan keluar untuk grup keamanan untuk instans yang mengakses Amazon S3 melalui titik akhir gateway harus memungkinkan lalu lintas ke Amazon S3. Anda dapat menggunakan ID daftar awalan untuk Amazon S3 sebagai tujuan dalam aturan keluar.</p>
        </li><li class="listitem">
          <p>Titik akhir gateway hanya men-support lalu lintas IPv4.</p>
        </li><li class="listitem">
          <p>Alamat sumber IPv4 dari instans dalam subnet Anda yang terpengaruh seperti yang diterima oleh Amazon S3 berubah dari alamat IPv4 publik ke alamat IPv4 pribadi di VPC Anda. Titik akhir mengalihkan rute jaringan, dan memutus koneksi TCP terbuka. Koneksi sebelumnya yang menggunakan alamat IPv4 publik tidak dilanjutkan. Kami menyarankan agar Anda tidak menjalankan tugas penting saat membuat atau memodifikasi titik akhir; atau Anda menguji untuk memastikan bahwa perangkat lunak Anda dapat secara otomatis terhubung kembali ke Amazon S3 setelah sambungan putus.</p>
        </li><li class="listitem">
          <p>Koneksi titik akhir tidak dapat diperpanjang dari VPC. Sumber daya di sisi lain dari Koneksi VPN, Koneksi peering VPC, gateway transit, atauAWS Direct Connect Koneksi di VPC Anda tidak dapat menggunakan gateway endpoint untuk berkomunikasi dengan Amazon S3.</p>
        </li><li class="listitem">
          <p>Akun Anda memiliki kuota default 20 titik akhir gateway per Wilayah, yang dapat disesuaikan. Ada juga batas 255 titik akhir gateway per VPC.</p>
        </li></ul></div>
     
      <h2 id="private-dns-s3">DNS pribadi</h2>
      <p>Anda dapat mengonfigurasi DNS pribadi untuk mengoptimalkan biaya saat membuat titik akhir gateway dan titik akhir antarmuka untuk Amazon S3.</p>

       
        <h6>Route 53 Resolver</h6>
        <p>Amazon menyediakan server DNS, yang disebut <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver.html">Resolver Route 53</a>, untuk VPC Anda. Route 53 Resolver secara otomatis menyelesaikan nama dan catatan domain VPC lokal di zona host pribadi. Namun, Anda tidak dapat menggunakan Route 53 Resolver dari luar VPC Anda. Route 53 menyediakan titik akhir Resolver dan aturan Resolver sehingga Anda dapat menggunakan Route 53 Resolver dari luar VPC Anda. <em>Titik akhir Resolver masuk</em> meneruskan kueri DNS dari jaringan lokal ke Route 53 Resolver. <em>Titik akhir Resolver keluar</em> meneruskan kueri DNS dari Resolver Route 53 ke jaringan lokal.</p>
       
      <p>Saat Anda mengonfigurasi titik akhir antarmuka untuk Amazon S3 agar menggunakan DNS pribadi hanya untuk titik akhir Resolver masuk, kami membuat titik akhir Resolver masuk. Endpoint Resolver masuk menyelesaikan kueri DNS ke Amazon S3 dari lokal ke alamat IP pribadi titik akhir antarmuka. Kami juga menambahkan catatan ALIAS untuk Resolver Route 53 ke zona host publik untuk Amazon S3, sehingga kueri DNS dari VPC Anda diselesaikan ke alamat IP publik Amazon S3, yang merutekan lalu lintas ke titik akhir gateway.</p>
      
       
        <h6>DNS pribadi</h6>
        <p>Jika Anda mengonfigurasi DNS pribadi untuk titik akhir antarmuka untuk Amazon S3 tetapi tidak mengonfigurasi DNS pribadi hanya untuk titik akhir Resolver masuk, permintaan dari jaringan lokal dan VPC Anda menggunakan titik akhir antarmuka untuk mengakses Amazon S3. Oleh karena itu, Anda membayar untuk menggunakan endpoint antarmuka untuk lalu lintas dari VPC, alih-alih menggunakan titik akhir gateway tanpa biaya tambahan.</p>
       
      <div class="mediaobject">
         
          <img src="images/s3-private-dns-default.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;          Grafik konseptual yang menunjukkan bagaimana permintaan Amazon S3 dirutekan secara default ketika Anda memiliki kedua jenis titik akhir.&#xA;        " />
         
         
      </div>
      
       
        <h6>DNS pribadi hanya untuk titik akhir Resolver masuk</h6>
        <p>Jika Anda mengonfigurasi DNS pribadi hanya untuk titik akhir Resolver masuk, permintaan dari jaringan lokal Anda menggunakan titik akhir antarmuka untuk mengakses Amazon S3, dan permintaan dari VPC Anda menggunakan titik akhir gateway untuk mengakses Amazon S3. Oleh karena itu, Anda mengoptimalkan biaya Anda, karena Anda membayar untuk menggunakan endpoint antarmuka hanya untuk lalu lintas yang tidak dapat menggunakan titik akhir gateway.</p>
       
      <div class="mediaobject">
         
          <img src="images/s3-private-dns-inbound-endpoint.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;          Grafik konseptual yang menunjukkan bagaimana permintaan Amazon S3 dirutekan ketika Anda memiliki kedua jenis titik akhir dan Anda mengonfigurasi DNS pribadi dengan titik akhir Resolver masuk.&#xA;        " />
         
         
      </div>
      
       
        <h6>Mengonfigurasi DNS pribadi</h6>
        <p>Anda dapat mengonfigurasi DNS pribadi untuk titik akhir antarmuka untuk Amazon S3 saat Anda membuatnya atau setelah Anda membuatnya. Untuk informasi selengkapnya, lihat<a href="./create-interface-endpoint.html#create-interface-endpoint-aws">Buat VPC endpoint</a> (konfigurasikan selama pembuatan) atau<a href="./interface-endpoints.html#enable-private-dns-names">Aktifkan nama DNS pribadi</a> (konfigurasikan setelah pembuatan).</p>
       
     
      <h2 id="create-gateway-endpoint-s3">Membuat titik akhir gateway</h2>
      <p>Gunakan prosedur berikut untuk membuat titik akhir gateway yang terhubung ke Amazon S3.</p>
      <div class="procedure"><h6>Untuk membuat titik akhir gateway menggunakan konsol</h6><ol><li><p>Buka konsol Amazon VPC di <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Di panel navigasi, pilih <b>Titik akhir</b>.</p>
        </li><li>
          <p>Pilih <b>Buat Titik Akhir</b>.</p>
        </li><li>
          <p>Untuk <b>kategori Layanan</b>, pilih <b>Layanan AWS</b>.</p>
        </li><li>
          <p>Untuk <b>Layanan</b>, tambahkan filter <b>Type: Gateway</b> dan pilih <b>com.amazonaws.</b> <code class="replaceable"><b>wilayah.s3</b></code>.</p>
        </li><li>
          <p>Untuk <b>VPC</b>, pilih VPC tempat untuk membuat titik akhir.</p>
        </li><li>
          <p>Untuk <b>tabel Route</b>, pilih tabel rute yang akan digunakan oleh titik akhir. Kami secara otomatis menambahkan rute yang mengarahkan lalu lintas yang ditujukan untuk layanan ke antarmuka jaringan endpoint.</p>
        </li><li>
          <p>Untuk <b>Kebijakan</b>, pilih <b>Akses penuh</b> untuk mengizinkan semua operasi oleh semua prinsipal di semua sumber daya di semua sumber daya di VPC endpoint. Jika tidak, pilih <b>Kustom</b> untuk melampirkan kebijakan titik akhir VPC yang mengontrol izin yang harus dilakukan prinsipal untuk melakukan tindakan pada sumber daya melalui titik akhir VPC.</p>
        </li><li>
          <p>(Opsional) Untuk menambahkan tag, pilih <b>Tambahkan tag baru</b> dan masukkan kunci tag dan nilai tag.</p>
        </li><li>
          <p>Pilih <b>Buat Titik Akhir</b>.</p>
        </li></ol></div>
      <div class="itemizedlist">
        <h6>Untuk membuat titik akhir gateway menggunakan baris perintah</h6>
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/create-vpc-endpoint.html">create-vpc-endpoint</a> (AWS CLI)</p>
        </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2VpcEndpoint.html">Baru-EC2VpcEndpoint</a> (Alat untuk Windows PowerShell)</p>
        </li></ul></div>
     
      <h2 id="bucket-policies-s3">Mengontrol akses menggunakan kebijakan bucket</h2>
      <p>Anda dapat menggunakan kebijakan ember untuk mengontrol akses ke bucket dari titik akhir tertentu, VPC, rentang alamat IP, danAkun AWS.</p>
      <div class="example"><h6>contoh Contoh: Batasi akses ke titik akhir tertentu</h6><div class="example-contents"><p>Anda dapat membuat kebijakan ember yang membatasi akses ke titik akhir tertentu dengan menggunakan kunci kondisi <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourcevpce">aws:SourceVpce</a> tersebut. Kebijakan berikut menolak akses ke bucket yang ditentukan kecuali titik akhir gateway yang ditentukan digunakan. Contoh ini mengasumsikan bahwa ada juga pernyataan kebijakan yang memungkinkan akses yang diperlukan untuk kasus penggunaan Anda.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Access-to-bucket-using-specific-endpoint",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-specific-VPCE-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:*",
      "Resource": ["arn:aws:s3:::<code class="replaceable">bucket_name</code>",
                   "arn:aws:s3:::<code class="replaceable">bucket_name</code>/*"],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:sourceVpce": "<code class="replaceable">vpce-1a2b3c4d</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
      <div class="example"><h6>contoh Contoh: Batasi akses ke VPC tertentu</h6><div class="example-contents"><p>Anda dapat membuat kebijakan ember yang membatasi akses ke VPC tertentu dengan menggunakan kunci kondisi <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourcevpc">aws:SourceVpc</a> tersebut. Ini berguna jika Anda memiliki beberapa titik akhir yang dikonfigurasi dalam VPC yang sama. Kebijakan berikut menolak akses ke bucket tertentu dan objeknya yang tidak berasal dari VPC yang ditentukan. Contoh ini mengasumsikan bahwa ada juga pernyataan kebijakan yang memungkinkan akses yang diperlukan untuk kasus penggunaan Anda.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Access-to-bucket-using-specific-VPC",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-specific-VPC-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:*",
      "Resource": ["arn:aws:s3:::<code class="replaceable">example_bucket</code>",
                   "arn:aws:s3:::<code class="replaceable">example_bucket</code>/*"],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:sourceVpc": "<code class="replaceable">vpc-111bbb22</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
      <div class="example"><h6>contoh Contoh: Batasi akses ke rentang alamat IP tertentu</h6><div class="example-contents"><p>Anda dapat membuat kebijakan yang membatasi akses ke rentang alamat IP tertentu dengan menggunakan kunci <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-vpcsourceip">aws:VpcSourceIp</a> condition. Kebijakan berikut menolak akses ke bucket yang ditentukan dan objeknya yang tidak berasal dari alamat IP yang ditentukan. Contoh ini mengasumsikan bahwa ada juga pernyataan kebijakan yang memungkinkan akses yang diperlukan untuk kasus penggunaan Anda.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Policy1415115909152",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-specific-VPC-CIDR-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:*",
      "Resource": ["arn:aws:s3:::<code class="replaceable">bucket_name</code>",
                   "arn:aws:s3:::<code class="replaceable">bucket_name</code>/*"],
      "Condition": <span>{</span>
        "NotIpAddress": <span>{</span>
          "aws:VpcSourceIp": "<code class="replaceable">172.31.0.0/16</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
      <div class="example"><h6>contoh Contoh: Batasi akses ke bucket tertentuAkun AWS</h6><div class="example-contents"><p>Anda dapat membuat kebijakan yang membatasi akses ke bucket S3 Amazon di tertentuAkun AWS dengan menggunakan kunci<code class="code">s3:ResourceAccount</code> kondisi. Kebijakan berikut menolak akses ke sumber daya yang tidak dimiliki oleh yang ditentukanAkun AWS. Contoh ini mengasumsikan bahwa ada juga pernyataan kebijakan yang memungkinkan akses yang diperlukan untuk kasus penggunaan Anda.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Policy1415115909152",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-bucket-in-specific-account-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": [
        "s3:GetObject",
        "s3:PutObject"
      ],
      "Resource": "arn:aws:s3:::*",
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "s3:ResourceAccount": "<code class="replaceable">111122223333</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
     
      <h2 id="associate-route-tables-s3">Tabel rute asosiasi</h2>
      <p>Anda dapat mengubah tabel rute yang terkait dengan gateway endpoint. Saat Anda mengaitkan tabel rute, kami secara otomatis menambahkan rute yang mengarahkan lalu lintas yang ditujukan untuk layanan ke antarmuka jaringan titik akhir. Ketika Anda memisahkan tabel rute, kami secara otomatis menghapus rute endpoint dari tabel rute.</p>
      <div class="procedure"><h6>Untuk mengasosiasikan tabel rute menggunakan konsol</h6><ol><li><p>Buka konsol Amazon VPC di <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Di panel navigasi, pilih <b>Titik akhir</b>.</p>
        </li><li>
          <p>Pilih titik akhir gateway.</p>
        </li><li>
          <p>Pilih <b>Tindakan</b>, <b>Kelola tabel rute</b>.</p>
        </li><li>
          <p>Pilih atau hapus pilihan tabel rute sesuai kebutuhan.</p>
        </li><li>
          <p>Pilih <b>Ubah tabel rute</b>.</p>
        </li></ol></div>
      <div class="itemizedlist">
        <h6>Untuk menghubungkan tabel rute menggunakan baris perintah</h6>
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-vpc-endpoint.html">modify-vpc-endpoint</a> (AWS CLI)</p>
        </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2VpcEndpoint.html">Edit-EC2VpcEndpoint</a> (Alat untuk Windows PowerShell)</p>
        </li></ul></div>
     
      <h2 id="edit-vpc-endpoint-policy-s3">Mengedit kebijakan VPC endpoint</h2>
      <p>Anda dapat mengedit kebijakan titik akhir untuk titik akhir gateway, yang mengontrol akses ke Amazon S3 dari VPC melalui titik akhir. Kebijakan default memungkinkan akses penuh. Untuk informasi selengkapnya, lihat <a href="./vpc-endpoints-access.html#vpc-endpoint-policies">Kebijakan VPC endpoint</a>.</p>
      <div class="procedure"><h6>Untuk mengubah kebijakan titik akhir menggunakan konsol</h6><ol><li><p>Buka konsol Amazon VPC di <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Di panel navigasi, pilih <b>Titik akhir</b>.</p>
        </li><li>
          <p>Pilih titik akhir gateway.</p>
        </li><li>
          <p>Pilih <b>Tindakan</b>, <b>Kelola kebijakan</b>.</p>
        </li><li>
          <p>Pilih <b>Akses Penuh</b> untuk memungkinkan akses penuh ke layanan, atau pilih <b>Kustom</b> dan lampirkan kebijakan khusus.</p>
        </li><li>
          <p>Pilih <b>Save</b> (Simpan).</p>
        </li></ol></div>

      <p>Berikut adalah kebijakan titik akhir contoh untuk mengakses Amazon S3.</p>
      <div class="example"><h6>contoh Contoh: Batasi akses ke bucket tertentu</h6><div class="example-contents"><p>Anda dapat membuat kebijakan yang membatasi akses ke bucket S3 tertentu saja. Hal ini berguna jika Anda memiliki yang lainLayanan AWS di VPC Anda yang menggunakan bucket S3.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Sid": "AccessToSpecificBucket",
  "Effect": "Allow",
  "Principal": "*",
  "Action": [
     "s3:ListBucket",
     "s3:GetObject",
     "s3:PutObject"
  ],
  "Resource": [
     "arn:aws:s3:::<code class="replaceable">bucket_name</code>",
     "arn:aws:s3:::<code class="replaceable">bucket_name</code>/*"
  ]
}</code></pre></div></div>
      <div class="example"><h6>contoh Contoh: Membatasi akses ke peran IAM tertentu</h6><div class="example-contents"><p>Anda dapat membuat kebijakan yang membatasi akses ke peran IAM tertentu. Anda harus menggunakan<code class="code">aws:PrincipalArn</code> untuk memberikan akses ke kepala sekolah.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Sid": "Restrict-access-to-specific-IAM-role",
  "Effect": "Allow",
  "Principal": "*",
  "Action": "*",
  "Resource": "*",
  "Condition": <span>{</span>
    "ArnEquals": <span>{</span>
      "aws:PrincipalArn": "arn:aws:iam::<code class="replaceable">111122223333</code>:role/<code class="replaceable">role_name</code>"
    }
  }
}</code></pre></div></div>
      <div class="example"><h6>contoh Contoh: Batasi akses ke pengguna di akun tertentu</h6><div class="example-contents"><p>Anda dapat membuat kebijakan yang membatasi akses ke akun tertentu. Anda harus menggunakan<code class="code">aws:PrincipalArn</code> untuk memberikan akses ke kepala sekolah.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Salinan"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Sid": "AllowCallersFromAccount111122223333",
  "Effect": "Allow",
  "Principal": "*",
  "Action": "*",
  "Resource": "*",
  "Condition": <span>{</span>
    "StringEquals": <span>{</span>
      "aws:PrincipalArn": "<code class="replaceable">111122223333</code>"
    }
  }
}</code></pre></div></div>
     
      <h2 id="delete-gateway-endpoint-s3">Menghapus titik akhir gateway</h2>
      <p>Setelah Anda selesai dengan titik akhir gateway, Anda dapat menghapusnya. Ketika Anda menghapus titik akhir gateway, kami menghapus rute endpoint dari tabel rute subnet.</p>
      <p>Anda tidak dapat menghapus titik akhir gateway jika DNS privat diaktifkan.</p>
      <div class="procedure"><h6>Untuk menghapus titik akhir gateway menggunakan konsol tersebut</h6><ol><li><p>Buka konsol Amazon VPC di <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Di panel navigasi, pilih <b>Titik akhir</b>.</p>
        </li><li>
          <p>Pilih titik akhir gateway.</p>
        </li><li>
          <p>Pilih <b>Tindakan</b>, <b>Hapus titik akhir VPC</b>. </p>
        </li><li>
          <p>Saat diminta konfirmasi, masukkan<code class="userinput">delete</code>.</p>
        </li><li>
          <p>Pilih <b>Delete</b> (Hapus).</p>
        </li></ol></div>
      <div class="itemizedlist">
        <h6>Untuk menghapus titik akhir gateway menggunakan baris perintah</h6>
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-vpc-endpoints.html">delete-vpc-endpoints</a> (AWS CLI)</p>
        </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2VpcEndpoint.html">Hapus-EC2VpcEndpoint</a> (Alat untuk Windows PowerShell)</p>
        </li></ul></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Awas" /> <strong>Javascript dinonaktifkan atau tidak tersedia di browser Anda.</strong></p><p>Untuk menggunakan Dokumentasi AWS, Javascript harus diaktifkan. Lihat halaman Bantuan browser Anda untuk petunjuk.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Konvensi Dokumen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./gateway-endpoints.html">Titik akhir Gateway</div><div id="next" class="next-link" accesskey="n" href="./vpc-endpoints-ddb.html">Titik akhir untuk DynamoDB</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Ya</div><div class="content"><p>Terima kasih telah memberitahukan bahwa hasil pekerjaan kami sudah baik.</p><p>Jika Anda memiliki waktu luang, beri tahu kami aspek apa saja yang sudah bagus, agar kami dapat menerapkannya secara lebih luas.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Apakah halaman ini membantu Anda? - Tidak</div><div class="content"><p>Terima kasih telah memberi tahu kami bahwa halaman ini perlu ditingkatkan. Maaf karena telah mengecewakan Anda.</p><p>Jika Anda memiliki waktu luang, beri tahu kami bagaimana dokumentasi ini dapat ditingkatkan.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Umpan Balik" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>