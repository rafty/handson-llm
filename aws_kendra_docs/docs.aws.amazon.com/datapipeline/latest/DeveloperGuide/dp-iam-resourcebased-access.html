<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IAM Policies for AWS Data Pipeline - AWS Data Pipeline</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="dp-iam-resourcebased-access" /><meta name="default_state" content="dp-iam-resourcebased-access" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" /><meta name="description" content="Control which AWS Data Pipeline resources can be viewed, created, and modified by IAM users." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Data Pipeline" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Automate the movement and transformation of data with AWS Data Pipeline." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" hreflang="x-default" /><meta name="feedback-item" content="AWS Data Pipeline" /><meta name="this_doc_product" content="AWS Data Pipeline" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'data-pipeline'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="IAM Policies for AWS Data Pipeline" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IAM Policies for AWS Data Pipeline - AWS Data Pipeline</title><meta name="pdf" content="/pdfs/datapipeline/latest/DeveloperGuide/datapipeline-dg.pdf#dp-iam-resourcebased-access" /><meta name="github" content="https://github.com/awsdocs/aws-data-pipeline-developer-guide/tree/master/doc_source/dp-iam-resourcebased-access.md" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=151" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20Data%20Pipeline&amp;topic_url=http://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html" /><meta name="keywords" content="AWS Data Pipeline,Amazon Data Pipeline,Data Pipeline" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/data-pipeline/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and Access Management for AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-control-access.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "IAM Policies for AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-control-access.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/datapipeline/latest/DeveloperGuide/datapipeline-dg.pdf#dp-iam-resourcebased-access" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/aws-data-pipeline-developer-guide/tree/master/doc_source/dp-iam-resourcebased-access.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/data-pipeline/index.html">AWS Data Pipeline</a><a href="what-is-datapipeline.html">Developer Guide</a></div><div id="page-toc-src"><a href="#dp-policy-syntax">Policy Syntax</a><a href="#dp-control-access-tags">Controlling Access to Pipelines Using
                Tags</a><a href="#dp-control-access-workergroup">Controlling Access to Pipelines Using
                Worker Groups</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="dp-iam-resourcebased-access">IAM Policies for AWS Data Pipeline</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>By default, IAM entities don't have permission to create or modify AWS resources. To
            allow IAM entities to create or modify resources and perform tasks, you must create IAM
            policies that grant IAM entities permission to use the specific resources and API actions
            they'll need, and then attach those policies to the IAM entities that require
            those permissions.</p><p>When you attach a policy to a user or group of users, it allows or denies the users
            permission to perform the specified tasks on the specified resources. For general
            information about IAM policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/PermissionsAndPolicies.html">Permissions and Policies</a> in
            the <em>IAM User Guide</em> guide. For more information about managing and
            creating custom IAM policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/ManagingPolicies.html">Managing IAM Policies</a>.</p><div class="highlights" id="inline-topiclist"><h6>Contents</h6><ul><li><a href="#dp-policy-syntax">Policy Syntax</a></li><li><a href="#dp-control-access-tags">Controlling Access to Pipelines Using
                Tags</a></li><li><a href="#dp-control-access-workergroup">Controlling Access to Pipelines Using
                Worker Groups</a></li></ul></div><h2 id="dp-policy-syntax">Policy Syntax</h2>
            
            <p>An IAM policy is a JSON document that consists of one or more statements. Each
                statement is structured as follows:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "Statement":[<span>{</span>
    "Effect":"<code class="replaceable">effect</code>",
    "Action":"<code class="replaceable">action</code>",
    "Resource":"*",
    "Condition":<span>{</span>
      "<code class="replaceable">condition</code>":<span>{</span>
        "<code class="replaceable">key</code>":"<code class="replaceable">value</code>"
        }
      }
    }
  ]
}</code></pre>
            <p>The following elements make up a policy statement:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Effect:</b> The <em>effect</em> can be
                        <code class="code">Allow</code> or <code class="code">Deny</code>. By default, IAM entities don't
                        have permission to use resources and API actions, so all requests are
                        denied. An explicit allow overrides the default. An explicit deny overrides
                        any allows.</p>
                </li><li class="listitem">
                    <p><b>Action</b>: The <em>action</em> is the
                        specific API action for which you are granting or denying permission. For a
                        list of actions for AWS Data Pipeline, see <a href="https://docs.aws.amazon.com/datapipeline/latest/APIReference/API_Operations.html">Actions</a> in the
                        <em>AWS Data Pipeline API Reference</em>.</p>
                </li><li class="listitem">
                    <p><b>Resource</b>: The resource that's affected by the action. The only valid value here is 
                        <code class="literal">"*"</code>.
                        </p>               
                </li><li class="listitem">
                    <p><b>Condition</b>: Conditions are optional. They can be used
                        to control when your policy will be in effect.</p>
                    <p>AWS Data Pipeline implements the AWS-wide context keys (see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/AccessPolicyLanguage_ElementDescriptions.html#AvailableKeys">Available Keys for Conditions</a>), plus the following service-specific keys.</p>
                    <div class="itemizedlist">
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p><code class="code">datapipeline:PipelineCreator</code> — To grant access to the
                                user that created the pipeline. For an example, see <a href="./dp-example-tag-policies.html#ex3">Grant the pipeline owner full access</a>.</p>
                        </li><li class="listitem">
                            <p><code class="code">datapipeline:Tag</code> — To grant access based on pipeline
                                tagging. For more information, see <a href="#dp-control-access-tags">Controlling Access to Pipelines Using
                Tags</a>.</p>
                        </li><li class="listitem">
                            <p><code class="code">datapipeline:workerGroup</code> — To grant access based on the
                                name of the worker group. For more information, see <a href="#dp-control-access-workergroup">Controlling Access to Pipelines Using
                Worker Groups</a>.</p>
                        </li></ul></div>
                </li></ul></div>

        <h2 id="dp-control-access-tags">Controlling Access to Pipelines Using
                Tags</h2>
            
            <p>You can create IAM policies that reference the tags for your pipeline. This
                enables you to use pipeline tagging to do the following:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Grant read-only access to a pipeline</p>
                </li><li class="listitem">
                    <p>Grant read/write access to a pipeline</p>
                </li><li class="listitem">
                    <p>Block access to a pipeline</p>
                </li></ul></div>

            <p>For example, suppose that a manager has two pipeline environments, production and
                development, and an IAM group for each environment. For pipelines in the production
                environment, the manager grants read/write access to users in the production IAM
                group, but grants read-only access to users in the developer IAM group. For
                pipelines in the development environment, the manager grants read/write access to
                both the production and developer IAM groups.</p>
            <p>To achieve this scenario, the manager tags the production pipelines with the
                "environment=production" tag and attaches the following policy to the developer
                IAM group. The first statement grants read-only access to all pipelines. The
                second statement grants read/write access to pipelines that do not have an
                "environment=production" tag.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "datapipeline:Describe*",
        "datapipeline:ListPipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:QueryObjects"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": "datapipeline:*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>"datapipeline:Tag/environment": "production"}
      }
    }
  ]
}</code></pre>
            <p>In addition, the manager attaches the following policy to the production IAM
                group. This statement grants full access to all pipelines.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "datapipeline:*",
      "Resource": "*"
    }
  ]
}</code></pre>

            <p>For more examples, see <a href="./dp-example-tag-policies.html#ex1">Grant users read-only access based on a tag</a> and
                <a href="./dp-example-tag-policies.html#ex2">Grant users full access based on a tag</a>.</p>
        <h2 id="dp-control-access-workergroup">Controlling Access to Pipelines Using
                Worker Groups</h2>
            
            <p>You can create IAM policies that make reference worker group names.</p>
            <p>For example, suppose that a manager has two pipeline environments, production
                and development, and an IAM group for each environment. 
                The manager has three database servers with task runners configured
                for production, pre-production, and developer environments, respectively. The
                manager wants to ensure that users in the production IAM group can create
                pipelines that push tasks to production resources, and that users in the development IAM
                group can create pipelines that push tasks to both pre-production and developer
                resources.</p>
            <p>To achieve this scenario, the manager installs task runner on the production
                resources with production credentials, and sets <code class="code">workerGroup</code> to
                "prodresource". In addition, the manager installs task runner on the development
                resources with development credentials, and sets <code class="code">workerGroup</code> to
                "pre-production" and "development". The manager attaches the following policy to the
                developer IAM group to block access to "prodresource" resources. The first statement 
                grants read-only access to all pipelines. The second statement grants read/write access 
                to pipelines when the name of the worker group has a prefix of "dev" or "pre-prod".</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "datapipeline:Describe*",
        "datapipeline:ListPipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:QueryObjects"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Action": "datapipeline:*",
      "Effect": "Allow",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "datapipeline:workerGroup": ["dev*","pre-prod*"]
        }
      }
    }
  ]
}</code></pre>
            <p>In addition, the manager attaches the following policy to the production IAM group to
                grant access to "prodresource" resources. The first statement grants read-only access to all
                pipelines. The second statement grants read/write access when the name of the worker group
                has a prefix of "prod".</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "datapipeline:Describe*",
        "datapipeline:ListPipelines",
        "datapipeline:GetPipelineDefinition",
        "datapipeline:QueryObjects"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": "datapipeline:*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>"datapipeline:workerGroup": "prodresource*"}
      }
    }
  ]
}</code></pre>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./dp-control-access.html">Identity and Access Management</div><div id="next" class="next-link" accesskey="n" href="./dp-example-tag-policies.html">Example Policies for AWS Data Pipeline</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS Data Pipeline&amp;topic_url=https://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS Data Pipeline&amp;topic_url=https://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-resourcebased-access.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>