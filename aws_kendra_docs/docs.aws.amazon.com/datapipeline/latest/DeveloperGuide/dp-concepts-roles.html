<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IAM Roles for AWS Data Pipeline - AWS Data Pipeline</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="dp-iam-roles" /><meta name="default_state" content="dp-iam-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" /><meta name="description" content="Learn the roles required to grant permissions for actions and resource access to AWS Data Pipeline." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Data Pipeline" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Automate the movement and transformation of data with AWS Data Pipeline." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" hreflang="x-default" /><meta name="feedback-item" content="AWS Data Pipeline" /><meta name="this_doc_product" content="AWS Data Pipeline" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'data-pipeline'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="IAM Roles for AWS Data Pipeline" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IAM Roles for AWS Data Pipeline - AWS Data Pipeline</title><meta name="pdf" content="/pdfs/datapipeline/latest/DeveloperGuide/datapipeline-dg.pdf#dp-iam-roles" /><meta name="github" content="https://github.com/awsdocs/aws-data-pipeline-developer-guide/tree/master/doc_source/dp-iam-roles.md" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=151" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20Data%20Pipeline&amp;topic_url=http://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-roles.html" /><meta name="keywords" content="AWS Data Pipeline,Amazon Data Pipeline,Data Pipeline" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/data-pipeline/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and Access Management for AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-control-access.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "IAM Roles for AWS Data Pipeline",
        "item" : "https://docs.aws.amazon.com/datapipeline/latest/DeveloperGuide/dp-control-access.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/datapipeline/latest/DeveloperGuide/datapipeline-dg.pdf#dp-iam-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/aws-data-pipeline-developer-guide/tree/master/doc_source/dp-iam-roles.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/data-pipeline/index.html">AWS Data Pipeline</a><a href="what-is-datapipeline.html">Developer Guide</a></div><div id="page-toc-src"><a href="#dp-role-permissions-policy-examples">Example Permissions Policies for AWS Data Pipeline Roles</a><a href="#dp-iam-roles-new">Creating IAM Roles for AWS Data Pipeline and Editing Role Permissions</a><a href="#dp-iam-change-console">Changing Roles for an Existing Pipelines</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="dp-iam-roles">IAM Roles for AWS Data Pipeline</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS Data Pipeline uses AWS Identity and Access Management roles. The permissions policies attached to IAM roles
            determine what actions AWS Data Pipeline and your applications can perform, and what AWS
            resources they can access. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">IAM roles</a> in the
                <em>IAM User Guide</em>.</p><p>AWS Data Pipeline requires two IAM roles:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>The pipeline role</b> controls AWS Data Pipeline access to your AWS
                    resources. In pipeline object definitions, the <code class="code">role</code> field specifies
                    this role.</p>
            </li><li class="listitem">
                <p><b>The EC2 instance role</b> controls the access that
                    applications running on EC2 instances, including the EC2 instances in Amazon EMR clusters, have to AWS resources. In pipeline
                    object definitions, the <code class="code">resourceRole</code> field specifies this
                    role.</p>
            </li></ul></div><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you created a pipeline before October 3, 2022 using the AWS Data Pipeline console with default roles, AWS Data Pipeline created the <code class="code">DataPipelineDefaultRole</code> for you and attached the <code class="code">AWSDataPipelineRole</code> managed policy to the role. As of October 3, 2022, the <code class="code">AWSDataPipelineRole</code> managed policy is deprecated and the pipeline role must be specified for a pipeline when using the console.</p><p>We recommend that you review existing pipelines and determine if the <code class="code">DataPipelineDefaultRole</code> is associated with the pipeline and whether the <code class="code">AWSDataPipelineRole</code> is attached to that role. If so, review the access that this policy allows to ensure it is appropriate for your security requirements. Add, update, or replace the policies and policy statements attached to this role as necessary. Alternatively, you can update a pipeline to use a role that you create with different permissions policies.</p></div></div>
            <h2 id="dp-role-permissions-policy-examples">Example Permissions Policies for AWS Data Pipeline Roles</h2>
            <p>Each role has one or more permissions policies attached to it that determine the
                AWS resources that the role can access and the actions that the role can perform.
                This topic provides an example permissions policy for the pipeline role. It also
                provides the contents of the <code class="code">AmazonEC2RoleforDataPipelineRole</code>, which is
                the managed policy for the default EC2 instance role,
                    <code class="code">DataPipelineDefaultResourceRole</code>.</p>
            
             
                <h3 id="dp-role-example-policy">Example Pipeline Role Permissions Policy</h3>
                <p>The example policy that follows is scoped to allow essential functions that AWS Data Pipeline requires to run a pipeline with Amazon EC2 and Amazon EMR resources. It also provides permissions to access other AWS resources, such as Amazon Simple Storage Service and Amazon Simple Notification Service, that many pipelines require. If the objects defined in a pipeline do not require the resources of an AWS service, we strongly recommend that you remove permissions to access that service. For example, if your pipeline does not define a <a href="./dp-object-dynamodbdatanode.html">DynamoDBDataNode</a> or use the <a href="./dp-object-snsalarm.html">SnsAlarm</a> action, we recommend that you remove the allow statements for those actions.</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p>Replace <code class="code"><code class="replaceable">111122223333</code></code> with your AWS account ID.</p></li><li class="listitem"><p>Replace <code class="code"><code class="replaceable">NameOfDataPipelineRole</code></code> with the name of pipeline role (the role to which this policy is attached).</p></li><li class="listitem"><p>Replace <code class="code"><code class="replaceable">NameOfDataPipelineResourceRole</code></code> with the name of EC2 instance role.</p></li><li class="listitem"><p>Replace <code class="code"><code class="replaceable">us-west-1</code></code> with the appropriate Region for your application.</p></li></ul></div>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "iam:GetInstanceProfile",
                "iam:GetRole",
                "iam:GetRolePolicy",
                "iam:ListAttachedRolePolicies",
                "iam:ListRolePolicies",
                "iam:PassRole"
            ],
            "Resource": [
                "arn:aws:iam::<code class="replaceable">111122223333</code>:role/<code class="replaceable">NameOfDataPipelineRole</code>",
                "arn:aws:iam::<code class="replaceable">111122223333</code> :role/<code class="replaceable">NameOfDataPipelineResourceRole</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "ec2:AuthorizeSecurityGroupEgress",
                "ec2:AuthorizeSecurityGroupIngress",
                "ec2:CancelSpotInstanceRequests",
                "ec2:CreateNetworkInterface",
                "ec2:CreateSecurityGroup",
                "ec2:CreateTags",
                "ec2:DeleteNetworkInterface",
                "ec2:DeleteSecurityGroup",
                "ec2:DeleteTags",
                "ec2:DescribeAvailabilityZones",
                "ec2:DescribeAccountAttributes",
                "ec2:DescribeDhcpOptions",
                "ec2:DescribeImages",
                "ec2:DescribeInstanceStatus",
                "ec2:DescribeInstances",
                "ec2:DescribeKeyPairs",
                "ec2:DescribeLaunchTemplates",
                "ec2:DescribeNetworkAcls",
                "ec2:DescribeNetworkInterfaces",
                "ec2:DescribePrefixLists",
                "ec2:DescribeRouteTables",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSpotInstanceRequests",
                "ec2:DescribeSpotPriceHistory",
                "ec2:DescribeSubnets",
                "ec2:DescribeTags",
                "ec2:DescribeVpcAttribute",
                "ec2:DescribeVpcEndpoints",
                "ec2:DescribeVpcEndpointServices",
                "ec2:DescribeVpcs",
                "ec2:DetachNetworkInterface",
                "ec2:ModifyImageAttribute",
                "ec2:ModifyInstanceAttribute",
                "ec2:RequestSpotInstances",
                "ec2:RevokeSecurityGroupEgress",
                "ec2:RunInstances",
                "ec2:TerminateInstances",
                "ec2:DescribeVolumeStatus",
                "ec2:DescribeVolumes",
                "elasticmapreduce:TerminateJobFlows",
                "elasticmapreduce:ListSteps",
                "elasticmapreduce:ListClusters",
                "elasticmapreduce:RunJobFlow",
                "elasticmapreduce:DescribeCluster",
                "elasticmapreduce:AddTags",
                "elasticmapreduce:RemoveTags",
                "elasticmapreduce:ListInstanceGroups",
                "elasticmapreduce:ModifyInstanceGroups",
                "elasticmapreduce:GetCluster",
                "elasticmapreduce:DescribeStep",
                "elasticmapreduce:AddJobFlowSteps",
                "elasticmapreduce:ListInstances",
                "iam:ListInstanceProfiles",
                "redshift:DescribeClusters"
            ],
            "Resource": [
                "*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "sns:GetTopicAttributes",
                "sns:Publish"
            ],
            "Resource": [
                "arn:aws:sns:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:MyFirstSNSTopic",
                "arn:aws:sns:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:MySecondSNSTopic",
                "arn:aws:sns:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:AnotherSNSTopic"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:ListBucket",
                "s3:ListMultipartUploads"
            ],
            "Resource": [
              "arn:aws:s3:::MyStagingS3Bucket",
              "arn:aws:s3:::MyLogsS3Bucket",
              "arn:aws:s3:::MyInputS3Bucket",
              "arn:aws:s3:::MyOutputS3Bucket",
              "arn:aws:s3:::AnotherRequiredS3Buckets"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:GetObjectMetadata",
                "s3:PutObject"
            ],
            "Resource": [
                "arn:aws:s3:::MyStagingS3Bucket/*",
                "arn:aws:s3:::MyLogsS3Bucket/*",
                "arn:aws:s3:::MyInputS3Bucket/*",
                "arn:aws:s3:::MyOutputS3Bucket/*",
                "arn:aws:s3:::AnotherRequiredS3Buckets/*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "dynamodb:Scan",
                "dynamodb:DescribeTable"
            ],
            "Resource": [
                "arn:aws:dynamodb:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:table/MyFirstDynamoDBTable",
                "arn:aws:dynamodb:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:table/MySecondDynamoDBTable",
                "arn:aws:dynamodb:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:table/AnotherDynamoDBTable"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "rds:DescribeDBInstances"
            ],
            "Resource": [
                "arn:aws:rds:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:db:MyFirstRdsDb",
                "arn:aws:rds:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:db:MySecondRdsDb",
                "arn:aws:rds:<code class="replaceable">us-west-1</code>:<code class="replaceable">111122223333</code>:db:AnotherRdsDb"
            ]
        }
    ]
}</code></pre>
             
             
                <h3 id="dp-resource-role-example-policy">Default Managed Policy for the EC2 Instance Role</h3>
                <p>The contents of the <code class="code">AmazonEC2RoleforDataPipelineRole</code> is shown below. This is the managed policy attached to the default resource role for AWS Data Pipeline, <code class="code">DataPipelineDefaultResourceRole</code>. When you define a resource role for your pipeline, we recommend that you begin with this permissions policy and then remove permissions for AWS service actions that are not required.</p>
                <p>Version 3 of the policy is shown, which is the most recent version at the time of this writing. View the most recent version of the policy using the IAM console.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
      "Effect": "Allow",
      "Action": [
        "cloudwatch:*",
        "datapipeline:*",
        "dynamodb:*",
        "ec2:Describe*",
        "elasticmapreduce:AddJobFlowSteps",
        "elasticmapreduce:Describe*",
        "elasticmapreduce:ListInstance*",
        "elasticmapreduce:ModifyInstanceGroups",
        "rds:Describe*",
        "redshift:DescribeClusters",
        "redshift:DescribeClusterSecurityGroups",
        "s3:*",
        "sdb:*",
        "sns:*",
        "sqs:*"
      ],
      "Resource": ["*"]
    }]
}</code></pre>
             
            
         
            <h2 id="dp-iam-roles-new">Creating IAM Roles for AWS Data Pipeline and Editing Role Permissions</h2>
            <p>Use the following procedures to create roles for AWS Data Pipeline using the IAM console. The process consists of two steps. First, you create a permissions policy to attach to the role. Next, you create the role and attach the policy. After you create a role, you can change the role's permissions by attaching and detaching permissions policies.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>When you create roles for AWS Data Pipeline using the console as described below, IAM creates and attaches the appropriate trust policies that the role requires.</p></div></div>
            <div class="procedure"><h6>To create a permissions policy to use with a role for AWS Data Pipeline</h6><ol><li><p>Open the IAM console at
         <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li><p>In the navigation pane, choose <b>Policies</b>, and then choose <b>Create policy</b>.</p></li><li><a id="step3"></a><p>Choose the <b>JSON</b> tab.</p></li><li><p>If you are creating a pipeline role, copy and paste the contents of the policy example in <a href="#dp-role-example-policy">Example Pipeline Role Permissions Policy</a>, editing it as appropriate for your security requirements. Alternatively, if you are creating a custom EC2 instance role, do the same for the example in <a href="#dp-resource-role-example-policy">Default Managed Policy for the EC2 Instance Role</a>.</p></li><li><p>Choose <b>Review policy</b>.</p></li><li><p>Enter a name for the policy—for example, <code class="code">MyDataPipelineRolePolicy</code>—and an optional <b>Description</b>, and then choose <b>Create policy</b>.</p></li><li><p>Note the name of the policy. You need it when you create your role.</p></li></ol></div>
            <div class="procedure"><h6>To create an IAM role for AWS Data Pipeline</h6><ol><li><p>Open the IAM console at
         <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                    <p>In the navigation pane, choose <b>Roles</b>, and then choose <b>Create Role</b>.</p>
                </li><li><p>Under <b>Choose a use case</b>, choose <b>Data Pipeline</b>.</p></li><li><p>Under <b>Select your use case</b>, do one of the following:</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem"><p>Choose <code class="code">Data Pipeline</code> to create a pipeline role.</p></li><li class="listitem"><p>Choose <code class="code">EC2 Role for Data Pipeline</code> to create a resource role.</p></li></ul></div>
                </li><li><p>Choose <b>Next: Permissions</b>.</p></li><li><p>If the default policy for AWS Data Pipeline is listed, proceed with the following steps to create the role and then edit it according to the instructions in the next procedure. Otherwise, enter the name of the policy that you created in the procedure above, and then select it from the list.</p></li><li><p>Choose <b>Next: Tags</b>, enter any tags to add to the role, and then choose <b>Next: Review</b>.</p></li><li><p>Enter a name for the role—for example, <code class="code">MyDataPipelineRole</code>—and an optional <b>Description</b>, and then choose <b>Create role</b>.</p></li></ol></div>
            <div class="procedure"><h6>To attach or detach a permissions policy for an IAM role for AWS Data Pipeline</h6><ol><li> 
                    <p>Open the IAM console at
         <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> 
                </li><li><p>In the navigation pane, choose <b>Roles</b></p></li><li><p>In the search box, begin typing the name of the role you want to edit—for example, <b>DataPipelineDefaultRole</b> or <b>MyDataPipelineRole</b>—and then choose the <b>Role name</b> from the list.</p></li><li>
                    <p>On the <b>Permissions</b> tab, do the following:</p>
                    <div class="itemizedlist">
                         
                         
                  <ul class="itemizedlist"><li class="listitem"><p>To detach a permissions policy, under <b>Permissions policies</b>, choose the remove button on the far right of the policy entry. Choose <b>Detach</b> when prompted to confirm.</p></li><li class="listitem"><p>To attach a policy that you created earlier, choose <b>Attach policies</b>. In the search box, begin typing the name of the policy you want to edit, select it from the list, and then choose <b>Attach policy</b>.</p></li></ul></div>    
                </li></ol></div>
        <h2 id="dp-iam-change-console">Changing Roles for an Existing Pipelines</h2>
            
            <p>If you want to assign a different pipeline role or resource role to a pipeline, you can use the architect editor in the AWS Data Pipeline console.</p>
            <div class="procedure"><h6>To edit the roles assigned to a pipeline using the console</h6><ol><li>
                    <p>Open the AWS Data Pipeline console at <a href="https://console.aws.amazon.com/datapipeline/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/datapipeline/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                </li><li>
                    <p>Select the pipeline from the list, and then choose <b>Actions</b>, <b>Edit</b>.</p>
                </li><li>
                    <p>In the right pane of the architect editor, choose <b>Others</b>.</p>
                </li><li><p>From the <b>Resource Role</b> and <b>Role</b> lists, choose the roles for AWS Data Pipeline that you want to assign, and then choose <b>Save</b>.</p></li></ol></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./dp-example-tag-policies.html">Example Policies for AWS Data Pipeline</div><div id="next" class="next-link" accesskey="n" href="./dp-cloudtrail-logging.html">Logging and Monitoring</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS Data Pipeline&amp;topic_url=https://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS Data Pipeline&amp;topic_url=https://docs.aws.amazon.com/en_us/datapipeline/latest/DeveloperGuide/dp-iam-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>