<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using service-linked IAM roles for DAX - Amazon DynamoDB</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-service-linked-roles" /><meta name="default_state" content="using-service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/using-service-linked-roles.html" /><meta name="description" content="Fine-grained security is crucial to a well-architected caching system. DynamoDB Accelerator (DAX) enables this control with service-linked IAM roles that give DAX access to resources in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon DynamoDB" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Amazon DynamoDB is a fast, fully managed NoSQL database as a service that makes it simple and cost-effective to store and retrieve any amount of data, and serve any level of request traffic." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/using-service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/using-service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="DynamoDB" /><meta name="this_doc_product" content="Amazon DynamoDB" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'dynamodb'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Using service-linked IAM roles for DAX" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using service-linked IAM roles for DAX - Amazon DynamoDB</title><meta name="pdf" content="/pdfs/amazondynamodb/latest/developerguide/dynamodb-dg.pdf#using-service-linked-roles" /><meta name="github" content="https://github.com/awsdocs/amazon-dynamodb-developer-guide/tree/master/doc_source/using-service-linked-roles.md" /><meta name="rss" content="dynamodbupdates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=131" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=DynamoDB&amp;topic_url=http://docs.aws.amazon.com/en_us/amazondynamodb/latest/developerguide/using-service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/amazondynamodb/latest/developerguide/using-service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/amazondynamodb/latest/developerguide/using-service-linked-roles.html" /><meta name="keywords" content="DynamoDB,Amazon DynamoDB,database,NoSQL database,nonrelational database,managed database" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon DynamoDB",
        "item" : "https://docs.aws.amazon.com/dynamodb/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/amazondynamodb/latest/developerguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "In-memory acceleration with DynamoDB Accelerator (DAX)",
        "item" : "https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Using service-linked IAM roles for DAX",
        "item" : "https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/amazondynamodb/latest/developerguide/dynamodb-dg.pdf#using-service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-dynamodb-developer-guide/tree/master/doc_source/using-service-linked-roles.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/dynamodb/index.html">Amazon DynamoDB</a><a href="Introduction.html">Developer Guide</a></div><div id="page-toc-src"><a href="#service-linked-role-permissions">Service-linked role permissions for
        DAX</a><a href="#create-service-linked-role">Creating a service-linked role for DAX</a><a href="#edit-service-linked-role">Editing a service-linked role for DAX</a><a href="#delete-service-linked-role">Deleting a service-linked role for DAX</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-service-linked-roles">Using service-linked IAM roles for DAX</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon DynamoDB Accelerator (DAX) uses AWS Identity and Access Management (IAM) <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">service-linked roles</a>. A service-linked role is a unique type of IAM role that is
    linked directly to DAX. Service-linked roles are predefined by DAX and include all the
    permissions that the service requires to call other AWS services on your behalf. </p><p>A service-linked role makes setting up DAX easier because you don’t have to manually add
    the necessary permissions. DAX defines the permissions of its service-linked roles, and unless
    defined otherwise, only DAX can assume its roles. The defined permissions include the trust
    policy and the permissions policy. That permissions policy can't be attached to any other IAM
    entity.</p><p>You can delete the roles only after first deleting their related resources. This protects
    your DAX resources because you can't inadvertently remove permission to access the
    resources.</p><p>For information about other services that support service-linked roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS Services That Work with
      IAM</a> in the <em>IAM User Guide</em>. Look for the services that have
      <b>Yes</b> in the <b>Service-linked roles</b> column. Choose a
      <b>Yes</b> link to view the service-linked role documentation for that
    service.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#service-linked-role-permissions">Service-linked role permissions for
        DAX</a></li><li><a href="#create-service-linked-role">Creating a service-linked role for DAX</a></li><li><a href="#edit-service-linked-role">Editing a service-linked role for DAX</a></li><li><a href="#delete-service-linked-role">Deleting a service-linked role for DAX</a></li></ul></div>
    <h2 id="service-linked-role-permissions">Service-linked role permissions for
        DAX</h2>
    <p>DAX uses the service-linked role named <code class="code">AWSServiceRoleForDAX</code>.
      This role allows DAX to call services on behalf of your DAX cluster.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>The <code class="code">AWSServiceRoleForDAX</code> service-linked role makes it easier for you to set up and
        maintain a DAX cluster. However, you must still grant each cluster access to DynamoDB before
        you can use it. For more information, see <a href="./DAX.access-control.html">DAX access control</a>.</p></div></div>
    <p>The <code class="code">AWSServiceRoleForDAX</code> service-linked role trusts the following services to assume
      the role:</p>
    <div class="itemizedlist">
       
    <ul class="itemizedlist"><li class="listitem">
        <p><code class="code">dax.amazonaws.com</code></p>
      </li></ul></div>
    <p>The role permissions policy allows DAX to complete the following actions on the
      specified resources:</p>
    <div class="itemizedlist">
       
    <ul class="itemizedlist"><li class="listitem">
        <p>Actions on <code class="code">ec2</code>:</p>
        <div class="itemizedlist">
           
           
           
           
           
           
           
           
           
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p><code class="code">AuthorizeSecurityGroupIngress</code></p>
          </li><li class="listitem">
            <p><code class="code">CreateNetworkInterface</code></p>
          </li><li class="listitem">
            <p><code class="code">CreateSecurityGroup</code></p>
          </li><li class="listitem">
            <p><code class="code">DeleteNetworkInterface</code></p>
          </li><li class="listitem">
            <p><code class="code">DeleteSecurityGroup</code></p>
          </li><li class="listitem">
            <p><code class="code">DescribeAvailabilityZones</code></p>
          </li><li class="listitem">
            <p><code class="code">DescribeNetworkInterfaces</code></p>
          </li><li class="listitem">
            <p><code class="code">DescribeSecurityGroups</code></p>
          </li><li class="listitem">
            <p><code class="code">DescribeSubnets</code></p>
          </li><li class="listitem">
            <p><code class="code">DescribeVpcs</code></p>
          </li><li class="listitem">
            <p><code class="code">ModifyNetworkInterfaceAttribute</code></p>
          </li><li class="listitem">
            <p><code class="code">RevokeSecurityGroupIngress</code></p>
          </li></ul></div>
      </li></ul></div>

    <p>You must configure permissions to allow an IAM entity (such as a user, group, or role)
      to create, edit, or delete a service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions">Service-Linked Role Permissions</a> in the
      <em>IAM User Guide</em>.</p>



    <p><b>To allow an IAM entity to create AWSServiceRoleForDAX service-linked
        roles</b></p>
    <p> Add the following policy statement to the permissions for that IAM entity.</p>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Effect": "Allow",
    "Action": [
        "iam:CreateServiceLinkedRole"
    ],
    "Resource": "*",
    "Condition": <span>{</span>"StringLike": <span>{</span>"iam:AWSServiceName": "dax.amazonaws.com"}}
}</code></pre>

   
    <h2 id="create-service-linked-role">Creating a service-linked role for DAX</h2>
    <p>You don't need to manually create a service-linked role. When you create a cluster, DAX
      creates the service-linked role for you. </p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you were using the DAX service before February 28, 2018, when it began supporting
        service-linked roles, DAX created the <code class="code">AWSServiceRoleForDAX</code> role in your account. For
        more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_roles.html#troubleshoot_roles_new-role-appeared">A New
          Role Appeared in My AWS Account</a> in the
        <em>IAM User Guide</em>.</p></div></div>
    <p>If you delete this service-linked role and then need to create it again, you can use the
      same process to re-create the role in your account. When you create an instance or a cluster,
      DAX creates the service-linked role for you again.</p>
   
    <h2 id="edit-service-linked-role">Editing a service-linked role for DAX</h2>
    <p>DAX does not allow you to edit the <code class="code">AWSServiceRoleForDAX</code> service-linked role. After
      you create a service-linked role, you cannot change the name of the role because various
      entities might reference the role. However, you can edit the description of the role using
      IAM. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#edit-service-linked-role">Editing a
        Service-Linked Role</a> in the <em>IAM User Guide</em>.</p>
   
    <h2 id="delete-service-linked-role">Deleting a service-linked role for DAX</h2>
    <p>If you no longer need to use a feature or service that requires a service-linked role, we
      recommend that you delete that role. That way you don’t have an unused entity that is not
      actively monitored or maintained. However, you must delete all of your DAX clusters before
      you can delete the service-linked role.</p>
     
      <h3 id="service-linked-role-review-before-delete">Cleaning up a service-linked
          role</h3>
      <p>Before you can use IAM to delete a service-linked role, you must first confirm that
        the role has no active sessions and remove any resources used by the role.</p>
      <div class="procedure"><h6>To check whether the service-linked role has an active session in the IAM
          console</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>In the navigation pane of the IAM console, choose <b>Roles</b>. Then
            choose the name (not the check box) of the <b>AWSServiceRoleForDAX</b> role.</p>
        </li><li>
          <p>On the <b>Summary</b> page for the selected role, choose the
              <b>Access Advisor</b> tab.</p>
        </li><li>
          <p>On the <b>Access Advisor</b> tab, review recent activity for the
            service-linked role.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you are unsure whether DAX is using the <code class="code">AWSServiceRoleForDAX</code> role, you can
              try to delete the role. If the service is using the role, the deletion fails, and you
              can view the Regions where the role is being used. If the role is being used, you must
              delete your DAX clusters before you can delete the role. You can't revoke the
              session for a service-linked role. </p></div></div>
        </li></ol></div>
      <p>If you want to remove the <code class="code">AWSServiceRoleForDAX</code> role, you must first delete all of
        your DAX clusters. </p>
       
        <h4 id="delete-service-linked-role.clusters">Deleting all of your DAX
            clusters</h4>
        <p>Use one of these procedures to delete each of your DAX clusters. </p>
        <div class="procedure"><h6>To delete a DAX cluster (console)</h6><ol><li><p>Open the DynamoDB console at
         <a href="https://console.aws.amazon.com/dynamodb/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/dynamodb/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li><p>In the navigation pane, under <b>DAX</b>, choose
              <b>Clusters</b>.</p></li><li><p>Choose <b>Actions</b>, and then choose <b>Delete</b>.</p></li><li><p>In the <b>Delete cluster confirmation</b> box, choose <b>Delete</b>.</p></li></ol></div>
         
          <h6>To delete a DAX cluster (AWS CLI)</h6>
          <p>See <a href="https://docs.aws.amazon.com/cli/latest/reference/dax/delete-cluster.html">delete-cluster</a> in the
              <em>AWS CLI Command Reference</em>.</p>
         
         
          <h6>To delete a DAX cluster (API)</h6>
          <p>See <a href="https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_dax_DeleteCluster.html">DeleteCluster</a> in
            the <em>Amazon DynamoDB API Reference</em>.</p>
         
       

       
        <h4 id="delete-service-linked-role.slr">Deleting the service-linked role</h4>
        <p><b>To manually delete the service-linked role using
            IAM</b></p>
        <p>Use the IAM console, the IAM CLI, or the IAM API to delete the
            <code class="code">AWSServiceRoleForDAX</code> service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role">Deleting
            a Service-Linked Role</a> in the <em>IAM User Guide</em>.</p>
       

     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./DAXEncryptionInTransit.html">DAX encryption in transit</div><div id="next" class="next-link" accesskey="n" href="./DAX.cross-account-access.html">Accessing DAX across AWS accounts</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=DynamoDB&amp;topic_url=https://docs.aws.amazon.com/en_us/amazondynamodb/latest/developerguide/using-service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=DynamoDB&amp;topic_url=https://docs.aws.amazon.com/en_us/amazondynamodb/latest/developerguide/using-service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>