<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Filtrar según el contexto del usuario - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="user-context-filter" /><meta name="default_state" content="user-context-filter" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" /><meta name="description" content="Cómo filtrar los resultados de la búsqueda enAmazon Kendra función del acceso del usuario o su grupo a los documentos." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Guía para desarrolladores" /><meta name="abstract" content="Proporciona información general conceptual de Amazon Kendra. ConozcaAmazon Kendra las funciones y comience a indexar sus documentos mediante la consola, la CLI y la API." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/user-context-filter.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/user-context-filter.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/user-context-filter.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/user-context-filter.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/user-context-filter.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/user-context-filter.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/user-context-filter.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/user-context-filter.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/user-context-filter.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/user-context-filter.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/user-context-filter.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/user-context-filter.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/user-context-filter.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Guía para desarrolladores" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores" /><meta id="panorama-serviceConsolePage" value="Filtrar según el contexto del usuario" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Filtrar según el contexto del usuario - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#user-context-filter" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search (buscar),búsqueda inteligente,lenguaje natural,índice,question,clave,origen de datos,conector,Preguntas frecuentes,pregunta frecuente,query,filtrado de contexto,búsqueda personalizada" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Búsqueda de índices",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Filtrar según el contexto del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#user-context-filter" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Guía para desarrolladores</a></div><div id="page-toc-src"><a href="#context-filter-token">Filtrar por token de usuario</a><a href="#context-filter-user-incl-datasources">Filtrar por ID de usuario y grupo</a><a href="#context-filter-attribute">Filtrado por atributo de usuario</a><a href="#context-filter-batch">Filtrado de contexto de usuario para documentos añadidos directamente a un índice</a><a href="#context-filter-faq">Filtrado de contexto de usuario para preguntas frecuentes</a><a href="#context-filter-alfresco">Filtrado de contexto de usuario para fuentes de datos de Alfresco</a><a href="#context-filter-s3">Filtrado de contexto de usuario para fuentesAmazon S3 de datos</a><a href="#context-filter-jdbc">Filtrado de contexto de usuario para fuentes de datos de bases de datos</a><a href="#context-filter-fsx">Filtrado de contexto de usuario para fuentesAmazon FSx de datos</a><a href="#context-filter-workdocs">Filtrado de contexto de usuario para fuentesAmazon WorkDocs de datos</a><a href="#context-filter-box">Filtrado de contexto de usuario para fuentes de datos de Box</a><a href="#context-filter-confluence">Filtrado de contexto de usuario para fuentes de datos de Confluence</a><a href="#context-filter-dropbox">Filtrado de contexto de usuario para fuentes de datos de Dropbox</a><a href="#context-filter-github">Filtrado de contexto de usuario para fuentes GitHub  de datos</a><a href="#context-filter-google">Filtrado de contexto de usuario para fuentes de datos de Google Drive</a><a href="#context-filter-gmail">Filtrado de contexto de usuario para fuentes de datos de Gmail</a><a href="#context-filter-jira">Filtrado de contexto de usuario para fuentes de datos de Jira</a><a href="#context-filter-exchange">Filtrado de contexto de usuario para fuentes de datos de Microsoft Exchange</a><a href="#context-filter-teams">Filtrado de contexto de usuario para fuentes de datos de Microsoft Teams</a><a href="#context-filter-onedrive">Filtrado de contexto de usuario para fuentes OneDrive  de datos de Microsoft</a><a href="#context-filter-onedrivev2">Filtrado de contexto de usuario para fuentes de datos de Microsoft OneDrive  v2.0</a><a href="#context-filter-yammer">Filtrado de contexto de usuario para fuentes de datos de Microsoft Yammer</a><a href="#context-filter-sharepoint-online">Filtrado de contexto de usuario para fuentes SharePoint  de datos de Microsoft</a><a href="#context-filter-quip">Filtrado de contexto de usuario para fuentes de datos de Quip</a><a href="#context-filter-salesforce">Filtrado de contexto de usuario para fuentes de datos de Salesforce</a><a href="#context-filter-servicenow">Filtrado de contexto de usuario para fuentes ServiceNow de datos</a><a href="#context-filter-slack">Filtrado de contexto de usuario para fuentes de datos de Slack</a><a href="#context-filter-zendesk">Filtrado de contexto de usuario para fuentes de datos de Zendesk</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Las traducciones son generadas a través de traducción automática. En caso de conflicto entre la traducción y la version original de inglés, prevalecerá la version en inglés.</p></awsui-alert><h1 class="topictitle" id="user-context-filter">Filtrar según el contexto del usuario</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Puede filtrar los resultados de búsqueda de un usuario en función del acceso del usuario o de su grupo a los documentos. Puede utilizar un identificador de usuario, un identificador de usuario o un atributo de usuario para filtrar documentos. Amazon Kendratambién puede asignar usuarios a sus grupos. Puede optar por utilizarlaAWS IAM Identity Center (successor to AWS Single Sign-On) como almacén o fuente de identidad.</p><p>El filtrado de contexto de usuario es un tipo de búsqueda personalizada con la ventaja de controlar el acceso a los documentos. Por ejemplo, no todos los equipos que buscan información en el portal de la empresa deben acceder a documentos de alto secreto de la empresa, ni estos documentos son relevantes para todos los usuarios. Solo los usuarios o grupos de equipos específicos que tengan acceso a documentos de alto secreto deberían ver estos documentos en los resultados de búsqueda.</p><p>Cuando se indexa un documentoAmazon Kendra, se incorpora la lista de control de acceso (ACL) correspondiente para la mayoría de los documentos. La ACL especifica qué nombres de usuario y nombres de grupos tienen permitido o denegado el acceso al documento. Los documentos sin una ACL son documentos públicos.</p><p>Amazon Kendraextrae automáticamente la información de usuario o grupo asociada a cada documento en la mayoría de las fuentes de datos. Por ejemplo, un documento de Quip puede incluir una lista «compartida» de determinados usuarios o grupos a los que se les da acceso al documento. Si utiliza un bucket de S3 como fuente de datos, proporciona un <a href="https://docs.aws.amazon.com/kendra/latest/dg/s3-acl.html">archivo JSON</a> para su ACL e incluye la ruta de S3 a este archivo como parte de la configuración de la fuente de datos. Si agrega documentos directamente a un índice, especifica la ACL en el objeto <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">principal</a> como parte del objeto de documento de la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API.</p><p>Puedes usar la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateAccessControlConfiguration.html">CreateAccessControlConfiguration</a>API para reconfigurar tu control de acceso a nivel de documento existente sin volver a indexar todos tus documentos. Por ejemplo, su índice contiene documentos empresariales de alto secreto a los que solo ciertos empleados o usuarios deben acceder. Uno de estos usuarios deja la empresa o se cambia a un equipo al que se le debería impedir el acceso a documentos de alto secreto. El usuario sigue teniendo acceso a los documentos de alto secreto porque tenía acceso cuando sus documentos estaban indexados anteriormente. Puede crear una configuración de control de acceso específica para el usuario con acceso denegado. Más adelante, puede actualizar la configuración del control de acceso para permitir el acceso en caso de que el usuario regrese a la empresa y vuelva a unirse al equipo «ultrasecreto». Puede volver a configurar el control de acceso a sus documentos a medida que cambien las circunstancias.</p><p>Para aplicar la configuración de control de acceso a ciertos documentos, llame a la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API con el objeto<code class="code">AccessControlConfigurationId</code> incluido en el <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Document.html">documento</a>. Si se utilice un bucket de S3 como origen de datos, actualice<code class="code">.metadata.json</code> con<code class="code">AccessControlConfigurationId</code> y sincronice la origen de datos. Amazon Kendraactualmente solo admite la configuración de control de acceso para fuentes de datos de S3 y documentos indexados mediante la<code class="code">BatchPutDocument</code> API.</p>
            <h2 id="context-filter-token">Filtrar por token de usuario</h2>
            <p>Al consultar un índice, puede utilizar un identificador de usuario para filtrar los resultados de la búsqueda en función del acceso del usuario o de su grupo a los documentos. Al emitir una consulta,Amazon Kendra extrae y valida el token, extrae y comprueba la información del usuario y del grupo y ejecuta la consulta. Se devuelven todos los documentos a los que el usuario tiene acceso, incluidos los documentos públicos. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/kendra/latest/dg/create-index-access-control.html">Control de acceso de usuario basado en tokens</a>.</p>
            <p>Debe proporcionar el token de usuario en el <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserContext.html">UserContext</a>objeto y pasarlo a la API de <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">consulta</a>.</p>
            <p>A continuación se muestra cómo incluir un token de usuario. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
    QueryText = query,
    IndexId = index,
    UserToken = <span>{</span>
        Token = "<code class="replaceable">token</code>"
    })</code></pre>
            <p>Puede asignar usuarios a grupos. Cuando se utiliza el filtrado de contexto de usuario, no es necesario incluir todos los grupos a los que pertenece un usuario cuando se ejecuta la consulta. Con la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API, puede asignar usuarios a sus grupos. Si no desea utilizar la<code class="code">PutPrincipalMapping</code> API, debe proporcionar el nombre de usuario y todos los grupos a los que pertenece el usuario cuando emita una consulta. También puede obtener los niveles de acceso de los grupos y usuarios de su fuente de identidad de IAM Identity Center mediante el <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>objeto.</p>
         
            <h2 id="context-filter-user-incl-datasources">Filtrar por ID de usuario y grupo</h2>
            <p>Al consultar un índice, puede utilizar el identificador de usuario y el grupo para filtrar los resultados de la búsqueda en función del acceso del usuario o de su grupo a los documentos. Al emitir una consulta,Amazon Kendra comprueba la información del usuario y del grupo y ejecuta la consulta. Se devuelven todos los documentos relevantes para la consulta a los que el usuario tiene acceso, incluidos los documentos públicos.</p>
            <p>También puede filtrar los resultados de la búsqueda por fuentes de datos a las que tienen acceso los usuarios y los grupos. Especificar una fuente de datos es útil si un grupo está vinculado a varias fuentes de datos, pero solo desea que el grupo acceda a los documentos de una fuente de datos determinada. Por ejemplo, los grupos «Investigación», «Ingeniería» y «Ventas y marketing» están todos vinculados a los documentos de la empresa almacenados en las fuentes de datos Confluence y Salesforce. Sin embargo, el equipo de «Ventas y marketing» solo necesita acceder a los documentos relacionados con el cliente almacenados en Salesforce. De este modo, cuando los usuarios de ventas y marketing buscan documentos relacionados con los clientes, pueden ver los documentos de Salesforce en sus resultados. Los usuarios que no trabajan en ventas y marketing no ven los documentos de Salesforce en los resultados de búsqueda.</p>
            <p>Usted proporciona información sobre el usuario, los grupos y las fuentes de datos en el <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserContext.html">UserContext</a>objeto y la transfiere a la API de <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">consultas</a>. El identificador de usuario y la lista de grupos y fuentes de datos deben coincidir con el nombre que especifique en el objeto <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">principal</a> para identificar el usuario, los grupos y las fuentes de datos. Con el<code class="code">Principal</code> objeto, puede añadir un usuario, un grupo o una fuente de datos a una lista de permisos o de denegación para acceder a un documento.</p>
            <p>Debe proporcionar uno de la siguiente información:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Información de usuarios y grupos e información de fuentes de datos (opcional).</p>
                </li><li class="listitem">
                    <p>Solo la información del usuario si asigna a sus usuarios a grupos y fuentes de datos mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API. También puede obtener los niveles de acceso de los grupos y usuarios de su fuente de identidad de IAM Identity Center mediante el <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>objeto.</p>
                </li></ul></div>
            <p>Si esta información no está incluida en la consulta,Amazon Kendra devuelve todos los documentos. Si proporciona esta información, solo se devolverán los documentos con identificadores de usuario, grupos y fuentes de datos coincidentes.</p>
            <p>A continuación se muestra cómo incluir el identificador de usuario, los grupos y las fuentes de datos.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
    QueryText = query,
    IndexId = index,
    UserId = <span>{</span>
        UserId = "<code class="replaceable">user1</code>"
    },
    Groups = <span>{</span>
        Groups = ["<code class="replaceable">Sales and Marketing</code>"]
    },
    DataSourceGroups = <span>{</span>
        DataSourceGroups = [<span>{</span>"DataSourceId" : "<code class="replaceable">SalesforceCustomerDocsGroup</code>", "GroupId": "<code class="replaceable">Sales and Marketing</code>"}]
    })</code></pre>
         
            <h2 id="context-filter-attribute">Filtrado por atributo de usuario</h2>
            <p>Al consultar un índice, puede utilizar atributos integrados<code class="code">_user_id</code> y filtrar los resultados<code class="code">_group_id</code> de la búsqueda en función del acceso del usuario y su grupo a los documentos. Puede configurar hasta 100 identificadores de grupo. Al emitir una consulta,Amazon Kendra comprueba la información del usuario y del grupo y ejecuta la consulta. Se devuelven todos los documentos relevantes para la consulta a los que el usuario tiene acceso, incluidos los documentos públicos.</p>
            <p>Usted proporciona los atributos de usuario y grupo en el <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_AttributeFilter.html">AttributeFilter</a>objeto y los pasa a la API de <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">consultas</a>.</p>
            <p>El siguiente ejemplo muestra una solicitud que filtra la respuesta a la consulta en función del identificador de usuario y de los grupos «HR» e «IT», a los que pertenece el usuario. La consulta devolverá cualquier documento que tenga al usuario o a los grupos «HR» o «IT» en la lista de permitidos. Si el usuario o alguno de los grupos se encuentra en la lista de denegación de un documento, el documento no se devuelve.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
        QueryText = query,
        IndexId = index,
        AttributeFilter = <span>{</span>
            "OrAllFilters": [
                <span>{</span>
                    "EqualsTo": <span>{</span>
                        "Key": "_user_id",
                        "Value": <span>{</span>
                            "StringValue": "user1"
                        }
                     }
                },
                <span>{</span>
                    "EqualsTo": <span>{</span>
                        "Key": "_group_ids",
                        "Value": <span>{</span>
                            "StringListValue": ["HR", "IT"]
                        }
                    }
                }
            ]
        }
        )</code></pre>
            <p>También puede especificar a qué fuente de datos puede acceder un grupo en el<code class="code">Principal</code> objeto.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>El filtrado del contexto de usuario no es un control de autenticación o autorización para tu contenido. No realiza la autenticación de usuarios en el usuario y los grupos enviados a la<code class="code">Query</code> API. Depende de su aplicación garantizar que la información de usuario y grupo enviada a la<code class="code">Query</code> API esté autenticada y autorizada.</p></div></div>
        <p>Hay una implementación del filtrado de contexto de usuario para cada fuente de datos. En la siguiente sección se describe cada implementación. </p><div class="highlights" id="inline-topiclist"><h6>Temas</h6><ul><li><a href="#context-filter-batch">Filtrado de contexto de usuario para documentos añadidos directamente a un índice</a></li><li><a href="#context-filter-faq">Filtrado de contexto de usuario para preguntas frecuentes</a></li><li><a href="#context-filter-alfresco">Filtrado de contexto de usuario para fuentes de datos de Alfresco</a></li><li><a href="#context-filter-s3">Filtrado de contexto de usuario para fuentesAmazon S3 de datos</a></li><li><a href="#context-filter-jdbc">Filtrado de contexto de usuario para fuentes de datos de bases de datos</a></li><li><a href="#context-filter-fsx">Filtrado de contexto de usuario para fuentesAmazon FSx de datos</a></li><li><a href="#context-filter-workdocs">Filtrado de contexto de usuario para fuentesAmazon WorkDocs de datos</a></li><li><a href="#context-filter-box">Filtrado de contexto de usuario para fuentes de datos de Box</a></li><li><a href="#context-filter-confluence">Filtrado de contexto de usuario para fuentes de datos de Confluence</a></li><li><a href="#context-filter-dropbox">Filtrado de contexto de usuario para fuentes de datos de Dropbox</a></li><li><a href="#context-filter-github">Filtrado de contexto de usuario para fuentes GitHub  de datos</a></li><li><a href="#context-filter-google">Filtrado de contexto de usuario para fuentes de datos de Google Drive</a></li><li><a href="#context-filter-gmail">Filtrado de contexto de usuario para fuentes de datos de Gmail</a></li><li><a href="#context-filter-jira">Filtrado de contexto de usuario para fuentes de datos de Jira</a></li><li><a href="#context-filter-exchange">Filtrado de contexto de usuario para fuentes de datos de Microsoft Exchange</a></li><li><a href="#context-filter-teams">Filtrado de contexto de usuario para fuentes de datos de Microsoft Teams</a></li><li><a href="#context-filter-onedrive">Filtrado de contexto de usuario para fuentes OneDrive  de datos de Microsoft</a></li><li><a href="#context-filter-onedrivev2">Filtrado de contexto de usuario para fuentes de datos de Microsoft OneDrive  v2.0</a></li><li><a href="#context-filter-yammer">Filtrado de contexto de usuario para fuentes de datos de Microsoft Yammer</a></li><li><a href="#context-filter-sharepoint-online">Filtrado de contexto de usuario para fuentes SharePoint  de datos de Microsoft</a></li><li><a href="#context-filter-quip">Filtrado de contexto de usuario para fuentes de datos de Quip</a></li><li><a href="#context-filter-salesforce">Filtrado de contexto de usuario para fuentes de datos de Salesforce</a></li><li><a href="#context-filter-servicenow">Filtrado de contexto de usuario para fuentes ServiceNow de datos</a></li><li><a href="#context-filter-slack">Filtrado de contexto de usuario para fuentes de datos de Slack</a></li><li><a href="#context-filter-zendesk">Filtrado de contexto de usuario para fuentes de datos de Zendesk</a></li></ul></div>
            <h2 id="context-filter-batch">Filtrado de contexto de usuario para documentos añadidos directamente a un índice</h2>
            <p>Al añadir documentos directamente a un índice mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API,Amazon Kendra obtiene la información del usuario y del grupo del<code class="code">AccessControlList</code> campo del documento. Usted proporciona una lista de control de acceso (ACL) para sus documentos y la ACL se incorpora a sus documentos.</p>
            <p>La ACL se especifica en el objeto <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">Principal</a> como parte del objeto <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Document.html">Document</a> de la<code class="code">BatchPutDocument</code> API. Debe proporcionar la siguiente información:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>El acceso que debe tener el usuario o el grupo. Puedes decir<code class="code">ALLOW</code> o<code class="code">DENY</code>.</p>
                </li><li class="listitem">
                    <p>El tipo de entidad. Puedes decir<code class="code">USER</code> o<code class="code">GROUP</code>.</p>
                </li><li class="listitem">
                    <p>Nombre del usuario o grupo.</p>
                </li></ul></div>
            <p>Puede añadir hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-faq">Filtrado de contexto de usuario para preguntas frecuentes</h2>
            <p>Al <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateFaq.html">añadir preguntas frecuentes a un</a> índice,Amazon Kendra obtiene la información del usuario y del grupo del<code class="code">AccessControlList</code> objeto/campo del archivo JSON de preguntas frecuentes. También puedes usar un archivo CSV de preguntas frecuentes con campos o atributos personalizados para el control de acceso.</p>
            <p>Debe proporcionar la siguiente información:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>El acceso que debe tener el usuario o el grupo. Puedes decir<code class="code">ALLOW</code> o<code class="code">DENY</code>.</p>
                </li><li class="listitem">
                    <p>El tipo de entidad. Puedes decir<code class="code">USER</code> o<code class="code">GROUP</code>.</p>
                </li><li class="listitem">
                    <p>Nombre del usuario o grupo.</p>
                </li></ul></div>
            <p>Para obtener más información, consulte <a href="https://docs.aws.amazon.com/kendra/latest/dg/in-creating-faq.html">Archivos de preguntas frecuentes</a>.</p>
         
            <h2 id="context-filter-alfresco">Filtrado de contexto de usuario para fuentes de datos de Alfresco</h2>
            <p>Cuando utiliza una fuente de datos de Alfresco,Amazon Kendra obtiene la información del usuario y del grupo de la instancia de Alfresco.</p>
            <p>Los ID de grupo y usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los identificadores de grupo existen en Alfresco en los archivos en los que hay permisos de acceso establecidos. Se mapean a partir de los nombres del sistema de los grupos (no de los nombres para mostrar) en Alfresco.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existen en Alfresco en los archivos en los que hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores en Alfresco.</p>
                </li></ul></div>
            <p>Puede añadir hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-s3">Filtrado de contexto de usuario para fuentesAmazon S3 de datos</h2>
            <p>Añada el filtrado de contexto de usuario a un documento de una fuente deAmazon S3 datos mediante un archivo de metadatos asociado al documento. Añada la información al<code class="code">AccessControlList</code> campo del documento JSON. Para obtener más información sobre cómo agregar metadatos a los documentos indexados desde una fuente deAmazon S3 datos, consulte <a href="https://docs.aws.amazon.com/kendra/latest/dg/s3-metadata.html">Metadatos de documentos de S3</a>.</p>
            <p>Usted proporciona tres datos:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>El acceso que debe tener la entidad. Puedes decir<code class="code">ALLOW</code> o<code class="code">DENY</code>.</p>
                </li><li class="listitem">
                    <p>El tipo de entidad. Puedes decir<code class="code">USER</code> o<code class="code">GROUP</code>.</p>
                </li><li class="listitem">
                    <p>Nombre de la entidad.</p>
                </li></ul></div>
            <p>Puede añadir hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-jdbc">Filtrado de contexto de usuario para fuentes de datos de bases de datos</h2>
            <p>Cuando utiliza una fuente de datos de base de datos, por ejemploAmazon Aurora PostgreSQL,Amazon Kendra obtiene información de usuarios y grupos de una columna de la tabla de origen. Especificas esta columna en el <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_AclConfiguration.html">AclConfiguration</a>objeto como parte del <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DatabaseConfiguration.html">DatabaseConfiguration</a>objeto de la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateDataSource.html">CreateDataSource</a>API.</p>
            <p>Una fuente de datos de base de datos tiene las siguientes restricciones:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Solo puede especificar una lista de permitidos para una fuente de datos de base de datos. No puede especificar una lista de denegaciones. </p>
                </li><li class="listitem">
                    <p>Solo puede especificar grupos. No puede especificar usuarios individuales para la lista de permitidos.</p>
                </li><li class="listitem">
                    <p>La columna de la base de datos debe ser una cadena que contenga una lista de grupos delimitada por punto y coma.</p>
                </li></ul></div>
         
            <h2 id="context-filter-fsx">Filtrado de contexto de usuario para fuentesAmazon FSx de datos</h2>
            <p>Cuando usas una fuente deAmazon FSx datos,Amazon Kendra obtiene información de usuarios y grupos del servicio de directorio de laAmazon FSx instancia.</p>
            <p>Los ID deAmazon FSx grupo y usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los identificadores de grupo existenAmazon FSx en los archivos en los que hay permisos de acceso establecidos. Se mapean a partir de los nombres de los grupos de sistemas del servicio de directorios deAmazon FSx.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existenAmazon FSx en los archivos en los que hay permisos de acceso establecidos. Se mapean a partir de los nombres de usuario del sistema en el servicio de directorio deAmazon FSx.</p>
                </li></ul></div>
            <p>Puede añadir hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-workdocs">Filtrado de contexto de usuario para fuentesAmazon WorkDocs de datos</h2>
            <p>Cuando usas una fuenteAmazon WorkDocs de datos,Amazon Kendra obtiene información de usuarios y grupos de laAmazon WorkDocs instancia.</p>
            <p>Los ID deAmazon WorkDocs grupo y usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los identificadores de grupo existenAmazon WorkDocs en los archivos en los que hay permisos de acceso establecidos. Están mapeados a partir de los nombres de los grupos deAmazon WorkDocs.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existenAmazon WorkDocs en los archivos en los que hay permisos de acceso establecidos. Se mapean a partir de los nombres de usuario deAmazon WorkDocs.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-box">Filtrado de contexto de usuario para fuentes de datos de Box</h2>
            <p>Cuando usa una fuente de datos de Box,Amazon Kendra obtiene información de usuarios y grupos de la instancia de Box.</p>
            <p>El grupo Box y los ID de usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los identificadores de grupo aparecen en Box en los archivos en los que hay permisos de acceso establecidos. Están mapeados a partir de los nombres de los grupos de Box.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario aparecen en Box en los archivos en los que hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores de usuario en Box.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-confluence">Filtrado de contexto de usuario para fuentes de datos de Confluence</h2>
            <p>Cuando usas una fuente de datos de Confluence,Amazon Kendra obtiene información de usuarios y grupos de la instancia de Confluence.</p>
            <p>Puede configurar el acceso de usuarios y grupos a los espacios mediante la página de permisos de espacio. Para las páginas y los blogs, utiliza la página de restricciones. Para obtener más información sobre los permisos de espacio, consulta la <a href="https://confluence.atlassian.com/doc/space-permissions-overview-139521.html" rel="noopener noreferrer" target="_blank"><span>descripción general de los permisos de espacio</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en el sitio web de Support de Confluence. Para obtener más información sobre las restricciones de páginas y blogs, consulta las restricciones de <a href="https://confluence.atlassian.com/doc/page-restrictions-139414.html" rel="noopener noreferrer" target="_blank"><span>página</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> en el sitio web de Support de Confluence.</p>
            <p>El grupo de Confluence y los nombres de usuario se representan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los nombres de los grupos aparecen en los espacios, las páginas y los blogs donde hay restricciones. Están mapeados a partir del nombre del grupo en Confluence. Los nombres de los grupos siempre aparecen en minúsculas.</p>
                </li></ul></div>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>—Los nombres de usuario aparecen en el espacio, la página o el blog donde hay restricciones. Se mapean según el tipo de instancia de Confluence que utilices.</p>

                    <p><b>Para Confluence Connector v1.0</b></p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Servidor:<code class="code">_user_id</code> es el nombre de usuario. El nombre de usuario siempre está en minúsculas.</p>
                        </li><li class="listitem">
                            <p>Nube:<code class="code">_user_id</code> es el identificador de cuenta del usuario.</p>
                        </li></ul></div>
                    <p><b>Para el conector Confluence v2.0</b></p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Servidor:<code class="code">_user_id</code> es el nombre de usuario. El nombre de usuario siempre está en minúsculas.</p>
                        </li><li class="listitem">
                            <p>Nube:<code class="code">_user_id</code> es el ID de correo electrónico del usuario.</p>
                        </li></ul></div>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-dropbox">Filtrado de contexto de usuario para fuentes de datos de Dropbox</h2>
            <p>Cuando usas una fuente de datos de Dropbox,Amazon Kendra obtiene la información del usuario y del grupo de la instancia de Dropbox.</p>
            <p>Los ID de grupo y usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los ID de grupo existen en Dropbox en los archivos en los que hay permisos de acceso establecidos. Se mapean a partir de los nombres de los grupos de Dropbox.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existen en Dropbox en los archivos en los que hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores en Dropbox.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-github">Filtrado de contexto de usuario para fuentes GitHub  de datos</h2>
            <p>Cuando usas una fuente GitHub  de datos,Amazon Kendra obtiene la información del usuario de la GitHub  instancia.</p>
            <p>Los ID GitHub  de usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existen GitHub  en los archivos en los que hay permisos de acceso establecidos. Se mapean a partir de los correos electrónicos de los usuarios como identificadores GitHub.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-google">Filtrado de contexto de usuario para fuentes de datos de Google Drive</h2>
            <p>Una fuente de datos de Google Workspace Drive muestra información de usuarios y grupos de usuarios y grupos de Google Drive. La pertenencia a grupos y dominios se asigna al campo<code class="code">_group_ids</code> de índice. El nombre de usuario de Google Drive se asigna al<code class="code">_user_id</code> campo.</p>
            <p>Cuando proporcionas una o más direcciones de correo electrónico de usuario en la<code class="code">Query</code> API, solo se devolverán los documentos que se hayan compartido con esas direcciones de correo electrónico. El siguiente<code class="code">AttributeFilter</code> parámetro solo devuelve los documentos compartidos con "martha@example.com».</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_user_id", 
                   "Value": <span>{</span>
                       "StringValue": "martha@example.com"
                   }
               }
           }</code></pre>
            <p>Si proporciona una o más direcciones de correo electrónico de grupo en la consulta, solo se devolverán los documentos compartidos con los grupos. El siguiente<code class="code">AttributeFilter</code> parámetro solo devuelve los documentos compartidos con el grupo "hr@example.com».</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_group_ids", 
                   "Value": <span>{</span>
                       "StringListValue": ["hr@example.com"]
                   }
               }
           }</code></pre>
            <p>Si proporciona el dominio en la consulta, se devolverán todos los documentos compartidos con el dominio. El siguiente<code class="code">AttributeFilter</code> parámetro devuelve los documentos compartidos con el dominio «example.com».</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_group_ids", 
                   "Value": <span>{</span>
                       "StringListValue": ["example.com"]
                   }
               }
           }</code></pre>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
            <p></p>
         
            <h2 id="context-filter-gmail">Filtrado de contexto de usuario para fuentes de datos de Gmail</h2>
            <p>Cuando usas una fuente de datos de Gmail,Amazon Kendra obtiene la información del usuario de la instancia de Gmail.</p>
            <p>Los ID de usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Los identificadores de usuario existen en Gmail en los archivos en los que hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores en Gmail.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-jira">Filtrado de contexto de usuario para fuentes de datos de Jira</h2>
            <p>Cuando usas una fuente de datos de Jira,Amazon Kendra obtiene información de usuarios y grupos de la instancia de Jira.</p>
            <p>Los ID de usuario de Jira se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existen en Jira en los archivos en los que hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores de usuario en Jira.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-exchange">Filtrado de contexto de usuario para fuentes de datos de Microsoft Exchange</h2>
            <p>Amazon Kendrarecupera la información del usuario de Microsoft Exchange cuando indexa los documentos del sitio. La información del usuario se toma del sitio host de Microsoft Exchange subyacente.</p>
            <p>Cuando usa un usuario de Exchange para filtrar el contexto de usuario,Amazon Kendra obtiene la información del usuario de la instancia de Microsoft Exchange. Los ID de Exchange se asignan de la siguiente manera: </p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_tenant_id</code>— Su ID de inquilino de Microsoft es un identificador único a nivel mundial que es necesario para configurar cada instancia de conector. Su ID de inquilino es diferente del nombre o dominio de su organización y se encuentra en la sección de propiedades del panel de control de su cuenta Microsoft. </p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-teams">Filtrado de contexto de usuario para fuentes de datos de Microsoft Teams</h2>
            <p>Amazon Kendrarecupera la información del usuario de Microsoft Teams cuando indexa los documentos del sitio. La información del usuario se extrae del sitio host subyacente de Microsoft Teams.</p>
            <p>Cuando utilizas un usuario de Teams para filtrar el contexto de usuario,Amazon Kendra obtiene la información del usuario de la instancia de Microsoft Teams. Los ID de inquilinos de Teams se asignan de la siguiente manera: </p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_tenant_id</code>— Su ID de inquilino de Microsoft es un identificador único a nivel mundial que es necesario para configurar cada instancia de conector. Su ID de inquilino es diferente del nombre o dominio de su organización y se encuentra en la sección de propiedades del panel de control de su cuenta Microsoft. </p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-onedrive">Filtrado de contexto de usuario para fuentes OneDrive  de datos de Microsoft</h2>
            <p>Amazon Kendrarecupera la información de usuarios y grupos de Microsoft OneDrive cuando indexa los documentos del sitio. La información del usuario y del grupo se toma del SharePoint  sitio de Microsoft subyacente que aloja OneDrive.</p>
            <p>Cuando utilice un OneDrive  usuario o grupo para filtrar el contexto de usuario, calcule el ID de la siguiente manera:</p>
            <div class="orderedlist">
                 
                 
                 
            <ol><li>
                    <p>Obtenga el nombre del sitio. Por ejemplo, <code class="code">https://host.onmicrosoft.com/sites/siteName.</code> .</p>
                </li><li>
                    <p>Tome el hash MD5 del nombre del sitio. Por ejemplo, <code class="code">430a6b90503eef95c89295c8999c7981</code>.</p>
                </li><li>
                    <p>Cree el correo electrónico del usuario o el ID del grupo concatenando el hash MD5 con una barra vertical (|) y el ID. Por ejemplo, si el nombre de un grupo es «propietarios del sitio», el identificador del grupo sería:</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|site
                        owners</code>"</code></p>
                    <p>Para el nombre de usuario "someone@host.onmicrosoft.com», el ID de usuario sería el siguiente:</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|someone@host.onmicrosoft.com</code>"</code></p>
                </li></ol></div>
            <p>Envía el ID de usuario o grupo aAmazon Kendra como<code class="code">_group_ids</code> atributo<code class="code">_user_id</code> o cuando llames a la API de <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">consultas</a>. Por ejemplo, elAWS CLI comando que usa un grupo para filtrar la respuesta a la consulta tiene este aspecto:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "430a6b90503eef95c89295c8999c7981|site owners"}
                  }}'</code></pre>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-onedrivev2">Filtrado de contexto de usuario para fuentes de datos de Microsoft OneDrive  v2.0</h2>
            <p>Una fuente de datos de Microsoft OneDrive  v2.0 devuelve información de secciones y páginas de las entidades de la lista de control de OneDrive  acceso (ACL). Amazon Kendrausa el dominio OneDrive arrendatario para conectarse a la OneDrive  instancia y puede filtrar según el nombre de la sección, el tipo de página, el nombre del archivo, el tipo de archivo y el contenido del archivo. </p>

            <p>Para los objetos estándar, los<code class="code">_user_id</code> y se<code class="code">_group_id</code> utilizan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Su ID OneDrive  de correo electrónico de usuario de Microsoft está asignada al<code class="code">_user_id</code> campo.</p>
                </li><li class="listitem">
                    <p><code class="code">_group_id</code>— OneDrive  El correo electrónico de su grupo de Microsoft está asignado al<code class="code">_group_id</code> campo.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-yammer">Filtrado de contexto de usuario para fuentes de datos de Microsoft Yammer</h2>
            <p>Amazon Kendrarecupera la información de usuarios y grupos de Microsoft Yammer cuando indexa los documentos del sitio. La información del usuario y del grupo se obtiene del sitio host de Microsoft Yammer subyacente.</p>
            <p>Al utilizar un usuario de Yammer para filtrar el contexto de usuario,Amazon Kendra obtiene la información del usuario de la instancia de Microsoft Yammer. Los ID de usuario de Microsoft Yammer se asignan de la siguiente manera: </p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_email_id</code>— Su ID de correo electrónico de Microsoft es un identificador necesario para configurar cada instancia de conector. Puedes encontrar tu ID de correo electrónico en la sección de propiedades del panel de control de tu cuenta Microsoft. </p>
                </li><li class="listitem">
                    <p> <code class="code">_group_id</code>— Los ID de grupo existen en las instancias de Microsoft Yammer donde hay permisos de acceso establecidos. Se mapean a partir de los nombres de los grupos en Microsoft Yammer. </p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
            <p></p>
         
            <h2 id="context-filter-sharepoint-online">Filtrado de contexto de usuario para fuentes SharePoint  de datos de Microsoft</h2>
            <p>Amazon Kendrarecupera la información de usuarios y grupos de Microsoft SharePoint cuando indexa los documentos del sitio. Para filtrar tus documentos, proporciona información de usuarios y grupos cuando llames a la<code class="code">Query</code> API.</p>
            <p>Para filtrar mediante un nombre de usuario, utilice la dirección de correo electrónico del usuario. Por ejemplo, johnstiles@example.com.</p>

            <p>Cuando utilice un SharePoint  grupo para filtrar el contexto de usuario, calcule el ID del grupo de la siguiente manera:</p>

            <p><b>Para grupos locales</b></p>
            <div class="orderedlist">
                 
                 
                 
            <ol><li>
                    <p>Obtenga el nombre del sitio. Por ejemplo, <code class="code">https://host.onmicrosoft.com/sites/siteName.</code> .</p>
                </li><li>
                    <p>Tome el hash SHA256 del nombre del sitio. Por ejemplo, <code class="code">430a6b90503eef95c89295c8999c7981</code>.</p>
                </li><li>
                    <p>Cree el ID del grupo concatenando el hash SHA256 con una barra vertical (|) y el nombre del grupo. Por ejemplo, si el nombre del grupo es «propietarios del sitio», el identificador del grupo sería:</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|site
                        owners</code>"</code></p>
                </li></ol></div>
            <p>Envía el ID del grupo aAmazon Kendra como<code class="code">_group_ids</code> atributo cuando llames a la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">API de consulta</a>. Por ejemplo, elAWS CLI comando tiene este aspecto:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "430a6b90503eef95c89295c8999c7981|site owners"}
                  }}'</code></pre>

            <p><b>Para grupos de AD</b></p>
            <div class="orderedlist">
                 
            <ol><li>
                    <p>Use el ID del grupo AD para configurar el contexto de usuario.</p>
                </li></ol></div>
            <p>Envía el ID del grupo aAmazon Kendra como<code class="code">_group_ids</code> atributo cuando llames a la API de <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">consulta</a>. Por ejemplo, elAWS CLI comando tiene este aspecto:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "AD group"}
                  }}'</code></pre>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-quip">Filtrado de contexto de usuario para fuentes de datos de Quip</h2>
            <p>Cuando usa una fuente de datos de Quip,Amazon Kendra obtiene la información del usuario de la instancia de Quip.</p>
            <p>Los ID de usuario de Quip se mapean de la siguiente manera:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existen en Quip en los archivos en los que hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores en Quip.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-salesforce">Filtrado de contexto de usuario para fuentes de datos de Salesforce</h2>
            <p>Una fuente de datos de Salesforce devuelve información de usuarios y grupos de las entidades de la lista de control de acceso (ACL) de Salesforce. Puede aplicar el filtrado de contexto de usuario a los objetos estándar de Salesforce y a las fuentes de chat. El filtrado del contexto de usuario no está disponible para los artículos de conocimiento de Salesforce.</p>
            <p>Para los objetos estándar, los<code class="code">_user_id</code> y se<code class="code">_group_ids</code> utilizan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>: el nombre de usuario de Salesforce.</p>
                </li><li class="listitem">
                    <p><code class="code">_group_ids</code>—</p>
                    <div class="itemizedlist">
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Nombre de Salesforce<code class="code">Profile</code></p>
                        </li><li class="listitem">
                            <p>Nombre de Salesforce<code class="code">Group</code></p>
                        </li><li class="listitem">
                            <p>Nombre de Salesforce<code class="code">UserRole</code></p>
                        </li><li class="listitem">
                            <p>Nombre de Salesforce<code class="code">PermissionSet</code></p>
                        </li></ul></div>
                </li></ul></div>
            <p>Para las fuentes de chat, los<code class="code">_user_id</code> y se<code class="code">_group_ids</code> utilizan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>: el nombre de usuario de Salesforce. Solo está disponible si el artículo está publicado en el feed del usuario.</p>
                </li><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los ID de grupo se utilizan de la siguiente manera. Solo está disponible si el elemento del feed se publica en un chat o en un grupo de colaboración.</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Nombre del grupo de usuario o grupo de colaboración.</p>
                        </li><li class="listitem">
                            <p>Si el grupo es público,<code class="code">PUBLIC:ALL</code>.</p>
                        </li></ul></div>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
            
         
            <h2 id="context-filter-servicenow">Filtrado de contexto de usuario para fuentes ServiceNow de datos</h2>
            <p>El filtrado de contexto de usuario solo ServiceNow  es compatible con la TemplateConfiguration  API y el ServiceNow  Conector v2.0.  ServiceNowConfiguration La API y el ServiceNow  conector v1.0 no admiten el filtrado de contexto de usuario.</p>
            <p>Cuando usas una fuente de ServiceNow  datos,Amazon Kendra obtiene la información del usuario y del grupo de la ServiceNow  instancia.</p>
            <p>Los ID de grupo y usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los identificadores de grupo existen ServiceNow  en los archivos en los que hay permisos de acceso establecidos. Están mapeados a partir de los nombres de los roles de<code class="code">sys_ids</code> in ServiceNow.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>—Los identificadores de usuario existen ServiceNow  en los archivos en los que hay permisos de acceso establecidos. Se mapean a partir de los correos electrónicos de los usuarios como identificadores ServiceNow.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-slack">Filtrado de contexto de usuario para fuentes de datos de Slack</h2>
            <p>Cuando usas una fuente de datos de Slack,Amazon Kendra obtiene la información del usuario de la instancia de Slack.</p>
            <p>Los seudónimos de Slack se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>—Los seudónimos existen en Slack en los mensajes y canales en los que hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores en Slack.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
         
            <h2 id="context-filter-zendesk">Filtrado de contexto de usuario para fuentes de datos de Zendesk</h2>
            <p>Cuando usa una fuente de datos de Zendesk,Amazon Kendra obtiene la información del usuario y del grupo de la instancia de Zendesk.</p>
            <p>Los ID de grupo y usuario se asignan de la siguiente manera:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>—Los ID de grupo existen en los tickets y artículos de Zendesk donde hay permisos de acceso establecidos. Se mapean a partir de los nombres de los grupos en Zendesk.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>—Los ID de grupo existen en los tickets y artículos de Zendesk donde hay permisos de acceso establecidos. Se asignan a partir de los correos electrónicos de los usuarios como identificadores en Zendesk.</p>
                </li></ul></div>
            <p>Puede tener hasta 200 entradas en el<code class="code">AccessControlList</code> campo.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./filtering.html">Filtrado y búsqueda de facetas</div><div id="next" class="next-link" accesskey="n" href="./query-responses-types.html">Respuestas a consultas y tipos de respuestas</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>