<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Amazon KendraClasificación inteligente para autogestionados OpenSearch - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="opensearch-rerank" /><meta name="default_state" content="opensearch-rerank" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html" /><meta name="description" content="Cómo configurar y utilizar el complementoAmazon Kendra Intelligent Ranking para OpenSearch (autogestionado)." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Guía para desarrolladores" /><meta name="abstract" content="Proporciona información general conceptual de Amazon Kendra. ConozcaAmazon Kendra las funciones y comience a indexar sus documentos mediante la consola, la CLI y la API." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/opensearch-rerank.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/opensearch-rerank.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/opensearch-rerank.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/opensearch-rerank.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/opensearch-rerank.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/opensearch-rerank.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/opensearch-rerank.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/opensearch-rerank.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/opensearch-rerank.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/opensearch-rerank.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/opensearch-rerank.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/opensearch-rerank.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/opensearch-rerank.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/opensearch-rerank.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/opensearch-rerank.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/opensearch-rerank.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/opensearch-rerank.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/opensearch-rerank.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/opensearch-rerank.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Guía para desarrolladores" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores" /><meta id="panorama-serviceConsolePage" value="Amazon KendraClasificación inteligente para autogestionados OpenSearch" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Amazon KendraClasificación inteligente para autogestionados OpenSearch - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#opensearch-rerank" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search (buscar),búsqueda inteligente,lenguaje natural,índice,question,clave,origen de datos,conector,Preguntas frecuentes,pregunta frecuente,búsqueda semántica,Clasificación de búsqueda inteligente,Búsqueda semántica,clasificación de búsqueda inteligente" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon KendraClasificación inteligente",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg/intelligent-rerank.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Amazon KendraClasificación inteligente para autogestionados OpenSearch",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg/intelligent-rerank.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#opensearch-rerank" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Guía para desarrolladores</a></div><div id="page-toc-src"><a href="#how-opensearch-rerank-plugin-works">Cómo funciona el complemento de búsqueda inteligente</a><a href="#setup-opensearch-rerank-plugin">Configuración del complemento de búsqueda inteligente</a><a href="#interact-opensearch-rerank-plugin">Interactuar con el complemento de búsqueda inteligente</a><a href="#compare-opensearch-rerank-plugin">Comparar OpenSearch  los resultados conAmazon Kendra los resultados</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Las traducciones son generadas a través de traducción automática. En caso de conflicto entre la traducción y la version original de inglés, prevalecerá la version en inglés.</p></awsui-alert><h1 class="topictitle" id="opensearch-rerank">Amazon KendraClasificación inteligente para autogestionados OpenSearch</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Puede aprovechar las capacidadesAmazon Kendra de búsqueda semántica para mejorar los resultados de búsqueda desde <a href="https://opensearch.org/docs/latest" rel="noopener noreferrer" target="_blank"><span>OpenSearch</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>el servicio de búsqueda de código abierto autogestionado basado en la licencia Apache 2.0. El complementoAmazon Kendra Intelligent Ranking vuelve a clasificar semánticamente OpenSearch los resultados utilizandoAmazon Kendra. Para ello, comprende el significado y el contexto de una consulta de búsqueda mediante campos específicos, como el cuerpo o el título del documento, de los resultados de OpenSearch  búsqueda predeterminados.</p><p>Tomemos, por ejemplo, esta consulta: «discurso principal». Dado que «dirección» tiene varios significados,Amazon Kendra puede inferir el significado detrás de la consulta para devolver información relevante alineada con el significado deseado. En este contexto, es el discurso de apertura de una conferencia. Un servicio de búsqueda más sencillo podría no tener en cuenta la intención y podría arrojar resultados para una dirección postal en Main Street, por ejemplo.</p><p>El complemento Intelligent Ranking for OpenSearch  está disponible para la versión 2.4.0 OpenSearch  (autogestionada) y versiones posteriores. Puede instalar el complemento mediante un script Bash de inicio rápido para crear una nueva imagen de Docker OpenSearch  con el complemento Intelligent Ranking incluido. Consulte<a href="#setup-opensearch-rerank-plugin">Configuración del complemento de búsqueda inteligente</a>: este es un ejemplo de una configuración que le permitirá empezar a trabajar rápidamente.</p>
        <h2 id="how-opensearch-rerank-plugin-works">Cómo funciona el complemento de búsqueda inteligente</h2>
        <p>El proceso general del complemento Intelligent Ranking para OpenSearch  (autogestionado) es el siguiente:</p>
        <div class="orderedlist">
             
             
             
             
             
        <ol><li>
                <p>Un OpenSearch  usuario emite una consulta y OpenSearch  proporciona una respuesta a la consulta o una lista de documentos relevantes para la consulta.</p>
            </li><li>
                <p>El complemento Intelligent Ranking toma la respuesta a la consulta y extrae la información de los documentos.</p>
            </li><li>
                <p>El complemento Intelligent Ranking hace una llamada a la API <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Ranking_Rescore.html">Rescore</a> deAmazon Kendra Intelligent Ranking.</p>
            </li><li>
                <p>La<code class="code">Rescore</code> API toma la información extraída de los documentos y vuelve a clasificar semánticamente los resultados de la búsqueda.</p>
            </li><li>
                <p>La<code class="code">Rescore</code> API envía los resultados de búsqueda reclasificados al complemento. El complemento reorganiza los resultados de la búsqueda en la respuesta de OpenSearch  búsqueda para reflejar la nueva clasificación semántica.</p>
            </li></ol></div>
        <p>El complemento Intelligent Ranking vuelve a clasificar los resultados mediante los campos «cuerpo» y «título». Estos campos del complemento se pueden asignar a los campos del OpenSearch  índice que mejor se ajusten a la definición del cuerpo y el título de un documento. Por ejemplo, si el índice contiene capítulos de un libro con campos como «encabezado del capítulo» y «contenido del capítulo», puede asignar el primero a «título» y el segundo a «cuerpo» para obtener los mejores resultados.</p>
     
        <h2 id="setup-opensearch-rerank-plugin">Configuración del complemento de búsqueda inteligente</h2>
        <p>A continuación se describe cómo configurar rápidamente OpenSearch  (autogestionado) con el complemento Intelligent Ranking.</p>
        <div class="procedure"><h6>Configuración OpenSearch  (autogestionada) con el complemento Intelligent Ranking (configuración rápida)</h6><p>Si ya está utilizando una imagen de Docker<code class="code">opensearch:2.4.0</code>, puede usar este <a href="https://docs.aws.amazon.com/kendra/latest/dg/opensearch-rerank.html#dockerfile-build-opensearch-example">Dockerfile</a> para crear una nueva imagen de OpenSearch  2.4.0 con el complemento Intelligent Ranking. Incluye un contenedor para la nueva imagen en el archivo <a href="https://docs.aws.amazon.com/kendra/latest/dg/opensearch-rerank.html#docker-compose-opensearch-example">docker-compose.yml</a> o en el archivo opensearch.yml. También incluyes el ID del plan de ejecución de rescore generado al crear un plan de ejecución de rescore, junto con la información de tu región y punto final; consulta el paso 2 para crear un plan de ejecución de rescore.</p><p>Si ya descargaste una versión de la imagen de<code class="code">opensearch</code> Docker anterior a la 2.4.0, debes usar la imagen de Docker<code class="code">opensearch:2.4.0</code> o una versión posterior y crear una nueva imagen con el complemento Intelligent Ranking incluido.</p><ol><li>
                <p>Descargue e instale <a href="https://docs.docker.com/get-docker/" rel="noopener noreferrer" target="_blank"><span>Docker Desktop</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> para su sistema operativo. Docker Desktop incluye Docker Compose y Docker Engine. Se recomienda comprobar si el equipo cumple con los requisitos del sistema mencionados en los detalles de instalación de Docker.</p>
                <p>También puede aumentar sus requisitos de uso de memoria en la configuración de su escritorio Docker. Usted es responsable de los requisitos de uso de Docker fuera de los límites de uso disponibles gratuitamente para los servicios de Docker. Consulte <a href="https://docs.docker.com/subscription/" rel="noopener noreferrer" target="_blank"><span>Suscripciones a Docker</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                <p>Compruebe que el estado de Docker Desktop esté «en ejecución».</p>
            </li><li>
                <p>Aproveche la clasificaciónAmazon Kendra inteligente y sus requisitos <a href="https://docs.aws.amazon.com/kendra/latest/dg/adjusting-capacity.html">de capacidad</a>. Una vez queAmazon Kendra aprovisione la Clasificación inteligente, se le cobrará por hora en función de las unidades de capacidad establecidas. Consulte la <a href="http://aws.amazon.com/kendra/intelligent-ranking-pricing/" rel="noopener noreferrer" target="_blank"><span>información sobre precios y niveles gratuitos</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
                <p>Utiliza la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Ranking_CreateRescoreExecutionPlan.html">CreateRescoreExecutionPlan</a>API para aprovisionar el<code class="code">Rescore API</code>. Si no necesitas más unidades de capacidad que las predeterminadas de una sola unidad, no agregues más unidades y solo proporciones un nombre para tu plan de ejecución de rescore. También puedes actualizar tus requisitos de capacidad mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Ranking_UpdateRescoreExecutionPlan.html">UpdateRescoreExecutionPlan</a>API. Para obtener más información, consulta <a href="https://docs.aws.amazon.com/kendra/latest/dg/search-service-rerank.html">Clasificar semánticamente los resultados de un servicio de búsqueda</a>.</p>
                <p>Si lo desea, puede ir al paso 3 para crear un plan de ejecución de rescore predeterminado al ejecutar el script Bash de inicio rápido.</p>
                <p>Para el paso 4, anote el ID del plan de ejecución de rescore incluido en la respuesta.</p>
                <awsdocs-tabs><dl style="display: none">
                    <dt>CLI</dt><dd tab-id="cli">
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra-ranking create-rescore-execution-plan \
  --name MyRescoreExecutionPlan \ 
  --capacity-units '<span>{</span>"RescoreCapacityUnits":&lt;integer number of additional capacity units&gt;}'
 
Response:
 
<span>{</span>
    "Id": "&lt;rescore execution plan ID&gt;",
    "Arn": "arn:aws:kendra-ranking:&lt;region&gt;:&lt;account-id&gt;:rescore-execution-plan/&lt;rescore-execution-plan-id&gt;"
}</code></pre>
                        </dd>
                    <dt>Python</dt><dd tab-id="python">
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError
import pprint
import time

kendra_ranking = boto3.client("kendra-ranking")

print("Create a rescore execution plan.")

# Provide a name for the rescore execution plan
name = "MyRescoreExecutionPlan"
# Set your required additional capacity units
# Don't set capacity units if you don't require more than 1 unit given by default
capacity_units = 1

try:
    rescore_execution_plan_response = kendra_ranking.create_rescore_execution_plan(
        Name = name,
        CapacityUnits = <span>{</span>"RescoreCapacityUnits":capacity_units}
    )

    pprint.pprint(rescore_execution_plan_response)

    rescore_execution_plan_id = rescore_execution_plan_response["Id"]

    print("Wait for Amazon Kendra to create the rescore execution plan.")

    while True:
        # Get the details of the rescore execution plan, such as the status
        rescore_execution_plan_description = kendra_ranking.describe_rescore_execution_plan(
            Id = rescore_execution_plan_id
        )
        # When status is not CREATING quit.
        status = rescore_execution_plan_description["Status"]
        print(" Creating rescore execution plan. Status: "+status)
        time.sleep(60)
        if status != "CREATING":
            break

except ClientError as e:
        print("%s" % e)

print("Program ends.")</code></pre>
                        </dd>
                </dl></awsdocs-tabs>
            </li><li>
                <p>Descargue el <a href="https://github.com/opensearch-project/search-processor/tree/main/helpers" rel="noopener noreferrer" target="_blank"><span>script de inicio rápido de Bash</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> GitHub  para su versión de OpenSearch  seleccionando la rama de versión en el menú desplegable de la rama principal.</p>
            </li><li>
                <p>Abra su terminal y en el directorio en el script en Bash, ejecute el siguiente comando.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">bash search_processing_kendra_quickstart.sh -p &lt;execution-plan-id&gt; -r &lt;region&gt;</code></pre>
                <p>Al ejecutar este comando, proporciona el ID del plan de ejecución de rescore que anotó en el paso 2 al aprovisionarAmazon Kendra Intelligent Ranking, junto con la información de su región. Si lo desea, puede aprovisionar la ClasificaciónAmazon Kendra inteligente en su lugar mediante la<code class="code">--create-execution-plan</code> opción. Esto crea un plan de ejecución de rescore con un nombre y una capacidad predeterminados. SiAWS las credenciales no se pueden obtener de las variables de entorno, el perfil predeterminado o laAmazon EC2 instancia, proporcione sus credenciales mediante la<code class="code">--profile</code> opción.</p>
                <p>Para no perder el índice cuando se elimina el contenedor efímero predeterminado, puede hacer que el índice persista en todas las ejecuciones proporcionando el nombre del volumen de datos mediante la<code class="code">--volume-name</code> opción. Si ya creó un índice, puede especificar el volumen en el archivo docker-compose.yml u opensearch.yml.</p>
                <p>Este script usa imágenes de Docker OpenSearch  y OpenSearch  paneles con la versión que seleccionó en el GitHub  repositorio para el script. Descarga un archivo zip para el complemento Intelligent Ranking y genera una imagen nueva de Docker<code class="code">Dockerfile</code> para crear una nueva imagen de Docker OpenSearch  que incluya el complemento. También crea un archivo <a href="https://docs.aws.amazon.com/kendra/latest/dg/opensearch-rerank.html#docker-compose-opensearch-example">docker-compose.yml</a> que incluye contenedores para OpenSearch  el complemento Intelligent Ranking y los OpenSearch  paneles de control. El script agrega el ID del plan de ejecución de Rescore, la información de la región y el punto final (usa la región) al archivo docker-compose.yml. A continuación, el script se ejecuta<code class="code">docker-compose up</code> para iniciar los contenedores OpenSearch  con la clasificación inteligente incluida y los OpenSearch  paneles de control. Para detener los recipientes sin retirarlos, corra<code class="code">docker-compose stop</code>. Para retirar los contenedores, corra<code class="code">docker-compose down</code>. Para dejar sus volúmenes intactos, <b>no</b> los ejecute<code class="code">docker-compose down -v</code>.</p>
            </li></ol></div>
         
            <h3 id="docker-compose-opensearch-example">Ejemplo de docker-compose.yml</h3>
            <p>Un ejemplo de un archivo docker-compose.yml que usa la OpenSearch  versión 2.4.0 o posterior con el complemento Intelligent Ranking y OpenSearch  Dashboards 2.4.0 o versiones posteriores.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">version: '3'
networks:
  opensearch-net:
volumes: 
  &lt;volume-name&gt;:
services:
  opensearch-node:
    image: &lt;Docker image tag name of OpenSearch with Intelligent Ranking plugin&gt;
    container_name: opensearch-node
    environment: 
      - cluster.name=opensearch-cluster
      - node.name=opensearch-node
      - discovery.type=single-node
      - kendra_intelligent_ranking.service.endpoint=https://kendra-ranking.&lt;region&gt;.api.aws
      - kendra_intelligent_ranking.service.region=&lt;region&gt;
      - kendra_intelligent_ranking.service.execution_plan_id=&lt;rescore-execution-plan-id&gt;
    ulimits:
      memlock:
        soft: -1
        hard: -1
      nofile:
        soft: 65536
        hard: 65536
    ports:
      - 9200:9200
      - 9600:9600
    networks:
      - opensearch-net
  volumes:
    &lt;docker-volume-name&gt;:/usr/share/opensearch/data 
  opensearch-dashboard:
   image: opensearchproject/opensearch-dashboards:&lt;your-version&gt;
   container_name: opensearch-dashboards
   ports:
     - 5601:5601
   environment:
     OPENSEARCH_HOSTS: '["https://opensearch-node:9200"]'
   networks:
     - opensearch-net</code></pre>
         
         
            <h3 id="dockerfile-build-opensearch-example">Ejemplo de un Dockerfile y creación de una imagen</h3>
            <p>Un ejemplo de uso de<code class="code">Dockerfile</code> la OpenSearch  versión 2.4.0 o posterior con el complemento Intelligent Ranking.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">FROM opensearchproject/opensearch:&lt;your-version&gt;
RUN /usr/share/opensearch/bin/opensearch-plugin install --batch  https://github.com/opensearch-project/search-processor/releases/download/&lt;your-version&gt;/search-processor.zip</code></pre>
            <p>Creación de una imagen de Docker para OpenSearch  con el complemento Intelligent Ranking.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">docker build --tag=&lt;Docker image tag name of OpenSearch with Intelligent Ranking plugin&gt;</code></pre>
         
     
        <h2 id="interact-opensearch-rerank-plugin">Interactuar con el complemento de búsqueda inteligente</h2>
        <p>Una vez que lo haya configurado OpenSearch  (autogestionado) con el complemento Intelligent Ranking, podrá interactuar con el complemento mediante los comandos curl o las bibliotecas OpenSearch  cliente. Las credenciales predeterminadas para acceder OpenSearch  con el complemento Intelligent Ranking son el nombre de usuario «admin» y la contraseña «admin».</p>
        <p>Para aplicar la configuración del complemento Intelligent Ranking a un OpenSearch  índice:</p>
        <awsdocs-tabs><dl style="display: none">
            <dt>Curl</dt><dd tab-id="curl">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">curl -XPUT "https://localhost:9200/&lt;your-docs-index&gt;/_settings" -u 'admin:admin' --insecure -H 'Content-Type: application/json' -d'
<span>{</span>
  "index": <span>{</span>
    "plugin" : <span>{</span>
      "searchrelevance" : <span>{</span>
        "result_transformer" : <span>{</span>
          "kendra_intelligent_ranking": <span>{</span>
              "order": 1,
              "properties": <span>{</span>
                "title_field": "title_field_name_here",
                "body_field": "body_field_name_here"
              }
          }
        }
      }
    }
  }
}
'</code></pre>
                </dd>
            <dt>Python</dt><dd tab-id="python">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">pip install opensearch-py

from opensearchpy import OpenSearch
host = 'localhost'
port = 9200
auth = ('admin', 'admin')

client = OpenSearch(
    hosts = [<span>{</span>'host': host, 'port': port}],
    http_compress = True, # enables gzip compression for request bodies
    http_auth = auth,
    # client_cert = client_cert_path,
    # client_key = client_key_path,
    use_ssl = True,
    verify_certs = False,
    ssl_assert_hostname = False,
    ssl_show_warn = False,
    ca_certs = ca_certs_path
)

setting_body = <span>{</span>
    "index": <span>{</span>
        "plugin" : <span>{</span>
            "searchrelevance" : <span>{</span>
                "result_transformer" : <span>{</span>
                    "kendra_intelligent_ranking": <span>{</span>
                            "order": 1,
                            "properties": <span>{</span>
                                "title_field": "title_field_name_here",
                                "body_field": "body_field_name_here"
                            }
                    }
                }
            }
        }
    }
}

response = client.indices.put_settings(index_name, body=setting_body)</code></pre>
                </dd>
        </dl></awsdocs-tabs>
        <p>Debe incluir el nombre del campo de texto principal que desea utilizar para cambiar la clasificación, como el cuerpo del documento o el campo de contenido del documento. También puede incluir otros campos de texto, como el título del documento o el resumen del documento.</p>
        <p>Ahora puede realizar cualquier consulta y los resultados se clasifican con el complemento Intelligent Ranking.</p>
        <awsdocs-tabs><dl style="display: none">
            <dt>Curl</dt><dd tab-id="curl">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">curl -XGET "https://localhost:9200/&lt;your-docs-index&gt;/_search?pretty" -u 'admin:admin' --insecure -H 'Content-Type: application/json' -d'
<span>{</span>
  "query" : <span>{</span>
    "match" : <span>{</span>
      "body_field_name_here": "intelligent systems"
    }
  }
}
'</code></pre>
                </dd>
            <dt>Python</dt><dd tab-id="python">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">from opensearchpy import OpenSearch
host = 'localhost'
port = 9200
auth = ('admin', 'admin')

client = OpenSearch(
    hosts = [<span>{</span>'host': host, 'port': port}],
    http_compress = True, # enables gzip compression for request bodies
    http_auth = auth,
    # client_cert = client_cert_path,
    # client_key = client_key_path,
    use_ssl = True,
    verify_certs = False,
    ssl_assert_hostname = False,
    ssl_show_warn = False,
    ca_certs = ca_certs_path
)

query = <span>{</span>
  'size': 10,
  "query" : <span>{</span>
    "match" : <span>{</span>
      "body_field_name_here": "intelligent systems"
    }
  }
}

response = client.search(
    body = query,
    index = index_name
)

print('\nSearch results:')
print(response)</code></pre>
                </dd>
        </dl></awsdocs-tabs>
        <p>Para eliminar la configuración del complemento Intelligent Ranking de un OpenSearch  índice, sigue estos pasos:</p>
        <awsdocs-tabs><dl style="display: none">
            <dt>Curl</dt><dd tab-id="curl">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">curl -XPUT "http://localhost:9200/&lt;your-docs-index&gt;/_settings" -H 'Content-Type: application/json' -d'
<span>{</span>
  "index": <span>{</span>
    "plugin": <span>{</span>
      "searchrelevance": <span>{</span>
        "result_transformer": <span>{</span>
          "kendra_intelligent_ranking.*": null
        }
      }
    }
  }
}
'</code></pre>
                </dd>
            <dt>Python</dt><dd tab-id="python">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">from opensearchpy import OpenSearch
host = 'localhost'
port = 9200
auth = ('admin', 'admin')

client = OpenSearch(
    hosts = [<span>{</span>'host': host, 'port': port}],
    http_compress = True, # enables gzip compression for request bodies
    http_auth = auth,
    # client_cert = client_cert_path,
    # client_key = client_key_path,
    use_ssl = True,
    verify_certs = False,
    ssl_assert_hostname = False,
    ssl_show_warn = False,
    ca_certs = ca_certs_path
)

setting_body = <span>{</span>
  "index": <span>{</span>
    "plugin": <span>{</span>
      "searchrelevance": <span>{</span>
        "result_transformer": <span>{</span>
          "kendra_intelligent_ranking.*": null
        }
      }
    }
  }
}

response = client.indices.put_settings(index_name, body=setting_body)</code></pre>
                </dd>
        </dl></awsdocs-tabs>
        <p>Para probar el complemento Intelligent Ranking en una consulta determinada o en ciertos campos del cuerpo y el título:</p>
        <awsdocs-tabs><dl style="display: none">
            <dt>Curl</dt><dd tab-id="curl">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">curl -XGET "https://localhost:9200/&lt;your-docs-index&gt;/_search?pretty" -u 'admin:admin' --insecure -H 'Content-Type: application/json' -d'
<span>{</span>
  "query": <span>{</span>
    "multi-match": <span>{</span>
      "query": "intelligent systems",
      "fields": ["body_field_name_here", "title_field_name_here"]
    }
  },
  "size": 25,
  "ext": <span>{</span>
    "search_configuration": <span>{</span>
      "result_transformer": <span>{</span>
        "kendra_intelligent_ranking": <span>{</span>
          "order": 1,
          "properties": <span>{</span>
            "title_field": "title_field_name_here",
            "body_field": "body_field_name_here"
          }
        }
      }
    }
  }
}
'</code></pre>
                </dd>
            <dt>Python</dt><dd tab-id="python">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">from opensearchpy import OpenSearch
host = 'localhost'
port = 9200
auth = ('admin', 'admin')

client = OpenSearch(
    hosts = [<span>{</span>'host': host, 'port': port}],
    http_compress = True, # enables gzip compression for request bodies
    http_auth = auth,
    # client_cert = client_cert_path,
    # client_key = client_key_path,
    use_ssl = True,
    verify_certs = False,
    ssl_assert_hostname = False,
    ssl_show_warn = False,
    ca_certs = ca_certs_path
)

# Index settings null for kendra_intelligent_ranking

query = <span>{</span>
  "query": <span>{</span>
    "multi_match": <span>{</span>
      "query": "intelligent systems",
      "fields": ["body_field_name_here", "title_field_name_here"] 
    }
  },
  "size": 25,
  "ext": <span>{</span>
    "search_configuration": <span>{</span>
      "result_transformer": <span>{</span>
        "kendra_intelligent_ranking": <span>{</span>
          "order": 1,
          "properties": <span>{</span>
            "title_field": "title_field_name_here",
            "body_field": "body_field_name_here"
          }
        }
      }
    }
  }
}

response = client.search(
    body = query,
    index = index_name
)

print('\nSearch results:')
print(response)</code></pre>
                </dd>
        </dl></awsdocs-tabs>
     
        <h2 id="compare-opensearch-rerank-plugin">Comparar OpenSearch  los resultados conAmazon Kendra los resultados</h2>
        <p>Puede comparar los resultados clasificados side-by-side OpenSearch  (autogestionados) conAmazon Kendra los resultados reclasificados.  OpenSearch La versión 2.4.0 y versiones posteriores de Dashboards ofrecen side-by-side  resultados para que pueda comparar la forma en que se OpenSearch  clasifican los documentos con la formaAmazon Kendra en que el complemento clasifica los documentos para una consulta de búsqueda.</p>
        <p>Antes de poder comparar los resultados OpenSearch  clasificados con los resultadosAmazon Kendra reclasificados, asegúrese de que sus OpenSearch  paneles estén respaldados por un OpenSearch  servidor con el complemento Clasificación inteligente. Puede configurar esto usando Docker y un script Bash de inicio rápido. Consulte <a href="#setup-opensearch-rerank-plugin">Configuración del complemento de búsqueda inteligente</a>.</p>
        <p>A continuación se describe cómo comparar OpenSearch  yAmazon Kendra buscar los resultados en los OpenSearch  paneles. Para obtener más información, consulte la <a href="https://opensearch.org/docs/latest/search-plugins/search-relevance" rel="noopener noreferrer" target="_blank"><span>documentación de OpenSearch </span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
        <div class="procedure"><h6>Comparación de los resultados de búsqueda en OpenSearch  los paneles</h6><ol><li>
                <p>Abra http://localhost:5601 e inicie sesión en los OpenSearch  paneles. Las credenciales predeterminadas son el nombre de usuario «admin» y la contraseña «admin».</p>
            </li><li>
                <p>Selecciona <b>Relevancia de búsqueda</b> en los OpenSearch  complementos del menú de navegación.</p>
            </li><li>
                <p>Escriba el texto en la barra de búsqueda.</p>
            </li><li>
                <p>Seleccione su índice para la <b>consulta 1</b> e introduzca una consulta en el DSL de OpenSearch  consultas. Puede utilizar la<code class="code">%SearchText%</code> variable para hacer referencia al texto de búsqueda que ha introducido en la barra de búsqueda. Para ver un ejemplo de esta consulta, consulte <a href="https://opensearch.org/docs/latest/search-plugins/search-relevance" rel="noopener noreferrer" target="_blank"><span>OpenSearch la documentación</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Los resultados devueltos para esta consulta son los OpenSearch  resultados sin utilizar el complemento Intelligent Ranking.</p>
            </li><li>
                <p>Seleccione el mismo índice para la <b>consulta 2</b> e introduzca la misma consulta en el DSL de OpenSearch  consultas. Además, incluye la extensión con<code class="code">kendra_intelligent_ranking</code> y especifica el obligatorio en el<code class="code">body_field</code> que se debe clasificar. También puede especificar el campo de título, pero el campo cuerpo es obligatorio. Para ver un ejemplo de esta consulta, consulte <a href="https://opensearch.org/docs/latest/search-plugins/search-relevance" rel="noopener noreferrer" target="_blank"><span>OpenSearch la documentación</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Los resultados devueltos para esta consulta son los resultadosAmazon Kendra reclasificados mediante el complemento Intelligent Ranking. El complemento clasifica hasta 25 resultados.</p>
            </li><li>
                <p>Selecciona <b>Buscar</b> para obtener y comparar los resultados.</p>
            </li></ol></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./intelligent-rerank.html">Amazon KendraClasificación inteligente</div><div id="next" class="next-link" accesskey="n" href="./search-service-rerank.html">Clasificar semánticamente los resultados de un servicio de búsqueda</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/es_es/kendra/latest/dg/opensearch-rerank.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>