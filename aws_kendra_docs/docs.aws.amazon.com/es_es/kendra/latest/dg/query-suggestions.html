<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sugerencias de consulta - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="query-suggestions" /><meta name="default_state" content="query-suggestions" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" /><meta name="description" content="Cómo sugerir consultas populares enAmazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Guía para desarrolladores" /><meta name="abstract" content="Proporciona información general conceptual de Amazon Kendra. ConozcaAmazon Kendra las funciones y comience a indexar sus documentos mediante la consola, la CLI y la API." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/query-suggestions.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/query-suggestions.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/query-suggestions.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/query-suggestions.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/query-suggestions.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/query-suggestions.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/query-suggestions.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/query-suggestions.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/query-suggestions.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/query-suggestions.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/query-suggestions.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/query-suggestions.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Guía para desarrolladores" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Guía para desarrolladores" /><meta id="panorama-serviceConsolePage" value="Sugerencias de consulta" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Sugerencias de consulta - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#query-suggestions" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search (buscar),búsqueda inteligente,lenguaje natural,índice,question,clave,origen de datos,conector,Preguntas frecuentes,pregunta frecuente,query,sugerencias de consulta,autocompletar,escriba con anticipación" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía para desarrolladores",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Búsqueda de índices",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Sugerencias de consulta",
        "item" : "https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#query-suggestions" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Guía para desarrolladores</a></div><div id="page-toc-src"><a href="#suggestions-settings">Configuración de sugerencias de consulta</a><a href="#suggestions-block-list">Bloquear ciertas consultas de las sugerencias</a><a href="#clear-suggestions">Sugerencias claras</a><a href="#no-suggestions">No hay sugerencias disponibles</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Las traducciones son generadas a través de traducción automática. En caso de conflicto entre la traducción y la version original de inglés, prevalecerá la version en inglés.</p></awsui-alert><h1 class="topictitle" id="query-suggestions">Sugerencias de consulta</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Kendra<em>Las sugerencias de consultas</em> pueden ayudar a los usuarios a escribir sus consultas de búsqueda más rápidamente y a guiar su búsqueda.</p><p>Amazon Kendrasugiere consultas relevantes para los usuarios en función de las consultas más populares del historial de consultas o del registro de consultas. Amazon Kendrautiliza todas las consultas que buscan los usuarios y aprende de estas consultas para hacer sugerencias a los usuarios. Amazon Kendrasugiere consultas populares a los usuarios cuando comienzan a escribir su consulta. Amazon Kendrasugiere una consulta si el prefijo o los primeros caracteres de la consulta coinciden con lo que el usuario empieza a escribir como consulta.</p><p>Por ejemplo, un usuario comienza a escribir la consulta «próximos eventos». Amazon Kendraha descubierto en el registro de consultas que muchos usuarios han buscado «próximos eventos de 2050» muchas veces. El usuario ve aparecer la sección «Próximos eventos de 2050» directamente debajo de la barra de búsqueda, completando automáticamente su consulta de búsqueda. El usuario selecciona esta sugerencia de consulta eligiendo el primer resultado de la búsqueda, que es el documento «Próximos eventos: lo que está sucediendo en 2050».</p><p>Puede especificar cómoAmazon Kendra selecciona las consultas aptas para sugerirlas a sus usuarios. Por ejemplo, puedes especificar que una sugerencia de consulta haya sido buscada por al menos 10 usuarios únicos (el valor predeterminado es 3), que se haya buscado en los últimos 30 días y que no contenga ninguna palabra o frase de la <a href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions#suggestions-block-list">lista de bloqueo</a>. Amazon Kendrarequiere que la consulta tenga al menos un resultado de búsqueda y contenga al menos una palabra de más de cuatro caracteres.</p><p>Las sugerencias de consulta no distinguen entre mayúsculas y minúsculas. Amazon Kendraconvierte el prefijo de consulta y la consulta sugerida a minúsculas, omite todas las comillas simples y dobles y reemplaza varios espacios en blanco por un solo espacio. Amazon Kendracoincide con todos los demás caracteres especiales tal como están. Amazon Kendrano muestra ninguna sugerencia si un usuario escribe menos de dos caracteres o más de 60 caracteres.</p><p>Puede recuperar sugerencias de consultas relevantes para sus usuarios mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_GetQuerySuggestions.html">GetQuerySuggestions</a>API. Las sugerencias de consulta están activadas de forma predeterminada sin costos adicionales. Puede deshabilitar las sugerencias de consulta en cualquier momento mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateQuerySuggestionsConfig.html">UpdateQuerySuggestionsConfig</a>API. Puedes probar la configuración antes de aplicar las sugerencias a la aplicación de búsqueda de dos maneras:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Mediante el uso de la<code class="code">UpdateQuerySuggestionsConfig</code> API.</p>
            </li><li class="listitem">
                <p>En la consola, en la <b>configuración de sugerencias de consultas</b>.</p>
            </li></ul></div><p>Utiliza la<code class="code">GetQuerySuggestions</code> API para integrar las sugerencias de consultas con la aplicación de consola para que los usuarios comiencen a verlas.</p>
            <h2 id="suggestions-settings">Configuración de sugerencias de consulta</h2>
            <p>Puede establecer la siguiente configuración mediante la<code class="code">UpdateQuerySuggestionsConfig</code> API:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Modo</b>: las sugerencias de consulta son<code class="code">ENABLED</code> o<code class="code">LEARN_ONLY</code>. Amazon Kendraactiva las sugerencias de consulta de forma predeterminada. <code class="code">LEARN_ONLY</code>desactiva las sugerencias de consulta. Si está desactivada,Amazon Kendra sigue aprendiendo sugerencias, pero no hace sugerencias de consultas a los usuarios.</p>
                </li><li class="listitem">
                    <p><b>Ventana de tiempo del registro de consultas</b>: qué tan recientes son las consultas en la ventana de tiempo del registro de consultas. La ventana de tiempo es un valor entero para el número de días desde el día actual hasta los días anteriores.</p>
                </li><li class="listitem">
                    <p><b>Consultas sin información de usuario</b>: se establece<code class="code">TRUE</code> para incluir todas las consultas o se establece<code class="code">FALSE</code> para incluir solo las consultas con información de usuario. Puede utilizarla si la aplicación de búsqueda incluye información del usuario, como el identificador de usuario, cuando un usuario realiza una consulta. De forma predeterminada, esta configuración no filtra las consultas si no hay información de usuario específica asociada a las consultas. Sin embargo, puede utilizar esta configuración para hacer sugerencias únicamente a partir de consultas que incluyan información del usuario.</p>
                </li><li class="listitem">
                    <p><b>Usuarios únicos</b>: el número mínimo de usuarios únicos que deben buscar en una consulta para que la consulta pueda sugerirla a los usuarios. Este número es un valor entero.</p>
                </li><li class="listitem">
                    <p><b>Recuento de consultas</b>: el número mínimo de veces que se debe buscar una consulta para que pueda sugerirla a los usuarios. Este número es un valor entero.</p>
                </li></ul></div>
            <p>Esta configuración afecta a la forma en que las consultas se seleccionan como consultas populares para sugerirlas a los usuarios. La forma en que ajustes la configuración dependerá de tus necesidades específicas, por ejemplo:</p>
            <p></p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Si tus usuarios suelen realizar búsquedas una vez al mes en promedio, puedes establecer el número de días del registro de consultas en 30, de modo que puedas capturar la mayoría de las consultas recientes de tus usuarios antes de que queden desactualizadas en el intervalo de tiempo. </p>
                </li><li class="listitem">
                    <p>Si solo una pequeña cantidad de sus consultas incluyen información de usuario y no desea sugerir consultas basadas en un tamaño de muestra pequeño, puede configurar las consultas para que incluyan a todos los usuarios.</p>
                </li><li class="listitem">
                    <p>Si define las consultas populares como búsquedas realizadas por al menos 10 usuarios únicos y se buscan al menos 100 veces, establece los usuarios únicos en 10 y el recuento de consultas en 100.</p>
                </li></ul></div>
            <p>Es posible que los cambios en la configuración no surtan efecto de inmediato. Puede realizar un seguimiento de los cambios de configuración mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DescribeQuerySuggestionsConfig.html">DescribeQuerySuggestionsConfig</a>API. El tiempo que tarda en surtir efecto la configuración actualizada depende de las actualizaciones que realices y del número de consultas de búsqueda en tu índice.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Console</dt><dd tab-id="console">
                        
                        <div class="procedure"><h6>Para comprobar que las sugerencias de consulta estén activadas y listas</h6><ol><li>
                                <p>En el panel de navegación de la izquierda, en <b>Índices</b>, ve a tu índice y, a continuación, en <b>Enriquecimientos</b>, selecciona <b>Sugerencias de consulta</b>.</p>
                            </li><li>
                                <p>En la página de <b>sugerencias de consultas</b>, vaya a la <b>configuración de sugerencias de consultas</b> y haga lo siguiente:</p>
                                <ol><li>
                                        <p>Compruebe que <b>el estado</b> esté <b>activado</b>.</p>
                                    </li><li>
                                        <p>Compruebe que el número de <b>consultas listas para recibir sugerencias</b> sea superior a 0.</p>
                                    </li></ol>
                            </li></ol></div>
                        <div class="procedure"><h6>Para editar la configuración de sugerencias de consultas</h6><ol><li>
                                <p>En el panel de navegación de la izquierda, en <b>Índices</b>, ve a tu índice y, a continuación, en <b>Enriquecimientos</b>, selecciona <b>Sugerencias de consulta</b>.</p>
                            </li><li>
                                <p>En la página de <b>sugerencias de consultas</b>, ve a <b>Configuración de sugerencias de consultas</b> y selecciona <b>Editar</b>.</p>
                            </li></ol></div>
                        <div class="procedure"><h6>Eliminación de sugerencias</h6><ol><li>
                                <p>En el panel de navegación de la izquierda, en <b>Índices</b>, ve a tu índice y, a continuación, en <b>Enriquecimientos</b>, selecciona <b>Sugerencias de consulta</b>.</p>
                            </li><li>
                                <p>En la página de <b>sugerencias de consultas</b>, ve a <b>Configuración de sugerencias de consultas</b> y, a continuación, en <b>Acciones</b>, selecciona <b>Borrar sugerencias</b>.</p>
                            </li></ol></div>
                    </dd>
                <dt>CLI</dt><dd tab-id="cli">
                        <p><b>Para recuperar sugerencias de consultas</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra get-query-suggestions \
--index-id <code class="replaceable">index-id</code> \
--query-text <code class="replaceable">"query-text"</code> \
--max-suggestions-count 1 // If you want to limit the number of suggestions.
</code></pre>
                        <p><b>Para actualizar las sugerencias de consulta</b></p>
                        <p>Por ejemplo, para cambiar la ventana de tiempo del registro de consultas y el número mínimo de veces que se debe buscar una consulta:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra update-query-suggestions-config \
--index-id <code class="replaceable">index-id</code> \
--query-log-look-back-window-in-days 30 \
--minimum-query-count 100</code></pre>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>El tiempo que tarda en surtir efecto la configuración actualizada depende de las actualizaciones que realices y del número de consultas de búsqueda en tu índice.</p></div></div>
                        <p><b>Para borrar sugerencias</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws  kendra clear-query-suggestions \
--index-id <code class="replaceable">index-id</code> \</code></pre>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Amazon Kendraaprende nuevas sugerencias en función de las nuevas consultas agregadas al registro de consultas desde la última vez que borró las sugerencias.</p></div></div>
                    </dd>
                <dt>Python</dt><dd tab-id="python">
                        <p><b>Para recuperar sugerencias de consultas</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Get query suggestions.")

# Provide the index ID
index_id = "index-id"

# Provide the query text
query_text = "query"

try:
    query_suggestions_response = kendra.get_query_suggestions(
        IndexId = index_id,
        QueryText = query_text,
        MaxSuggestionsCount = 5
    )

    # Print out the suggestions you received
    if ("Suggestions" in query_suggestions_response.keys()) <span>{</span>
        for (suggestion: query_suggestions_response["Suggestions"]) <span>{</span>
            print(suggestion["Value"]["Text"]["Text"]);
        }
    }
   
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Para actualizar las sugerencias de consulta</b>,</p>
                        <p>Por ejemplo, para cambiar la ventana de tiempo del registro de consultas y el número mínimo de veces que se debe buscar una consulta:</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError
import pprint
import time

kendra = boto3.client("kendra")

print("Updating query suggestions settings/configuration for an index.")

# Provide the index ID
index_id = "index-id"

# Configure the settings you want to update
query_log_look_back_window_in_days = 30
minimum_query_count = 100

try:
    kendra.update_query_suggestions_config(
        IndexId = index_id,
        QueryLogLookBackWindowInDays = query_log_look_back_window_in_days,
        MinimumQueryCount = minimum_query_count
    )

    print("Wait for Amazon Kendra to update the query suggestions.")

    while True:
        # Get query suggestions description of settings/configuration
        query_sugg_config_response = kendra.describe_query_suggestions_config(
            IndexId = index_id
        )
        
        # If status is not UPDATING, then quit
        status = query_sugg_config_response["Status"]
        print(" Updating query suggestions config. Status: " + status)
        if status != "UPDATING":
            break
        time.sleep(60)

except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Para borrar sugerencias</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Clearing out query suggestions for an index.")

# Provide the index ID
index_id = "index-id"

try:
    kendra.clear_query_suggestions(
        IndexId = index_id
    )

    # Confirm last cleared date-time and that there are no suggestions
    query_sugg_config_response = kendra.describe_query_suggestions_config(
        IndexId = index_id
    )
    print("Query Suggestions last cleared at: " + str(query_sugg_config_response["LastClearTime"]));
    print("Number of suggestions available to use after clearing: " + str(query_sugg_config_response["TotalSuggestionsCount"]));
        
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                    </dd>
            </dl></awsdocs-tabs>
            <p>Puedes comprobar tu configuración actual mediante la<code class="code">DescribeQuerySuggestionsConfig</code> API. Además, esta operación muestra la siguiente información sobre las sugerencias de consulta para un índice:</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Modo</b>: las sugerencias de consulta son<code class="code">ENABLED</code> o<code class="code">LEARN_ONLY</code>. Amazon Kendraactiva las sugerencias de consulta de forma predeterminada. <code class="code">LEARN_ONLY</code>desactiva las sugerencias de consulta. Puede cambiar el modo mediante la<code class="code">UpdateQuerySuggestionsConfig</code> API. Si está desactivada,Amazon Kendra sigue aprendiendo sugerencias, pero no hace sugerencias de consultas a los usuarios.</p>
                </li><li class="listitem">
                    <p><b>Estado</b>: las sugerencias de consulta son<code class="code">ACTIVE</code> o<code class="code">UPDATING</code>.</p>
                </li><li class="listitem">
                    <p><b>Recuento de sugerencias</b>: el número total de consultas listas para ser sugeridas a los usuarios. Si el recuento es mucho menor de lo esperado, podría deberse a queAmazon Kendra necesita más consultas de las que aprender o a que la configuración actual de las sugerencias de consultas es demasiado estricta.</p>
                </li><li class="listitem">
                    <p>Fecha de <b>última compilación de las sugerencias</b>: la última vez que se actualizaron las sugerencias. Amazon Kendraactualiza automáticamente las sugerencias cada 24 horas, o cuando cambias una configuración o aplicas una <a href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html#suggestions-block-list">lista de bloqueo</a>.</p>
                </li><li class="listitem">
                    <p>Hora de <b>la última vez que se borraron</b> las sugerencias: la última vez que se borraron las sugerencias.</p>
                </li></ul></div>
         
            <h2 id="suggestions-block-list">Bloquear ciertas consultas de las sugerencias</h2>
            <p>Una lista de bloqueoAmazon Kendra impide sugerir determinadas consultas populares a tus usuarios. Es una lista de palabras o frases que desea excluir de las sugerencias de consulta. Amazon Kendraexcluye las consultas que contienen una coincidencia exacta de las palabras o frases de la lista de bloqueo.</p>
            <p>Puede utilizar una lista de bloqueo para protegerse de las palabras o frases ofensivas que suelen aparecer en el registro de consultas y queAmazon Kendra podrían seleccionarse como sugerencias. Una lista de bloqueo también puedeAmazon Kendra impedir que se sugieran consultas populares que contengan información que no esté lista para publicarse o anunciarse públicamente. Por ejemplo, si tus usuarios suelen hacer consultas sobre una versión de un producto nuevo que no quieres sugerir porque no estás preparado para lanzarlo pronto, puedes bloquear las consultas que contengan el nombre y la información del producto para que no aparezcan en las sugerencias.</p>
            <p>Puede crear una lista de bloqueos para consultas mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateQuerySuggestionsBlockList.html">CreateQuerySuggestionsBlockList</a>API. Coloca cada palabra o frase del bloque en una línea independiente de un archivo de texto. A continuación, sube el archivo de texto a su bucket de S3 y proporciona la ruta o la ubicación del archivo enAmazon S3. Amazon Kendraactualmente admite la creación de una sola lista de bloqueo.</p>
            <p>Puedes reemplazar el archivo de texto de las palabras y frases bloqueadas en tuAmazon S3 bucket y usar la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateQuerySuggestionsBlockList.html">UpdateQuerySuggestionsBlockList</a>API para actualizar la lista de bloqueos enAmazon Kendra.</p>
            <p>Puedes usar la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DescribeQuerySuggestionsBlockList.html">DescribeQuerySuggestionsBlockList</a>API para obtener el estado de tu lista de bloqueados y otra información útil, como cuándo se actualizó por última vez, cuántas palabras o frases hay en tu lista de bloqueo actual y mensajes de error útiles al crear una lista de bloqueo. También puedes usar la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_ListQuerySuggestionsBlockLists.html">ListQuerySuggestionsBlockLists</a>API para obtener una lista de resúmenes de listas de bloques para un índice.</p>
            <p>Para eliminar tu lista de bloqueo, usa la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DeleteQuerySuggestionsBlockList.html">DeleteQuerySuggestionsBlockList</a>API.</p>
            <p>Es posible que las actualizaciones de la lista de bloqueados no surtan efecto de inmediato. Puede realizar un seguimiento de las actualizaciones mediante la<code class="code">DescribeQuerySuggestionsBlockList</code> API.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Console</dt><dd tab-id="console">
                        
                        <div class="procedure"><h6>Para importar una lista de bloqueo</h6><ol><li>
                                <p>En el panel de navegación de la izquierda, en <b>Índices</b>, ve a tu índice y, a continuación, en <b>Enriquecimientos</b>, selecciona <b>Sugerencias de consulta</b>.</p>
                            </li><li>
                                <p>En la página de <b>sugerencias de consultas</b>, ve a <b>Lista de bloqueados</b> y selecciona <b>Importar lista de bloqueos</b>.</p>
                            </li><li>
                                <p>En el campo <b>Ubicación del archivo de la lista de bloqueos en S3</b>, introduzca la ubicación del archivo de texto de la lista de bloqueo en suAmazon S3 bucket. </p>
                            </li></ol></div>
                        <div class="procedure"><h6>Para actualizar y volver a cargar una lista de bloqueo</h6><ol><li>
                                <p>En el panel de navegación de la izquierda, en <b>Índices</b>, ve a tu índice y, a continuación, en <b>Enriquecimientos</b>, selecciona <b>Sugerencias de consulta</b>.</p>
                            </li><li>
                                <p>Sustituya el archivo de texto de la lista deAmazon S3 bloqueos del bucket por el archivo actualizado.</p>
                            </li><li>
                                <p>En la página de <b>sugerencias de consultas</b>, ve a la <b>lista de bloqueados</b> y selecciona <b>Recargar</b>. </p>
                            </li></ol></div>
                        <div class="procedure"><h6>Eliminación de una lista de bloqueados</h6><ol><li>
                                <p>En el panel de navegación de la izquierda, en <b>Índices</b>, ve a tu índice y, a continuación, en <b>Enriquecimientos</b>, selecciona <b>Sugerencias de consulta</b>.</p>
                            </li><li>
                                <p>En la página de <b>sugerencias de consultas</b>, ve a la <b>lista de bloqueos</b> y, a continuación, selecciona <b>Eliminar</b>.</p>
                            </li></ol></div>
                    </dd>
                <dt>CLI</dt><dd tab-id="cli">
                        <p><b>Para crear una lista de bloqueo</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra create-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--name <code class="replaceable">"block-list-name"</code> \
--description <code class="replaceable">"block-list-description"</code> \
--source-s3-path "Bucket=<code class="replaceable">bucket-name</code>,Key=<code class="replaceable">query-suggestions/block_list.txt</code>" \
--role-arn <code class="replaceable">role-arn</code>
</code></pre>
                        <p><b>Para actualizar una lista de bloqueo</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra update-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--name <code class="replaceable">"block-list-name"</code> \
--description <code class="replaceable">"block-list-description"</code> \
--source-s3-path "Bucket=<code class="replaceable">bucket-name</code>,Key=<code class="replaceable">query-suggestions/block_list.txt</code>" \
--role-arn <code class="replaceable">role-arn</code>
</code></pre>
                        <p><b>Para eliminar una lista de bloqueo</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra delete-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--id <code class="replaceable">block-list-id</code>
</code></pre>
                    </dd>
                <dt>Python</dt><dd tab-id="python">
                        <p><b>Para crear una lista de bloqueo</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError
import pprint
import time

kendra = boto3.client("kendra")

print("Create a query suggestions block list.")

# Provide a name for the block list
block_list_name = "block-list-name"
# Provide an optional description for the block list
block_list_description = "block-list-description"
# Provide the IAM role ARN required for query suggestions block lists
block_list_role_arn = "role-arn"

# Provide the index ID
index_id = "index-id"

s3_bucket_name = "bucket-name"
s3_key = "query-suggestions/block_list.txt"
source_s3_path = <span>{</span>
    'Bucket': s3_bucket_name,
    'Key': s3_key
}

try:
    block_list_response = kendra.create_query_suggestions_block_list(
        Description = block_list_description,
        Name = block_list_name,
        RoleArn = block_list_role_arn,
        IndexId = index_id,
        SourceS3Path = source_s3_path
    )

    print(block_list_response)

    block_list_id = block_list_response["Id"]

    print("Wait for Amazon Kendra to create the block list.")

    while True:
        # Get block list description
        block_list_description = kendra.describe_query_suggestions_block_list(
            Id = block_list_id,
            IndexId = index_id
        )
        # If status is not CREATING, then quit
        status = block_list_description["Status"]
        print("Creating block list. Status: " + status)
        if status != "CREATING":
            break
        time.sleep(60)
        
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Para actualizar una lista de bloqueo</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import boto3
from botocore.exceptions import ClientError
import pprint
import time
                        
kendra = boto3.client("kendra")
                        
print("Update a block list for query suggestions.")

# Provide the block list name you want to update
block_list_name = "block-list-name"
# Provide the block list description you want to update
block_list_description = "block-list-description"
# Provide the IAM role ARN required for query suggestions block lists
block_list_role_arn = "role-arn"

# Provide the block list ID
block_list_id = "block-list-id"
# Provide the index ID
index_id = "index-id"
                        
s3_bucket_name = "bucket-name"
s3_key = "query-suggestions/block_list_updated.txt"
source_s3_path = <span>{</span>
'Bucket': s3_bucket_name,
'Key': s3_key
}
                        
try:
    kendra.update_query_suggestions_block_list(
        Id = block_list_id,
        IndexId = index_id,
        Description = block_list_description,
        Name = block_list_name,
        RoleArn = block_list_role_arn,
        SourceS3Path = source_s3_path
    )
                        
    print("Wait for Amazon Kendra to update the block list.")
                        
    while True:
        # Get block list description
        block_list_description = kendra.describe_query_suggestions_block_list(
            Id = block_list_id,
            IndexId = index_id
        )
        # If status is not UPDATING, then the update has finished 
        status = block_list_description["Status"]
        print("Updating block list. Status: " + status)
        if status != "UPDATING":
            break
        time.sleep(60)
                        
except ClientError as e:
print("%s" % e)
                        
print("Program ends.")
</code></pre>
                        <p><b>Para eliminar una lista de bloqueo</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Delete a block list for query suggestions.")

# provide the block list ID
query_suggestions_block_list_id = "query-suggestions-block-list-id"
# Provide the index ID
index_id = "index-id"

try:
    kendra.delete_query_suggestions_block_list(
        Id = query_suggestions_block_list_id,
        IndexId = index_id
    )

except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                    </dd>
            </dl></awsdocs-tabs>
         
            <h2 id="clear-suggestions">Sugerencias claras</h2>
            <p>Puede borrar las sugerencias de consultas mediante la <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_ClearQuerySuggestions.html">ClearQuerySuggestions</a>API. Al borrar las sugerencias, solo se eliminan las sugerencias de consulta existentes, no las consultas del registro de consultas. Después de borrar las sugerencias,Amazon Kendra aprende las nuevas en función de las nuevas consultas agregadas al registro de consultas desde el momento en que las borraste.</p>
         
            <h2 id="no-suggestions">No hay sugerencias disponibles</h2>
            <p>Si no aparece sugerencias para una consulta, puede ser por uno de los siguientes motivos:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>No hay suficientes consultas en su índice paraAmazon Kendra aprender de ellas.</p>
                </li><li class="listitem">
                    <p>La configuración de las sugerencias de consultas es demasiado estricta, por lo que la mayoría de las consultas se excluyen de las sugerencias.</p>
                </li><li class="listitem">
                    <p>Has eliminado sugerencias recientemente yAmazon Kendra aún necesitas tiempo para que se acumulen nuevas consultas a fin de aprender nuevas sugerencias.</p>
                </li></ul></div>
            <p>Puedes comprobar tu configuración actual mediante la<code class="code">DescribeQuerySuggestionsConfig</code> API.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./searching-tables.html">Búsqueda tabular de HTML</div><div id="next" class="next-link" accesskey="n" href="./query-spell-check.html">Corrector ortográfico de consultas</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>