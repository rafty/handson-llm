<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Claves de contexto de condición de IAM y AWS STS - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="reference_policies_iam-condition-keys" /><meta name="default_state" content="reference_policies_iam-condition-keys" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" /><meta name="description" content="Describe las claves de condición de IAM y otras relacionadas que pueden utilizarse en una política." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Controle el acceso a sus recursos de AWS con la identidad del usuario (autenticación) y con políticas que definan permisos específicos (autorización)." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Claves de contexto de condición de IAM y AWS STS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Claves de contexto de condición de IAM y AWS STS - AWS Identity and Access Management</title><meta name="pdf" content="iam-ug.pdf#reference_policies_iam-condition-keys" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,Usuario de IAM,user,Grupo de IAM,grupo,Rol de IAM,role,política de permisos,política de confianza,política,clave de acceso,password" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Información de referencia para AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Referencia de políticas JSON de IAM",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Claves de contexto de condición de IAM y AWS STS",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="iam-ug.pdf#reference_policies_iam-condition-keys" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#available-keys-for-iam">Claves disponibles para IAM</a><a href="#condition-keys-wif">Claves disponibles para las identidades web federadas de AWS</a><a href="#cross-condition-keys-wif">Claves de contexto de federación de identidades web de AWS multiservicios</a><a href="#condition-keys-saml">Claves disponibles para la federación AWS STS basada en SAML</a><a href="#cross-condition-keys-saml">Claves de contexto de federación de AWS STS basadas en SAML multiservicios</a><a href="#condition-keys-sts">Claves disponibles para AWS STS</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="reference_policies_iam-condition-keys">Claves de contexto de condición de IAM y AWS STS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Puede utilizar el elemento <code class="code">Condition</code> en una política JSON para probar el valor de las claves que se incluyen en el contexto de solicitud de todas las solicitudes de AWS. Estas claves proporcionan información sobre la propia solicitud o sobre los recursos a los que se refiere. Puede comprobar que las claves han especificado valores antes de permitir la acción solicitada por el usuario. De este modo, dispondrá de control detallado sobre cuándo las instrucciones de la política de JSON coinciden o no coinciden con una solicitud entrante. Para obtener información sobre cómo utilizar el elemento <code class="code">Condition</code> en una política de JSON, consulte <a href="./reference_policies_elements_condition.html">Elementos de política JSON de IAM: Condition</a>.</p><p>En este tema se describen las claves definidas y proporcionadas por el servicio de IAM (con el prefijo <code class="code">iam:</code>) y el servicio AWS Security Token Service (AWS STS) (con un prefijo <code class="code">sts:</code>). Existen otros servicios de AWS que también proporcionan claves específicas del servicio relevantes para las acciones y los recursos definidos por dicho servicio. Para obtener más información, consulte <a href="reference_policies_actions-resources-contextkeys.html" rel="noopener noreferrer" target="_blank">Acciones, recursos y claves de condición para servicios de AWS</a>. La documentación de un servicio que admite las claves de condición a menudo dispone de información adicional. Por ejemplo, para obtener información sobre las claves que puede utilizar en las políticas de recursos de Amazon S3, consulte <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/amazon-s3-policy-keys.html#AvailableKeys-iamV2">Claves de política de Amazon S3</a> en la <em>Guía del usuario de Amazon Simple Storage Service</em>.</p><div class="highlights" id="inline-topiclist"><h6>Temas</h6><ul><li><a href="#available-keys-for-iam">Claves disponibles para IAM</a></li><li><a href="#condition-keys-wif">Claves disponibles para las identidades web federadas de AWS</a></li><li><a href="#cross-condition-keys-wif">Claves de contexto de federación de identidades web de AWS multiservicios</a></li><li><a href="#condition-keys-saml">Claves disponibles para la federación AWS STS basada en SAML</a></li><li><a href="#cross-condition-keys-saml">Claves de contexto de federación de AWS STS basadas en SAML multiservicios</a></li><li><a href="#condition-keys-sts">Claves disponibles para AWS STS</a></li></ul></div>
      <h2 id="available-keys-for-iam">Claves disponibles para IAM</h2>
      <p>Puede utilizar las siguientes claves de condición en políticas que controlan el acceso a los recursos de IAM: </p>
      <div class="variablelist">
          
          
          
          
          
          
          
      <dl>
            <dt><b><span class="term"><a id="ck_AssociatedResourceArn"></a>iam:AssociatedResourceArn</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">operadores ARN</a>.</p>
               <p>Especifica el ARN del recurso al que se asociará este rol en el servicio de destino. El recurso generalmente pertenece al servicio al que la entidad principal pasa el rol. A veces, el recurso puede pertenecer a un tercer servicio. Por ejemplo, puede pasar un rol a Amazon EC2 Auto Scaling que utilice en una instancia de Amazon EC2. En este caso, la condición coincidiría con el ARN de la instancia de Amazon EC2. </p>
               <p>Esta clave de condición solo se aplica a la acción <a href="./id_roles_use_passrole.html">PassRole</a> de una política. No se puede utilizar para limitar cualquier otra acción. </p>
               <p>Utilice esta clave de condición en una política para permitir que una entidad pase un rol, pero solo si ese rol está asociado con el recurso especificado. Puede utilizar caracteres comodín (*) para permitir operaciones realizadas en un tipo específico de recurso sin restringir la región o el ID de recurso. Por ejemplo, puede permitir que un usuario o rol de IAM pasen cualquier rol al servicio de Amazon EC2 para que se utilice con instancias en la región <code class="code">us-east-1</code> o <code class="code">us-west-1</code>. No se permitiría al usuario o rol de IAM pasar roles a otros servicios. Además, no permite que Amazon EC2 utilice el rol con instancias de otras regiones. </p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": "iam:PassRole",
    "Resource": "*",
    "Condition": <span>{</span>
        "StringEquals": <span>{</span>"iam:PassedToService": "ec2.amazonaws.com"},
        "ArnLike": <span>{</span>
            "iam:AssociatedResourceARN": [
                "arn:aws:ec2:us-east-1:111122223333:instance/*",
                "arn:aws:ec2:us-west-1:111122223333:instance/*"
            ]
        }
    }
}</code></pre>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Los servicios de AWS que admiten <a href="#ck_PassedToService">iam:PassedToService</a> admiten también esta clave de condición.</p></div></div>
            </dd>
         
            <dt><b><span class="term"><a id="ck_AWSServiceName"></a>iam: AWSServiceName</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Especifica el servicio de AWS al que está asociado este rol.</p>
               <p>En este ejemplo, permite que una entidad cree un rol vinculado al servicio si el nombre del servicio es <em>access-analyzer.amazonaws.com.</em></p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
   "Version": "2012-10-17",
   "Statement": [<span>{</span>
       "Effect": "Allow",
       "Action": "iam:CreateServiceLinkedRole",
       "Resource": "*",
       "Condition": <span>{</span>
         "StringLike": <span>{</span>
           "iam:AWSServiceName": "access-analyzer.amazonaws.com"
         }
       }
     }]
 }</code></pre>

            </dd>
         
            <dt><b><span class="term"><a id="ck_OrganizationsPolicyId"></a>iam:OrganizationsPolicyId</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Comprueba que la política con el ID de AWS Organizations especificado coincide con la política que se utiliza en la solicitud. Para ver una política de ejemplo de IAM que utilice esta clave de condición, consulte <a href="./reference_policies_examples_iam_service-accessed-data-orgs.html">IAM: ver la información del último acceso al servicio para una política de Organizaciones</a>.</p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_PassedToService"></a>iam: PassedToService</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Especifica el principal del servicio al que puede pasarse un rol. Esta clave de condición solo se aplica a la acción <a href="./id_roles_use_passrole.html">PassRole</a> de una política. No se puede utilizar para limitar cualquier otra acción. </p>
               <p>Cuando utilice esta clave de condición en una política, especifique el servicio mediante una entidad principal del servicio. El principal de un servicio es un nombre de servicio que puede especificarse en el elemento <code class="code">Principal</code> de una política. El formato habitual es: <code class="code">SERVICE_NAME_URL.amazonaws.com</code>. </p>
               <p>Puede utilizar <code class="code">iam:PassedToService</code> para que los usuarios solo puedan transferir roles a servicios específicos. Por ejemplo, un usuario puede crear una <a href="./id_roles_terms-and-concepts.html#iam-term-service-role">función de servicio</a> que confíe en CloudWatch para escribir en su nombre datos de registro en un bucket de Amazon S3. A continuación, el usuario debe asociar una política de permisos y una política de confianza al nuevo rol de servicio. En este caso, la política de confianza debe especificar <code class="code">cloudwatch.amazonaws.com</code> en el elemento <code class="code">Principal</code>. Para ver una política que permita al usuario pasar el rol a CloudWatch, consulte <a href="./reference_policies_examples_iam-passrole-service.html">IAM: pasar una función de IAM a un servicio de AWS específico</a>.</p>
               <p>Con esta clave de condición puede asegurar que los usuarios solo crearán roles de servicio para los servicios que especifique. Por ejemplo, si un usuario con la política anterior intenta crear una función de servicio para Amazon EC2, la operación fallará. El error se produce porque el usuario no tiene permiso para pasar el rol a Amazon EC2. </p>
               <p>A veces se pasa un rol a un servicio que, a continuación, pasa el rol a otro servicio. <code class="code">iam:PassedToService</code> incluye solo el servicio final que asume el rol, no el servicio intermedio que pasa el rol.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Algunos servicios no admiten esta clave de condición.</p></div></div>
            </dd>
         
            <dt><b><span class="term"><a id="ck_PermissionsBoundary"></a>iam:PermissionsBoundary</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">operadores ARN</a>.</p>
               <p>Comprueba que la política especificada se asocia como límite de permisos por el recursos principal de IAM. Para obtener más información, consulte <a href="./access_policies_boundaries.html">Límites de permisos para las entidades de IAM</a></p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_PolicyARN"></a>iam:PolicyARN</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">operadores ARN</a>.</p>
               <p>Comprueba el nombre de recurso de Amazon (ARN) de una política administrada en las solicitudes que impliquen una política administrada. Para obtener más información, consulte <a href="./access_controlling.html#access_controlling-policies">Control del acceso a políticas</a>. </p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_ResourceTag"></a>iam:ResourceTag/<code class="replaceable">key-name</code></span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Comprueba que la etiqueta asociada al recurso de identidad (usuario o rol) coincida con el valor y el nombre de la clave especificada.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>IAM y AWS STS admiten tanto la clave de condición <code class="code">iam:ResourceTag</code> de IAM como la clave de condición global <code class="code">aws:ResourceTag</code>.</p></div></div>
               <p>Puede agregar atributos personalizados a recursos de IAM en forma de un par de valor de clave. Para obtener más información sobre el etiquetado de recursos de IAM, consulte <a href="./id_tags.html">Etiquetado de recursos de IAM</a>. Puede utilizar <code class="code">ResourceTag</code> para <a href="./access_tags.html#access_tags_control-resources">controlar el acceso</a> a los recursos de AWS, incluidos los recursos de IAM. No obstante, debido a que IAM no es compatible con etiquetas de grupos, no puede utilizar etiquetas para controlar el acceso a grupos.</p>
               <p>En este ejemplo se muestra cómo podría crear una política basada en identidad que permita eliminar usuarios con la etiqueta <code class="userinput">status=terminated</code>. Para utilizar esta política, sustituya el <code class="replaceable">texto en cursiva</code> de la política de ejemplo por su propia información. A continuación, siga las instrucciones en <a href="./access_policies_create.html">Crear una política</a> o <a href="./access_policies_manage-edit.html">Editar una política</a>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [<span>{</span>
        "Effect": "Allow",
        "Action": "iam:DeleteUser",
        "Resource": "*",
        "Condition": <span>{</span>"StringEquals": <span>{</span>"iam:ResourceTag/<code class="replaceable">status</code>": "<code class="replaceable">terminated</code>"}}
    }]
}</code></pre>
            </dd>
         </dl></div>
    
      <h2 id="condition-keys-wif">Claves disponibles para las identidades web federadas de AWS</h2>
      <p>Puede utilizar la federación de identidades Web para otorgar credenciales de seguridad temporales a los usuarios autenticados a través de un proveedor de OpenID (OP) compatible con OpenID Connect a un proveedor de identidad IAM OpenID Connect (OIDC) de su cuenta de AWS. Algunos ejemplos de este tipo de proveedores incluyen Login with Amazon, Amazon Cognito, Google o Facebook. Se pueden utilizar los identificadores de identidad (id_tokens) de su propio OP de OpenID, así como los id_tokens emitidos a las cuentas de servicio de los clústeres de Amazon Elastic Kubernetes Service. En ese caso habrá claves de condición adicionales disponibles cuando se utilicen las credenciales de seguridad temporales al realizar una solicitud. Puede utilizar esas claves para crear políticas que limita el acceso de los usuarios federados a los recursos asociados a un proveedor, aplicación o usuario específico. Estas claves suelen utilizarse en la política de confianza de un rol. Defina las claves de condición utilizando el nombre del proveedor de OIDC seguido de la reclamación (<code class="code">:aud</code>, <code class="code">:azp</code>, <code class="code">:amr</code>, <code class="code">sub</code>). En el caso de los roles utilizados por Amazon Cognito, las claves se definen usando <code class="code">cognito-identity.amazonaws.com</code> seguidas de la afirmación.</p>
      <div class="variablelist">
          
          
          
          
          
          
      <dl>
            <dt><b><span class="term"><a id="ck_wif-amr"></a>amr</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p><b>Ejemplo</b>: <code class="code">cognito-identity.amazonaws.com:amr</code></p>
               <p>Si utiliza Amazon Cognito para la identidad federada de web, la clave <code class="code">cognito-identity.amazonaws.com:amr</code> (Authentication Methods Reference) incluye la información de inicio de sesión sobre el usuario. La clave comporta muchos valores, lo que significa que el usuario la prueba en una política utilizando <a href="./reference_policies_multi-value-conditions.html">operadores de definición de condición</a>. La clave puede contener los siguientes valores: </p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p>Si el usuario no está autenticado, la clave contiene únicamente <code class="code">unauthenticated</code>.</p>
                  </li><li class="listitem">
                     <p>Si el usuario está autenticado, la clave contiene el valor <code class="code">authenticated</code> y el nombre del proveedor de inicio de sesión utilizado en la llamada (<code class="code">graph.facebook.com</code>, <code class="code">accounts.google.com</code> o <code class="code">www.amazon.com</code>). </p>
                  </li></ul></div>
               <p>A modo de ejemplo, la siguiente condición en la política de confianza de un rol de Amazon Cognito prueba si el usuario no está autenticado:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">"Condition": <span>{</span>
  "StringEquals": 
    <span>{</span> "cognito-identity.amazonaws.com:aud": "us-east-2:<code class="replaceable">identity-pool-id</code>" },
  "ForAnyValue:StringLike": 
    <span>{</span> "cognito-identity.amazonaws.com:amr": "unauthenticated" }
}</code></pre>
            </dd>
         
            <dt><b><span class="term"><a id="ck_wif-aud"></a>aud</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Utilice la clave de condición de <code class="code">aud</code> para verificar que el ID de cliente de Google o el ID del grupo de identidades de Amazon Cognito coincide con el que ha especificado en la política. Puede utilizar la clave <code class="code">aud</code> con la clave <code class="code">sub</code> del mismo proveedor de identidad.</p>
               <p><b>Ejemplos:</b></p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p><code class="code">graph.facebook.com:app_id</code></p>
                  </li><li class="listitem">
                     <p><code class="code">accounts.google.com:aud</code></p>
                  </li><li class="listitem">
                     <p><code class="code">cognito-identity.amazonaws.com:aud</code></p>
                  </li></ul></div>
               <p>El campo <code class="code">graph.facebook.com:app_id</code> proporciona el contexto de público que se corresponde con el campo aud utilizado por otros proveedores de identidades.</p>
               <p>La clave de condición <code class="code">accounts.google.com:aud</code> coincide con los siguientes campos Token de ID de Google. </p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p><code class="code">aud</code> para los ID de cliente de Google OAuth 2.0 de su aplicación, cuando el campo <code class="code">azp</code> no está configurado. Cuando se establece el campo <code class="code">azp</code>, el campo <code class="code">aud</code> coincide con la clave de condición <a href="#ck_oaud">accounts.google.com:oaud</a>.</p>
                  </li><li class="listitem">
                     <p><code class="code">azp</code> cuando se establece el campo <code class="code">azp</code>. Esto puede suceder en aplicaciones híbridas donde una aplicación web y una aplicación de Android tienen un ID de cliente de Google OAuth 2.0 diferente pero comparten el mismo proyecto de API de Google. </p>
                  </li></ul></div>
               <p>Para obtener más información sobre los campos <code class="code">aud</code> y <code class="code">azp</code> de Google, consulte la Guía de <a href="https://developers.google.com/identity/protocols/OpenIDConnect" rel="noopener noreferrer" target="_blank"><span>OpenID Connect de la plataforma de identidad de Google</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
               <p>Si escribe una política con la clave de condición <code class="code">accounts.google.com:aud</code>, debe saber si la aplicación es una aplicación híbrida que establece el campo <code class="code">azp</code>. </p>
               <p><code class="code">azp</code> Campo no definido</p>
               <p>La siguiente política de ejemplo funciona para las aplicaciones no híbridas que no establecen el campo <code class="code">azp</code>. En este caso, el valor del campo <code class="code">aud</code> del token de ID de Google coincide con los valores de la clave de condición <code class="code">accounts.google.com:aud</code> y <code class="code">accounts.google.com:oaud</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>"Federated": "accounts.google.com"},
            "Action": "sts:AssumeRoleWithWebIdentity",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "accounts.google.com:aud": "aud-value",
                    "accounts.google.com:oaud": "aud-value",
                    "accounts.google.com:sub": "sub-value"
                }
            }
        }
    ]
}</code></pre>
               <p><code class="code">azp</code> Especificación de campos</p>
               <p>La siguiente política de ejemplo funciona para las aplicaciones híbridas que no establecen el campo <code class="code">azp</code>. En este caso, el valor del campo <code class="code">aud</code> del token de ID de Google solo coincide con el valor de la clave de condición <code class="code">accounts.google.com:oaud</code>. El valor del campo <code class="code">azp</code> coincide con el valor de la clave de condición <code class="code">accounts.google.com:aud</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>"Federated": "accounts.google.com"},
            "Action": "sts:AssumeRoleWithWebIdentity",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "accounts.google.com:aud": "azp-value",
                    "accounts.google.com:oaud": "aud-value",
                    "accounts.google.com:sub": "sub-value"
                }
            }
        }
    ]
}</code></pre>
            </dd>
         
            <dt><b><span class="term"><a id="ck_wif-id"></a>id</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p><b>Ejemplos:</b></p>
               <div class="itemizedlist">
                   
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p><code class="code">graph.facebook.com:id</code></p>
                  </li><li class="listitem">
                     <p><code class="code">www.amazon.com:app_id</code></p>
                  </li><li class="listitem">
                     <p><code class="code">www.amazon.com:user_id</code></p>
                  </li></ul></div>
               <p>Utilice estas claves para verificar que el ID de aplicación (o sitio) o el ID de usuario coincide con el que ha especificado en la política. Esto funciona para Facebook o Login with Amazon. Puede utilizar la clave <code class="code">app_id</code> con la clave <code class="code">id</code> del mismo proveedor de identidad.</p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_oaud"></a>oaud</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p><b>Ejemplo</b>: <code class="code">accounts.google.com:oaud</code></p>
               <p>Si utiliza Google para las identidades web federadas, esta clave especifica la audiencia de Google (<code class="code">aud</code>) para la que está prevista este token de ID. Debe ser uno de los ID de cliente de OAuth 2.0 de su aplicación.</p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_wif-sub"></a>sub</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p><b>Ejemplos:</b> </p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p><code class="code">accounts.google.com:sub</code></p>
                  </li><li class="listitem">
                     <p><code class="code">cognito-identity.amazonaws.com:sub</code></p>
                  </li></ul></div>
               <p>Utilice estas claves para verificar que el ID de usuario coincide con el que ha especificado en la política. Puede utilizar la clave <code class="code">sub</code> con la clave <code class="code">aud</code> del mismo proveedor de identidad.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        "Condition": <span>{</span>
              "StringEquals": <span>{</span>
                  "oidc.eks.us-east-1.amazonaws.com/id/111122223333:aud": "sts.amazonaws.com",
                  "oidc.eks.us-east-1.amazonaws.com/id/111122223333:sub": "system:serviceaccount:default:assumer"
               }
            }
    ]
      }</code></pre>
            </dd>
         
            <dt><b><span class="term">Más información sobre las identidades web federadas</span></b></dt>
            <dd>
               <p>Para obtener más información sobre las identidades web federadas, consulte lo siguiente:</p>
               <div class="itemizedlist">
                   
                   
               <ul class="itemizedlist"><li class="listitem">
                     <p><a href="https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-identity.html">Guía del usuario de Amazon Cognito</a>.</p>
                  </li><li class="listitem">
                     <p><a href="./id_roles_providers_oidc.html">Acerca de identidades web federadas</a></p>
                  </li></ul></div>
            </dd>
         </dl></div>
    
      <h2 id="cross-condition-keys-wif">Claves de contexto de federación de identidades web de AWS multiservicios</h2>
      <p>Algunas claves de condición de federación de identidades web se pueden utilizar en políticas de confianza de roles para definir a qué pueden acceder los usuarios en otros servicios de AWS. Las siguientes son las claves de condición que se pueden utilizar en políticas de confianza de roles cuando las entidades principales federadas asumen otro rol, así como en políticas de recursos de otros servicios de AWS para autorizar el acceso a los recursos por parte de las entidades principales federadas. Si utiliza Amazon Cognito para la federación de identidades web, estas claves están disponibles cuando el usuario se autentica.</p>
      <p>Seleccione una clave de condición para ver la descripción.</p>
      <div class="itemizedlist">
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="#ck_wif-amr">amr</a></p>
         </li><li class="listitem">
            <p><a href="#ck_wif-aud">aud</a></p>
         </li><li class="listitem">
            <p><a href="#ck_wif-id">id</a></p>
         </li><li class="listitem">
            <p><a href="#ck_wif-sub">sub</a></p>
         </li></ul></div>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>No está disponible ninguna otra clave de condición de federación basada en identidad web para su uso después de la autenticación y autorización del proveedor de identidades (IdP) externo para la operación AssumeRoleWithWebIdentity inicial.</p></div></div>
    
      <h2 id="condition-keys-saml">Claves disponibles para la federación AWS STS basada en SAML</h2>
      <p>Si trabaja con <a href="https://docs.aws.amazon.com/STS/latest/UsingSTS/CreatingSAML.html">federación basada en SAML</a> utilizando AWS Security Token Service (AWS STS), puede incluir claves de condición adicionales en la política. </p>
       
         <h3 id="condition-keys-saml_trust-policy">Políticas de confianza de roles de SAML</h3>
         <p>En la política de confianza de un rol, puede incluir las siguientes claves, que le ayudarán a determinar si el intermediario puede asumir el rol. Excepto <code class="code">saml:doc</code>, todos los valores se derivan de la aserción de SAML. Todos los elementos de la lista están disponibles en el editor visual de la consola IAM al crear o editar una política con condiciones. Los elementos marcados con <code class="code">[]</code> <em>pueden</em> tener un valor que sea una lista del tipo especificado.</p>
         <div class="variablelist">
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
             
         <dl>
               <dt><b><span class="term"><a id="ck_aud"></a>saml:aud </span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es una dirección URL de punto de enlace a la que se presentan las aserciones de SAML. El valor de esta clave proviene del campo <code class="code">SAML Recipient</code> de la aserción, <em>no</em> del campo <code class="code">Audience</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_commonname"></a>saml:commonName[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata de un atributo <code class="code">commonName</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_cn"></a>saml:cn[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduOrg</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_doc"></a>saml:doc</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Representa al principal que se utilizó para asumir el rol. El formato es <code class="replaceable">ID-cuenta</code>/<code class="replaceable">nombre-fácil-de-recordar-del-proveedor</code>, como <code class="code">123456789012/SAMLProviderName</code>. El valor <em>ID-cuenta</em> hace referencia a la cuenta que posee el <a href="./id_roles_providers_create_saml.html">proveedor SAML</a>. </p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonaffiliation"></a>saml:edupersonaffiliation[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonassurance"></a>saml:edupersonassurance[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonentitlement"></a>saml:edupersonentitlement[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonnickname"></a>saml:edupersonnickname[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonorgdn"></a>saml:edupersonorgdn</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonorgunitdn"></a>saml:edupersonorgunitdn[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonprimaryaffiliation"></a>saml:edupersonprimaryaffiliation</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonprimaryorgunitdn"></a>saml:edupersonprimaryorgunitdn</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonprincipalname"></a>saml:edupersonprincipalname</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersonscopedaffiliation"></a>saml:edupersonscopedaffiliation[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_edupersontargetedid"></a>saml:edupersontargetedid[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduPerson</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_eduorghomepageuri"></a>saml:eduorghomepageuri[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduOrg</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_eduorgidentityauthnpolicyuri"></a>saml:eduorgidentityauthnpolicyuri[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduOrg</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_eduorglegalname"></a>saml:eduorglegalname[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduOrg</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_eduorgsuperioruri"></a>saml:eduorgsuperioruri[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduOrg</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_eduorgwhitepagesuri"></a>saml:eduorgwhitepagesuri[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">eduOrg</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_givenname"></a>saml:givenName[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata de un atributo <code class="code">givenName</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_iss"></a>saml:iss</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata del emisor representado por un URN. </p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_mail"></a>saml:mail[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata de un atributo <code class="code">mail</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_name"></a>saml:name[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata de un atributo <code class="code">name</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_saml-namequalifier"></a>saml:namequalifier</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Un valor hash basado en el nombre descriptivo del proveedor SAML. El valor es la concatenación de los siguientes valores, en orden y separados por un carácter '/':</p>
                  <div class="orderedlist">
                      
                      
                      
                  <ol><li>
                        <p>El valor de respuesta <code class="code">Issuer</code> (<code class="code">saml:iss</code>)</p>
                     </li><li>
                        <p>El ID de la cuenta de <code class="code">AWS</code>.</p>
                     </li><li>
                        <p> El nombre descriptivo (la última parte del ARN) del proveedor SAML en IAM </p>
                     </li></ol></div>
                  <p>La concatenación del ID de cuenta y del nombre fácil de recordar del proveedor SAML está disponible para las políticas de IAM como clave <code class="code">saml:doc</code>. Para obtener más información, consulte <a href="./id_roles_providers_saml.html#CreatingSAML-userid">Identificación única de los usuarios en la federación basada en SAML</a>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_organizationstatus"></a>saml:organizationStatus[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">organizationStatus</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_primarygroupsid"></a>saml:primaryGroupSID[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata de un atributo <code class="code">primaryGroupSID</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_saml-sub"></a>saml:sub</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata del asunto de la demanda, que incluye un valor que identifica de forma unívoca a un usuario individual dentro de una organización (por ejemplo, <code class="code">_cbb88bf52c2510eabe00c1642d4643f41430fe25e3</code>). </p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_saml-subtype"></a>saml:sub_type</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Esta clave puede tener el valor <code class="code">persistent</code>, <code class="code">transient</code> o ser el URI <code class="code">Format</code> completo de los elementos <code class="code">Subject</code> y <code class="code">NameID</code> utilizados en la aserción de SAML. El valor <code class="code">persistent</code> indica que el valor de <code class="code">saml:sub</code> es el mismo para un usuario entre sesiones. Si el valor es <code class="code">transient</code>, el usuario tendrá un valor <code class="code">saml:sub</code> diferente para cada sesión. Para obtener información sobre el atributo <code class="code">NameID</code> del elemento <code class="code">Format</code>, consulte <a href="./id_roles_providers_create_saml_assertions.html">Configuración de aserciones SAML para la respuesta de autenticación</a>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_surname"></a>saml:surname[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata de un atributo <code class="code">surnameuid</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_uid"></a>saml:uid[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Se trata de un atributo <code class="code">uid</code>.</p>
               </dd>
            
               <dt><b><span class="term"><a id="ck_x500uniqueidentifier"></a>saml:x500UniqueIdentifier[]</span></b></dt>
               <dd>
                  <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
                  <p>Es un atributo <code class="code">x500UniqueIdentifier</code>.</p>
               </dd>
            </dl></div>
         <p>Para obtener información general sobre los atributos <code class="code">eduPerson</code> y <code class="code">eduOrg</code>, consulte el <a href="https://wiki.refeds.org/display/STAN/eduPerson" rel="noopener noreferrer" target="_blank"><span>sitio web REFEDS Wiki</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Para ver una lista de <code class="code">eduPerson</code> atributos, consulte <a href="https://software.internet2.edu/eduperson/internet2-mace-dir-eduperson-201602.html" rel="noopener noreferrer" target="_blank"><span>eduPerson Object Class Specification (201602)</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p>
         <p>Las claves de condición cuyo tipo es una lista pueden incluir múltiples valores. Para crear condiciones en la política para los valores de lista, puede utilizar <a href="./reference_policies_multi-value-conditions.html">operadores de definición</a> (<code class="code">ForAllValues</code>, <code class="code">ForAnyValue</code>). Por ejemplo, a fin de permitir que todos los usuarios cuya afiliación sea "profesorado" o "personal" (pero no "estudiante"), puede utilizar una condición como la siguiente: </p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span>
   "ForAllValues:StringLike": <span>{</span>
     "saml:edupersonaffiliation":[ "faculty", "staff"] 
   }
}</code></pre>
       
    
      <h2 id="cross-condition-keys-saml">Claves de contexto de federación de AWS STS basadas en SAML multiservicios</h2>
      <p>Algunas claves de condición de federación basadas en SAML se pueden utilizar en solicitudes posteriores para autorizar operaciones de AWS en otros servicios y llamadas <code class="code">AssumeRole</code>. Las siguientes son las claves de condición que se pueden utilizar en políticas de confianza de roles cuando las entidades principales federadas asumen otro rol, así como en políticas de recursos de otros servicios de AWS para autorizar el acceso a los recursos por parte de las entidades principales federadas. Para obtener más información sobre el uso de estas claves, consulte <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_saml.html#CreatingSAML-userid">Acerca de la federación basada en SAML 2.0</a>. </p>
      <p>Seleccione una clave de condición para ver la descripción.</p>
      <div class="itemizedlist">
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p><a href="#ck_saml-namequalifier">saml:namequalifier</a></p>
         </li><li class="listitem">
            <p><a href="#ck_saml-sub">saml:sub</a></p>
         </li><li class="listitem">
            <p><a href="#ck_saml-subtype">saml:sub_type</a></p>
         </li></ul></div>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>No está disponible ninguna otra clave de condición de federación basada en SAML para su uso después de la respuesta de autenticación del proveedor de identidades (IdP) externo inicial.</p></div></div>
    
      <h2 id="condition-keys-sts">Claves disponibles para AWS STS</h2>
      <p>Puede utilizar las siguientes claves de condición en políticas de confianza de rol de IAM para los roles que se asumen utilizando operaciones de AWS Security Token Service (AWS STS). </p>
      <div class="variablelist">
          
          
          
          
          
          
      <dl>
            <dt><b><span class="term"><a id="ck_awsservicename"></a>sts:AWSServiceName</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Utilice esta clave para especificar un servicio donde se puede utilizar un token de portador. Cuando utilice esta clave de condición en una política, especifique el servicio mediante una entidad principal del servicio. El principal de un servicio es un nombre de servicio que puede especificarse en el elemento <code class="code">Principal</code> de una política. Por ejemplo, <code class="code">codeartifact.amazonaws.com</code> es el AWS principal de servicio CodeArtifact.</p>
               <p>Algunos servicios de AWS requieren que tenga permiso para obtener un token al portador del servicio AWS STS para poder acceder a sus recursos mediante programación. Por ejemplo, AWS CodeArtifact requiere que los principales usen tokens portador para realizar algunas operaciones. El comando <code class="code">aws codeartifact get-authorization-token</code> devuelve un token portador. A continuación, puede utilizar el token portador para realizar AWS operaciones de CodeArtifact. Para obtener más información acerca de los tokens al portador, consulte <a href="./id_credentials_bearer.html">Uso de tokens al portador</a>. </p>
               <p><b>Disponibilidad</b> - Esta clave está presente en las solicitudes que reciben un token de portador. No puedes hacer una llamada directa a AWS STS para obtener un token. Cuando realiza algunas operaciones en otros servicios, el servicio solicita el token de portador en su nombre.</p>
               <p>Puede utilizar esta clave de condición para permitir a los principales obtener un token de portador para usarlo con un servicio específico.</p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_durationseconds"></a>sts:DurationSeconds</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Numeric">operadores numéricos</a>.</p>
               <p>Utilice esta clave para especificar la duración (en segundos) que un principal puede utilizar al obtener un token portador AWS STS.</p>
               <p>Algunos servicios de AWS requieren que tenga permiso para obtener un token al portador del servicio AWS STS para poder acceder a sus recursos mediante programación. Por ejemplo, AWS CodeArtifact requiere que los principales usen tokens portador para realizar algunas operaciones. El comando <code class="code">aws codeartifact get-authorization-token</code> devuelve un token portador. A continuación, puede utilizar el token portador para realizar AWS operaciones de CodeArtifact. Para obtener más información acerca de los tokens al portador, consulte <a href="./id_credentials_bearer.html">Uso de tokens al portador</a>. </p>
               <p><b>Disponibilidad</b> - Esta clave está presente en las solicitudes que reciben un token de portador. No puedes hacer una llamada directa a AWS STS para obtener un token. Cuando realiza algunas operaciones en otros servicios, el servicio solicita el token de portador en su nombre. La clave no está presente para las AWS STS operaciones assume-rol.</p>
               
            </dd>
         
            <dt><b><span class="term"><a id="ck_externalid"></a>sts:ExternalId</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Utilice esta clave para exigir que una entidad principal proporcione un identificador específico al asumir un rol de IAM.</p>
               <p><b>Disponibilidad</b> - Esta clave está presente en la solicitud cuando el principal proporciona un ID externo mientras asume un rol utilizando AWS CLI o API de AWS. </p>
               <p>Un identificador único que podría ser necesario al asumir un rol en otra cuenta. Si el administrador de la cuenta a la que pertenece el rol le ha proporcionado un ID externo, entonces proporcione dicho valor en el parámetro <code class="code">ExternalId</code>. Este valor puede ser cualquier cadena como, por ejemplo, una frase de contraseña o un número de cuenta. La función principal del ID externo es abordar y prevenir el problema del suplente confuso. Para obtener más información acerca del ID externo y el problema del suplente confuso, consulte <a href="./id_roles_create_for-user_externalid.html">Cómo utilizar un ID externo al otorgar acceso a los recursos de AWS a terceros</a>.</p>
               <p>El valor <code class="code">ExternalId</code> debe tener 2 caracteres como mínimo y 1224 como máximo. El valor debe ser alfanumérico sin espacio en blanco. También puede incluir los símbolos siguientes: más (+), igual (=), coma (,), punto (.), arroba (@), dos puntos (:), barra inclinada (/) y guion (-).</p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_rolesessionname"></a>sts:RoleSessionName</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Utilice esta clave para comparar el nombre de sesión que especifica una entidad principal al asumir un rol con el valor especificado en la política.</p>
               <p><b>Disponibilidad</b> - Esta clave está presente en la solicitud cuando la entidad principal asume el rol mediante AWS Management Console, cualquier comando assume-role CLI o cualquier operación AWS STSde API <code class="code">AssumeRole</code>.</p>
               <p>Puede utilizar esta clave en una política de confianza de rol para exigir que los usuarios proporcionen un nombre de sesión específico cuando asuman un rol. Por ejemplo, puede requerir que los usuarios de IAM especifiquen su propio nombre de usuario como nombre de sesión. Después de que el usuario de IAM asuma el rol, la actividad aparece en los <a href="./cloudtrail-integration.html#cloudtrail-integration_signin-tempcreds">registros de AWS CloudTrail</a> con el nombre de sesión que coincide con su nombre de usuario. Esto hace que sea más fácil para los administradores diferenciar entre sesiones de rol cuando un rol es utilizado por diferentes entidades principales.</p>
               <p>La siguiente política de confianza de rol requiere que los usuarios de IAM de la cuenta <code class="code">111122223333</code> proporcionen su nombre de usuario de IAM como nombre de sesión cuando asuman el rol. Este requisito se aplica utilizando la<a href="./reference_policies_variables.html">variable de condición</a> <code class="code">aws:username</code> en la clave de condición. Esta política permite a los usuarios de IAM asumir el rol al que está asociada la política. Esta política no permite a nadie que utilice credenciales temporales asumir el rol porque la variable <code class="code">username</code> solo está presente para los usuarios de IAM.</p>
               <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>Puede utilizar cualquier clave de condición de valor único como <a href="./reference_policies_variables.html">variable</a>. No se puede utilizar una clave de condición multivalor como variable.</p></div></div>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "RoleTrustPolicyRequireUsernameForSessionName",
            "Effect": "Allow",
            "Action": "sts:AssumeRole",
            "Principal": <span>{</span>"AWS": "arn:aws:iam::111122223333:root"},
            "Condition": <span>{</span>
                "StringLike": <span>{</span>"sts:RoleSessionName": "$<span>{</span>aws:username}"}
            }
        }
    ]
}</code></pre>
               <p>Cuando un administrador ve el registro de AWS CloudTrail de una acción, puede comparar el nombre de la sesión con los nombres de usuario en su cuenta. En el ejemplo siguiente, el usuario denominado <code class="code">matjac</code> realizó la operación utilizando el rol denominado <code class="code">MateoRole</code>. El administrador puede entonces ponerse en contacto con Mateo Jackson, quien tiene el nombre del usuario <code class="code">matjac</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">    "assumedRoleUser": <span>{</span>
        "assumedRoleId": "AROACQRSTUVWRAOEXAMPLE:<code class="replaceable">matjac</code>",
        "arn": "arn:aws:sts::111122223333:assumed-role/<code class="replaceable">MateoRole</code>/<code class="replaceable">matjac</code>"
    }</code></pre>
               <p>Si permite el <a href="./id_roles_common-scenarios_aws-accounts.html">acceso entre cuentas mediante roles</a>, los usuarios de una cuenta pueden asumir un rol en otra cuenta. El ARN del usuario de rol asumido indicado en CloudTrail incluye la cuenta <em>donde existe el rol</em>. No incluye la cuenta del usuario que asumió el rol. Los usuarios son únicos solo dentro de una cuenta. Por lo tanto, se recomienda utilizar este método para comprobar los registros de CloudTrail solo para los roles que asumen los usuarios en las cuentas que administra. Los usuarios pueden utilizar el mismo nombre de usuario en varias cuentas.</p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_sourceidentity"></a>sts:SourceIdentity</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Utilice esta clave para comparar la identidad de origen que especifica una entidad principal al asumir un rol con el valor especificado en la política.</p>
               <p><b>Disponibilidad</b> – Esta clave está presente en la solicitud cuando la entidad principal establece inicialmente una identidad de origen mientras asume un rol utilizando cualquier comando assume-rol CLI de AWS STS, o una operación AWS STS de API <code class="code">AssumeRole</code>.</p>
               <p>Puede utilizar esta clave en una política de confianza de rol para requerir que sus usuarios establezcan una identidad de origen específica cuando asuman un rol. Por ejemplo, puede requerir que su personal o identidades federadas especifiquen un valor para la identidad de origen. Puede configurar su proveedor de identidades (IdP) para que utilice uno de los atributos asociados a los usuarios, como un nombre de usuario o un correo electrónico como identidad de origen. A continuación, el IdP pasa la identidad de origen como un atributo en las afirmaciones que envía a AWS. El valor del atributo de identidad de origen identifica al usuario o aplicación que está asumiendo el rol.</p>
               <p>Después de que el usuario asuma el rol, la actividad aparece en <a href="./cloudtrail-integration.html#cloudtrail-integration_signin-tempcreds">registros de AWS CloudTrail</a> con el valor de identidad de origen que se ha establecido. Esto facilita a los administradores determinar quién o qué ha realizado acciones con un rol en AWS. Debe conceder permisos para la acción <code class="code">sts:SetSourceIdentity</code> para permitir que una identidad establezca una identidad de origen. </p>
               <p>A diferencia de <a href="#ck_rolesessionname">sts:RoleSessionName</a>, después de establecer la identidad de origen, el valor no se puede cambiar. Está presente en el contexto de solicitud para todas las acciones realizadas con el rol por la identidad de origen. El valor persiste en sesiones de rol posteriores cuando se utilizan las credenciales de sesión para asumir otro rol. Asumir un rol de otro se llama <a href="./id_roles_terms-and-concepts.html#iam-term-role-chaining">encadenamiento de roles</a>. </p>
               <p>Puede utilizar la condición de clave global <a href="./reference_policies_condition-keys.html#condition-keys-sourceidentity">aws:SourceIdentity</a> para controlar aun más el acceso a los recursos de AWS basados en el valor de la identidad de origen en solicitudes posteriores. </p>
               <p>La siguiente política de confianza de rol permite al usuario de IAM <code class="code">AdminUser</code> asumir un rol en la cuenta <code class="code">111122223333</code>. También concede permiso a <code class="code">AdminUser</code> para establecer una identidad de origen, siempre y cuando el conjunto de identidades de origen sea <code class="code">DiegoRamirez</code>.</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AllowAdminUserAssumeRole",
            "Effect": "Allow",
            "Principal": <span>{</span>"AWS": " arn:aws:iam::111122223333:user/AdminUser"},
            "Action": [
                "sts:AssumeRole",
                "sts:SetSourceIdentity"
            ],
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>"sts:SourceIdentity": "DiegoRamirez"}
            }
        }
    ]
}
</code></pre>
               <p>Para obtener más información acerca del uso de información de identidad de origen, consulte <a href="./id_credentials_temp_control-access_monitor.html">Monitorear y controlar las acciones realizadas con roles asumidos</a>.</p>
            </dd>
         
            <dt><b><span class="term"><a id="ck_transitivetagkeys"></a>sts:TransitiveTagKeys</span></b></dt>
            <dd>
               <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
               <p>Utilice esta clave para comparar las claves de etiqueta de sesión transitiva de la solicitud con las especificadas en la política. </p>
               <p><b>Disponibilidad</b> - Esta clave está presente en la solicitud cuando se realiza una solicitud con credenciales de seguridad temporales. Estas incluyen credenciales creadas mediante cualquier operación assume-role o la <code class="code">GetFederationToken</code> operación.</p>
               <p>Cuando realiza una solicitud con credenciales de seguridad temporales, el <a href="./reference_policies_elements_condition.html#AccessPolicyLanguage_RequestContext">contexto de solicitud</a> incluye la clave de contexto <code class="code"><a href="./reference_policies_condition-keys.html#condition-keys-principaltag">aws:PrincipalTag</a></code>. Esta clave incluye una lista de <a href="./id_session-tags.html">etiquetas de sesión</a>, <a href="./id_session-tags.html#id_session-tags_role-chaining">etiquetas de sesión transitivas</a> y etiquetas de rol. Las etiquetas de sesión transitivas son etiquetas que persisten en todas las sesiones posteriores cuando se utilizan las credenciales de sesión para asumir otro rol. Asumir un rol de otro se llama <a href="./id_roles_terms-and-concepts.html#iam-term-role-chaining">encadenamiento de roles</a>. </p>
               <p>Puede utilizar esta clave de condición en una política para requerir que se establezcan etiquetas de sesión específicas como transitivas al asumir un rol o federar un usuario.</p>
            </dd>
         </dl></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./reference_policies_condition-keys.html">Claves de condición global</div><div id="next" class="next-link" accesskey="n" href="./reference_policies_actions-resources-contextkeys.html">Acciones, recursos y claves de condición</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_iam-condition-keys.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>