<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="es-ES"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Claves de contexto de condición globales de AWS - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="reference_policies_condition-keys" /><meta name="default_state" content="reference_policies_condition-keys" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="description" content="Describe cada una de las claves de condición globales de AWS disponibles para utilizar en políticas de IAM." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="Guía del usuario" /><meta name="abstract" content="Controle el acceso a sus recursos de AWS con la identidad del usuario (autenticación) y con políticas que definan permisos específicos (autorización)." /><meta name="guide-locale" content="es_es" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="Guía del usuario" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="Guía del usuario" /><meta id="panorama-serviceConsolePage" value="Claves de contexto de condición globales de AWS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Claves de contexto de condición globales de AWS - AWS Identity and Access Management</title><meta name="pdf" content="iam-ug.pdf#reference_policies_condition-keys" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,Usuario de IAM,user,Grupo de IAM,grupo,Rol de IAM,role,política de permisos,política de confianza,política,clave de acceso,password,ID de la unidad organizativa del recurso" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guía del usuario",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Información de referencia para AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Referencia de políticas JSON de IAM",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Claves de contexto de condición globales de AWS",
        "item" : "https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="iam-ug.pdf#reference_policies_condition-keys" target="_blank" rel="noopener noreferrer" title="Abrir PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentación</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">Guía del usuario</a></div><div id="page-toc-src"><a href="#condition-keys-calledvia">CalledVia</a><a href="#condition-keys-calledviafirst">CalledViaFirst</a><a href="#condition-keys-calledvialast">CalledViaLast</a><a href="#condition-keys-currenttime">CurrentTime</a><a href="#condition-keys-ec2instancesourcevpc">Ec2InstanceSourceVpc</a><a href="#condition-keys-ec2instancesourceprivateip4">Ec2InstanceSourcePrivateIPv4</a><a href="#condition-keys-epochtime">EpochTime</a><a href="#condition-keys-federatedprovider">FederatedProvider</a><a href="#condition-keys-multifactorauthage">MultiFactorAuthAge</a><a href="#condition-keys-multifactorauthpresent">MultiFactorAuthPresent</a><a href="#condition-keys-principalaccount">PrincipalAccount</a><a href="#condition-keys-principalarn">PrincipalArn</a><a href="#condition-keys-principalisawsservice">PrincipalIsAWSService</a><a href="#condition-keys-principalorgid">PrincipalOrgID</a><a href="#condition-keys-principalorgpaths">PrincipalOrgPaths</a><a href="#condition-keys-principalservicename">PrincipalServiceName</a><a href="#condition-keys-principalservicenameslist">PrincipalServiceNamesList</a><a href="#condition-keys-principaltag">PrincipalTag</a><a href="#condition-keys-principaltype">PrincipalType</a><a href="#condition-keys-referer">Referer</a><a href="#condition-keys-requestedregion">RequestedRegion</a><a href="#condition-keys-requesttag">RequestTag</a><a href="#condition-keys-resourceaccount">ResourceAccount</a><a href="#condition-keys-resourceorgid">ResourceOrgID</a><a href="#condition-keys-resourceorgpaths">ResourceOrgPaths</a><a href="#condition-keys-resourcetag">ResourceTag</a><a href="#condition-keys-securetransport">SecureTransport</a><a href="#condition-keys-sourceaccount">SourceAccount</a><a href="#condition-keys-sourcearn">SourceArn</a><a href="#condition-keys-sourceidentity">SourceIdentity</a><a href="#condition-keys-sourceip">SourceIp</a><a href="#condition-keys-sourcevpc">SourceVpc</a><a href="#condition-keys-sourcevpce">SourceVpce</a><a href="#condition-keys-tagkeys">TagKeys</a><a href="#condition-keys-tokenissuetime">TokenIssueTime</a><a href="#condition-keys-useragent">UserAgent</a><a href="#condition-keys-userid">Userid</a><a href="#condition-keys-username">Nombre de usuario</a><a href="#condition-keys-viaawsservice">ViaAWSService</a><a href="#condition-keys-vpcsourceip">VpcSourceIp</a><a href="#condition-keys-other">Otras claves entre servicios</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="reference_policies_condition-keys">Claves de contexto de condición globales de AWS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Cuando una <a href="./intro-structure.html#intro-structure-principal">entidad principal</a> realiza una <a href="./intro-structure.html#intro-structure-request">solicitud</a> a AWS, AWS recopila la información de la solicitud en un <a href="./intro-structure.html#intro-structure-request">contexto de solicitud</a>. Puede utilizar el elemento <code class="code">Condition</code> de una política JSON para comparar las claves de la solicitud de contexto con los valores de claves que especifique en su política. Para obtener más información sobre las circunstancias en las que se incluye una clave global en el contexto de la solicitud, consulte la información de <b>Disponibilidad</b> de cada clave de condición global. Para obtener información sobre cómo utilizar el elemento <code class="code">Condition</code> en una política de JSON, consulte <a href="./reference_policies_elements_condition.html">Elementos de política JSON de IAM: Condition</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Si utiliza claves de condición que solo están disponibles en algunas circunstancias, puede utilizar las versiones <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">IfExists</a> de los operadores de condición. Si faltan las claves de condición de un contexto de solicitud, la política podría generar un error en la evaluación. Por ejemplo, utilice la siguiente bloque de condiciones con <code class="code">...IfExists</code> para satisfacer cuando una solicitud específica proviene de un rango de direcciones IP o de una VPC específica. Si no se incluye alguna o ambas claves en el contexto de la solicitud, la condición sigue devolviendo <code class="code">true</code>. Los valores solo se comprueban si la clave especificada se incluye en el contexto de la solicitud. </p><pre class="programlisting"><div class="code-btn-container"></div><code class="json ">"Condition": <span>{</span>
    "IpAddressIfExists": <span>{</span>"aws:SourceIp" : ["xxx"] },
    "StringEqualsIfExists" : <span>{</span>"aws:SourceVpc" : ["yyy"]} 
}</code></pre></div></div><p>Las claves de condición globales son claves de condición con un prefijo <code class="code">aws:</code>. Los servicios de AWS pueden admitir claves de condición globales o proporcionar claves específicas del servicio que incluyan su prefijo de servicio. Por ejemplo, las claves de condición de IAM incluyen el prefijo <code class="code">iam:</code>. Para obtener más información, vea <a href="reference_policies_actions-resources-contextkeys.html" rel="noopener noreferrer" target="_blank">Acciones, recursos y claves de condición para servicios deAWS</a> y elija el servicio cuyas claves desea ver.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>Para comparar su condición con un contexto de solicitud con varios valores de clave, debe utilizar <code class="code">ForAllValues</code> u operadores de configuración <code class="code">ForAnyValue</code>. Utilice operadores de conjunto solo con claves de condición de varios valores. No utilice operadores de conjunto con claves de condición de un solo valor. Para obtener más información, consulte <a href="./reference_policies_multi-value-conditions.html">Creación de una condición con varias claves o valores</a>.</p></div></div>
        <h2 id="condition-keys-calledvia">aws:CalledVia</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar los servicios de la política con los servicios que realizaron solicitudes en nombre de la entidad principal de IAM (usuario o rol). Cuando una entidad principal realiza una solicitud a un servicio de AWS, ese servicio puede utilizar las credenciales de la entidad principal para realizar solicitudes posteriores a otros servicios. La clave <code class="code">aws:CalledVia</code> contiene una lista ordenada de cada servicio de la cadena que realizó solicitudes en nombre de la entidad principal.</p>
        <p>Por ejemplo, puede utilizar AWS CloudFormation para leer y escribir desde una tabla de Amazon DynamoDB. DynamoDB utiliza el cifrado suministrado por AWS Key Management Service (AWS KMS).</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave está presente en la solicitud cuando un servicio que admite <code class="code">aws:CalledVia</code> utiliza las credenciales de una entidad principal de IAM para realizar una solicitud a otro servicio. Esta clave no está presente si el servicio utiliza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rol de servicio</a> o un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rol vinculado al servicio</a> para realizar una llamada en nombre de la entidad principal. Esta clave tampoco está presente cuando la entidad principal realiza la llamada directamente.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: multivalor</p>
            </li></ul></div>
        <a id="calledvia-services"></a>
        <p>Para utilizar la clave de condición <code class="code">aws:CalledVia</code> en una política, debe proporcionar las entidades principales del servicio para permitir o denegar las solicitudes de servicio de AWS. AWS admite el uso de las siguientes entidades principales del servicio con <code class="code">aws:CalledVia</code>.</p>
        <div class="table-container"><div class="table-contents"><table id="w339aac25c19c19c13c15"><thead>
                    <tr>
                        <th>Entidad de seguridad de servicio</th>
                    </tr>
                </thead>
                    <tr>
                        <td>athena.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>cloud9.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>cloudformation.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>databrew.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>dataexchange.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>dynamodb.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>kms.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>servicecatalog-appregistry.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>sqlworkbench.amazonaws.com</td>
                    </tr>
                </table></div></div>
        <p>Para permitir o denegar el acceso cuando <em>cualquier</em> servicio realiza una solicitud utilizando las credenciales de la entidad principal, utilice la clave de condición <code class="code"><a href="#condition-keys-viaawsservice">aws:ViaAWSService</a></code>. Esa clave de condición admite los servicios de AWS.</p>
        <p>La clave <code class="code">aws:CalledVia</code> es una <a href="./reference_policies_multi-value-conditions.html">clave multivalor</a>. Sin embargo, no se puede aplicar el orden utilizando esta clave en una condición. En el ejemplo anterior, <b>User 1</b> realiza una solicitud a AWS CloudFormation, que llama a DynamoDB, que a su vez llama a AWS KMS. Se trata de tres solicitudes distintas. La llamada final a AWS KMS la realiza User 1 <em>a través de</em> AWS CloudFormation y después a través de DynamoDB. </p>
        <div class="mediaobject">
             
                <img src="images/condition-key-calledvia-example-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                Ejemplo de uso de aws:CalledVia&#xA;            " style="max-width:100%" />
             
             
        </div>
        <p>En este caso, la clave <code class="code">aws:CalledVia</code> en el contexto de solicitud incluye <code class="code">cloudformation.amazonaws.com</code> y <code class="code">dynamodb.amazonaws.com</code>, en ese orden. Si solo le preocupa que la llamada se realice a través de DynamoDB en algún lugar de la cadena de solicitudes, puede utilizar esta clave de condición en su política. </p>
        <p>Por ejemplo, la siguiente política permite administrar la clave AWS KMS denominada <code class="code">my-example-key</code>, pero solo si DynamoDB es uno de los servicios que realiza la solicitud. El operador de la condición <code class="code"><a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">ForAnyValue:StringEquals</a></code> garantiza que DynamoDB sea uno de los servicios que realiza la llamada. Si la entidad principal realiza la llamada a AWS KMS directamente, la condición devuelve <code class="code">false</code> y la política no permite la solicitud.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "KmsActionsIfCalledViaDynamodb",
            "Effect": "Allow",
            "Action": [
                "kms:Encrypt",
                "kms:Decrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey",
                "kms:DescribeKey"
            ],
            "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">111122223333</code>:key/<code class="replaceable">my-example-key</code>",
            "Condition": <span>{</span>
                "ForAnyValue:StringEquals": <span>{</span>
                    "aws:CalledVia": ["dynamodb.amazonaws.com"]
                }
            }
        }
    ]
}</code></pre>
        <p>Si desea especificar el servicio que realiza la primera o la última llamada de la cadena, puede utilizar las claves <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaFirst</a></code> y <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaLast</a></code>. Por ejemplo, la siguiente política permite administrar la clave denominada <code class="code">my-example-key</code> en AWS KMS. Estas operaciones de AWS KMS solo se permiten si se incluyeron varias solicitudes en la cadena. La primera solicitud debe hacerse a través de AWS CloudFormation y la última, a través de DynamoDB. Si otros servicios realizan solicitudes en el centro de la cadena, la operación sigue estando permitida.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "KmsActionsIfCalledViaChain",
            "Effect": "Allow",
            "Action": [
                "kms:Encrypt",
                "kms:Decrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey",
                "kms:DescribeKey"
            ],
            "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">111122223333</code>:key/<code class="replaceable">my-example-key</code>",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:CalledViaFirst": "cloudformation.amazonaws.com",
                    "aws:CalledViaLast": "dynamodb.amazonaws.com"
                }
            }
        }
    ]
}</code></pre>
        <p>Las claves <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaFirst</a></code> y <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaLast</a></code> están presentes en la solicitud cuando un servicio utiliza las credenciales de una entidad principal de IAM para llamar a otro servicio. Indican los primeros y últimos servicios que realizaron llamadas en la cadena de solicitudes. Suponga, por ejemplo, que AWS CloudFormation llama a otro servicio denominado <code class="code">X
                Service</code>, que llama a DynamoDB y que luego llama a AWS KMS. La llamada final a AWS KMS la realiza <code class="code">User 1</code> <em>a través de</em> AWS CloudFormation, luego a través de <code class="code">X Service</code> y finalmente a través de DynamoDB. Primero se llamó a través de AWS CloudFormation y la última llamada se realizó a través de DynamoDB. </p>
        <div class="mediaobject">
             
                <img src="images/condition-key-calledviafirstlast-example-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                Ejemplo de uso de aws:CalledViaFirst y aws:CalledViaLast&#xA;            " style="max-width:100%" />
             
             
        </div>
        
     
        <h2 id="condition-keys-calledviafirst">aws:CalledViaFirst</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar los servicios de la política con el <em><b>primer servicio</b></em> que realizó una solicitud en nombre de la entidad principal de IAM (usuario o rol). Para obtener más información, consulte <code class="code"><a href="#condition-keys-calledvia">aws:CalledVia</a></code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave está presente en la solicitud cuando un servicio utiliza las credenciales de una entidad principal de IAM para realizar al menos otra solicitud a un servicio diferente. Esta clave no está presente si el servicio utiliza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rol de servicio</a> o un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rol vinculado al servicio</a> para realizar una llamada en nombre de la entidad principal. Esta clave tampoco está presente cuando la entidad principal realiza la llamada directamente.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-calledvialast">aws:CalledViaLast</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar los servicios de la política con el <em>último servicio</em> que realizó una solicitud en nombre de la entidad principal de IAM (usuario o rol). Para obtener más información, consulte <code class="code"><a href="#condition-keys-calledvia">aws:CalledVia</a></code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave está presente en la solicitud cuando un servicio utiliza las credenciales de una entidad principal de IAM para realizar al menos otra solicitud a un servicio diferente. Esta clave no está presente si el servicio utiliza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rol de servicio</a> o un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rol vinculado al servicio</a> para realizar una llamada en nombre de la entidad principal. Esta clave tampoco está presente cuando la entidad principal realiza la llamada directamente.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-currenttime">aws:CurrentTime</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">operadores de fecha</a>.</p>
        <p>Utilice esta clave para comparar la fecha y la hora de la solicitud con la fecha y la hora que especifique en la política. Para ver una política de ejemplo que utilice este clave de condición, consulte <a href="./reference_policies_examples_aws-dates.html">AWS: permite el acceso en función de la fecha y la hora</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-ec2instancesourcevpc">aws:Ec2InstanceSourceVpc</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Esta clave identifica la VPC a la que se entregaron las credenciales del rol de IAM de Amazon EC2. Puede usar esta clave en una política con la clave global <a href="#condition-keys-sourcevpc">aws:SourceVPC</a> para comprobar si se realiza una llamada desde una VPC (<code class="code">aws:SourceVPC</code>) que coincide con la VPC a la que se entregó la credencial (<code class="code">aws:Ec2InstanceSourceVpc</code>).</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud cuando el solicitante firma las solicitudes con una credencial de rol de Amazon EC2. Se puede utilizar en políticas de IAM, políticas de control de servicios, políticas de punto de conexión de VPC y políticas de recursos.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Esta clave se puede usar con los valores del identificador de VPC, pero es más útil cuando se usa como una variable combinada con la clave de contexto <code class="code">aws:SourceVpc</code>. La clave de contexto <code class="code">aws:SourceVpc</code> se incluye en el contexto de la solicitud solo si el solicitante utiliza un punto de conexión de VPC para realizar la solicitud. Usar <code class="code">aws:Ec2InstanceSourceVpc</code> con <code class="code">aws:SourceVpc</code> permite un uso de <code class="code">aws:Ec2InstanceSourceVpc</code> más amplio, ya que compara valores que normalmente cambian juntos.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Esta clave de condición no está disponible en EC2-Classic.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "RequireSameVPC",
      "Effect": "Deny",
      "Action": "*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
            "aws:SourceVpc": "$<span>{</span>aws:Ec2InstanceSourceVpc}"
        },
        "Null": <span>{</span>
          "ec2:SourceInstanceARN": "false"
        },
        "BoolIfExists": <span>{</span>
          "aws:ViaAWSService": "false"
        }
      }
    }
  ]
}</code></pre>
        <p>En el ejemplo anterior, se deniega el acceso si el valor <code class="code">aws:SourceVpc</code> no es igual al valor <code class="code">aws:Ec2InstanceSourceVpc</code>. La instrucción de política se limita únicamente a los roles que se utilizan como roles de instancia de Amazon EC2 al comprobar la existencia de la clave de condición <code class="code">ec2:SourceInstanceARN</code>.</p>
        <p>La política utiliza <code class="code">aws:ViaAWSService</code> para permitir que AWS autorice solicitudes cuando las solicitudes se realizan en nombre de sus roles de instancia de Amazon EC2. Por ejemplo, cuando realiza una solicitud desde una instancia de Amazon EC2 a un bucket de Amazon S3 cifrado, Amazon S3 realiza una llamada a AWS KMS en su nombre. Algunas de las claves no están presentes cuando se hace la solicitud a AWS KMS.</p>
     
        <h2 id="condition-keys-ec2instancesourceprivateip4">aws:Ec2InstanceSourcePrivateIPv4</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">operadores de direcciones IP</a>.</p>
        <p>Esta clave identifica la dirección IPv4 privada de la interfaz de red elástica principal a la que se entregaron las credenciales del rol de IAM de Amazon EC2. Debe usar esta clave de condición con su clave complementaria <code class="code">aws:Ec2InstanceSourceVpc</code> para garantizar que tiene una combinación única global de ID de VPC e IP privada de origen. Utilice esta clave con <code class="code">aws:Ec2InstanceSourceVpc</code> para asegurarse de que la solicitud se haya realizado desde la misma dirección IP privada a la que se entregaron las credenciales.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud cuando el solicitante firma las solicitudes con una credencial de rol de Amazon EC2. Se puede utilizar en políticas de IAM, políticas de control de servicios, políticas de punto de conexión de VPC y políticas de recursos.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>Esta clave no debe usarse sola en una instrucción <code class="code">Allow</code>. Las direcciones IP privadas, por definición, no son únicas a nivel global. Debe utilizar la clave <code class="code">aws:Ec2InstanceSourceVpc</code> cada vez que utilice la clave <code class="code">aws:Ec2InstanceSourcePrivateIPv4</code> para especificar la VPC desde la que se pueden usar las credenciales de la instancia de Amazon EC2.</p></div></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Esta clave de condición no está disponible en EC2-Classic.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Deny",
            "Action":  "*",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringNotEquals": <span>{</span>
                    "aws:Ec2InstanceSourceVpc": "$<span>{</span>aws:SourceVpc}"
                },                
                "Null": <span>{</span>
                    "ec2:SourceInstanceARN": "false"
                },
                "BoolIfExists": <span>{</span>
                    "aws:ViaAWSService": "false"
                }
            }
        },
        <span>{</span>
            "Effect": "Deny",
            "Action":  "*",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringNotEquals": <span>{</span>
                    "aws:Ec2InstanceSourcePrivateIPv4": "$<span>{</span>aws:VpcSourceIp}"
                },                               
                "Null": <span>{</span>
                    "ec2:SourceInstanceARN": "false"
                },
                "BoolIfExists": <span>{</span>
                    "aws:ViaAWSService": "false"
                }
            }
        }
    ]
}</code></pre>
     
        <h2 id="condition-keys-epochtime">aws:EpochTime</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">operadores de fecha </a> o <a href="./reference_policies_elements_condition_operators.html#Conditions_Numeric">numéricos operadores</a>.</p>
        <p>Utilice esta clave para comparar la fecha y hora de la solicitud en formato de tiempo epoch o Unix con el valor que especifique en la política. Esta clave también acepta el número de segundos desde el 1 de enero de 1970. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-federatedprovider">aws:FederatedProvider</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el proveedor de identidad (IdP) emisor de la entidad principal con el IdP que especifica en la política. Esto significa que se asumió un rol de IAM mediante las operaciones de AWS STS <code class="code">AssumeRoleWithWebIdentity</code> o <code class="code">AssumeRoleWithSAML</code>. Cuando se utilizan las credenciales temporales de la sesión de rol resultante para realizar una solicitud, el contexto de solicitud identifica el IdP que autenticó la identidad federada original.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave está presente cuando la entidad principal es una entidad principal de sesión de rol y esa sesión se ha emitido mediante un proveedor de identidad externo. </p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Por ejemplo, si el usuario se ha autenticado con Amazon Cognito, el contexto de la solicitud incluye el valor <code class="code">cognito-identity.amazonaws.com</code>. Del mismo modo, si el usuario se ha autenticado con Login with Amazon, el contexto de la solicitud incluye el valor <code class="code">www.amazon.com</code>.</p>
        <p>Puede utilizar cualquier clave de condición de valor único como <a href="./reference_policies_variables.html">variable</a>. El siguiente ejemplo de política basada en recursos utiliza la clave <code class="code">aws:FederatedProvider</code> como una variable de la política en el ARN de un recurso. Esta política permite a cualquier entidad principal autenticada mediante un IdP obtener los objetos de un bucket de Amazon S3 con una ruta específica del proveedor de identidad emisor.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:GetObject",
    "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET</code></code>/$<span>{</span>aws:FederatedProvider}/*"
  }
}</code></pre>
     
        <h2 id="condition-keys-multifactorauthage">aws:MultiFactorAuthAge</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Numeric">operadores numéricos</a>.</p>
        <p>Utilice esta clave para comparar el número de segundos desde que se autorizó a la entidad principal solicitante mediante MFA con el número especificado en la política. Para obtener más información acerca de MFA, consulte <a href="./id_credentials_mfa.html">Uso de autenticación multifactor (MFA) en AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la entidad principal que hace la llamada se ha autenticado mediante MFA. La clave no estará presente si no se ha utilizado la MFA.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-multifactorauthpresent">aws:MultiFactorAuthPresent</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operadores booleanos</a>.</p>
        <p>Utilice esta clave para comprobar si se utilizó la autenticación multifactor (MFA) para validar las credenciales de seguridad temporales que realizó la solicitud.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo cuando la entidad principal utiliza credenciales temporales para realizar la solicitud. La clave no está presente en la CLI de AWS, la API de AWS ni en las solicitudes del SDK de AWS realizadas con credenciales a largo plazo. </p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Las credenciales temporales se utilizan para autenticar roles de IAM, usuarios federados, usuarios de IAM con tokens temporales de <code class="code">sts:GetSessionToken</code> y usuarios de la AWS Management Console. Las claves de acceso de usuarios de IAM son credenciales a largo plazo, pero en algunos casos, AWS crea credenciales temporales en nombre de los usuarios de IAM para realizar operaciones. En estos casos, la clave <code class="code">aws:MultiFactorAuthPresent</code> está presente en la solicitud y se establece en un valor de <code class="code">false</code>. Hay dos casos frecuentes en los que puede suceder esto:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Los usuarios de IAM de la AWS Management Console, sin saberlo, usan credenciales temporales. Los usuarios inician sesión en la consola con su nombre de usuario y contraseña, que son credenciales a largo plazo. Sin embargo, en segundo plano, la consola genera credenciales temporales en nombre del usuario. </p>
            </li><li class="listitem">
                <p>Si un usuario de IAM realiza una llamada a un servicio de AWS, el servicio vuelve a utilizar las credenciales del usuario para realizar otra solicitud a un servicio diferente. Por ejemplo, cuando se llama a Athena para obtener acceso a un bucket de Amazon S3 o cuando se usa AWS CloudFormation para crear una instancia de Amazon EC2. Para la próxima solicitud, AWS utiliza credenciales temporales.</p>
            </li></ul></div>
        <p>Para obtener información sobre los servicios que admiten el uso de credenciales temporales, consulte <a href="./reference_aws-services-that-work-with-iam.html">Servicios de AWS que funcionan con IAM</a>.</p>
        <p>La clave <code class="code">aws:MultiFactorAuthPresent</code> nunca está presente cuando se llama a una API o a un comando de la CLI con credenciales a largo plazo, como los pares de claves de acceso de usuario. Por lo tanto, le recomendamos que cuando compruebe esta clave utilice las versiones <code class="code"><a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">...IfExists</a></code> de los operadores de condición.</p>
        <p>Es importante entender que el siguiente elemento <code class="code">Condition</code><em><b>no</b></em> es una forma fiable de comprobar si una solicitud se ha autenticado mediante MFA:</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">#####   WARNING: NOT RECOMMENDED   #####
"Effect" : "Deny",
"Condition" : <span>{</span> "Bool" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Esta combinación del efecto <code class="code">Deny</code>, el elemento <code class="code">Bool</code> y el valor <code class="code">false</code> deniega las solicitudes que se pueden autenticar con MFA, pero que no han sido autenticadas de ese modo. Se aplica únicamente a las credenciales temporales que admiten el uso de MFA. Esta instrucción no deniega el acceso a las solicitudes realizadas con las credenciales a largo plazo ni a las solicitudes que se han autenticado con MFA. Utilice este ejemplo con precaución ya que su lógica es complicada y no comprueba si realmente se usó la autenticación tipo MFA. </p>
        <p>Además no utilice la combinación del efecto <code class="code">Deny</code>, el elemento <code class="code">Null</code> y <code class="code">true</code> ya que se comporta de la misma manera y la lógica es incluso más complicada.</p>
         
            <h6>Combinación recomendada</h6>
            <p>Le recomendamos que utilice el operador <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">BoolIfExists</a> para comprobar si se ha autenticado una solicitud con MFA.</p>
         
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Effect" : "Deny",
"Condition" : <span>{</span> "BoolIfExists" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Esta combinación de <code class="code">Deny</code>, <code class="code">BoolIfExists</code> y <code class="code">false</code> deniega las solicitudes que no están autenticadas con MFA. En concreto, deniega las solicitudes de credenciales temporales que no incluyen MFA. También deniega las solicitudes realizadas con credenciales a largo plazo, como las operaciones de la AWS CLI o de la API de AWS realizadas con claves de acceso. El operador <code class="code">*IfExists</code> comprueba la presencia de la clave <code class="code">aws:MultiFactorAuthPresent</code> y si podría estar presente o no, como lo indica su existencia. Utilícelo cuando desee denegar solicitudes que no están autenticadas con MFA. Esto es más seguro, pero puede interrumpir cualquier código o script que utilice claves de acceso para obtener acceso a la AWS CLI o la API de AWS. </p>
         
            <h6>Combinaciones alternativas</h6>
            <p>También puede utilizar el operador <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">BoolIfExists</a> para permitir solicitudes autenticadas con MFA y solicitudes de la AWS CLI o la API de AWS realizadas con las credenciales a largo plazo.</p>
         
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Effect" : "Allow",
"Condition" : <span>{</span> "BoolIfExists" : <span>{</span> "aws:MultiFactorAuthPresent" : "true" } }</code></pre>
        <p>Esta condición coincide tanto si la clave existe y está presente <b>como</b> si la clave no existe. Esta combinación de <code class="code">Allow</code>, <code class="code">BoolIfExists</code> y <code class="code">true</code> permite solicitudes autenticadas mediante MFA o solicitudes que no pueden autenticarse con MFA. Esto significa que las operaciones de la AWS CLI, la API de AWS y el SDK de AWS están permitidas cuando el solicitante utiliza sus claves de acceso a largo plazo. Esta combinación no permite solicitudes de credenciales temporales que podrían, pero no incluyen MFA. </p>
        <p>Al crear una política con el editor visual de la consola de IAM y elegir <b>MFA requerida</b>, se aplica esta combinación. Esta configuración requiere MFA para acceso a la consola, pero permite el acceso mediante programación sin MFA. </p>
        <p>También puede utilizar el operador <code class="code">Bool</code> para permitir solicitudes programáticas y de consola solo cuando se autentique mediante MFA.</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">"Effect" : "Allow",
"Condition" : <span>{</span> "Bool" : <span>{</span> "aws:MultiFactorAuthPresent" : "true" } }</code></pre>
        <p>Esta combinación de <code class="code">Allow</code>, <code class="code">Bool</code> y <code class="code">true</code> permite solo las solicitudes autenticadas con MFA. Se aplica únicamente a las credenciales temporales que admiten el uso de MFA. Esta instrucción no permite el acceso a las solicitudes realizadas con las claves de acceso a largo plazo ni a las solicitudes realizadas con credenciales temporales sin MFA. </p>
        <p><b><em>No</em></b> utilice una estructura de política similar a la siguiente para comprobar si la clave de MFA está presente:</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">#####   WARNING: USE WITH CAUTION   #####

"Effect" : "Allow",
"Condition" : <span>{</span> "Null" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Esta combinación del efecto <code class="code">Allow</code>, el elemento <code class="code">Null</code> y el valor <code class="code">false</code> permite únicamente las solicitudes que se pueden autenticar con MFA, independientemente de si la solicitud está, de hecho, autenticada. Esto permite todas las solicitudes que se realizan con credenciales temporales y deniega el acceso para las credenciales a largo plazo. Utilice este ejemplo con precaución ya que no comprueba si realmente se usó la autenticación tipo MFA. </p>
     
        <h2 id="condition-keys-principalaccount">aws:PrincipalAccount</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar la cuenta a la que pertenece la entidad principal solicitante con el identificador de cuenta que especifique en la política. Para las solicitudes anónimas, el contexto de la solicitud devuelve <code class="code">anonymous</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de solicitud de todas las solicitudes, incluidas las anónimas.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>En el siguiente ejemplo, se deniega el acceso a todo excepto a las entidades principales con el número de cuenta <code class="code">123456789012</code>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "DenyAccessFromPrincipalNotInSpecificAccount",
      "Action": "<code class="replaceable">service</code>:*",
      "Effect": "Deny",
      "Resource": [
        "arn:aws:<code class="replaceable">service:region:accountID:resource</code>"
      ],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:PrincipalAccount": [
            "123456789012"
          ]
        }
      }
    }
  ]
}
        </code></pre>

     
        <h2 id="condition-keys-principalarn">aws:PrincipalArn</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">operadores de ARN</a> y <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadenas</a>.</p>
        <p>Utilice esta clave para comparar el <a href="./reference_identifiers.html#identifiers-arns">Nombre de recurso de Amazon</a> (ARN) de la entidad principal que ha realizado la solicitud con el ARN que se especifique en la política. Para los roles de IAM, el contexto de solicitud devuelve el ARN del rol, no el ARN del usuario que asumió el rol. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de solicitud de todas las solicitudes firmadas. Las solicitudes anónimas no incluyen esta clave. Puede especificar los siguientes tipos de entidades principales en esta clave de condición: </p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Rol de IAM</p>
                    </li><li class="listitem">
                        <p>Usuario de IAM</p>
                    </li><li class="listitem">
                        <p>Sesión de usuario federado de AWS STS</p>
                    </li><li class="listitem">
                        <p>Usuario raíz de Cuenta de AWS</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>En la siguiente lista se muestra el valor de contexto de solicitud que se devuelve para los diferentes tipos de entidades principales que se pueden especificar en la clave de condición <code class="code">aws:PrincipalArn</code>:</p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Rol de IAM</b>: el contexto de la solicitud contiene el siguiente valor para la clave de condición <code class="code">aws:PrincipalArn</code>. No especifique el ARN de la sesión de rol asumido como valor para esta clave de condición. Para obtener más información acerca de la entidad principal de la sesión de rol asumido, consulte <a href="./reference_policies_elements_principal.html#principal-role-session">Entidades principales de sesión de rol</a>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:role/role-name</code></code></pre>
            </li><li class="listitem">
                <p><b>Usuario de IAM</b>: el contexto de la solicitud contiene el siguiente valor para la clave de condición <code class="code">aws:PrincipalArn</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:user/<code class="replaceable">user-name</code></code></code></pre>
            </li><li class="listitem">
                <p><b>Sesiones de usuario federado de AWS STS</b>: el contexto de la solicitud contiene el siguiente valor para la clave de condición <code class="code">aws:PrincipalArn</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:sts::123456789012:federated-user/<code class="replaceable">user-name</code></code></code></pre>
            </li><li class="listitem">
                <p><b>Usuario raíz de la Cuenta de AWS</b>: el contexto de la solicitud contiene el siguiente valor para la clave de condición <code class="code">aws:PrincipalArn</code>. Cuando se especifica el ARN del usuario raíz como valor para la clave de condición <code class="code">aws:PrincipalArn</code>, limita los permisos solo para el usuario raíz de la Cuenta de AWS. Esto es distinto de especificar el ARN del usuario raíz en el elemento principal de una política basada en recursos, que delega la autoridad en la Cuenta de AWS. Para obtener más información sobre cómo especificar el ARN del usuario raíz en el elemento principal de una política basada en recursos, consulte <a href="./reference_policies_elements_principal.html#principal-accounts">Entidades principales de Cuenta de AWS</a>. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:root</code></code></pre>
                <p>Puede especificar el ARN del usuario raíz como un valor de la clave de condición <code class="code">aws:PrincipalArn</code> en políticas de control de servicio (SCP) de AWS Organizations. Las SCP son un tipo de política de organización que se emplea para administrar permisos en una organización y solo afectan a las cuentas de miembros de la organización. Una SCP limita los permisos para los usuarios y roles de IAM en las cuentas miembro, incluido el usuario raíz de la cuenta de miembro. Para obtener más información sobre el efecto de las SCP sobre los permisos, consulte <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html#scp-effects-on-permissions">Efectos de las SCP en los permisos</a> en la <em>Guía del usuario de Organizations</em>.</p>
            </li></ul></div>
        
     
        <h2 id="condition-keys-principalisawsservice">aws:PrincipalIsAWSService</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operadores booleanos</a>.</p>
        <p>Utilice esta clave para comprobar si la llamada a su recurso se está realizando directamente por una <a href="./reference_policies_elements_principal.html#principal-services">entidad principal de servicio AWS</a>. Por ejemplo, AWS CloudTrail utiliza la entidad de servicio de <code class="code">cloudtrail.amazonaws.com</code> para escribir registros en su bucket de Amazon S3. La clave de contexto de solicitud se establece en true cuando un servicio utiliza una entidad principal de servicio para realizar una acción directa en los recursos. La clave de contexto se configura como false si un servicio utiliza las credenciales de una entidad principal de IAM para realizar una solicitud en nombre de la entidad principal. También se configura en false si el servicio utiliza una <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">función de servicio</a> o un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rol vinculado al servicio</a> para realizar una llamada en nombre de la entidad principal.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b> — Esta clave está presente en el contexto de la solicitud de todas las solicitudes de API firmadas que utilizan credenciales de AWS. Las solicitudes anónimas no incluyen esta clave.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Puede utilizar esta clave de condición para limitar el acceso a las identidades de confianza y a las ubicaciones de red esperadas mientras concede acceso seguro a servicios de AWS.</p>
        <p>En el siguiente ejemplo de política de bucket de Amazon S3, el acceso al bucket está restringido a menos que la solicitud se oriente desde <code class="code">vpc-111bbb22</code> o provenga de una entidad principal de servicio, como CloudTrail.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "Expected-network+service-principal",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:PutObject",
      "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET1</code></code>/AWSLogs/<code class="replaceable">AccountNumber</code>/*",
      "Condition": <span>{</span>
        "StringNotEqualsIfExists": <span>{</span>
          "aws:SourceVpc": "vpc-111bbb22"
        },
        "BoolIfExists": <span>{</span>
          "aws:PrincipalIsAWSService": "false"
        }
      }
    }
  ]
}</code></pre>
        
        <p>En el siguiente vídeo tiene más información acerca de cómo utilizar la clave de condición <code class="code">aws:PrincipalIsAWSService</code> en una política.</p>
        <div class="mediaobject">
             
                <iframe width="720" height="330" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/gv-_H8a42G4"></iframe>
             
             
        </div>
        
        
        
     
        <h2 id="condition-keys-principalorgid">aws:PrincipalOrgID</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el identificador de la organización en AWS Organizations a la que pertenece la entidad principal solicitante con el identificador especificado en la política.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la entidad principal es miembro de una organización. Las solicitudes anónimas no incluyen esta clave.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Esta clave global proporciona una alternativa a mostrar todos los ID de todas las cuentas de AWS de una organización. Puede utilizar esta clave de condición para simplificar la especificación del elemento <code class="code">Principal</code> en una <a href="./access_policies_identity-vs-resource.html">política basada en recursos</a>. Puede especificar el <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_org_details.html">ID de organización</a> en el elemento de condición. Al añadir y quitar cuentas, las políticas que incluyan automáticamente la clave <code class="code">aws:PrincipalOrgID</code> y incluirán automáticamente las cuentas correctas y no requerirán una actualización manual.</p>
        <p>Por ejemplo, la siguiente política de bucket de Amazon S3 permite a los miembros de cualquier cuenta de la organización <code class="code">o-xxxxxxxxxxx</code> agregar un objeto al bucket <code class="code">policy-ninja-dev</code>. </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "> <span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Sid": "AllowPutObject",
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:PutObject",
    "Resource": "arn:aws:s3:::policy-ninja-dev/*",
    "Condition": <span>{</span>"StringEquals":
      <span>{</span>"aws:PrincipalOrgID":"o-xxxxxxxxxxx"}
    }
  }
}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Esta condición global también se aplica a la cuenta de administración de una organización AWS. Esta política impide que todos las entidades principales fuera de la organización especificada accedan al bucket de Amazon S3. Esto incluye cualquiera de los servicios de AWS que interactúan con sus recursos internos, tales como el envío de datos de registro de AWS CloudTrail a los buckets de Amazon S3. Para obtener información sobre cómo puede conceder acceso de forma segura para los servicios de AWS, consulte <a href="#condition-keys-principalisawsservice">aws:PrincipalIsAWSService</a>.</p></div></div>
        <p>Para obtener más información sobre AWS Organizations, consulte <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html">¿Qué es AWS Organizations?</a> en la <em>Guía del usuario de AWS Organizations</em>.</p>
     
        <h2 id="condition-keys-principalorgpaths">aws:PrincipalOrgPaths</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar la ruta de acceso de AWS Organizations de la entidad principal que realiza la solicitud a la ruta de acceso en la política. La entidad principal puede ser un usuario de IAM, un rol de IAM, un usuario federado o un Usuario raíz de la cuenta de AWS. En una política, esta clave de condición garantiza que el solicitante es un miembro de la cuenta dentro de la raíz de la organización o unidades organizativas (OU) especificadas en AWS Organizations. Una ruta AWS Organizations es una representación de texto de la estructura de una entidad de Organizations. Para obtener más información sobre el uso y la comprensión de las rutas, consulte <a href="./access_policies_access-advisor-view-data-orgs.html#access_policies_access-advisor-viewing-orgs-entity-path">Comprender la ruta de la entidad AWS Organizations</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la entidad principal es miembro de una organización. Las solicitudes anónimas no incluyen esta clave.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: multivalor</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Los ID de organización son únicos globalmente, pero los ID de unidad organizativa y los ID de raíz solo son únicos dentro de una organización. Esto significa que no hay dos organizaciones que compartan el mismo ID de organización. Sin embargo, otra organización puede tener una unidad organizativa o raíz con el mismo ID que la suya. Le recomendamos que incluya siempre el ID de organización cuando especifique una unidad organizativa o raíz.</p></div></div>
        
        <p>Por ejemplo, la siguiente condición devuelve <code class="code">true</code> para las entidades principales en cuentas que están asociadas directamente a la unidad organizativa <code class="code">ou-ab12-22222222</code>, pero no en sus unidades organizativas secundarias.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringEquals" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/"]
}}</code></pre>
        
        <p>La siguiente condición devuelve <code class="code">true</code> para las entidades principales de una cuenta que está asociada directamente a la unidad organizativa o a cualquiera de sus unidades organizativas secundarias. Cuando se incluye un comodín, se debe utilizar el operador de condición <code class="code">StringLike</code>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/*"]
}}</code></pre>
        <p>La siguiente condición devuelve <code class="code">true</code> para las entidades principales de una cuenta que está adjunta directamente a cualquiera de las OU secundarias, pero no directamente a la OU primaria. La condición anterior es para la unidad organizativa o para cualquier unidad organizativa secundaria. La siguiente condición es solo para las secundarias (y las subsiguientes que le siguen).</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/ou-*"]
}}</code></pre>
        <p>La siguiente condición permite el acceso a todas las entidades principales de la organización <code class="code">o-a1b2c3d4e5</code>, independientemente de su unidad organizativa principal.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/*"]
}}</code></pre>
        <p><code class="code">aws:PrincipalOrgPaths</code> es una clave de condición multivalor. Las claves de condición multivalor pueden tener varios valores en el contexto de la solicitud. Cuando se utilizan varios valores con el operador de condición <code class="code">ForAnyValue</code>, la ruta de acceso del principal debe coincidir con una de las rutas enumeradas en la política. Para obtener más información acerca de las claves de condición multivalor, consulte <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Uso de varias claves y valores</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">    "Condition": <span>{</span>
        "ForAnyValue:StringLike": <span>{</span>
            "aws:PrincipalOrgPaths": [
                "o-a1b2c3d4e5/r-ab12/ou-ab12-33333333/*",
                "o-a1b2c3d4e5/r-ab12/ou-ab12-22222222/*"
            ]
        }
    }</code></pre>
     
        <h2 id="condition-keys-principalservicename">aws:PrincipalServiceName</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el nombre de la <a href="./reference_policies_elements_principal.html#principal-services">entidad principal del servicio</a> en la política con la entidad principal de servicio que está realizando solicitudes a sus recursos. Puede utilizar esta clave para comprobar si esta llamada es realizada por una entidad principal de servicio específica. Cuando una entidad principal de servicio realiza una solicitud directa a su recurso, la clave <code class="code">aws:PrincipalServiceName</code> contiene el nombre de la entidad principal del servicio. Por ejemplo, el nombre de la entidad principal de servicio AWS CloudTrail es <code class="code">cloudtrail.amazonaws.com</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b> — Esta clave está presente en la solicitud cuando la llamada es realizada por una entidad principal de servcicio AWS. Esta clave no está presente en ninguna otra situación, incluida la siguiente:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Si el servicio utiliza una <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">función de servicio</a> o un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rol vinculado al servicio</a> para realizar una llamada en nombre de la entidad principal.</p>
                    </li><li class="listitem">
                        <p>Si un servicio utiliza las credenciales de una entidad principal de IAM para realizar una solicitud en nombre de la entidad principal.</p>
                    </li><li class="listitem">
                        <p>Si la llamada es realizada directamente por una entidad principal de IAM.</p>
                    </li><li class="listitem">
                        <p>Si la llamada la hace un solicitante anónimo.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Puede utilizar esta clave de condición para limitar el acceso a las identidades de confianza y a las ubicaciones de red esperadas mientras concede acceso seguro a un servicio de AWS.</p>
        <p>En el siguiente ejemplo de política de bucket de Amazon S3, el acceso al bucket está restringido a menos que la solicitud se oriente desde <code class="code">vpc-111bbb22</code> o provenga de una entidad principal de servicio, como CloudTrail.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "expected-network+service-principal",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:PutObject",
      "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET1</code></code>/AWSLogs/<code class="replaceable">AccountNumber</code>/*",
      "Condition": <span>{</span>
        "StringNotEqualsIfExists": <span>{</span>
          "aws:SourceVpc": "vpc-111bbb22",
          "aws:PrincipalServiceName": "cloudtrail.amazonaws.com"
        }
      }
    }
  ]
}
        </code></pre>
     
        <h2 id="condition-keys-principalservicenameslist">aws:PrincipalServiceNamesList</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Esta clave proporciona una lista de todas las entidades <a href="./reference_policies_elements_principal.html#principal-services">principales del servicio</a> de nombres que pertenecen al servicio. Esta es una clave de condición avanzada. Puede utilizarla para restringir que el servicio acceda a su recurso solo desde una región específica. Algunos servicios pueden crear entidades de servicio regionales para indicar una instancia concreta del servicio dentro de una Región específica. Puede limitar el acceso a un recurso a una instancia concreta del servicio. Cuando una entidad de servicio realiza una solicitud directa a su recurso, el <code class="code">aws:PrincipalServiceNamesList</code> contiene una lista desordenada de todos los nombres principales de servicio asociados a la instancia regional del servicio.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b> — Esta clave está presente en la solicitud cuando la llamada es realizada por una entidad principal de servcicio AWS. Esta clave no está presente en ninguna otra situación, incluida la siguiente:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Si el servicio utiliza una <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">función de servicio</a> o un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rol vinculado al servicio</a> para realizar una llamada en nombre de la entidad principal.</p>
                    </li><li class="listitem">
                        <p>Si un servicio utiliza las credenciales de una entidad principal de IAM para realizar una solicitud en nombre de la entidad principal.</p>
                    </li><li class="listitem">
                        <p>Si la llamada es realizada directamente por una entidad principal de IAM.</p>
                    </li><li class="listitem">
                        <p>Si la llamada la hace un solicitante anónimo.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: multivalor</p>
            </li></ul></div>
        <p><code class="code">aws:PrincipalServiceNamesList</code> es una clave de condición multivalor. Las claves de condición multivalor pueden tener varios valores en el contexto de la solicitud. Debe utilizar los operadores de servicio <code class="code">ForAnyValue</code> o <code class="code">ForAllValues</code> con los <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de condición de cadena</a> cuando utilice esta clave. Para obtener más información acerca de las claves de condición multivalor, consulte <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Uso de varias claves y valores</a>.</p>
     
        <h2 id="condition-keys-principaltag">aws:PrincipalTag/<em>tag-key</em></h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar la etiqueta asociada a la entidad principal que realiza la solicitud con la etiqueta que especifique en la política. Si la entidad principal tiene más de una etiqueta asociada, el contexto de la solicitud incluye una clave <code class="code">aws:PrincipalTag</code> para cada clave de etiqueta asociada.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud si la entidad principal está usando un usuario de IAM con etiquetas asociadas. Se incluye para una entidad principal que utiliza un rol de IAM con etiquetas o <a href="./id_session-tags.html">etiquetas de sesión</a> asociadas. Las solicitudes anónimas no incluyen esta clave.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Puede añadir atributos personalizados a un usuario o rol en forma de un par de clave-valor. Para obtener más información sobre las etiquetas en IAM, consulte <a href="./id_tags.html">Etiquetado de recursos de IAM</a>. Puede utilizar <code class="code">aws:PrincipalTag</code> para <a href="./access_iam-tags.html#access_iam-tags_control-principals">controlar el acceso</a> para principales de AWS.</p>
        <p>En este ejemplo se muestra cómo puede crear una política basada en identidad que permita a usuarios con la etiqueta <code class="userinput">department=hr</code> administrar usuarios, grupos o roles de IAM. Para utilizar esta política, sustituya el <code class="replaceable">texto en cursiva</code> de la política de ejemplo por su propia información. A continuación, siga las instrucciones en <a href="./access_policies_create.html">Crear una política</a> o <a href="./access_policies_manage-edit.html">Editar una política</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "iam:*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "aws:PrincipalTag/<code class="replaceable">department</code>": "<code class="replaceable">hr</code>"
        }
      }
    }
  ]
}</code></pre>
        <p>En este ejemplo se muestra cómo se puede crear una política basada en recursos con la clave <code class="code">aws:PrincipalTag</code> en el ARN de recurso. La política permite la acción <code class="code">s3:GetObject</code> solo si el nombre del bucket termina con un nombre de equipo de la etiqueta principal <code class="code"><code class="replaceable">team</code></code>. Para utilizar esta política, sustituya el <code class="replaceable">texto en cursiva</code> de la política de ejemplo por su propia información. A continuación, siga las instrucciones en <a href="./access_policies_create.html">Crear una política</a> o <a href="./access_policies_manage-edit.html">Editar una política</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:GetObject",
    "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>-$<span>{</span>aws:PrincipalTag/<code class="replaceable">team</code>}/"
  }
}</code></pre>
     
        <h2 id="condition-keys-principaltype">aws:PrincipalType</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el tipo de entidad principal que realiza la solicitud con el tipo de entidad principal que especifique en la política. Para obtener más información, consulte <a href="./reference_policies_elements_principal.html#Principal_specifying">Especificación de una entidad principal</a>. Para ver ejemplos específicos de valores de clave de <code class="code">principal</code>, consulte <a href="./reference_policies_variables.html#principaltable">Valores clave principales</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de solicitud de todas las solicitudes, incluidas las anónimas.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-referer">aws:referer</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar quién hizo referencia a la solicitud en el navegador cliente con el remitente que especificó en la política. El valor de contexto de la solicitud <code class="code">aws:referer</code> lo proporciona el intermediario en un encabezado HTTP. El encabezado de <code class="code">Referer</code> se incluye en una solicitud de navegador web cuando se selecciona un enlace en una página web. El encabezado de <code class="code">Referer</code> contiene la dirección URL de la página web donde se seleccionó el enlace.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la solicitud al recurso de AWS se invocó mediante un enlace desde una URL de página web en el navegador. Esta clave no se incluye para las solicitudes programáticas porque no se utiliza un enlace del navegador para tener acceso al recurso de AWS.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Por ejemplo, puede acceder a un objeto de Amazon S3 directamente mediante una URL o mediante la invocación directa de la API. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html#example-bucket-policies-use-case-4">Operaciones de la API de Amazon S3 utilizando directamente un navegador web</a>. Cuando se accede a un objeto de Amazon S3 desde una dirección URL que existe en una página web, la dirección URL de la página web de origen se utiliza en <code class="code">aws:referer</code>. Cuando se accede a un objeto de Amazon S3 escribiendo la dirección URL en el navegador, el <code class="code">aws:referer</code> no está presente. Cuando se invoca la API directamente, el <code class="code">aws:referer</code> tampoco está presente. Puede utilizar la clave de condición de <code class="code">aws:referer</code> de una política para permitir las solicitudes realizadas desde un referente específico, como un enlace en una página web del dominio de su empresa. </p>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>aviso</h6></div><div class="awsdocs-note-text"><p>Esta clave debe utilizarse con cuidado. Es peligroso incluir un valor de encabezado de referencia conocido públicamente. Las partes no autorizadas podrían utilizar navegadores personalizados o modificados para proporcionar cualquier valor <code class="code">aws:referer</code> que eligieran. En consecuencia, <code class="code">aws:referer</code> no debe utilizarse para impedir que entidades no autorizadas realicen solicitudes a AWS de forma directa. Se ofrece únicamente para que los clientes puedan proteger su contenido digital, como el contenido almacenado en Amazon S3, para evitar las referencias en sitios de terceros no autorizados.</p></div></div>
     
        <h2 id="condition-keys-requestedregion">aws:RequestedRegion</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar la región de AWS a la que se llamó en la solicitud con la región que ha especificado en la política. Puede utilizar esta clave de condición global para controlar qué regiones se pueden solicitar. Para ver las regiones de AWS de cada servicio, consulte <a href="https://docs.aws.amazon.com/general/latest/gr/aws-service-information.html">Puntos de enlace y cuotas de servicio</a> en la <em>Referencia general de Amazon Web Services</em>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Algunos servicios globales, como IAM, tienen un único punto de enlace. Como este punto de enlace se encuentra físicamente en la región EE. UU. Este (Norte de Virginia), las llamadas de IAM siempre se realizan a la región us-east-1. Por ejemplo, si crea una política que deniegue el acceso a todos los servicios cuando la región solicitada no sea us-west-2, las llamadas a IAM siempre generan un error. Para ver un ejemplo de cómo evitar este problema, consulte <a href="./reference_policies_elements_notaction.html">NotAction con Deny</a>. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>La clave de condición <code class="code">aws:RequestedRegion</code> le permite controlar qué punto de enlace de un servicio se invoca, pero no controlar el impacto de la operación. Algunos servicios afectan a varias regiones. Por ejemplo, Amazon S3 tiene operaciones de API que controlan la replicación entre regiones. Puede invocar <code class="code">s3:PutBucketReplication</code> en una región (lo que se consigue con la clave de condición <code class="code">aws:RequestedRegion</code>), pero afectar también a otras regiones en función de las opciones de configuración de replicaciones. </p></div></div>
        <p>Puede utilizar esta clave de contexto para limitar el acceso a los servicios de AWS a un conjunto de regiones determinado. Por ejemplo, la política siguiente permite a un usuarios ver todas las instancias Amazon EC2 en la AWS Management Console. Sin embargo, solo permite realizar cambios en las instancias de Irlanda (eu-west-1), Londres (eu-west-2) o París (eu-west-3).</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "InstanceConsoleReadOnly",
            "Effect": "Allow",
            "Action": [
                "ec2:Describe*",
                "ec2:Export*",
                "ec2:Get*",
                "ec2:Search*"
            ],
            "Resource": "*"
        },
        <span>{</span>
            "Sid": "InstanceWriteRegionRestricted",
            "Effect": "Allow",
            "Action": [
                "ec2:Associate*",
                "ec2:Import*",
                "ec2:Modify*",
                "ec2:Monitor*",
                "ec2:Reset*",
                "ec2:Run*",
                "ec2:Start*",
                "ec2:Stop*",
                "ec2:Terminate*"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:RequestedRegion": [
                        "eu-west-1",
                        "eu-west-2",
                        "eu-west-3"
                    ]
                }
            }
        }
    ]
}       </code></pre>
     
        <h2 id="condition-keys-requesttag">aws:RequestTag/<em>clave-etiqueta</em></h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el par clave-valor de etiqueta que se transfirió en la solicitud con el par de etiquetas especificado en la política. Por ejemplo, podría comprobar si la solicitud incluya la clave de etiqueta <code class="code">"Dept"</code> y que tenga el valor <code class="code">"Accounting"</code>. Para obtener más información, consulte <a href="./access_tags.html#access_tags_control-requests">Control del acceso durante solicitudes de AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud cuando se transfieren pares de valor de clave en la solicitud. Cuando se transfieren varias etiquetas en la solicitud, hay una clave de contexto para cada par clave-valor de etiqueta.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Esta clave de contexto tiene el formato <code class="code">"aws:RequestTag/<code class="replaceable">tag-key</code>":"<code class="replaceable">tag-value</code>"</code>, donde <code class="replaceable">tag-key</code> y <code class="replaceable">tag-value</code> son un par formado por una clave y un valor. Las claves y los valores de las etiquetas no distinguen entre mayúsculas y minúsculas. Esto significa que si especifica <code class="code">"aws:RequestTag/TagKey1": "Value1"</code> en el elemento de condición de su política, la condición coincidirá con una clave de etiqueta de solicitud denominada <code class="code">TagKey1</code> o <code class="code">tagkey1</code>, pero no con ambas.</p>
        <p>En este ejemplo se muestra que, si bien la clave tiene un solo valor, puede seguir utilizando varios pares de valor de clave en una solicitud si las claves son diferentes.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "ec2:CreateTags",
    "Resource": "arn:aws:ec2:::instance/*",
    "Condition": <span>{</span>
      "StringEquals": <span>{</span>
        "aws:RequestTag/environment": [
          "preprod",
          "production"
        ],
        "aws:RequestTag/team": [
          "engineering"
        ]
      }
    }
  }
}
</code></pre>
     
        <h2 id="condition-keys-resourceaccount">aws:ResourceAccount</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el <a href="https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html">ID de la Cuenta de AWS</a> del propietario del recurso solicitado con la cuenta del recurso de la política. A continuación, puede permitir o denegar el acceso a ese recurso en función de la cuenta propietaria del recurso.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de solicitud para la mayoría de servicios. Las siguientes acciones no admiten esta clave:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store: todas las acciones</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge: todas las acciones</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para obtener más información sobre las acciones no compatibles anteriores, consulte el repositorio de <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>ejemplos de políticas de perímetro de datos</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
        <p>Esta clave es igual al ID de Cuenta de AWS para la cuenta con los recursos evaluados en la solicitud.</p>
        <p>Para la mayoría de los recursos de su cuenta, el <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">ARN</a> contiene el ID de cuenta del propietario de ese recurso. Para ciertos recursos, como los buckets de Amazon S3, el ARN del recurso no incluye el ID de cuenta. Los dos ejemplos siguientes muestran la diferencia entre un recurso con un ID de cuenta en el ARN y un ARN de Amazon S3 sin un ID de cuenta:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">arn:aws:iam::123456789012:role/AWSExampleRole</code>: rol de IAM creado y de propiedad dentro de la cuenta 123456789012. </p>
            </li><li class="listitem">
                <p><code class="code">arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET2</code></code>: bucket de Amazon S3 creado y de propiedad dentro de la cuenta <code class="code">111122223333</code>, que no aparecen en el ARN.</p>
            </li></ul></div>
        <p>Use la consola, la API o la CLI de AWS, para encontrar todos los recursos y los ARN correspondientes.</p>
        <p>Tiene que escribir una política que deniega los permisos a los recursos en función del ID de cuenta del propietario del recurso. Por ejemplo, la siguiente política basada en identidad deniega el acceso al <em>recurso especificado</em> si este no pertenece a la <em>cuenta especificada</em>.</p>
        <p>Para utilizar esta política, sustituya el <em>texto del marcador de posición en cursiva</em> por la información de la cuenta. </p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>Esta política no permite ninguna acción. En su lugar, utiliza el efecto <code class="code">Deny</code> que deniega explícitamente el acceso a todos los recursos enumerados en el extracto que no pertenecen a la cuenta de la lista. Utilice esta política en combinación con otras políticas que permiten acceder a acciones específicas.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "DenyInteractionWithResourcesNotInSpecificAccount",
      "Action": "<code class="replaceable">service</code>:*",
      "Effect": "Deny",
      "Resource": [
        "arn:aws:<code class="replaceable">service</code>:<code class="replaceable">region</code>:<code class="replaceable">account</code>:<code class="replaceable">*</code>"
      ],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:ResourceAccount": [
            "<code class="replaceable">account</code>"
          ]
        }
      }
    }
  ]
}</code></pre>
        <p>Esta política deniega el acceso a todos los recursos para un servicio específico de AWS a menos que la Cuenta de AWS especificada sea propietaria del recurso. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Algunos Servicios de AWS requieren acceso a recursos que son propiedad de AWS que están alojados en otra Cuenta de AWS. El uso de <code class="code">aws:ResourceAccount</code> en sus políticas basadas en identidad puede afectar a la capacidad de su identidad para acceder a estos recursos.</p></div></div>
        <p>Ciertos servicios de AWS, como AWS Data Exchange, confían en el acceso a recursos fuera de sus Cuentas de AWS para operaciones normales. Si usa el elemento <code class="code">aws:ResourceAccount</code> en sus políticas, incluya declaraciones adicionales para crear exenciones para esos servicios. Las políticas de ejemplo <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: denegar el acceso a los recursos de Amazon S3 fuera de su cuenta, excepto AWS Data Exchange</a> demuestran cómo denegar el acceso en función de la cuenta de recursos y, al mismo tiempo, definir excepciones para los recursos propiedad del servicio.</p>
        <p>Utilice este ejemplo de políticas como plantillas para crear sus propias políticas personalizadas. Para obtener más información, puede hacer referencia a su <a href="https://docs.aws.amazon.com/index.html">documentación</a> de servicio.</p>
     
        <h2 id="condition-keys-resourceorgid">aws:ResourceOrgID</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el identificador de la organización de AWS Organizations a la que pertenece el recurso solicitado con el identificador especificado en la política.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la entidad principal es miembro de una organización. Esta clave de condición global no admite las siguientes acciones:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store: todas las acciones</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge: todas las acciones</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para obtener más información sobre las acciones no compatibles anteriores, consulte el repositorio de <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>ejemplos de políticas de perímetro de datos</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
        <p>Esta clave global devuelve el ID de organización de recursos de una solicitud determinada. Le permite crear reglas que se aplican a todos los recursos de una organización que se especifican en el elemento <code class="code">Resource</code> de una <a href="./access_policies_identity-vs-resource.html">política basada en identidad</a>. Puede especificar el <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_org_details.html">ID de organización</a> en el elemento de condición. Al agregar y quitar cuentas, las políticas que incluyan la clave <code class="code">aws:ResourceOrgID</code> tendrán automáticamente las cuentas correctas y no requerirán una actualización manual.</p>
        <p>Por ejemplo, la siguiente política impide que la entidad principal agregue objetos al recurso <code class="code">policy-genius-dev</code> a menos que el recurso de Amazon S3 pertenezca a la misma organización que la entidad principal que hace la solicitud.</p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>importante</h6></div><div class="awsdocs-note-text"><p>Esta política no permite ninguna acción. En su lugar, utiliza el efecto <code class="code">Deny</code> que deniega explícitamente el acceso a todos los recursos enumerados en el extracto que no pertenecen a la cuenta de la lista. Utilice esta política en combinación con otras políticas que permiten acceder a acciones específicas.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Sid": "DenyPutObjectToS3ResourcesOutsideMyOrganization",
    "Effect": "Deny",
    "Action": "s3:PutObject",
    "Resource": "arn:<code class="replaceable">partition</code>:s3:::policy-genius-dev/*",
    "Condition": <span>{</span>
      "StringNotEquals": <span>{</span>
        "aws:ResourceOrgID": "$<span>{</span>aws:PrincipalOrgID}"
      }
    }
  }
}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Algunos Servicios de AWS requieren acceso a recursos que son propiedad de AWS que están alojados en otra Cuenta de AWS. El uso de <code class="code">aws:ResourceOrgID</code> en sus políticas basadas en identidad puede afectar a la capacidad de su identidad para acceder a estos recursos.</p></div></div>
        
        <p>Ciertos servicios de AWS, como AWS Data Exchange, confían en el acceso a recursos fuera de sus Cuentas de AWS para operaciones normales. Si usa la clave <code class="code">aws:ResourceOrgID</code> en sus políticas, incluya declaraciones adicionales para crear exenciones para esos servicios. Las políticas de ejemplo <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: denegar el acceso a los recursos de Amazon S3 fuera de su cuenta, excepto AWS Data Exchange</a> demuestran cómo denegar el acceso en función de la cuenta de recursos y, al mismo tiempo, definir excepciones para los recursos propiedad del servicio. Puede crear una política similar para restringir el acceso a los recursos dentro de una organización mediante la clave <code class="code">aws:ResourceOrgID</code>y, al mismo tiempo, contabilizar los recursos propiedad del servicio.</p>
        <p>Utilice este ejemplo de políticas como plantillas para crear sus propias políticas personalizadas. Para obtener más información, puede hacer referencia a su <a href="https://docs.aws.amazon.com/index.html">documentación</a> de servicio.</p>
        
        <p>En el siguiente vídeo tiene más información acerca de cómo utilizar la clave de condición <code class="code">aws:ResourceOrgID</code> en una política.</p>
        <div class="mediaobject">
             
                <iframe width="720" height="330" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/cWVW0xAiWwc"></iframe>
             
             
        </div>
        
        
        
     
        <h2 id="condition-keys-resourceorgpaths">aws:ResourceOrgPaths</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar la ruta de AWS Organizations del recurso al que se accede en la política. En una política, esta clave de condición garantiza que el solicitante sea un miembro de la cuenta dentro de la raíz de la organización o unidades organizativas especificadas en AWS Organizations. Una ruta de AWS Organizations es una representación de texto de la estructura de una entidad de Organizations. Para obtener más información sobre el uso y la comprensión de las rutas, consulte <a href="./access_policies_access-advisor-view-data-orgs.html#access_policies_access-advisor-viewing-orgs-entity-path">Comprender la ruta de la entidad AWS Organizations</a> </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la entidad principal es miembro de una organización. Esta clave de condición global no admite las siguientes acciones:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store: todas las acciones</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge: todas las acciones</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: multivalor</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Para obtener más información sobre las acciones no compatibles anteriores, consulte el repositorio de <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>ejemplos de políticas de perímetro de datos</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
        <p><code class="code">aws:ResourceOrgPaths</code> es una clave de condición multivalor. Las claves de condición multivalor pueden tener varios valores en el contexto de la solicitud. Debe utilizar los operadores de servicio <code class="code">ForAnyValue</code> o <code class="code">ForAllValues</code> con los <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de condición de cadena</a> cuando utilice esta clave. Para obtener más información acerca de las claves de condición multivalor, consulte <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Uso de varias claves y valores</a>.</p>
        <p>Por ejemplo, la siguiente condición devuelve <code class="code">True</code> para recursos que pertenecen a la organización <code class="code">o-a1b2c3d4e5</code>. Cuando se incluye un comodín, se debe utilizar el operador de condición <a href="./reference_policies_elements_condition_operators.html">StringLike</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> 
      "ForAnyValue:StringLike": <span>{</span>
             "aws:ResourceOrgPaths":["o-a1b2c3d4e5/*"]
   }
}</code></pre>
        <p>Se devuelve la siguiente condición <code class="code">True</code> para los recursos con el ID de la unidad organizativa <code class="code">ou-ab12-11111111</code>. Coincidirá con los recursos que son propiedad de cuentas asociadas a la unidad organizativa ou-ab12-11111111 o a cualquiera de las unidades organizativas secundarias.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:ResourceOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/*"]
}}</code></pre>
        <p>Se devuelve la siguiente condición <code class="code">True</code> para los recursos que son propiedad de las cuentas asociadas directamente al ID de la unidad organizativa <code class="code">ou-ab12-22222222</code>, pero no a las unidades organizativas secundarias. El siguiente ejemplo utiliza el operador de condición <a href="./reference_policies_elements_condition_operators.html">StringEquals</a> para especificar el requisito de coincidencia exacta para el ID de la unidad organizativa y no una coincidencia de comodín.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> "ForAnyValue:StringEquals" : <span>{</span>
     "aws:ResourceOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/"]
}}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p>Algunos Servicios de AWS requieren acceso a recursos que son propiedad de AWS que están alojados en otra Cuenta de AWS. El uso de <code class="code">aws:ResourceOrgPaths</code> en sus políticas basadas en identidad puede afectar a la capacidad de su identidad para acceder a estos recursos.</p></div></div>
        
        <p>Ciertos servicios de AWS, como AWS Data Exchange, confían en el acceso a recursos fuera de sus Cuentas de AWS para operaciones normales. Si usa la clave <code class="code">aws:ResourceOrgPaths</code> en sus políticas, incluya declaraciones adicionales para crear exenciones para esos servicios. Las políticas de ejemplo <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: denegar el acceso a los recursos de Amazon S3 fuera de su cuenta, excepto AWS Data Exchange</a> demuestran cómo denegar el acceso en función de la cuenta de recursos y, al mismo tiempo, definir excepciones para los recursos propiedad del servicio. Puede crear una política similar para restringir el acceso a los recursos dentro de una unidad organizativa (OU) mediante la clave <code class="code">aws:ResourceOrgPaths</code> y, al mismo tiempo, contabilizar los recursos propiedad del servicio.</p>
        <p>Utilice este ejemplo de políticas como plantillas para crear sus propias políticas personalizadas. Para obtener más información, puede hacer referencia a su <a href="https://docs.aws.amazon.com/index.html">documentación</a> de servicio.</p>
     
        <h2 id="condition-keys-resourcetag">aws:ResourceTag/<em>tag-key</em></h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el par clave-valor de etiqueta que especifique en la política con el par clave-valor asociado al recurso. Por ejemplo, puede requerir que el acceso a un recurso solo se permita si el recurso tiene la clave de etiqueta <code class="code">"Dept"</code> adjunta con el valor <code class="code">"Marketing"</code>. Para obtener más información, consulte <a href="./access_tags.html#access_tags_control-resources">Control del acceso a los recursos de AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud cuando el recurso solicitado ya tiene etiquetas asociadas o en solicitudes que crean un recurso con una etiqueta asociada. Esta clave se devuelve solo para los recursos que <a href="./reference_aws-services-that-work-with-iam.html">admiten autorización basada en etiquetas</a>. Hay una clave de contexto para cada par clave-valor de etiqueta.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Esta clave de contexto tiene el formato <code class="code">"aws:ResourceTag/<code class="replaceable">tag-key</code>":"<code class="replaceable">tag-value</code>"</code>, donde <code class="replaceable">tag-key</code> y <code class="replaceable">tag-value</code> son un par formado por una clave y un valor. Las claves y los valores de las etiquetas no distinguen entre mayúsculas y minúsculas. Esto significa que si especifica <code class="code">"aws:ResourceTag/TagKey1": "Value1"</code> en el elemento de condición de su política, la condición coincidirá con una clave de etiqueta de recurso denominada <code class="code">TagKey1</code> o <code class="code">tagkey1</code>, pero no con ambas.</p>
        <p>Para obtener ejemplos del uso de la clave de <code class="code">aws:ResourceTag</code> para controlar el acceso a los recursos de IAM, consulte <a href="./access_tags.html#access_tags_control-resources">Control del acceso a los recursos de AWS</a>.</p>
        <p>Para obtener ejemplos del uso de la clave de <code class="code">aws:ResourceTag</code> para controlar el acceso a otros recursos de AWS, consulte <a href="./access_tags.html">Control de acceso a los recursos de AWS mediante etiquetas</a>.</p>
        <p>Para obtener un tutorial sobre el uso de la clave de condición de <code class="code">aws:ResourceTag</code> para el control de acceso basado en atributos (ABAC), consulte <a href="./tutorial_attribute-based-access-control.html">Tutorial de IAM: definición de permisos para acceder a los recursos de AWS en función de etiquetas</a>.</p>
     
        <h2 id="condition-keys-securetransport">aws:SecureTransport</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operadores booleanos</a>.</p>
        <p>Utilice esta clave para comprobar si la solicitud se envió mediante SSL. El contexto de la solicitud devuelve <code class="code">true</code> o <code class="code">false</code>. En una política, solo puede permitir acciones específicas si la solicitud se envía mediante SSL.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-sourceaccount">aws:SourceAccount</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el ID de cuenta que realiza una solicitud de servicio a servicio con el ID de cuenta que especifique en la política. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si el acceso a un recurso activa un servicio de AWS para llamar a otro servicio en nombre del propietario del recurso. El servicio que realiza la llamada debe pasar el ID de cuenta del recurso del origen al servicio llamado. Este ID de cuenta incluye el ID de cuenta de origen.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Puede utilizar esta clave de condición para evitar que se utilice un servicio AWS como un <a href="./confused-deputy.html">sustituto confuso</a> durante las transacciones entre servicios. Establezca el valor de esta clave de condición en la cuenta del recurso en la solicitud. Por ejemplo, cuando una actualización de bucket de Amazon S3 activa la publicación de un tema de Amazon SNS, el servicio Amazon S3 invoca la operación <code class="code">sns:Publish</code> de la API. En la política que permite la operación <code class="code">sns:Publish</code>, establezca el valor de la clave de condición en el ID de cuenta del bucket de Amazon S3. Para obtener información acerca de cómo y cuándo se recomiendan estas claves de condición, consulte la documentación de los servicios de AWS que está utilizando.</p>
     
        <h2 id="condition-keys-sourcearn">aws:SourceArn</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">operadores de ARN</a> y <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>. AWS recomienda utilizar operadores de ARN en lugar de operadores de cadenas al comparar los ARN.</p>
        <p>Utilice esta clave para comparar el <a href="./reference_identifiers.html#identifiers-arns">Nombre de recurso de Amazon (ARN)</a> del recurso que realiza una solicitud de servicio a servicio con el ARN que especifique en la política. </p>
        <p>Esta clave no funciona con el ARN de la entidad principal que realiza la solicitud. En su lugar, utilice <a href="#condition-keys-principalarn">aws:PrincipalArn</a>. El ARN del origen incluye el ID de cuenta, por lo que no es necesario utilizar <code class="code">aws:SourceAccount</code> con <code class="code">aws:SourceArn</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si el acceso a un recurso activa un servicio de AWS para llamar a otro servicio en nombre del propietario del recurso. El servicio que realiza la llamada debe pasar el ARN del recurso original al servicio llamado.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Puede utilizar esta clave de condición para evitar que se utilice un servicio AWS como un <a href="./confused-deputy.html">sustituto confuso</a> durante las transacciones entre servicios. Establezca el valor de esta clave de condición en el ARN del recurso en la solicitud. Por ejemplo, cuando una actualización de bucket de Amazon S3 activa la publicación de un tema de Amazon SNS, el servicio Amazon S3 invoca la operación <code class="code">sns:Publish</code> de la API. En la política que permite la operación <code class="code">sns:Publish</code>, establezca el valor de la clave de condición en el ARN del bucket de Amazon S3. Para obtener información acerca de cómo y cuándo se recomiendan estas claves de condición, consulte la documentación de los servicios de AWS que está utilizando.</p>
     
        <h2 id="condition-keys-sourceidentity">aws:SourceIdentity</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar la identidad de origen establecida por la entidad principal con la identidad de origen que usted especifique en la política. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b> — Esta clave se incluye en el contexto de la solicitud después de establecer una identidad de origen cuando se asume un rol utilizando cualquier comando assume-role CLI AWS STS, o una operación AWS STS de la API <code class="code">AssumeRole</code>.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Puede utilizar esta clave en una política para permitir acciones en AWS por entidades que han establecido una identidad de origen al asumir un rol. La actividad de la identidad de origen especificada del rol aparece en <a href="./cloudtrail-integration.html#cloudtrail-integration_signin-tempcreds">AWS CloudTrail</a>. Esto facilita a los administradores determinar quién o qué ha realizado acciones con un rol en AWS.</p>
        <p>A diferencia de <a href="./reference_policies_iam-condition-keys.html#ck_rolesessionname">sts:RoleSessionName</a>, después de establecer la identidad de origen, el valor no se puede cambiar. Está presente en el contexto de la solicitud de todas las acciones tomadas por el rol. El valor persiste en sesiones de rol posteriores cuando se utilizan las credenciales de sesión para asumir otro rol. Asumir un rol de otro se llama <a href="./id_roles_terms-and-concepts.html#iam-term-role-chaining">encadenamiento de roles</a>. </p>
        <p>La clave <a href="./reference_policies_iam-condition-keys.html#ck_sourceidentity">sts:SourceIdentity</a> está presente en la solicitud cuando la entidad principal establece inicialmente una identidad de origen mientras asume un rol utilizando cualquier comando assume-role CLI AWS STS, o una operación AWS STS de API <code class="code">AssumeRole</code>. La clave <code class="code">aws:SourceIdentity</code> presente en la solicitud de cualquier acción que se realice con una sesión de rol que tenga un conjunto de identidad de origen.</p>
        <p>La siguiente política de confianza de rol de <code class="code">CriticalRole</code> en la cuenta <code class="code">111122223333</code> contiene una condición para <code class="code">aws:SourceIdentity</code> que impide que una entidad principal sin una identidad de origen establecida para Saanvi o Diego asuma el rol.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AssumeRoleIfSourceIdentity",
            "Effect": "Allow",
            "Principal": <span>{</span>"AWS": "arn:aws:iam::123456789012:role/CriticalRole"},
            "Action": [
                "sts:AssumeRole",
                "sts:SetSourceIdentity"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "aws:SourceIdentity": ["Saanvi","Diego"]
                }
            }
        }
    ]
}
</code></pre>
        <p>Para obtener más información acerca del uso de información de identidad de origen, consulte <a href="./id_credentials_temp_control-access_monitor.html">Monitorear y controlar las acciones realizadas con roles asumidos</a>.</p>
     
        <h2 id="condition-keys-sourceip">aws:SourceIp</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">operadores de direcciones IP</a>.</p>
        <p>Utilice esta clave para comparar la dirección IP del solicitante con la dirección IP que especifique en la política. La clave de condición <code class="code">aws:SourceIp</code> solo puede utilizarse para rangos de direcciones IP públicas.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud, excepto cuando el solicitante utiliza un punto de enlace de la VPC para realizar la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>La clave de condición <code class="code">aws:SourceIp</code> se puede utilizar en una política para permitir que las entidades principales realicen solicitudes solo desde un rango de IP especificado. Sin embargo, esta política deniega el acceso si un servicio de AWS realiza llamadas en nombre de la entidad principal. En este caso, puede utilizar <code class="code">aws:SourceIp</code> con la clave <code class="code"><a href="#condition-keys-viaawsservice">aws:ViaAWSService</a></code> para asegurarse de que la restricción IP de origen se aplica únicamente a las solicitudes realizadas directamente por una entidad principal. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>nota</h6></div><div class="awsdocs-note-text"><p> <code class="code">aws:SourceIp</code> admite tanto las direcciones IP IPv4 como IPv6 o un rango de direcciones IP. Para obtener más detalles, consulte <a href="https://docs.aws.amazon.com/marketplace/latest/buyerguide/buyer-security-ipv6-upgrade.html">Actualizar las políticas de IAM a IPv6</a>.</p></div></div>
        <p>Por ejemplo, puede asociar la siguiente política a un usuario de IAM. Esta política permite al usuario colocar directamente un objeto en el bucket <code class="code"><code class="replaceable">DOC-EXAMPLE-BUCKET3</code></code> de Amazon S3 si realiza la llamada desde la dirección IP especificada. Sin embargo, si el usuario realiza otra solicitud que hace que un servicio llame a Amazon S3, la restricción de dirección IP no se aplica. La instrucción <code class="code">PrincipalPutObjectIfIpAddress</code> restringe la dirección IP solo si la solicitud no la realiza un servicio. La instrucción <code class="code">ServicePutObject</code> permite la operación sin la restricción de dirección IP si la solicitud la realiza un servicio.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copiar"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "PrincipalPutObjectIfIpAddress",
            "Effect": "Allow",
            "Action": "s3:PutObject",
            "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET3</code>/*",
            "Condition": <span>{</span>
                "Bool": <span>{</span>"aws:ViaAWSService": "false"},
                "IpAddress": <span>{</span>"aws:SourceIp": "<code class="replaceable">203.0.113.0</code>"}
            }
        },
        <span>{</span>
            "Sid": "ServicePutObject",
            "Effect": "Allow",
            "Action": "s3:PutObject",
            "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/*",
            "Condition": <span>{</span>
                "Bool": <span>{</span>"aws:ViaAWSService": "true"}
            }
        }
    ]
}</code></pre>
        <p>Si la solicitud proviene de un host que utiliza un punto de enlace de Amazon VPC, entonces la clave <code class="code">aws:SourceIp</code> no estará disponible. En su lugar, debe utilizar una clave específica de la VPC, como aws:VpcSourceIp. Para obtener más información acerca del uso de puntos de conexión de VPC, consulte <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-iam.html">Administración de identidades y accesos para puntos de conexión de VPC y servicios de punto de conexión de VPC</a> en la <em>Guía de AWS PrivateLink</em>.</p>
     
        <h2 id="condition-keys-sourcevpc">aws:SourceVpc</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comprobar si la solicitud proviene de la VPC que especifique en la política. En una política, puede utilizar esta clave para permitir el acceso solo a una VPC específica. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html#example-bucket-policies-restrict-access-vpc">Restricciones de acceso a una VPC específica</a> en la <em>Guía del usuario de Amazon Simple Storage Service</em>. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si el solicitante utiliza un punto de enlace de la VPC para realizar la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-sourcevpce">aws:SourceVpce</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el identificador de punto de enlace de la VPC de la solicitud con el ID de punto de enlace que especifique en la política. En una política, puede utilizar esta clave para restringir el acceso a un punto de enlace de la VPC específico. Para obtener más información, consulte <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html#example-bucket-policies-restrict-access-vpc-endpoint">Restricciones de acceso a un punto de conexión de VPC específico</a> en la <em>Guía del usuario de Amazon Simple Storage Service</em>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si el solicitante utiliza un punto de enlace de la VPC para realizar la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-tagkeys">aws:TagKeys</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar las claves de etiqueta de una solicitud con las claves que especifique en la política. Como práctica recomendada cuando utilice políticas para controlar el acceso mediante etiquetas, utilice la clave de condición <code class="code">aws:TagKeys</code> para definir lo que se permite realizar a las claves de etiqueta. Para obtener más información y políticas de ejemplo, consulte <a href="./access_tags.html#access_tags_control-tag-keys">Control del acceso en función de las claves de etiqueta</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la operación permite pasar etiquetas en la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: multivalor</p>
            </li></ul></div>
        <p>Esta clave de contexto tiene el formato <code class="code">"aws:TagKeys":"<code class="replaceable">tag-key</code>"</code>, donde <code class="replaceable">tag-key</code> es una lista de claves de etiqueta sin valores (por ejemplo, <code class="code">["Dept","Cost-Center"]</code>).</p>
        <p>Dado que puede incluir varios pares de clave-valor de etiqueta en una solicitud, el contenido de la solicitud podría ser una solicitud <a href="./reference_policies_multi-value-conditions.html">con varios valores</a>. En este caso, debe utilizar la <code class="code">ForAllValues</code> o los operadores de establecimiento <code class="code">ForAnyValue</code>. Para obtener más información, consulte <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Uso de varias claves y valores</a>.</p>
        <p>Algunos servicios admiten el etiquetado con las operaciones del recurso, como, por ejemplo, crear, modificar o eliminar un recurso. Para permitir el etiquetado y las operaciones como una sola llamada, debe crear una política que incluya tanto la acción de etiquetado como la acción de modificación del recurso. A continuación, puede utilizar la clave de condición <code class="code">aws:TagKeys</code> para imponer el uso de claves de etiqueta específicas en la solicitud. Por ejemplo, para limitar las etiquetas cuando alguien crea una instantánea de Amazon EC2, debe incluir la acción de creación <code class="code">ec2:CreateSnapshot</code> <em><b>y</b></em> la acción de etiquetado <code class="code">ec2:CreateTags</code> en la política. Para ver una política para este escenario que utiliza <code class="code">aws:TagKeys</code>, consulte <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ExamplePolicies_EC2.html#iam-creating-snapshot-with-tags">Crear una instantánea con etiquetas</a> en la <em>Guía del usuario de Amazon EC2 para instancias de Linux</em>. </p>
     
        <h2 id="condition-keys-tokenissuetime">aws:TokenIssueTime</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">operadores de fecha</a>.</p>
        <p>Utilice esta clave para comparar la fecha y la hora en que se emitieron las credenciales de seguridad temporales con la fecha y hora que especifique en la política. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo cuando la entidad principal utiliza credenciales temporales para realizar la solicitud. La clave no está presentes en solicitudes de la AWS CLI, la API de AWS o el SDK de AWS realizadas con claves de acceso.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Para obtener información sobre los servicios que admiten el uso de credenciales temporales, consulte <a href="./reference_aws-services-that-work-with-iam.html">Servicios de AWS que funcionan con IAM</a>.</p>
     
        <h2 id="condition-keys-useragent">aws:UserAgent</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar la aplicación cliente del solicitante con la aplicación que especifique en la política.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>aviso</h6></div><div class="awsdocs-note-text"><p>Esta clave debe utilizarse con cuidado. Puesto que el valor <code class="code">aws:UserAgent</code> lo proporciona el intermediario en un encabezado HTTP, partes no autorizadas podrían utilizar navegadores personalizados o modificados para proporcionar cualquier valor <code class="code">aws:UserAgent</code> que eligieran. En consecuencia, <code class="code">aws:UserAgent</code> no debe utilizarse para impedir que entidades no autorizadas realicen solicitudes a AWS de forma directa. Puede utilizarlo para permitir únicamente aplicaciones cliente específicas y solo después de probar su política.</p></div></div>
     
        <h2 id="condition-keys-userid">aws:userid</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el identificador principal del solicitante con el ID que especifique en la política. Para los usuarios de IAM, el valor del contexto de la solicitud es el ID de usuario. Para roles de IAM, este formato de valor puede variar. Para obtener más información sobre cómo aparece la información para diferentes entidades principales, consulte <a href="./reference_policies_elements_principal.html#Principal_specifying">Especificación de una entidad principal</a>. Para ver ejemplos específicos de valores de clave de <code class="code">principal</code>, consulte <a href="./reference_policies_variables.html#principaltable">Valores clave principales</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de solicitud de todas las solicitudes, incluidas las anónimas.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-username">aws:username</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operadores de cadena</a>.</p>
        <p>Utilice esta clave para comparar el nombre de usuario del solicitante con el nombre de usuario que especifique en la política. Para obtener más información sobre cómo aparece la información para diferentes entidades principales, consulte <a href="./reference_policies_elements_principal.html#Principal_specifying">Especificación de una entidad principal</a>. Para ver ejemplos específicos de valores de clave de <code class="code">principal</code>, consulte <a href="./reference_policies_variables.html#principaltable">Valores clave principales</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de solicitud para los usuarios de IAM. Las solicitudes anónimas y las solicitudes que se realizan con los roles de IAM o Usuario raíz de la cuenta de AWS no incluyen esta clave. Las solicitudes realizadas con credenciales de IAM Identity Center no incluyen esta clave en el contexto. Para obtener información acerca de cómo controlar el acceso de los usuarios en IAM Identity Center, consulte <code class="code">identitystore:UserId</code> en <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/using-predefined-attributes.html">Uso de atributos predefinidos del almacén de identidades de IAM Identity Center para controlar el acceso en AWS</a>. Los usuarios de IAM Identity Center son el personal que necesita acceso a sus Cuentas de AWS o a sus aplicaciones en la nube.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
     
        <h2 id="condition-keys-viaawsservice">aws:ViaAWSService</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operadores booleanos</a>.</p>
        <p>Utilice esta clave para comprobar si un servicio de AWS realiza una solicitud a otro servicio en su nombre.</p>
        <p>La clave de contexto de la solicitud devuelve <code class="code">true</code> cuando un servicio utiliza las credenciales de una entidad principal de IAM para realizar una solicitud en nombre de la entidad principal. La clave de contexto devuelve <code class="code">false</code> si el servicio utiliza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rol de servicio</a> o un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rol vinculado al servicio</a> para realizar una llamada en nombre de la entidad principal. La clave de contexto de la solicitud también devuelve <code class="code">false</code> cuando la entidad principal realiza la llamada directamente.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave siempre se incluye en el contexto de la solicitud.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Puede utilizar esta clave de condición para permitir o denegar el acceso en función de si un servicio realizó la solicitud. Para ver una política de ejemplo, consulte <a href="./reference_policies_examples_aws_deny-ip.html">AWS: deniega acceso a AWS en función de la dirección IP de origen</a>.</p>
     
        <h2 id="condition-keys-vpcsourceip">aws:VpcSourceIp</h2>
        <p>Funciona con <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">operadores de direcciones IP</a>.</p>
        <p>Utilice esta clave para comparar la dirección IP desde la que se realizó una solicitud con la dirección IP que ha especificado en la política. En una política, la clave coincide solo si la solicitud proviene de la dirección IP especificada y pasa a través de un punto de enlace de la VPC.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilidad</b>: esta clave se incluye en el contexto de la solicitud solo si la solicitud se realiza mediante un punto de enlace de la VPC.</p>
            </li><li class="listitem">
                <p><b>Tipo de valor</b>: valor único</p>
            </li></ul></div>
        <p>Para obtener más información, consulte <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints-access.html">Controlar el acceso a servicios con puntos de conexión de VPC</a> en la <em>Guía del usuario de Amazon VPC</em>.</p>
     
        <h2 id="condition-keys-other">Otras claves de condición entre servicios</h2>
        <p>Las claves de condición globales son claves de condición con un prefijo <code class="code">aws:</code>. Los servicios individuales pueden crear sus propias claves de condición. Estas claves de condición específicas del servicio incluyen un prefijo que coincide con el nombre del servicio, como <code class="code">iam:</code> o <code class="code">sts:</code>.</p>
        <p>Los servicios pueden crear claves específicas del servicio que están disponibles en el contexto de la solicitud para otros servicios. Estas claves están disponibles en varios servicios, pero no son claves de condición globales. Por ejemplo, AWS STS admite <a href="./reference_policies_iam-condition-keys.html#condition-keys-saml">claves de condición de federación basadas en SAML</a>. Estas claves están disponibles cuando un usuario federado mediante SAML realiza operaciones de AWS en otros servicios. Otros ejemplos incluyen <code class="code"><a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/using-predefined-attributes.html">identitystore:UserId</a></code> y <code class="code"><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-policy-structure.html#amazon-ec2-keys">ec2:SourceInstanceArn</a></code>.</p>
        <p>Para ver las claves de condición específicas de un servicio, consulte <a href="https://docs.aws.amazon.com/service-authorization/latest/reference/reference_policies_actions-resources-contextkeys.html">Acciones, recursos y claves de condición para los servicios de AWS</a> y elija el servicio cuyas claves desea ver.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Aviso" /> <strong>JavaScript está desactivado o no está disponible en su navegador.</strong></p><p>Para utilizar la documentación de AWS, debe estar habilitado JavaScript. Para obtener más información, consulte las páginas de ayuda de su navegador.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenciones del documento</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./access_policies_job-functions_create-policies.html">Creación de roles y asociación de políticas (consola)</div><div id="next" class="next-link" accesskey="n" href="./reference_policies_iam-condition-keys.html">Claves de condición de IAM</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - Sí</div><div class="content"><p>Gracias por hacernos saber que estamos haciendo un buen trabajo.</p><p>Si tiene un momento, díganos qué es lo que le ha gustado para que podamos seguir trabajando en esa línea.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">¿Le ha servido de ayuda esta página? - No</div><div class="content"><p>Gracias por informarnos de que debemos trabajar en esta página. Lamentamos haberle defraudado.</p><p>Si tiene un momento, díganos cómo podemos mejorar la documentación.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Comentarios" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>