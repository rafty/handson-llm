<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using service-linked roles for AWS Application Migration Service - Application Migration Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-service-linked-roles" /><meta name="default_state" content="using-service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/mgn/latest/ug/using-service-linked-roles.html" /><meta name="description" content="How to use service-linked roles to give AWS Application Migration Service access to resources in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Application Migration Service" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Insert abstract text" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/mgn/latest/ug/using-service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/mgn/latest/ug/using-service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/mgn/latest/ug/using-service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/mgn/latest/ug/using-service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/mgn/latest/ug/using-service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/mgn/latest/ug/using-service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/mgn/latest/ug/using-service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/mgn/latest/ug/using-service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/mgn/latest/ug/using-service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/mgn/latest/ug/using-service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/mgn/latest/ug/using-service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/mgn/latest/ug/using-service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/mgn/latest/ug/using-service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/mgn/latest/ug/using-service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/mgn/latest/ug/using-service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/mgn/latest/ug/using-service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/mgn/latest/ug/using-service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/mgn/latest/ug/using-service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/mgn/latest/ug/using-service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/mgn/latest/ug/using-service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/mgn/latest/ug/using-service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/mgn/latest/ug/using-service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="MGN" /><meta name="this_doc_product" content="Application Migration Service" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'mgn'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using service-linked roles for AWS Application Migration Service" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using service-linked roles for AWS Application Migration Service - Application Migration Service</title><meta name="pdf" content="/pdfs/mgn/latest/ug/user-guide.pdf#using-service-linked-roles" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=MGN&amp;topic_url=http://docs.aws.amazon.com/en_us/mgn/latest/ug/using-service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/mgn/latest/ug/using-service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/mgn/latest/ug/using-service-linked-roles.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Application Migration Service",
        "item" : "https://docs.aws.amazon.com/mgn/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/mgn/latest/ug"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in AWS Application Migration Service",
        "item" : "https://docs.aws.amazon.com/mgn/latest/ug/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and access management for AWS Application Migration Service",
        "item" : "https://docs.aws.amazon.com/mgn/latest/ug/identity-access-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using service-linked roles for AWS Application Migration Service",
        "item" : "https://docs.aws.amazon.com/mgn/latest/ug/identity-access-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/mgn/latest/ug/user-guide.pdf#using-service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/mgn/index.html">Application Migration Service</a><a href="what-is-application-migration-service.html">User Guide</a></div><div id="page-toc-src"><a href="#slr-permissions">Service-linked role permissions for
                        AWS Application Migration Service</a><a href="#create-slr">Creating a service-linked role for AWS Application Migration Service</a><a href="#edit-slr">Editing a service-linked role for AWS Application Migration Service</a><a href="#delete-slr">Deleting a service-linked role for AWS Application Migration Service</a><a href="#slr-regions">Supported Regions for AWS MGN service-linked roles </a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-service-linked-roles">Using service-linked roles for
                    AWS Application Migration Service</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS Application Migration Service uses AWS Identity and Access Management (IAM)<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">
                service-linked roles</a>. A service-linked role is a unique type of IAM role that is
                linked directly to AWS Application Migration Service. Service-linked roles are predefined by
                AWS Application Migration Service and include all the permissions that the service requires to
                call other AWS services on your behalf.
            </p><p>A service-linked role makes setting up AWS Application Migration Service easier because you don’t have to
                manually add the necessary permissions. AWS Application Migration Service defines the permissions of its
                service-linked roles, and unless defined otherwise, only AWS Application Migration Service can assume its
                roles. The defined permissions include the trust policy and the permissions policy, and
                that permissions policy cannot be attached to any other IAM entity.
            </p><p>You can delete a service-linked role only after first deleting their related resources.
                This protects your AWS Application Migration Service resources because you can't inadvertently remove
                permission to access the resources.
            </p><p>For information about other services that support service-linked roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS Services
                That Work with IAM
            </a> and look for the services that have <b>Yes
            </b>in the <b>Service-Linked Role</b> column. Choose a
                <b>Yes</b>
                with a link to view the service-linked role
                documentation for that service.
            </p>
                <h2 id="slr-permissions">Service-linked role permissions for
                        AWS Application Migration Service</h2>
                <p>AWS Application Migration Service uses the service-linked role named
                    <b>AWSServiceRoleForApplicationMigrationService</b>. This is a managed
                    IAM policy with scoped permissions that AWS Application Migration Service needs to run in your account.
                </p>
                <p>The AWSServiceRoleForApplicationMigrationService service-linked role trusts the
                    following services to assume the role:
                </p>
                <div class="itemizedlist">
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>
                            <code class="code">mgn.amazonaws.com</code>
                        </p>
                    </li></ul></div>
                <p>The role permissions policy allows AWS Application Migration Service to complete the following actions on
                    the specified resources.
                </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
        "Version": "2012-10-17",
        "Statement": [
                <span>{</span>
                        "Effect": "Allow",
                        "Action": "mgn:ListTagsForResource",
                        "Resource": "*"
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": "kms:ListRetirableGrants",
                        "Resource": "*"
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "mgh:AssociateCreatedArtifact",
                                "mgh:CreateProgressUpdateStream",
                                "mgh:DisassociateCreatedArtifact",
                                "mgh:GetHomeRegion",
                                "mgh:ImportMigrationTask",
                                "mgh:NotifyMigrationTaskState",
                                "mgh:PutResourceAttributes"
                        ],
                        "Resource": "*"
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:DescribeAccountAttributes",
                                "ec2:DescribeAvailabilityZones",
                                "ec2:DescribeImages",
                                "ec2:DescribeInstances",
                                "ec2:DescribeInstanceTypes",
                                "ec2:DescribeInstanceAttribute",
                                "ec2:DescribeInstanceStatus",
                                "ec2:DescribeLaunchTemplateVersions",
                                "ec2:DescribeLaunchTemplates",
                                "ec2:DescribeSecurityGroups",
                                "ec2:DescribeSnapshots",
                                "ec2:DescribeSubnets",
                                "ec2:DescribeVolumes",
                                "ec2:GetEbsDefaultKmsKeyId",
                                "ec2:GetEbsEncryptionByDefault"
                        ],
                        "Resource": "*"
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:RegisterImage",
                                "ec2:DeregisterImage"
                        ],
                        "Resource": "*"
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:DeleteSnapshot"
                        ],
                        "Resource": "arn:aws:ec2:*:*:snapshot/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateLaunchTemplateVersion",
                                "ec2:ModifyLaunchTemplate",
                                "ec2:DeleteLaunchTemplate",
                                "ec2:DeleteLaunchTemplateVersions"
                        ],
                        "Resource": "arn:aws:ec2:*:*:launch-template/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:DeleteVolume"
                        ],
                        "Resource": "arn:aws:ec2:*:*:volume/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:StartInstances",
                                "ec2:StopInstances",
                                "ec2:TerminateInstances",
                                "ec2:ModifyInstanceAttribute",
                                "ec2:GetConsoleOutput",
                                "ec2:GetConsoleScreenshot"
                        ],
                        "Resource": "arn:aws:ec2:*:*:instance/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:RevokeSecurityGroupEgress",
                                "ec2:AuthorizeSecurityGroupIngress",
                                "ec2:AuthorizeSecurityGroupEgress"
                        ],
                        "Resource": "arn:aws:ec2:*:*:security-group/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateVolume"
                        ],
                        "Resource": "arn:aws:ec2:*:*:volume/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateSecurityGroup"
                        ],
                        "Resource": "arn:aws:ec2:*:*:security-group/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateSecurityGroup"
                        ],
                        "Resource": "arn:aws:ec2:*:*:vpc/*"
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateLaunchTemplate"
                        ],
                        "Resource": "arn:aws:ec2:*:*:launch-template/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateSnapshot"
                        ],
                        "Resource": "arn:aws:ec2:*:*:volume/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateSnapshot"
                        ],
                        "Resource": "arn:aws:ec2:*:*:snapshot/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:DetachVolume",
                                "ec2:AttachVolume"
                        ],
                        "Resource": "arn:aws:ec2:*:*:instance/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:AttachVolume"
                        ],
                        "Resource": "arn:aws:ec2:*:*:volume/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:DetachVolume"
                        ],
                        "Resource": "arn:aws:ec2:*:*:volume/*"
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:RunInstances"
                        ],
                        "Resource": "arn:aws:ec2:*:*:instance/*",
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "aws:RequestTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:RunInstances"
                        ],
                        "Resource": [
                                "arn:aws:ec2:*:*:security-group/*",
                                "arn:aws:ec2:*:*:volume/*",
                                "arn:aws:ec2:*:*:subnet/*",
                                "arn:aws:ec2:*:*:image/*",
                                "arn:aws:ec2:*:*:network-interface/*",
                                "arn:aws:ec2:*:*:launch-template/*"
                        ]
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": "iam:PassRole",
                        "Resource": [
                                "arn:aws:iam::*:role/service-role/AWSApplicationMigrationReplicationServerRole",
                                "arn:aws:iam::*:role/service-role/AWSApplicationMigrationConversionServerRole"
                        ],
                        "Condition": <span>{</span>
                                "StringEquals": <span>{</span>
                                        "iam:PassedToService": "ec2.amazonaws.com"
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": "ec2:CreateTags",
                        "Resource": [
                                "arn:aws:ec2:*:*:launch-template/*",
                                "arn:aws:ec2:*:*:security-group/*",
                                "arn:aws:ec2:*:*:volume/*",
                                "arn:aws:ec2:*:*:snapshot/*",
                                "arn:aws:ec2:*:*:instance/*"
                        ],
                        "Condition": <span>{</span>
                                "StringEquals": <span>{</span>
                                        "ec2:CreateAction": [
                                                "CreateLaunchTemplate",
                                                "CreateSecurityGroup",
                                                "CreateVolume",
                                                "CreateSnapshot",
                                                "RunInstances"
                                        ]
                                }
                        }
                },
                <span>{</span>
                        "Effect": "Allow",
                        "Action": [
                                "ec2:CreateTags",
                                "ec2:ModifyVolume"
                        ],
                        "Resource": [
                                "arn:aws:ec2:*:*:volume/*"
                        ],
                        "Condition": <span>{</span>
                                "Null": <span>{</span>
                                        "ec2:ResourceTag/AWSApplicationMigrationServiceManaged": "false"
                                }
                        }
                }
        ]
}
                </code></pre>
                
                <p>You must configure permissions to allow an IAM entity (such as a user, group, or
                    role) to create, edit, or delete a service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions">Service-Linked Role Permissions
                    </a> in the
                    <em>IAM User Guide</em>.
                </p>
             
                <h2 id="create-slr">Creating a service-linked role for AWS Application Migration Service</h2>
                
                <p>You don't need to manually create a service-linked role. When you configure the
                    Replication Configuration Template for AWS Application Migration Service, a service-linked
                    role is automatically created. MGN automatically creates the IAM service-linked role,
                    which you can see in the IAM console. You don't need to manually create or configure this
                    role.
                </p>
                
                <p>If you delete this service-linked role, and then need to create it again, you can use
                    the same process to recreate the role in your account. When you create the first new
                    replication configuration template in MGN, it creates the service-linked role for you
                    again.
                </p>
                
                <p>In the AWS CLI or the AWS API, create a service-linked role with the
                    AWS Application Migration Service name. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#create-service-linked-role">Creating a Service-Linked Role</a> in
                        the<em>IAM User Guide</em>. If you delete this service-linked
                    role, you can use this same process to create the role again. </p>
                
             
                <h2 id="edit-slr">Editing a service-linked role for AWS Application Migration Service</h2>
                <p>AWS Application Migration Service does not allow you to edit the
                    AWSServiceRoleForApplicationMigrationService service-linked role. After you create a
                    service-linked role, you cannot change the name of the role because various entities might
                    reference the role. However, you can edit the description of the role using IAM. For
                    more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#edit-service-linked-role">Editing a Service-Linked Role
                    </a> in the
                    <em>IAM User Guide</em>.
                </p>
             
                <h2 id="delete-slr">Deleting a service-linked role for AWS Application Migration Service</h2>
                
                <p>If you no longer need to use a feature or service that requires a service-linked
                    role, we recommend that you delete that role. That way you don’t have an unused entity
                    that is not actively monitored or maintained. However, you must clean up the resources
                    for your service-linked role before you can manually delete it.
                </p>
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If AWS Application Migration Service is using the role when you try to delete the
                        resources, the deletion might fail. If that happens, wait for a few minutes and try the
                        operation again.
                    </p></div></div>
                <p>
                    <b>To clean up AWS Application Migration Service resources used
                        by AWSServiceRoleforApplicationMigrationService</b></p>
                <div class="orderedlist">
                     
                     
                     
                     
                <ol><li>
                        <p>Identify and delete any waves and applications in all
                            AWS Regions</p>
                    <div class="orderedlist">
                         
                             
                             
                         
                    <ol><li>
                            <p>identify any waves:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn list-waves</code></pre>
                        </li><li>
                                <p>Delete any waves:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn delete-wave --wave-id <span>{</span>WaveID}</code></pre>
                            </li><li>
                                <p>Identify any application:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn list-applications</code></pre>
                            </li><li>
                            <p>Delete any application:</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn delete-application --application-id <span>{</span>ApplicationID}</code></pre>
                        </li></ol></div>
                    </li><li>
                        <p>Identify and delete any source servers in all AWS Regions</p>
                        <div class="orderedlist">
                             
                             
                             
                             
                        <ol><li>
                                <p>Identify any active source servers:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn describe-source-servers --filters isArchived=False --query "items[*].sourceServerID"</code></pre>
                            </li><li>
                                <p>Disconnect any archived source server:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn disconnect-from-service --source-server-id <span>{</span>SourceServerID}</code></pre>
                            </li><li>
                                <p>
                                    Archive any disconnected source servers: 
                                </p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn mark-as-archived --source-server-id <span>{</span>SourceServerID}</code></pre>
                            </li><li>
                                <p>Delete any archived source server:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn delete-source-server --source-server-id <span>{</span>SourceServerID}</code></pre>
                            </li></ol></div>
                    </li><li>
                        <p>Identify and delete any AWS MGN jobs in all AWS Regions</p>
                        <div class="orderedlist">
                             
                             
                        <ol><li>
                                <p>Identify any AWS MGN jobs</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn describe-jobs</code></pre>
                            </li><li>
                                <p>Delete any AWS MGN jobs:</p>
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn delete-job --job-id <span>{</span>MGNJobId}</code></pre>
                            </li></ol></div>
                    </li><li>
                        <p>Identify and delete any AWS MGN replication templates</p>
                        <div class="orderedlist">
                             
                         
                        <ol><li><p>Identify any AWS MGN replication template:</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn describe-replication-configuration-templates</code></pre>
                            </li><li>
                            <p>Remove any AWS MGN replication templates:</p>
                            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aws mgn delete-replication-configuration-template --replication-configuration-template-id <span>{</span>rct-TemplateID}</code></pre>
                        </li></ol></div>
                    </li></ol></div>
                <p> </p>
                <p>Resources can be cleaned up without stopping any service provided by
                    AWS Application Migration Service. Cleaning up AWS Application Migration Service
                    resources will cause AWS Application Migration Service to stop working. For more
                    information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role">Cleaning up a Service-Linked Role </a> in the
                        <em>IAM User Guide</em>. </p>
                <p>
                    <b>To manually delete the service-linked role using
                        IAM
                    </b>
                </p>
                <p>Use the IAM console, the AWS CLI, or the AWS API to delete the
                    AWSServiceRoleForApplicationMigrationService service-linked role. For more information,
                    see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role">Deleting a Service-Linked Role
                    </a> in the
                    <em>IAM User Guide</em>.
                </p>
             
                <h2 id="slr-regions">Supported Regions for AWS MGN service-linked roles </h2>
                

                
                <p>AWS Application Migration Service supports using service-linked roles in all of the <a href="./supported-regions.html">AWS Regions where
                    the service is available</a>.
                </p>
                
                
              
                
            <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./restrict-to-vcenter-client.html">Restrict permission to act on a source server associated with given AWS vCenter
                            client
                        </div><div id="next" class="next-link" accesskey="n" href="./disaster-recovery-resiliency.html">Resilience</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=MGN&amp;topic_url=https://docs.aws.amazon.com/en_us/mgn/latest/ug/using-service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=MGN&amp;topic_url=https://docs.aws.amazon.com/en_us/mgn/latest/ug/using-service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>