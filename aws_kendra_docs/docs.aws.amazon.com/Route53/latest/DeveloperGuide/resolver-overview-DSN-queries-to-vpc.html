<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Resolving DNS queries between VPCs and your network - Amazon Route 53</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="resolver-overview-DSN-queries-to-vpc" /><meta name="default_state" content="resolver-overview-DSN-queries-to-vpc" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" /><meta name="description" content="The Resolver contains endpoints that you configure to answer DNS queries to and from your on-premises environment." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Route 53" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="With Route 53, you can register domains, route traffic to the resources where your domains are hosted, and check the health of your resources. You can also route traffic based on the health of your resources. This guide explains how to register domains, configure DNS, and configure health checks using the Route 53 console." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" hreflang="x-default" /><meta name="feedback-item" content="Route53" /><meta name="this_doc_product" content="Amazon Route 53" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'route53'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Resolving DNS queries between VPCs and your network" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Resolving DNS queries between VPCs and your network - Amazon Route 53</title><meta name="pdf" content="/pdfs/Route53/latest/DeveloperGuide/route53-dg.pdf#resolver-overview-DSN-queries-to-vpc" /><meta name="github" content="https://github.com/awsdocs/amazon-route53-docs/tree/main/doc_source/resolver-overview-DSN-queries-to-vpc.md" /><meta name="rss" content="amazon-route-53-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=87" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Route53&amp;topic_url=http://docs.aws.amazon.com/en_us/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html" /><meta name="keywords" content="Route 53,Amazon Route 53,domain,health check,DNS,routing policy,resource record set,hosted zone,name server,register,registration,transfer" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Route 53",
        "item" : "https://docs.aws.amazon.com/route53/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/Route53/latest/DeveloperGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "What is Amazon Route 53 Resolver?",
        "item" : "https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Resolving DNS queries between VPCs and your network",
        "item" : "https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/Route53/latest/DeveloperGuide/route53-dg.pdf#resolver-overview-DSN-queries-to-vpc" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-route53-docs/tree/main/doc_source/resolver-overview-DSN-queries-to-vpc.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/route53/index.html">Amazon Route 53</a><a href="Welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#resolver-overview-forward-network-to-vpc">How DNS resolvers on your network
				forward DNS queries to Route 53 Resolver endpoints</a><a href="#resolver-overview-forward-vpc-to-network">How Route 53 Resolver endpoint forwards DNS
				queries from your VPCs to your network</a><a href="#resolver-choose-vpc">Considerations when creating inbound and outbound endpoints</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="resolver-overview-DSN-queries-to-vpc">Resolving DNS queries between
				VPCs and your network</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The Resolver contains endpoints that you configure to answer DNS queries to and
		from your on-premises environment.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p> Forwarding private DNS queries to any VPC CIDR + 2 address from your on-premises DNS servers 
		is not supported, and can cause unstable results. Instead, we recommend that you use a Resolver inbound endpoint.</p></div></div><p>You also can integrate DNS resolution between Resolver and DNS resolvers on your network by configuring forwarding rules.
		<em>Your network</em> can include any network that is reachable from your VPC, such as the following:</p><div class="itemizedlist">
		 
		 
		 
	<ul class="itemizedlist"><li class="listitem"><p>The VPC itself</p></li><li class="listitem"><p>Another peered VPC</p></li><li class="listitem"><p>An on-premises network that is connected to AWS with AWS Direct Connect, a VPN, or a
			network address translation (NAT) gateway</p></li></ul></div><p>Before you start to forward queries, you create Resolver inbound and/or outbound endpoints in the connected VPC.
		These endpoints provide a path for inbound or outbound queries:</p><div class="variablelist">
		 
		 
	<dl>
			<dt><b><span class="term">Inbound endpoint: DNS resolvers on your network can forward DNS queries to Route 53 Resolver via this endpoint</span></b></dt>
			<dd><p>This allows your DNS resolvers to easily resolve domain names for AWS resources such as EC2 instances or
				records in a Route 53 private hosted zone. For more information, see
				<a href="#resolver-overview-forward-network-to-vpc">How DNS resolvers on your network
				forward DNS queries to Route 53 Resolver endpoints</a>.</p></dd>
		
			<dt><b><span class="term">Outbound endpoint: Resolver conditionally forwards queries to resolvers on your network via this endpoint</span></b></dt>
			<dd><p>To forward selected queries, you create Resolver rules that specify the domain names for the DNS queries
				that you want to forward (such as example.com), and the IP addresses of the DNS resolvers on your network that you want
				to forward the queries to. If a query matches multiple rules (example.com, acme.example.com), Resolver chooses the rule
				with the most specific match (acme.example.com) and forwards the query to the IP addresses that you specified in that rule.
				For more information, see
				<a href="#resolver-overview-forward-vpc-to-network">How Route 53 Resolver endpoint forwards DNS
				queries from your VPCs to your network</a>.
				</p>
			</dd>
		</dl></div><p>Like Amazon VPC, Resolver is regional. In each region where you have VPCs, you can choose whether to forward queries from your VPCs
		to your network (outbound queries), from your network to your VPCs (inbound queries), or both.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>When you create a Resolver endpoint, you can't specify a VPC that has the instance tenancy attribute set to <code class="code">dedicated</code>.
				For more information, see
				<a href="#resolver-considerations-dedicated-instance-tenancy">Using Resolver in VPCs that are configured for dedicated instance tenancy</a>.</p></div></div><p>To use inbound or outbound forwarding, you create a Resolver endpoint in your VPC. As part of the definition of an endpoint, you specify
		the IP addresses that you want to forward inbound DNS queries to or the IP addresses that you want outbound queries to originate from.
		For each IP address that you specify, Resolver automatically creates a VPC elastic network interface.</p><p>The following diagram shows the path of a DNS query from a DNS resolver on your network to
		Route 53 Resolver endpoints.</p><div class="mediaobject">
		 
			<img src="/images/Route53/latest/DeveloperGuide/images/Resolver-inbound-endpoint.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;&#x9;&#x9;&#x9;Conceptual graphic that shows the path of a DNS query from a DNS resolver on&#xA;&#x9;&#x9;&#x9;&#x9;your network to Route 53 Resolver endpoints.&#xA;&#x9;&#x9;" style="max-width:100%" />
		 
		 
	</div><p>The following diagram shows the path of a DNS query from an EC2 instance in one of your VPCs to a DNS resolver on your network.</p><div class="mediaobject">
		 
			<img src="/images/Route53/latest/DeveloperGuide/images/Resolver-outbound-endpoint.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;&#x9;&#x9;    Conceptual graphic that shows the path of a DNS query from your network to Route 53 Resolver.&#xA;&#x9;&#x9;" style="max-width:100%" />
		 
		 
	</div><p>For an overview of VPC network interfaces, see
		<a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_ElasticNetworkInterfaces.html">Elastic network interfaces</a> in the
		<em>Amazon VPC User Guide</em>.</p><p><b>Topics</b></p><div class="itemizedlist">
			 
			 
			 
		<ul class="itemizedlist"><li class="listitem"><p><a href="#resolver-overview-forward-network-to-vpc">How DNS resolvers on your network
				forward DNS queries to Route 53 Resolver endpoints</a></p></li><li class="listitem"><p><a href="#resolver-overview-forward-vpc-to-network">How Route 53 Resolver endpoint forwards DNS
				queries from your VPCs to your network</a></p></li><li class="listitem"><p><a href="#resolver-choose-vpc">Considerations when creating inbound and outbound endpoints</a></p></li></ul></div>
		<h2 id="resolver-overview-forward-network-to-vpc">How DNS resolvers on your network
				forward DNS queries to Route 53 Resolver endpoints</h2>

		<p>When you want to forward DNS queries from your network to Route 53 Resolver endpoints in an AWS
			Region, you perform the following steps:</p>
		<div class="orderedlist">
			
			 
			
			 
		<ol><li><p>You create a Route 53 Resolver inbound endpoint in a VPC and specify the IP addresses that the resolvers on your network
				forward DNS queries to.</p>
				<p>For each IP address that you specify for the inbound endpoint, Resolver creates a VPC elastic network interface
					in the VPC where you created the inbound endpoint. </p>
			</li><li><p>You configure resolvers on your network to forward DNS queries for the applicable domain names to the IP addresses
				that you specified in the inbound endpoint. For more information, see
				<a href="#resolver-choose-vpc">Considerations when creating inbound and outbound endpoints</a>.</p></li></ol></div>

		<p>Here's how Resolver resolves DNS queries that originate on your network:</p>
		<div class="orderedlist">
			
			 
			
			 
			
			 
			
			 
			
			 
			
			 
			
			 
			
			 
		<ol><li><p>A web browser or another application on your network submits a DNS query for a domain name
				that you forwarded to Resolver.</p></li><li><p>A resolver on your network forwards the query to the IP addresses in your inbound endpoint.</p></li><li><p>The inbound endpoint forwards the query to Resolver.</p></li><li><p>Resolver gets the applicable value for the domain name in the DNS query, either internally or by
				performing a recursive lookup against public name servers.</p>
			</li><li><p>Resolver returns the value to the inbound endpoint.</p></li><li><p>The inbound endpoint returns the value to the resolver on your network.</p></li><li><p>The resolver on your network returns the value to the application.</p></li><li><p>Using the value that was returned by Resolver, the application submits an HTTP request, for example,
				a request for an object in an Amazon S3 bucket.</p></li></ol></div>

		<p>Creating an inbound endpoint doesn't change the behavior of Resolver, it just provides a path from a location
			outside the AWS network to Resolver.</p>

	 
		<h2 id="resolver-overview-forward-vpc-to-network">How Route 53 Resolver endpoint forwards DNS
				queries from your VPCs to your network</h2>
		<p>When you want to forward DNS queries from the EC2 instances in one or more VPCs in an AWS Region to your network, you perform
			the following steps.</p>
		<div class="orderedlist">
			
			 
			
			 
			
			 
		<ol><li><p>You create a Route 53 Resolver outbound endpoint in a VPC, and you specify several values:</p>
				<div class="itemizedlist">
					 
					 
					 
				<ul class="itemizedlist"><li class="listitem"><p>The VPC that you want DNS queries to pass through on the way to the resolvers on your network.
						</p></li><li class="listitem"><p>The IP addresses in your VPC that you want Resolver to forward DNS queries from.
						To hosts on your network, these are the IP addresses that the DNS queries originate from.</p></li><li class="listitem"><p>A <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html">VPC security group</a></p></li></ul></div>
				<p>For each IP address that you specify for the outbound endpoint, Resolver creates an Amazon VPC elastic network interface
					in the VPC that you specify. For more information, see
					<a href="#resolver-choose-vpc">Considerations when creating inbound and outbound endpoints</a>.</p>
			</li><li><p>You create one or more rules, which specify the domain names of the DNS queries that you want Resolver to
				forward to resolvers on your network. You also specify the IP addresses of the resolvers. For more information, see
				<a href="#resolver-overview-forward-vpc-to-network-using-rules">Using rules to control which queries are forwarded
					to your network</a>.</p>
			</li><li><p>You associate each rule with the VPCs for which you want to forward DNS queries to your network.</p>
			</li></ol></div>

		<div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#resolver-overview-forward-vpc-to-network-using-rules">Using rules to control which queries are forwarded
					to your network</a></li><li><a href="#resolver-overview-forward-vpc-to-network-domain-name-matches">How Resolver determines whether the domain name
					in a query matches any rules</a></li><li><a href="#resolver-overview-forward-vpc-to-network-where-to-forward-queries">How Resolver determines where to forward
					DNS queries</a></li><li><a href="#resolver-overview-forward-vpc-to-network-using-rules-multiple-regions">Using rules in multiple Regions</a></li><li><a href="#resolver-overview-forward-vpc-to-network-autodefined-rules">Domain names that Resolver creates autodefined system rules for</a></li></ul></div>

		

		 
			<h3 id="resolver-overview-forward-vpc-to-network-using-rules">Using rules to control which queries are forwarded
					to your network</h3>

			<p>Rules control which DNS queries Route 53 Resolver endpoint forwards to DNS resolvers on your
				network and which queries Resolver answers itself. </p>

			<p>You can categorize rules in a couple of ways. One way is by who creates the rules:</p>
			<div class="itemizedlist">
				 
				 
			<ul class="itemizedlist"><li class="listitem"><p><b>Autodefined rules</b> – Resolver automatically creates autodefined rules and
					associates the rules with your VPCs. Most of these rules apply to the AWS-specific domain names that Resolver answers queries for.
					For more information, see
					<a href="#resolver-overview-forward-vpc-to-network-autodefined-rules">Domain names that Resolver creates autodefined system rules for</a>.</p>
				</li><li class="listitem"><p><b>Custom rules</b> – You create custom rules and associate the rules with
					VPCs. Currently, you can create only one type of custom rule, conditional forwarding rules, also known as forwarding rules.
					Forwarding rules cause Resolver to forward DNS queries from your VPCs to the IP addresses for DNS resolvers on your network.</p>
					<p>If you create a forwarding rule for the same domain as an autodefined rule, Resolver forwards queries for that domain name
						to DNS resolvers on your network based on the settings in the forwarding rule.</p>
				</li></ul></div>

			<p>Another way to categorize rules is by what they do:</p>
			<div class="itemizedlist">
				 
				 
				 
			<ul class="itemizedlist"><li class="listitem"><p><b>Conditional forwarding rules</b> – You create conditional forwarding rules
					(also known as forwarding rules) when you want to forward DNS queries for specified domain names to DNS resolvers
					on your network.</p></li><li class="listitem"><p><b>System rules</b> – System rules cause Resolver to selectively override the behavior
					that is defined in a forwarding rule. When you create a system rule, Resolver resolves DNS queries for specified subdomains
					that would otherwise be resolved by DNS resolvers on your network.</p>
					<p>By default, forwarding rules apply to a domain name and all its subdomains. If you want to forward queries for a domain
						to a resolver on your network but you don't want to forward queries for some subdomains, you create a system rule for the subdomains.
						For example, if you create a forwarding rule for example.com but you don't want to forward queries for acme.example.com, you create a
						system rule and specify acme.example.com for the domain name.</p>
				</li><li class="listitem"><p><b>Recursive rule</b> – Resolver automatically creates a recursive rule named
					<b>Internet Resolver</b>. This rule causes Route 53 Resolver to act as a recursive resolver for any domain names
					that you didn't create custom rules for and that Resolver didn't create autodefined rules for. For information about how to
					override this behavior, see "Forwarding All Queries to Your Network" later in this topic.</p>
					
				</li></ul></div>

			<p>You can create custom rules that apply to specific domain names (yours or most AWS domain names), to public AWS domains names, or
				to all domain names. </p>

			<div class="variablelist">
				 
				 
				 
			<dl>
					<dt><b><span class="term">Forwarding queries for specific domain names to your network</span></b></dt>
					<dd><p>To forward queries for a specific domain name, such as example.com, to your network, you create a rule and
						specify that domain name. You also specify the IP addresses of the DNS resolvers on your network that you want to forward
						the queries to. You then associate each rule with the VPCs for which you want to forward DNS queries to your network.
						For example, you can create separate rules for example.com, example.org, and example.net. Then you can associate the rules
						with the VPCs in an AWS Region in any combination.</p></dd>
				
					<dt><b><span class="term">Forwarding queries for amazonaws.com to your network</span></b></dt>
					<dd><p>The domain name amazonaws.com is the public domain name for AWS resources such as EC2 instances and S3 buckets.
						If you want to forward queries for amazonaws.com to your network, create a rule, specify amazonaws.com for the domain name,
						and specify <b>Forward</b> for the rule type.</p>
						<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Resolver doesn't automatically forward DNS queries for some amazonaws.com subdomains even if you create a
							forwarding rule for amazonaws.com. For more information, see
							<a href="#resolver-overview-forward-vpc-to-network-autodefined-rules">Domain names that Resolver creates autodefined system rules for</a>. For information about how to override
							this behavior, see "Forwarding All Queries to Your Network," immediately following.</p></div></div>
					</dd>
				
					<dt><b><span class="term">Forwarding all queries to your network</span></b></dt>
					<dd><p></p>
						<p>If you want to forward all queries to your network, you create a rule, specify "." (dot) for the domain name,
							and associate the rule with the VPCs for which you want to forward all DNS queries to your network.
							Resolver still doesn't forward all DNS queries to your network because using a DNS resolver outside of AWS would break
							some functionality. For example, some internal AWS domain names have internal IP address ranges that aren't accessible
							from outside of AWS. For a list of the domain names for which queries aren't forwarded to your network when you
							create a rule for ".", see
							<a href="#resolver-overview-forward-vpc-to-network-autodefined-rules">Domain names that Resolver creates autodefined system rules for</a>.</p>
						<p>However, autodefined system rules for reverse DNS can be disabled, allowing the "." rule to forward all reverse DNS queries to your network.
							For more information on how to turn off the autodefined rules, see <a href="./resolver-automatic-forwarding-rules-reverse-dns.html">Forwarding rules for
					reverse DNS queries in Resolver</a>.</p>

						<p>If you want to try forwarding DNS queries for all domain names to your network, including the domain names
							that are excluded from forwarding by default, you can create a "." rule and do one of the following:</p>
							<div class="itemizedlist">
								 
								 
							<ul class="itemizedlist"><li class="listitem"><p>Set the <code class="code">enableDnsHostnames</code> flag for the VPC to <code class="code">false</code></p></li><li class="listitem"><p>Create rules for the domain names that are listed in
									<a href="#resolver-overview-forward-vpc-to-network-autodefined-rules">Domain names that Resolver creates autodefined system rules for</a></p></li></ul></div>

						<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you forward all domain names to your network, including the domain names that Resolver excludes when you create
								a "." rule, some features might stop working.</p></div></div>

					</dd>
				</dl></div>
		 

		

		 
			<h3 id="resolver-overview-forward-vpc-to-network-domain-name-matches">How Resolver determines whether the domain name
					in a query matches any rules</h3>
			<p>Route 53 Resolver compares the domain name in the DNS query with the domain name in the rules that are associated with the
				VPC that the query originated from. Resolver considers the domain names to match in the following cases:</p>
				<div class="itemizedlist">
					 
					 
				<ul class="itemizedlist"><li class="listitem"><p>The domain names match exactly</p></li><li class="listitem"><p>The domain name in the query is a subdomain of the domain name in the rule</p></li></ul></div>

			<p>For example, if the domain name in the rule is acme.example.com, Resolver considers the following domain names in a
				DNS query to be a match:</p>
				<div class="itemizedlist">
					 
					 
				<ul class="itemizedlist"><li class="listitem"><p>acme.example.com</p></li><li class="listitem"><p>zenith.acme.example.com</p></li></ul></div>

			<p>The following domain names are not a match:</p>
				<div class="itemizedlist">
					 
					 
				<ul class="itemizedlist"><li class="listitem"><p>example.com</p></li><li class="listitem"><p>nadir.example.com</p></li></ul></div>

			<p>If the domain name in a query matches the domain name in more than one rule (such as example.com and www.example.com),
				Resolver routes outbound DNS queries using the rule that contains the most specific domain name (www.example.com).</p>

		 

		

		 
			<h3 id="resolver-overview-forward-vpc-to-network-where-to-forward-queries">How Resolver determines where to forward
					DNS queries</h3>

			<p>When an application that runs on an EC2 instance in a VPC submits a DNS query, Route 53 Resolver performs the following steps:</p>

			<div class="orderedlist">
				
				 
				
				 
				
				 
			<ol><li><p>Resolver checks for domain names in rules.</p>
					<p>If the domain name in a query matches the domain name in a rule, Resolver forwards the query to the IP address
						that you specified when you created the outbound endpoint. The outbound endpoint then forwards the query to the
						IP addresses of resolvers on your network, which you specified when you created the rule.</p>
					<p>For more information, see
						<a href="#resolver-overview-forward-vpc-to-network-domain-name-matches">How Resolver determines whether the domain name
					in a query matches any rules</a>.
					</p>
				</li><li><p>Resolver endpoint forwards DNS queries based on the settings in the "." rule.</p>
					<p>If the domain name in a query doesn't match the domain name in any other rules, Resolver forwards the query based on
						the settings in the autodefined "." (dot) rule. The dot rule applies to all domain names except some AWS internal domain names and
						record names in private hosted zones. This rule causes Resolver to forward DNS queries to public name servers if the
						domain names in queries don't match any names in your custom forwarding rules. If you want to forward all queries to the
						DNS resolvers on your network, you can create a custom forwarding rule, specify "." for the domain name, specify
						<b>Forwarding</b> for <b>Type</b>, and specify the IP addresses of those resolvers. </p>
				</li><li><p>Resolver returns the response to the application that submitted the query.</p></li></ol></div>
		 

		

		 
			<h3 id="resolver-overview-forward-vpc-to-network-using-rules-multiple-regions">Using rules in multiple Regions</h3>
			<p>Route 53 Resolver is a regional service, so objects that you create in one AWS Region are available only in that Region.
				To use the same rule in more than one Region, you must create the rule in each Region.</p>
			<p>The AWS account that created a rule can share the rule with other AWS accounts. For more information, see
				<a href="./resolver-rules-managing.html#resolver-rules-managing-sharing">Sharing forwarding rules with other AWS accounts and using shared rules</a>.</p>

		 

		

		 
			<h3 id="resolver-overview-forward-vpc-to-network-autodefined-rules">Domain names that Resolver creates autodefined system rules for</h3>

			<p>Resolver automatically creates autodefined system rules that define how queries for selected domains are resolved by default:</p>
			<div class="itemizedlist">
				 
				 
			<ul class="itemizedlist"><li class="listitem"><p>For private hosted zones and for Amazon EC2–specific domain names (such as compute.amazonaws.com and
					compute.internal), autodefined rules ensure that your private hosted zones and EC2 instances continue to resolve
					if you create conditional forwarding rules for less specific domain names such as "." (dot) or "com".</p></li><li class="listitem"><p>For publicly reserved domain names (such as localhost and 10.in-addr.arpa), DNS best practices recommend
					that queries are answered locally instead of being forwarded to public name servers. See
					<a href="https://tools.ietf.org/html/rfc6303" rel="noopener noreferrer" target="_blank"><span>RFC 6303, Locally Served DNS Zones</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li></ul></div>

			<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you create a conditional forwarding rule for "." (dot) or "com", we recommend that you also create a system rule
					for amazonaws.com. (System rules cause Resolver to locally resolve DNS queries for specific domains and subdomains.)
					Creating this system rule improves performance, reduces the number of queries that are forwarded to your network,
					and reduces Resolver charges.</p></div></div>

			<p>If you want to override an autodefined rule, you can create a conditional forwarding rule for the same domain name. </p>
			<p>You can also disable the autodefined rules. For more information, see <a href="./resolver-automatic-forwarding-rules-reverse-dns.html">Forwarding rules for
					reverse DNS queries in Resolver</a>. </p>

			<p>Resolver creates the following autodefined rules.</p>

			<div class="variablelist">
				 
				 
				 
			<dl>
					<dt><b><span class="term">Rules for private hosted zones</span></b></dt>
					<dd><p>For each private hosted zone that you associate with a VPC, Resolver creates a rule and associates it with
						the VPC. If you associate the private hosted zone with multiple VPCs, Resolver associates the rule with the same VPCs.</p>
						<p>The rule has a type of <b>Forward</b>.</p>
					</dd>
				
					<dt><b><span class="term">Rules for various AWS internal domain names</span></b></dt>
					<dd>
						<p>All rules for the internal domain names in this section have a type of <b>Forward</b>. Resolver
							forwards DNS queries for these domain names to the authoritative name servers for the VPC.</p>
						<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Resolver creates most of these rules when you set the <code class="code">enableDnsHostnames</code> flag for a VPC to <code class="code">true</code>.
								Resolver creates the rules even if you aren't using Resolver endpoints.</p></div></div>

						<p>Resolver creates the following autodefined rules and associates them with a VPC when you set the <code class="code">enableDnsHostnames</code> flag
							for the VPC to <code class="code">true</code>: </p>
						<div class="itemizedlist">
							 
							 
							 
							 
							 
						<ul class="itemizedlist"><li class="listitem"><p><code class="replaceable">Region-name</code>.compute.internal, for example, eu-west-1.compute.internal.
								The us-east-1 Region doesn't use this domain name.</p></li><li class="listitem"><p><code class="replaceable">Region-name</code>.compute.<code class="replaceable">amazon-domain-name</code>, for example,
								eu-west-1.compute.amazonaws.com or cn-north-1.compute.amazonaws.com.cn.
								The us-east-1 Region doesn't use this domain name.</p></li><li class="listitem"><p>ec2.internal. Only the us-east-1 Region uses this domain name.</p></li><li class="listitem"><p>compute-1.internal. Only the us-east-1 Region uses this domain name.</p></li><li class="listitem"><p>compute-1.amazonaws.com. Only the us-east-1 Region uses this domain name.</p></li></ul></div>

						<p>The following autodefined rules are for the reverse DNS lookup for the rules that Resolver creates when you set the
							<code class="code">enableDnsHostnames</code> flag for the VPC to <code class="code">true</code>.</p>
						<div class="itemizedlist">
							 
							 
							 
							 
							 
						<ul class="itemizedlist"><li class="listitem"><p>10.in-addr.arpa</p></li><li class="listitem"><p>16.172.in-addr.arpa through 31.172.in-addr.arpa </p></li><li class="listitem"><p>168.192.in-addr.arpa</p></li><li class="listitem"><p>254.169.254.169.in-addr.arpa</p></li><li class="listitem"><p>Rules for each of the CIDR ranges for the VPC. For example, if a VPC that has a CIDR range of
								10.0.0.0/23, Resolver creates the following rules: </p>
								<div class="itemizedlist">
									 
									 
								<ul class="itemizedlist"><li class="listitem"><p>0.0.10.in-addr.arpa</p></li><li class="listitem"><p>1.0.10.in-addr.arpa</p></li></ul></div>

							</li></ul></div>

						<p>The following autodefined rules, for localhost-related domains, also are created and associated with a VPC when you
							set the <code class="code">enableDnsHostnames</code> flag for the VPC to <code class="code">true</code>:</p>
						<div class="itemizedlist">
							 
							 
							 
							 
							 
						<ul class="itemizedlist"><li class="listitem"><p>localhost</p></li><li class="listitem"><p>localdomain</p></li><li class="listitem"><p>127.in-addr.arpa</p></li><li class="listitem"><p>1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa</p></li><li class="listitem"><p>0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa</p></li></ul></div>

						<p>Resolver creates the following autodefined rules and associates them with your VPC when
							you connect the VPC with another VPC through transit gateway or VPC
							peering, and with DNS support enabled:</p>
						<div class="itemizedlist">
							 
							 
						<ul class="itemizedlist"><li class="listitem"><p>The reverse DNS lookup for the peer VPC's IP address ranges, for example, 0.192.in-addr.arpa</p>
								<p>If you add an IPv4 CIDR block to a VPC, Resolver adds an autodefined rule for the new IP address range.</p>
							</li><li class="listitem"><p>If the other VPC is in another Region, the following domain names:</p>
								<div class="itemizedlist">
									 
									 
									 
									 
								<ul class="itemizedlist"><li class="listitem"><p><code class="replaceable">Region-name</code>.compute.internal.
										The us-east-1 Region doesn't use this domain name.</p></li><li class="listitem"><p><code class="replaceable">Region-name</code>.compute.<code class="replaceable">amazon-domain-name</code>.
										The us-east-1 Region doesn't use this domain name.</p></li><li class="listitem"><p>ec2.internal. Only the us-east-1 Region uses this domain name.</p></li><li class="listitem"><p>compute-1.amazonaws.com. Only the us-east-1 Region uses this domain name.</p></li></ul></div>
							</li></ul></div>
					</dd>
				
					<dt><b><span class="term">A rule for all other domains</span></b></dt>
					<dd><p>Resolver creates a "." (dot) rule that applies to all domain names that aren't specified earlier in this topic.
						The "." rule has a type of <b>Recursive</b>, which means that the rule causes Resolver to act as a recursive resolver.</p>
					</dd>
				</dl></div>

		 

	 
		<h2 id="resolver-choose-vpc">Considerations when creating inbound and outbound endpoints</h2>

		<p>Before you create inbound and outbound Resolver endpoints in an AWS Region, consider the following issues.</p>

		<p><b>Topics</b></p>
		<div class="itemizedlist">
			 
			 
			 
			 
			 
			 
			 
			 
		<ul class="itemizedlist"><li class="listitem"><p><a href="#resolver-considerations-number-of-endpoints">Number of inbound and outbound endpoints in each Region</a></p></li><li class="listitem"><p><a href="#resolver-considerations-same-vpc-inbound-outbound">Using the same VPC for inbound and outbound endpoints</a></p></li><li class="listitem"><p><a href="#resolver-considerations-inbound-endpoint-private-zone">Inbound endpoints and private hosted zones</a></p></li><li class="listitem"><p><a href="#resolver-considerations-vpc-peering">VPC peering</a></p></li><li class="listitem"><p><a href="#resolver-considerations-shared-subnets">IP addresses in shared subnets</a></p></li><li class="listitem"><p><a href="#resolver-considerations-connection-between-network-and-vpcs">Connection between your network and the VPCs that you create endpoints in</a></p></li><li class="listitem"><p><a href="#resolver-considerations-share-rules-share-outbound-endpoints">When you share rules, you also share outbound endpoints</a></p></li><li class="listitem"><p><a href="#resolver-considerations-dedicated-instance-tenancy">Using Resolver in VPCs that are configured for dedicated instance tenancy</a></p></li></ul></div>

		<div class="variablelist">
			 
			 
			 
			 
			 
			 
			 
			 
		<dl>
				<dt><b><span class="term"><a id="resolver-considerations-number-of-endpoints"></a>Number of inbound and outbound endpoints in each AWS Region</span></b></dt>
				<dd>
					<p>When you want to integrate DNS for the VPCs in an AWS Region with DNS for
						your network, you typically need one Resolver inbound endpoint (for DNS
						queries that you're forwarding to your VPCs) and one outbound endpoint (for
						queries that you're forwarding from your VPCs to your network). You can
						create multiple inbound endpoints and multiple outbound endpoints, but one
						inbound or outbound endpoint is sufficient to handle the DNS queries for each respective direction. Note
						the following:</p>
					<div class="itemizedlist">
						 
						 
						 
					<ul class="itemizedlist"><li class="listitem">
							<p>For each Resolver endpoint, you specify two or more IP addresses in
								different Availability Zones. Each IP address in an endpoint can
								handle a large number of DNS queries per second. (For the current
								maximum number of queries per second per IP address in an endpoint,
								see <a href="./DNSLimitations.html#limits-api-entities-resolver">Quotas on Route 53 Resolver</a>.) If you need
								Resolver to handle more queries, you can add more IP addresses to your
								existing endpoint instead of adding another endpoint.</p>
						</li><li class="listitem">
							<p>Resolver pricing is based on the number of IP addresses in your
								endpoints and on the number of DNS queries that the endpoint
								processes. Each endpoint includes a minimum of two IP addresses. For
								more information about Resolver pricing, see <a href="https://aws.amazon.com/route53/pricing/" rel="noopener noreferrer" target="_blank"><span>Amazon Route 53
								Pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
						</li><li class="listitem">
							<p>Each rule specifies the outbound endpoint that DNS queries are
								forwarded from. If you create multiple outbound endpoints in an AWS
								Region and you want to associate some or all Resolver rules with every
								VPC, you need to create multiple copies of those rules.</p>
						</li></ul></div>
				</dd>
			
				<dt><b><span class="term"><a id="resolver-considerations-same-vpc-inbound-outbound"></a>Using the
					same VPC for inbound and outbound endpoints</span></b></dt>
				<dd>
					<p>You can create inbound and outbound endpoints in the same VPC or in
						different VPCs in the same Region.</p>
					<p>For more information, see <a href="./best-practices.html">Best practices for Amazon Route 53</a>. </p>
				</dd>
			
				<dt><b><span class="term"><a id="resolver-considerations-inbound-endpoint-private-zone"></a>Inbound endpoints
					and private hosted zones</span></b></dt>
				<dd>
					<p>If you want Resolver to resolve inbound DNS queries using records in a
						private hosted zone, associate the private hosted zone with the VPC that you
						created the inbound endpoint in. For information about associating private
						hosted zones with VPCs, see <a href="./hosted-zones-private.html">Working with private hosted zones</a>.</p>
				</dd>
			
				<dt><b><span class="term"><a id="resolver-considerations-vpc-peering"></a>VPC
					peering</span></b></dt>
				<dd>
					<p>You can use any VPC in an AWS Region for an inbound or an outbound
						endpoint regardless of whether the VPC that you choose is peered with other
						VPCs. For more information, see <a href="https://docs.aws.amazon.com/vpc/latest/peering/what-is-vpc-peering.html">Amazon Virtual Private
							Cloud VPC peering</a>.</p>
				</dd>
			
				<dt><b><span class="term"><a id="resolver-considerations-shared-subnets"></a>IP addresses in shared
					subnets</span></b></dt>
				<dd>
					<p>When you create an inbound or outbound endpoint, you can specify an IP
						address in a shared subnet only if the current account created the VPC. If
						another account creates a VPC and shares a subnet in the VPC with your
						account, you can't specify an IP address in that subnet. For more
						information about shared subnets, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-sharing.html">Working with shared VPCs</a> in
						the <em>Amazon VPC User Guide</em>.</p>
				</dd>
			
				<dt><b><span class="term"><a id="resolver-considerations-connection-between-network-and-vpcs"></a>Connection between your network and the VPCs that you create endpoints
					in</span></b></dt>
				<dd>
					<p>You must have one of the following connections between your network and
						the VPCs that you create endpoints in:</p>
					<div class="itemizedlist">
						 
						 
					<ul class="itemizedlist"><li class="listitem">
							<p><b>Inbound endpoints</b> – You
								must set up either an <a href="https://docs.aws.amazon.com/directconnect/latest/UserGuide/Welcome.html">AWS Direct Connect</a> connection or a <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpn-connections.html">VPN connection</a>
								between your network and each VPC that you create an inbound
								endpoint for.</p>
						</li><li class="listitem">
							<p><b>Outbound endpoints</b> – You
								must set up an <a href="https://docs.aws.amazon.com/directconnect/latest/UserGuide/Welcome.html">AWS Direct Connect</a> connection, a <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpn-connections.html">VPN connection</a>,
								or a <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html">network address
									translation (NAT) gateway</a> between your network and each
								VPC that you create an outbound endpoint for.</p>
						</li></ul></div>
				</dd>
			
				<dt><b><span class="term"><a id="resolver-considerations-share-rules-share-outbound-endpoints"></a>When
					you share rules, you also share outbound endpoints</span></b></dt>
				<dd>
					<p>When you create a rule, you specify the outbound endpoint that you want
						Resolver to use to forward DNS queries to your network. If you share the rule
						with another AWS account, you also indirectly share the outbound endpoint
						that you specify in the rule. If you used more than one AWS account to
						create VPCs in an AWS Region, you can do the following:</p>
					<div class="itemizedlist">
						 
						 
						 
					<ul class="itemizedlist"><li class="listitem">
							<p>Create one outbound endpoint in the Region.</p>
						</li><li class="listitem">
							<p>Create rules using one AWS account.</p>
						</li><li class="listitem">
							<p>Share the rules with all the AWS accounts that created VPCs in the
								Region.</p>
						</li></ul></div>
					<p>This allows you to use one outbound endpoint in a Region to forward DNS
						queries to your network from multiple VPCs even if the VPCs were created
						using different AWS accounts.</p>
				</dd>
			
				<dt><b><span class="term"><a id="resolver-considerations-dedicated-instance-tenancy"></a>Using Resolver in VPCs that are configured for dedicated instance tenancy</span></b></dt>
				<dd>
					<p>When you create a Resolver endpoint, you can't specify a VPC that has the
							<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/dedicated-instance.html">instance tenancy
							attribute</a> set to <code class="code">dedicated</code>. Resolver doesn't run on
						single-tenant hardware.</p>
					<p>You can still use Resolver to resolve DNS queries that originate in a VPC.
						Create at least one VPC that has the instance tenancy attribute set to
							<code class="code">default</code>, and specify that VPC when you create inbound and
						outbound endpoints.</p>
					<p>When you create a forwarding rule, you can associate it with any VPC,
						regardless of the setting for the instance tenancy attribute.</p>
				</dd>
			</dl></div>

	<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./resolver.html">What is Route 53 Resolver?</div><div id="next" class="next-link" accesskey="n" href="./resolver-getting-started.html">Getting started with Route 53 Resolver</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Route53&amp;topic_url=https://docs.aws.amazon.com/en_us/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Route53&amp;topic_url=https://docs.aws.amazon.com/en_us/Route53/latest/DeveloperGuide/resolver-overview-DSN-queries-to-vpc.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>