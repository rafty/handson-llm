<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Suggestions de requête - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="query-suggestions" /><meta name="default_state" content="query-suggestions" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" /><meta name="description" content="Comment suggérer des requêtes populaires dansAmazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Guide du développeur" /><meta name="abstract" content="Propose une présentation conceptuelle de Amazon Kendra. Découvrez lesAmazon Kendra fonctionnalités et commencez à indexer vos documents à l'aide de la console, de l'interface de ligne de commande et de l'API." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/query-suggestions.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/query-suggestions.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/query-suggestions.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/query-suggestions.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/query-suggestions.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/query-suggestions.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/query-suggestions.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/query-suggestions.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/query-suggestions.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/query-suggestions.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/query-suggestions.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/query-suggestions.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/query-suggestions.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/query-suggestions.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Guide du développeur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Guide du développeur" /><meta id="panorama-serviceConsolePage" value="Suggestions de requête" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Suggestions de requête - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#query-suggestions" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,recherche intelligente,langage naturel,index,question,mot-clé,source de données,connector,FAQ,question fréquemment posée,query,suggestions de requête,saisie semi-automatique,taper à l'avance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide du développeur",
        "item" : "https://docs.aws.amazon.com/fr_fr/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Recherche dans les index",
        "item" : "https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Suggestions de requête",
        "item" : "https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#query-suggestions" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Guide du développeur</a></div><div id="page-toc-src"><a href="#suggestions-settings">Paramètres des suggestions de requête</a><a href="#suggestions-block-list">Bloquer certaines requêtes parmi les suggestions</a><a href="#clear-suggestions">Suggestions claires</a><a href="#no-suggestions">Aucune suggestion</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Les traductions sont fournies par des outils de traduction automatique. En cas de conflit entre le contenu d'une traduction et celui de la version originale en anglais, la version anglaise prévaudra.</p></awsui-alert><h1 class="topictitle" id="query-suggestions">Suggestions de requête</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon KendraLes <em>suggestions de requêtes</em> peuvent aider vos utilisateurs à saisir leurs requêtes de recherche plus rapidement et à orienter leur recherche.</p><p>Amazon Kendrasuggère des requêtes pertinentes pour vos utilisateurs en fonction des requêtes populaires dans l'historique des requêtes ou le journal des requêtes. Amazon Kendrautilise toutes les requêtes recherchées par vos utilisateurs et apprend de ces requêtes pour faire des suggestions à vos utilisateurs. Amazon Kendrasuggère des requêtes populaires aux utilisateurs lorsqu'ils commencent à saisir leur requête. Amazon Kendrasuggère une requête si le préfixe ou les premiers caractères de la requête correspondent à ce que l'utilisateur commence à saisir comme requête.</p><p>Par exemple, un utilisateur commence à saisir la requête « événements à venir ». Amazon Kendraa appris, grâce au journal des requêtes, que de nombreux utilisateurs ont recherché à de nombreuses reprises les « événements à venir en 2050 ». L'utilisateur voit apparaître les « événements à venir en 2050 » directement sous sa barre de recherche, complétant automatiquement sa requête de recherche. L'utilisateur sélectionne cette suggestion de requête en choisissant le premier résultat de recherche, qui est le document « Événements à venir : ce qui se passe en 2050 ».</p><p>Vous pouvez spécifier commentAmazon Kendra sélectionner les requêtes éligibles à suggérer à vos utilisateurs. Par exemple, vous pouvez spécifier qu'une suggestion de requête doit avoir été recherchée par au moins 10 utilisateurs uniques (3 par défaut), avoir été recherchée au cours des 30 derniers jours et ne contenir aucun mot ou expression de votre <a href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions#suggestions-block-list">liste de blocage</a>. Amazon Kendranécessite qu'une requête ait au moins un résultat de recherche et qu'elle contienne au moins un mot de plus de quatre caractères.</p><p>Les suggestions de requête ne sont pas sensibles à la casse. Amazon Kendraconvertit le préfixe de la requête et la requête suggérée en minuscules, ignore tous les guillemets simples et doubles et remplace plusieurs espaces blancs par un seul espace. Amazon Kendracorrespond à tous les autres caractères spéciaux tels quels. Amazon Kendran'affiche aucune suggestion si l'utilisateur saisit moins de deux caractères ou plus de 60 caractères.</p><p>Vous pouvez récupérer des suggestions de requêtes pertinentes pour vos utilisateurs à l'aide de l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_GetQuerySuggestions.html">GetQuerySuggestions</a>API. Les suggestions de requête sont activées par défaut sans frais supplémentaires. Vous pouvez désactiver les suggestions de requête à tout moment à l'aide de l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateQuerySuggestionsConfig.html">UpdateQuerySuggestionsConfig</a>API. Vous pouvez tester vos paramètres avant d'appliquer des suggestions à votre application de recherche de deux manières :</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>En utilisant l'<code class="code">UpdateQuerySuggestionsConfig</code>API.</p>
            </li><li class="listitem">
                <p>Dans la console, dans les <b>paramètres des suggestions de requêtes</b>.</p>
            </li></ul></div><p>Vous utilisez l'<code class="code">GetQuerySuggestions</code>API pour intégrer des suggestions de requêtes à votre application de console afin que vos utilisateurs puissent commencer à voir les suggestions.</p>
            <h2 id="suggestions-settings">Paramètres des suggestions de requête</h2>
            <p>Vous pouvez configurer les paramètres suivants à l'aide de l'<code class="code">UpdateQuerySuggestionsConfig</code>API :</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Mode</b> : les suggestions de requêtes sont soit,<code class="code">ENABLED</code> soit<code class="code">LEARN_ONLY</code>. Amazon Kendraactive les suggestions de requêtes par défaut. <code class="code">LEARN_ONLY</code>désactive les suggestions de requêtes. Si cette option est désactivée,Amazon Kendra elle continue à lire les suggestions, mais ne propose pas de requêtes aux utilisateurs.</p>
                </li><li class="listitem">
                    <p><b>Fenêtre du journal des requêtes : quelle est la date</b> de récente de vos requêtes dans la fenêtre du journal des requêtes. La fenêtre horaire est une valeur entière correspondant au nombre de jours compris entre le jour en cours et les jours précédents.</p>
                </li><li class="listitem">
                    <p><b>Requêtes sans informations utilisateur</b> : définissez cette option<code class="code">TRUE</code> pour inclure toutes les requêtes ou définie<code class="code">FALSE</code> pour inclure uniquement les requêtes contenant des informations sur l'utilisateur. Vous pouvez l'utiliser si votre application de recherche inclut des informations utilisateur, telles que le nom d'utilisateur, lorsqu'un utilisateur émet une requête. Par défaut, ce paramètre ne filtre pas les requêtes si aucune information utilisateur spécifique n'est associée aux requêtes. Toutefois, vous pouvez utiliser ce paramètre pour faire des suggestions uniquement en fonction de requêtes qui incluent des informations utilisateur.</p>
                </li><li class="listitem">
                    <p><b>Utilisateurs uniques</b> : nombre minimum d'utilisateurs uniques qui doivent rechercher une requête pour pouvoir la suggérer à vos utilisateurs. Ce nombre est une valeur entière.</p>
                </li><li class="listitem">
                    <p><b>Nombre de requêtes</b> : le nombre minimum de fois qu'une requête doit être recherchée pour pouvoir être suggérée à vos utilisateurs. Ce nombre est une valeur entière.</p>
                </li></ul></div>
            <p>Ces paramètres influent sur la manière dont les requêtes sont sélectionnées comme requêtes populaires à suggérer à vos utilisateurs. La façon dont vous réglez vos paramètres dépendra de vos besoins spécifiques, par exemple :</p>
            <p></p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Si vos utilisateurs effectuent généralement des recherches une fois par mois en moyenne, vous pouvez définir le nombre de jours dans la fenêtre du journal des requêtes sur 30, afin de capturer la plupart des requêtes récentes de vos utilisateurs avant qu'elles ne deviennent obsolètes dans la fenêtre temporelle. </p>
                </li><li class="listitem">
                    <p>Si seul un petit nombre de vos requêtes incluent des informations sur les utilisateurs et que vous ne souhaitez pas suggérer de requêtes basées sur un échantillon de petite taille, vous pouvez définir des requêtes pour inclure tous les utilisateurs.</p>
                </li><li class="listitem">
                    <p>Si vous définissez les requêtes populaires comme étant recherchées par au moins 10 utilisateurs uniques et recherchées au moins 100 fois, vous définissez le nombre d'utilisateurs uniques sur 10 et le nombre de requêtes sur 100.</p>
                </li></ul></div>
            <p>Les modifications que vous avez apportées aux paramètres peuvent ne pas prendre effet immédiatement. Vous pouvez suivre les modifications des paramètres à l'aide de l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DescribeQuerySuggestionsConfig.html">DescribeQuerySuggestionsConfig</a>API. Le délai d'entrée en vigueur de vos paramètres mis à jour dépend des mises à jour que vous effectuez et du nombre de requêtes de recherche dans votre index.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Console</dt><dd tab-id="console">
                        
                        <div class="procedure"><h6>Pour vérifier que les suggestions de requêtes sont activées et prêtes</h6><ol><li>
                                <p><b>Dans le volet de navigation de gauche, sous Index, accédez à votre index, puis pour <b>Enrichissements</b>, sélectionnez <b>Suggestions de requêtes</b>.</b></p>
                            </li><li>
                                <p>Sur la page <b>Suggestions</b> de <b>requêtes, accédez aux paramètres des suggestions</b> de requêtes et procédez comme suit :</p>
                                <ol><li>
                                        <p>Vérifiez que <b>le statut</b> est <b>activé</b>.</p>
                                    </li><li>
                                        <p>Vérifiez que le nombre de <b>requêtes prêtes à recevoir des suggestions</b> est supérieur à 0.</p>
                                    </li></ol>
                            </li></ol></div>
                        <div class="procedure"><h6>Pour modifier les paramètres des suggestions de requêtes</h6><ol><li>
                                <p><b>Dans le volet de navigation de gauche, sous Index, accédez à votre index, puis pour <b>Enrichissements</b>, sélectionnez <b>Suggestions de requêtes</b>.</b></p>
                            </li><li>
                                <p>Sur la page <b>Suggestions</b> de <b>requêtes, accédez aux paramètres des suggestions</b> de requêtes et choisissez <b>Modifier</b>.</p>
                            </li></ol></div>
                        <div class="procedure"><h6>Pour effacer les suggestions</h6><ol><li>
                                <p><b>Dans le volet de navigation de gauche, sous Index, accédez à votre index, puis pour <b>Enrichissements</b>, sélectionnez <b>Suggestions de requêtes</b>.</b></p>
                            </li><li>
                                <p>Sur la page <b>Suggestions de requêtes</b>, accédez aux <b>paramètres des suggestions de requêtes</b>, puis dans <b>Actions</b>, choisissez <b>Effacer les suggestions</b>.</p>
                            </li></ol></div>
                    </dd>
                <dt>CLI</dt><dd tab-id="cli">
                        <p><b>Pour récupérer des suggestions de requêtes</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra get-query-suggestions \
--index-id <code class="replaceable">index-id</code> \
--query-text <code class="replaceable">"query-text"</code> \
--max-suggestions-count 1 // If you want to limit the number of suggestions.
</code></pre>
                        <p><b>Pour mettre à jour les suggestions de requêtes</b></p>
                        <p>Par exemple, pour modifier la fenêtre horaire du journal des requêtes et le nombre minimum de fois qu'une requête doit être recherchée :</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra update-query-suggestions-config \
--index-id <code class="replaceable">index-id</code> \
--query-log-look-back-window-in-days 30 \
--minimum-query-count 100</code></pre>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Le délai d'entrée en vigueur de vos paramètres mis à jour dépend des mises à jour que vous effectuez et du nombre de requêtes de recherche dans votre index.</p></div></div>
                        <p><b>Pour effacer les suggestions</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws  kendra clear-query-suggestions \
--index-id <code class="replaceable">index-id</code> \</code></pre>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon Kendraapprend les nouvelles suggestions en fonction des nouvelles requêtes ajoutées au journal des requêtes depuis la dernière fois que vous avez effacé les suggestions.</p></div></div>
                    </dd>
                <dt>Python</dt><dd tab-id="python">
                        <p><b>Pour récupérer des suggestions de requêtes</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Get query suggestions.")

# Provide the index ID
index_id = "index-id"

# Provide the query text
query_text = "query"

try:
    query_suggestions_response = kendra.get_query_suggestions(
        IndexId = index_id,
        QueryText = query_text,
        MaxSuggestionsCount = 5
    )

    # Print out the suggestions you received
    if ("Suggestions" in query_suggestions_response.keys()) <span>{</span>
        for (suggestion: query_suggestions_response["Suggestions"]) <span>{</span>
            print(suggestion["Value"]["Text"]["Text"]);
        }
    }
   
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Pour mettre à jour les suggestions de requêtes</b>,</p>
                        <p>Par exemple, pour modifier la fenêtre horaire du journal des requêtes et le nombre minimum de fois qu'une requête doit être recherchée :</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError
import pprint
import time

kendra = boto3.client("kendra")

print("Updating query suggestions settings/configuration for an index.")

# Provide the index ID
index_id = "index-id"

# Configure the settings you want to update
query_log_look_back_window_in_days = 30
minimum_query_count = 100

try:
    kendra.update_query_suggestions_config(
        IndexId = index_id,
        QueryLogLookBackWindowInDays = query_log_look_back_window_in_days,
        MinimumQueryCount = minimum_query_count
    )

    print("Wait for Amazon Kendra to update the query suggestions.")

    while True:
        # Get query suggestions description of settings/configuration
        query_sugg_config_response = kendra.describe_query_suggestions_config(
            IndexId = index_id
        )
        
        # If status is not UPDATING, then quit
        status = query_sugg_config_response["Status"]
        print(" Updating query suggestions config. Status: " + status)
        if status != "UPDATING":
            break
        time.sleep(60)

except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Pour effacer les suggestions</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Clearing out query suggestions for an index.")

# Provide the index ID
index_id = "index-id"

try:
    kendra.clear_query_suggestions(
        IndexId = index_id
    )

    # Confirm last cleared date-time and that there are no suggestions
    query_sugg_config_response = kendra.describe_query_suggestions_config(
        IndexId = index_id
    )
    print("Query Suggestions last cleared at: " + str(query_sugg_config_response["LastClearTime"]));
    print("Number of suggestions available to use after clearing: " + str(query_sugg_config_response["TotalSuggestionsCount"]));
        
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                    </dd>
            </dl></awsdocs-tabs>
            <p>Vous pouvez vérifier vos paramètres actuels à l'aide de l'<code class="code">DescribeQuerySuggestionsConfig</code>API. En outre, cette opération affiche les informations suivantes concernant vos suggestions de requêtes pour un index :</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Mode</b> : les suggestions de requêtes sont soit,<code class="code">ENABLED</code> soit<code class="code">LEARN_ONLY</code>. Amazon Kendraactive les suggestions de requêtes par défaut. <code class="code">LEARN_ONLY</code>désactive les suggestions de requêtes. Vous pouvez modifier le mode à l'aide de l'<code class="code">UpdateQuerySuggestionsConfig</code>API. Si cette option est désactivée,Amazon Kendra elle continue à lire les suggestions, mais ne propose pas de requêtes aux utilisateurs.</p>
                </li><li class="listitem">
                    <p><b>État</b> : les suggestions de requêtes sont soit,<code class="code">ACTIVE</code> soit<code class="code">UPDATING</code>.</p>
                </li><li class="listitem">
                    <p><b>Nombre de suggestions</b> : nombre total de requêtes prêtes à être suggérées à vos utilisateurs. Si le nombre est bien inférieur à ce à quoi vous vous attendiez, c'est peut-être parce que vous avezAmazon Kendra besoin d'un plus grand nombre de requêtes pour apprendre ou parce que vos paramètres actuels de suggestions de requêtes sont trop stricts.</p>
                </li><li class="listitem">
                    <p><b>Date de la dernière génération des</b> suggestions : dernière mise à jour des suggestions. Amazon Kendramet automatiquement à jour les suggestions toutes les 24 heures, ou lorsque vous modifiez un paramètre ou lorsque vous appliquez une <a href="https://docs.aws.amazon.com/kendra/latest/dg/query-suggestions.html#suggestions-block-list">liste de blocage</a>.</p>
                </li><li class="listitem">
                    <p>Date de <b>la dernière suppression des suggestions</b> : dernière fois que les suggestions ont été effacées.</p>
                </li></ul></div>
         
            <h2 id="suggestions-block-list">Bloquer certaines requêtes parmi les suggestions</h2>
            <p>Une liste de blocage arrêteAmazon Kendra de suggérer certaines requêtes populaires à vos utilisateurs. Il s'agit d'une liste de mots ou d'expressions que vous souhaitez exclure des suggestions de requêtes. Amazon Kendraexclut les requêtes contenant une correspondance exacte avec les mots ou les phrases de la liste de blocage.</p>
            <p>Vous pouvez utiliser une liste de blocage pour vous protéger contre les mots ou expressions offensants qui apparaissent fréquemment dans votre journal de requêtes et quiAmazon Kendra pourraient être sélectionnés comme suggestions. Une liste de blocage peut égalementAmazon Kendra empêcher de suggérer des requêtes populaires contenant des informations qui ne sont pas prêtes à être publiées ou annoncées. Par exemple, si vos utilisateurs posent fréquemment des questions sur la sortie d'un nouveau produit que vous ne souhaitez pas suggérer parce que vous n'êtes pas prêt à le lancer prochainement, vous pouvez bloquer les requêtes contenant le nom du produit et des informations sur le produit parmi les suggestions.</p>
            <p>Vous pouvez créer une liste de blocage pour les requêtes à l'aide de l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateQuerySuggestionsBlockList.html">CreateQuerySuggestionsBlockList</a>API. Vous placez chaque mot ou phrase du bloc sur une ligne distincte dans un fichier texte. Vous chargez ensuite le fichier texte dans votre compartiment S3 et vous indiquez le chemin ou l'emplacement du fichierAmazon S3. Amazon Kendraprend actuellement en charge la création d'une seule liste de blocage.</p>
            <p>Vous pouvez remplacer le fichier texte contenant vos mots et expressions bloqués dans votreAmazon S3 compartiment et utiliser l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateQuerySuggestionsBlockList.html">UpdateQuerySuggestionsBlockList</a>API pour mettre à jour la liste de blocage dansAmazon Kendra.</p>
            <p>Vous pouvez utiliser l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DescribeQuerySuggestionsBlockList.html">DescribeQuerySuggestionsBlockList</a>API pour obtenir l'état de votre liste de blocage et d'autres informations utiles, telles que la date de dernière mise à jour de votre liste de blocage, le nombre de mots ou de phrases figurant dans votre liste de blocage actuelle et des messages d'erreur utiles lors de la création d'une liste de blocage. Vous pouvez également utiliser l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_ListQuerySuggestionsBlockLists.html">ListQuerySuggestionsBlockLists</a>API pour obtenir une liste de résumés de listes bloquées pour un index.</p>
            <p>Pour supprimer votre liste de blocage, utilisez l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DeleteQuerySuggestionsBlockList.html">DeleteQuerySuggestionsBlockList</a>API.</p>
            <p>Vos mises à jour de la liste de blocage peuvent ne pas prendre effet immédiatement. Vous pouvez suivre les mises à jour à l'aide de l'<code class="code">DescribeQuerySuggestionsBlockList</code>API.</p>
            <awsdocs-tabs><dl style="display: none">
                <dt>Console</dt><dd tab-id="console">
                        
                        <div class="procedure"><h6>Pour importer une liste de blocage</h6><ol><li>
                                <p><b>Dans le volet de navigation de gauche, sous Index, accédez à votre index, puis pour <b>Enrichissements</b>, sélectionnez <b>Suggestions de requêtes</b>.</b></p>
                            </li><li>
                                <p>Sur la page <b>Suggestions de requêtes</b>, accédez à <b>Liste de blocage</b> et choisissez <b>Importer la liste de blocage</b>.</p>
                            </li><li>
                                <p>Dans le champ <b>Emplacement du fichier de liste de blocage sur S3</b>, entrez l'emplacement de votre fichier texte de liste de blocage dans votreAmazon S3 compartiment. </p>
                            </li></ol></div>
                        <div class="procedure"><h6>Pour mettre à jour et recharger une liste de blocage</h6><ol><li>
                                <p><b>Dans le volet de navigation de gauche, sous Index, accédez à votre index, puis pour <b>Enrichissements</b>, sélectionnez <b>Suggestions de requêtes</b>.</b></p>
                            </li><li>
                                <p>Remplacez le fichier texte de la liste de blocage dans leAmazon S3 compartiment par votre fichier mis à jour.</p>
                            </li><li>
                                <p>Sur la page <b>Suggestions de requêtes</b>, accédez à la <b>liste des requêtes bloquées</b> et choisissez <b>Recharger</b>. </p>
                            </li></ol></div>
                        <div class="procedure"><h6>Pour supprimer une liste de blocage</h6><ol><li>
                                <p><b>Dans le volet de navigation de gauche, sous Index, accédez à votre index, puis pour <b>Enrichissements</b>, sélectionnez <b>Suggestions de requêtes</b>.</b></p>
                            </li><li>
                                <p>Sur la page <b>Suggestions de requêtes</b>, accédez à la <b>liste des requêtes bloquées</b>, puis choisissez <b>Supprimer</b>.</p>
                            </li></ol></div>
                    </dd>
                <dt>CLI</dt><dd tab-id="cli">
                        <p><b>Pour créer une liste de blocage</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra create-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--name <code class="replaceable">"block-list-name"</code> \
--description <code class="replaceable">"block-list-description"</code> \
--source-s3-path "Bucket=<code class="replaceable">bucket-name</code>,Key=<code class="replaceable">query-suggestions/block_list.txt</code>" \
--role-arn <code class="replaceable">role-arn</code>
</code></pre>
                        <p><b>Pour mettre à jour une liste de blocage</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra update-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--name <code class="replaceable">"block-list-name"</code> \
--description <code class="replaceable">"block-list-description"</code> \
--source-s3-path "Bucket=<code class="replaceable">bucket-name</code>,Key=<code class="replaceable">query-suggestions/block_list.txt</code>" \
--role-arn <code class="replaceable">role-arn</code>
</code></pre>
                        <p><b>Pour supprimer une liste de blocage</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra delete-query-suggestions-block-list \
--index-id <code class="replaceable">index-id</code> \
--id <code class="replaceable">block-list-id</code>
</code></pre>
                    </dd>
                <dt>Python</dt><dd tab-id="python">
                        <p><b>Pour créer une liste de blocage</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError
import pprint
import time

kendra = boto3.client("kendra")

print("Create a query suggestions block list.")

# Provide a name for the block list
block_list_name = "block-list-name"
# Provide an optional description for the block list
block_list_description = "block-list-description"
# Provide the IAM role ARN required for query suggestions block lists
block_list_role_arn = "role-arn"

# Provide the index ID
index_id = "index-id"

s3_bucket_name = "bucket-name"
s3_key = "query-suggestions/block_list.txt"
source_s3_path = <span>{</span>
    'Bucket': s3_bucket_name,
    'Key': s3_key
}

try:
    block_list_response = kendra.create_query_suggestions_block_list(
        Description = block_list_description,
        Name = block_list_name,
        RoleArn = block_list_role_arn,
        IndexId = index_id,
        SourceS3Path = source_s3_path
    )

    print(block_list_response)

    block_list_id = block_list_response["Id"]

    print("Wait for Amazon Kendra to create the block list.")

    while True:
        # Get block list description
        block_list_description = kendra.describe_query_suggestions_block_list(
            Id = block_list_id,
            IndexId = index_id
        )
        # If status is not CREATING, then quit
        status = block_list_description["Status"]
        print("Creating block list. Status: " + status)
        if status != "CREATING":
            break
        time.sleep(60)
        
except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                        <p><b>Pour mettre à jour une liste de blocage</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import boto3
from botocore.exceptions import ClientError
import pprint
import time
                        
kendra = boto3.client("kendra")
                        
print("Update a block list for query suggestions.")

# Provide the block list name you want to update
block_list_name = "block-list-name"
# Provide the block list description you want to update
block_list_description = "block-list-description"
# Provide the IAM role ARN required for query suggestions block lists
block_list_role_arn = "role-arn"

# Provide the block list ID
block_list_id = "block-list-id"
# Provide the index ID
index_id = "index-id"
                        
s3_bucket_name = "bucket-name"
s3_key = "query-suggestions/block_list_updated.txt"
source_s3_path = <span>{</span>
'Bucket': s3_bucket_name,
'Key': s3_key
}
                        
try:
    kendra.update_query_suggestions_block_list(
        Id = block_list_id,
        IndexId = index_id,
        Description = block_list_description,
        Name = block_list_name,
        RoleArn = block_list_role_arn,
        SourceS3Path = source_s3_path
    )
                        
    print("Wait for Amazon Kendra to update the block list.")
                        
    while True:
        # Get block list description
        block_list_description = kendra.describe_query_suggestions_block_list(
            Id = block_list_id,
            IndexId = index_id
        )
        # If status is not UPDATING, then the update has finished 
        status = block_list_description["Status"]
        print("Updating block list. Status: " + status)
        if status != "UPDATING":
            break
        time.sleep(60)
                        
except ClientError as e:
print("%s" % e)
                        
print("Program ends.")
</code></pre>
                        <p><b>Pour supprimer une liste de blocage</b></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
from botocore.exceptions import ClientError

kendra = boto3.client("kendra")

print("Delete a block list for query suggestions.")

# provide the block list ID
query_suggestions_block_list_id = "query-suggestions-block-list-id"
# Provide the index ID
index_id = "index-id"

try:
    kendra.delete_query_suggestions_block_list(
        Id = query_suggestions_block_list_id,
        IndexId = index_id
    )

except ClientError as e:
        print("%s" % e)

print("Program ends.")
</code></pre>
                    </dd>
            </dl></awsdocs-tabs>
         
            <h2 id="clear-suggestions">Suggestions claires</h2>
            <p>Vous pouvez effacer les suggestions de requêtes à l'aide de l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_ClearQuerySuggestions.html">ClearQuerySuggestions</a>API. La suppression des suggestions supprime uniquement les suggestions de requêtes existantes, et non les requêtes du journal des requêtes. Après avoir effacé les suggestions,Amazon Kendra apprend les nouvelles suggestions en fonction des nouvelles requêtes ajoutées au journal des requêtes depuis que vous avez effacé les suggestions.</p>
         
            <h2 id="no-suggestions">Aucune suggestion</h2>
            <p>Si aucune suggestion de requête ne s'affiche, c'est peut-être pour l'une des suivante :</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Votre index ne contient pas suffisamment de requêtes pour enAmazon Kendra tirer des enseignements.</p>
                </li><li class="listitem">
                    <p>Vos paramètres de suggestions de requêtes sont trop stricts, de sorte que la plupart des requêtes ne sont pas incluses dans les suggestions.</p>
                </li><li class="listitem">
                    <p>Vous avez récemment effacé des suggestions, mais vous avezAmazon Kendra encore besoin de temps pour accumuler de nouvelles requêtes afin d'en apprendre davantage.</p>
                </li></ul></div>
            <p>Vous pouvez vérifier vos paramètres actuels à l'aide de l'<code class="code">DescribeQuerySuggestionsConfig</code>API.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./searching-tables.html">Recherche tabulaire pour HTML</div><div id="next" class="next-link" accesskey="n" href="./query-spell-check.html">Outil de vérification de requête</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/query-suggestions.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>