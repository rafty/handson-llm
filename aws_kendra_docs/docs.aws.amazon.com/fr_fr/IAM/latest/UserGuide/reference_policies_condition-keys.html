<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>clés de contexte de condition globales AWS - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="reference_policies_condition-keys" /><meta name="default_state" content="reference_policies_condition-keys" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="description" content="Décrit chaque clé de condition globale AWS disponible à utiliser dans les politiques IAM." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="Guide de l'utilisateur" /><meta name="abstract" content="Contrôlez l'accès à vos ressources AWS avec l'identité d'utilisateur (authentification) et avec des politiques définissant des autorisations spécifiques (autorisation)." /><meta name="guide-locale" content="fr_fr" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="Guide de l'utilisateur" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="Guide de l'utilisateur" /><meta id="panorama-serviceConsolePage" value="clés de contexte de condition globales AWS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>clés de contexte de condition globales AWS - AWS Identity and Access Management</title><meta name="pdf" content="iam-ug.pdf#reference_policies_condition-keys" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,Utilisateur IAM,utilisateur,Groupe IAM,groupe,Rôle IAM,rôle,politique d'autorisation,politique d'approbation,politique,clé d'accès,mot de passe,ID d'unité d'organisation de ressource" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guide de l'utilisateur",
        "item" : "https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Informations de référence sur AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Référence de politique JSON IAM",
        "item" : "https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "clés de contexte de condition globales AWS",
        "item" : "https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="iam-ug.pdf#reference_policies_condition-keys" target="_blank" rel="noopener noreferrer" title="Ouvrir le PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">Guide de l'utilisateur</a></div><div id="page-toc-src"><a href="#condition-keys-calledvia">CalledVia</a><a href="#condition-keys-calledviafirst">CalledViaFirst</a><a href="#condition-keys-calledvialast">CalledViaLast</a><a href="#condition-keys-currenttime">CurrentTime</a><a href="#condition-keys-ec2instancesourcevpc">Ec2InstanceSourceVpc</a><a href="#condition-keys-ec2instancesourceprivateip4">Ec2InstanceSourcePrivateIPv4</a><a href="#condition-keys-epochtime">EpochTime</a><a href="#condition-keys-federatedprovider">FederatedProvider</a><a href="#condition-keys-multifactorauthage">MultiFactorAuthAge</a><a href="#condition-keys-multifactorauthpresent">MultiFactorAuthPresent</a><a href="#condition-keys-principalaccount">PrincipalAccount</a><a href="#condition-keys-principalarn">PrincipalArn</a><a href="#condition-keys-principalisawsservice">PrincipalIsAWSService</a><a href="#condition-keys-principalorgid">PrincipalOrgID</a><a href="#condition-keys-principalorgpaths">PrincipalOrgPaths</a><a href="#condition-keys-principalservicename">PrincipalServiceName</a><a href="#condition-keys-principalservicenameslist">PrincipalServiceNamesList</a><a href="#condition-keys-principaltag">PrincipalTag</a><a href="#condition-keys-principaltype">PrincipalType</a><a href="#condition-keys-referer">Référent</a><a href="#condition-keys-requestedregion">RequestedRegion</a><a href="#condition-keys-requesttag">RequestTag</a><a href="#condition-keys-resourceaccount">ResourceAccount</a><a href="#condition-keys-resourceorgid">ResourceOrgID</a><a href="#condition-keys-resourceorgpaths">ResourceOrgPaths</a><a href="#condition-keys-resourcetag">ResourceTag</a><a href="#condition-keys-securetransport">SecureTransport</a><a href="#condition-keys-sourceaccount">SourceAccount</a><a href="#condition-keys-sourcearn">SourceArn</a><a href="#condition-keys-sourceidentity">SourceIdentity</a><a href="#condition-keys-sourceip">SourceIp</a><a href="#condition-keys-sourcevpc">SourceVpc</a><a href="#condition-keys-sourcevpce">SourceVpce</a><a href="#condition-keys-tagkeys">TagKeys</a><a href="#condition-keys-tokenissuetime">TokenIssueTime</a><a href="#condition-keys-useragent">UserAgent</a><a href="#condition-keys-userid">Userid</a><a href="#condition-keys-username">Nom d'utilisateur</a><a href="#condition-keys-viaawsservice">ViaAWSService</a><a href="#condition-keys-vpcsourceip">VpcSourceIp</a><a href="#condition-keys-other">Autres clés inter-services</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="reference_policies_condition-keys">clés de contexte de condition globales AWS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Lorsqu'un <a href="./intro-structure.html#intro-structure-principal">principal</a> fait une <a href="./intro-structure.html#intro-structure-request">demande</a> à AWS, AWS rassemble les informations de la demande dans un <a href="./intro-structure.html#intro-structure-request">contexte de la demande</a>. Vous pouvez utiliser l'élément <code class="code">Condition</code> d'une politique JSON pour comparer des clés dans le contexte de demande avec les valeurs de clé spécifiées dans votre politique. Pour savoir quand une clé globale figure dans le contexte de la demande, consultez les informations <b>Disponibilité</b> pour chaque clé de condition globale. Pour plus d'informations sur l'utilisation de l'élément <code class="code">Condition</code> dans une politique JSON, consultez <a href="./reference_policies_elements_condition.html">Éléments de politique JSON IAM : Condition</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Si vous utilisez des clés de condition disponibles uniquement dans certaines circonstances, vous pouvez utiliser les versions <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">IfExists</a> des opérateurs de condition. Si les clés de condition ne figurent pas dans le contexte de la demande, l'évaluation de la politique peut échouer. Par exemple, utilisez le bloc de condition suivant avec les opérateurs <code class="code">...IfExists</code> pour déterminer quand la demande provient d'une plage d'adresses IP ou d'un VPC spécifique. Si l'une des clés, ou les deux, ne figurent pas dans le contexte de la demande, la condition renvoie toujours <code class="code">true</code>. Les valeurs ne sont vérifiées que si la clé spécifiée figure dans le contexte de la demande. </p><pre class="programlisting"><div class="code-btn-container"></div><code class="json ">"Condition": <span>{</span>
    "IpAddressIfExists": <span>{</span>"aws:SourceIp" : ["xxx"] },
    "StringEqualsIfExists" : <span>{</span>"aws:SourceVpc" : ["yyy"]} 
}</code></pre></div></div><p>Les clés de condition globale sont des clés de condition avec un préfixe <code class="code">aws:</code>. Les services AWS peuvent prendre en charge les clés de condition globales ou fournir des clés spécifiques au service qui possèdent le préfixe du service. Par exemple, les clés de condition IAM incluent le préfixe <code class="code">iam:</code>. Pour plus d'informations, veuillez consulter <a href="reference_policies_actions-resources-contextkeys.html" rel="noopener noreferrer" target="_blank">Actions, ressources et clés de condition pour les services AWS</a> et sélectionnez le service pour lequel vous souhaitez afficher les clés.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Pour comparer votre condition à un contexte de demande avec plusieurs valeurs de clé, vous devez utiliser les opérateurs d'ensemble <code class="code">ForAllValues</code> ou <code class="code">ForAnyValue</code>. Utilisez des opérateurs d'ensemble uniquement avec des clés de condition à valeurs multiples. N'utilisez pas d'opérateurs d'ensemble avec des clés de condition à valeur unique. Pour de plus amples informations, veuillez consulter <a href="./reference_policies_multi-value-conditions.html">Création d'une condition avec plusieurs clés ou valeurs</a>.</p></div></div>
        <h2 id="condition-keys-calledvia">aws:CalledVia</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer les services de la politique avec les services qui ont créé des demandes au nom du principal IAM (utilisateur ou rôle). Lorsqu'un principal effectue une demande à un service AWS, ce service peut utiliser les informations d'identification du principal pour effectuer des demandes ultérieures à d'autres services. La clé <code class="code">aws:CalledVia</code> contient une liste ordonnée des services de la chaîne ayant effectué des demandes pour le compte du principal.</p>
        <p>Par exemple, vous pouvez utiliser AWS CloudFormation pour lire et écrire à partir d'une table Amazon DynamoDB. DynamoDB utilise ensuite le chiffrement fourni par AWS Key Management Service (AWS KMS).</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité): cette clé est présente dans la demande lorsqu'un service prenant en charge <code class="code">aws:CalledVia</code> utilise les informations d'identification d'un principal IAM pour effectuer une demande à un autre service. Cette clé n'est pas présente si le service utilise un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rôle de service</a> ou un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rôle lié à un service</a> pour effectuer un appel au nom du mandataire. Cette clé n'est pas non plus présente lorsque le principal effectue directement l'appel.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur multiple</p>
            </li></ul></div>
        <a id="calledvia-services"></a>
        <p>Pour utiliser la clé de condition <code class="code">aws:CalledVia</code> dans une politique, vous devez indiquer au service les principaux pour autoriser ou refuser les demandes de service AWS. AWS prend en charge l'utilisation des principaux de service suivants avec <code class="code">aws:CalledVia</code>.</p>
        <div class="table-container"><div class="table-contents"><table id="w339aac25c19c19c13c15"><thead>
                    <tr>
                        <th>Principal du service</th>
                    </tr>
                </thead>
                    <tr>
                        <td>athena.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>cloud9.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>cloudformation.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>databrew.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>dataexchange.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>dynamodb.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>kms.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>servicecatalog-appregistry.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>sqlworkbench.amazonaws.com</td>
                    </tr>
                </table></div></div>
        <p>Pour autoriser ou refuser l'accès lorsqu'<em>un</em> service effectue une demande à l'aide des informations d'identification du principal, utilisez la clé de condition <code class="code"><a href="#condition-keys-viaawsservice">aws:ViaAWSService</a></code>. Cette clé de condition prend en charge les services AWS.</p>
        <p>La clé <code class="code">aws:CalledVia</code> est une <a href="./reference_policies_multi-value-conditions.html">clé à valeurs multiples</a>. Cependant, vous ne pouvez pas imposer l'ordre en utilisant cette clé dans une condition. Dans l'exemple ci-dessus, <b>User 1</b> (Utilisateur 1) effectue une demande à AWS CloudFormation, qui appelle DynamoDB, qui appelle AWS KMS. Il s'agit de trois demandes distinctes. L'appel final à AWS KMS est effectué par User 1 (Utilisateur 1) <em>via</em> AWS CloudFormation, puis DynamoDB. </p>
        <div class="mediaobject">
             
                <img src="images/condition-key-calledvia-example-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                Exemple d'utilisation d'aws:CalledVia&#xA;            " style="max-width:100%" />
             
             
        </div>
        <p>Dans ce cas, la clé <code class="code">aws:CalledVia</code> dans le contexte de la demande comprend <code class="code">cloudformation.amazonaws.com</code> et <code class="code">dynamodb.amazonaws.com</code>, dans cet ordre. Si vous vous souciez uniquement du fait que l'appel a été effectué via DynamoDB quelque part dans la chaîne des demandes, vous pouvez utiliser cette clé de condition dans votre politique. </p>
        <p>Par exemple, la politique suivante permet de gérer la clé AWS KMS nommée <code class="code">my-example-key</code>, mais seulement si DynamoDB est un des services demandeurs. L'opérateur de condition <code class="code"><a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">ForAnyValue:StringEquals</a></code> s'assure que DynamoDB est un des services appelant. Si le principal effectue directement l'appel à AWS KMS, la condition renvoie <code class="code">false</code> et la demande n'est pas autorisée par cette politique.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "KmsActionsIfCalledViaDynamodb",
            "Effect": "Allow",
            "Action": [
                "kms:Encrypt",
                "kms:Decrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey",
                "kms:DescribeKey"
            ],
            "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">111122223333</code>:key/<code class="replaceable">my-example-key</code>",
            "Condition": <span>{</span>
                "ForAnyValue:StringEquals": <span>{</span>
                    "aws:CalledVia": ["dynamodb.amazonaws.com"]
                }
            }
        }
    ]
}</code></pre>
        <p>Si vous souhaitez définir le service effectuant le premier ou le dernier appel de la chaîne, vous pouvez utiliser les clés <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaLast</a></code> et <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaFirst</a></code>. Par exemple, la politique suivante permet de gérer la clé nommée <code class="code">my-example-key</code> dans AWS KMS. Ces opérations AWS KMS ne sont autorisées que si plusieurs demandes ont été incluses dans la chaîne. La première demande doit être faite via AWS CloudFormation et la dernière, via DynamoDB. Si d'autres services font des demandes au milieu de la chaîne, l'opération est toujours autorisée.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "KmsActionsIfCalledViaChain",
            "Effect": "Allow",
            "Action": [
                "kms:Encrypt",
                "kms:Decrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey",
                "kms:DescribeKey"
            ],
            "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">111122223333</code>:key/<code class="replaceable">my-example-key</code>",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:CalledViaFirst": "cloudformation.amazonaws.com",
                    "aws:CalledViaLast": "dynamodb.amazonaws.com"
                }
            }
        }
    ]
}</code></pre>
        <p>Les clés <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaFirst</a></code> et <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaLast</a></code> sont présentes dans la demande lorsqu'un service utilise les informations d'identification d'un principal IAM pour appeler un autre service. Elles indiquent le premier et le dernier services ayant effectué des appels dans la chaîne de demandes. Par exemple, supposons que AWS CloudFormation appelle un autre service nommé <code class="code">X
                Service</code>, qui appelle DynamoDB, qui appelle ensuite AWS KMS. L'appel final à AWS KMS est effectué par <code class="code">User 1</code> <em>via</em> AWS CloudFormation, puis <code class="code">X Service</code> et enfin DynamoDB. Il a été appelé en premier via AWS CloudFormation et en dernier via DynamoDB. </p>
        <div class="mediaobject">
             
                <img src="images/condition-key-calledviafirstlast-example-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                Exemple d'utilisation d'aws:CalledViaFirst et d'aws:CalledViaLast&#xA;            " style="max-width:100%" />
             
             
        </div>
        
     
        <h2 id="condition-keys-calledviafirst">aws:CalledViaFirst</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer les services de la politique avec le <em><b>premier service</b></em> ayant fait une demande au nom du principal IAM (utilisateur ou rôle). Pour de plus amples informations, veuillez consulter <code class="code"><a href="#condition-keys-calledvia">aws:CalledVia</a></code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé est présente dans la requête lorsqu'un service utilise les informations d'identification d'un principal IAM pour effectuer au moins une autre requête à un service différent. Cette clé n'est pas présente si le service utilise un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rôle de service</a> ou un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rôle lié à un service</a> pour effectuer un appel au nom du mandataire. Cette clé n'est pas non plus présente lorsque le principal effectue directement l'appel.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-calledvialast">aws:CalledViaLast</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer les services de la politique avec le <em>dernier service</em> ayant fait une demande au nom du principal IAM (utilisateur ou rôle). Pour plus d'informations, veuillez consulter <code class="code"><a href="#condition-keys-calledvia">aws:CalledVia</a></code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé est présente dans la requête lorsqu'un service utilise les informations d'identification d'un principal IAM pour effectuer au moins une autre requête à un service différent. Cette clé n'est pas présente si le service utilise un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rôle de service</a> ou un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rôle lié à un service</a> pour effectuer un appel au nom du mandataire. Cette clé n'est pas non plus présente lorsque le principal effectue directement l'appel.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-currenttime">aws:CurrentTime</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">opérateurs de date</a>.</p>
        <p>Utilisez cette clé pour comparer la date et l'heure de la demande avec celles spécifiée dans la politique. Pour visualiser un exemple de politique qui utilise cette clé de condition, veuillez consulter <a href="./reference_policies_examples_aws-dates.html">AWS : permet l'accès en fonction de la date et de l'heure</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure toujours dans le contexte de la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-ec2instancesourcevpc">aws:Ec2InstanceSourceVpc</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Cette clé identifie le VPC auquel les informations d'identification du rôle IAM Amazon EC2 ont été fournies. Vous pouvez utiliser cette clé dans une politique avec la clé <a href="#condition-keys-sourcevpc">aws:SourceVPC</a> globale pour vérifier si un appel provient d'un VPC (<code class="code">aws:SourceVPC</code>) qui correspond au VPC auquel un identifiant a été délivré (<code class="code">aws:Ec2InstanceSourceVpc</code>).</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé est incluse dans le contexte de la demande lorsque le demandeur signe des demandes avec des informations d’identification de rôle Amazon EC2. Elle peut être utilisée dans les politiques IAM, les politiques de contrôle des services, les politiques de points de terminaison d’un VPC et les politiques de ressources.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Cette clé peut être utilisée avec des valeurs d'identifiant VPC, mais elle est particulièrement utile lorsqu'elle est utilisée en tant que variable associée à la clé contextuelle <code class="code">aws:SourceVpc</code>. Cette clé contextuelle <code class="code">aws:SourceVpc</code> figure dans le contexte de la demande uniquement si le demandeur utilise un point de terminaison de VPC pour effectuer la demande. Utiliser <code class="code">aws:Ec2InstanceSourceVpc</code> avec <code class="code">aws:SourceVpc</code> permet d’utiliser <code class="code">aws:Ec2InstanceSourceVpc</code> plus largement, car la comparaison porte sur des valeurs qui changent généralement ensemble.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Obligatoire ne figure pas dans EC2-Classic.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "RequireSameVPC",
      "Effect": "Deny",
      "Action": "*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
            "aws:SourceVpc": "$<span>{</span>aws:Ec2InstanceSourceVpc}"
        },
        "Null": <span>{</span>
          "ec2:SourceInstanceARN": "false"
        },
        "BoolIfExists": <span>{</span>
          "aws:ViaAWSService": "false"
        }
      }
    }
  ]
}</code></pre>
        <p>Dans l'exemple ci-dessus, l'accès est refusé si la valeur <code class="code">aws:SourceVpc</code> n'est pas égale à la valeur <code class="code">aws:Ec2InstanceSourceVpc</code>. La déclaration de politique est limitée aux seuls rôles utilisés en tant que rôles d'instance Amazon EC2 en testant l'existence de la clé conditionnelle <code class="code">ec2:SourceInstanceARN</code>.</p>
        <p>La politique utilise <code class="code">aws:ViaAWSService</code> pour permettre à AWS d’autoriser les demandes lorsque des demandes sont effectuées au nom de vos rôles d'instance Amazon EC2. Par exemple, lorsque vous envoyez une demande depuis une instance Amazon EC2 vers un compartiment Amazon S3 chiffré, Amazon S3 passe un appel AWS KMS en votre nom. Certaines clés ne sont pas présentes lorsque la demande est faite à AWS KMS.</p>
     
        <h2 id="condition-keys-ec2instancesourceprivateip4">aws:Ec2InstanceSourcePrivateIPv4</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">opérateurs d'adresse IP</a>.</p>
        <p>Cette clé identifie l'adresse IPv4 privée de l'elastic network interface principale à laquelle les informations d'identification du rôle IAM Amazon EC2 ont été fournies. Vous devez utiliser cette clé de condition avec sa clé <code class="code">aws:Ec2InstanceSourceVpc</code>  associée pour vous assurer de disposer d'une combinaison unique d'ID VPC et d'adresse IP privée source. Utilisez cette clé avec <code class="code">aws:Ec2InstanceSourceVpc</code> pour vous assurer qu'une demande a été faite à partir de la même adresse IP privée à laquelle les informations d'identification ont été transmises.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé est incluse dans le contexte de la demande lorsque le demandeur signe des demandes avec des informations d’identification de rôle Amazon EC2. Elle peut être utilisée dans les politiques IAM, les politiques de contrôle des services, les politiques de points de terminaison d’un VPC et les politiques de ressources.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Cette clé ne doit pas être utilisée seule dans une instruction <code class="code">Allow</code>. Les adresses IP privées ne sont par définition pas uniques d’un point de vue global. Vous devez utiliser la clé <code class="code">aws:Ec2InstanceSourceVpc</code> chaque fois que vous utilisez la clé <code class="code">aws:Ec2InstanceSourcePrivateIPv4</code> pour spécifier le VPC à partir duquel les informations d'identification de votre instance Amazon EC2 peuvent être utilisées.</p></div></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Obligatoire ne figure pas dans EC2-Classic.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Deny",
            "Action":  "*",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringNotEquals": <span>{</span>
                    "aws:Ec2InstanceSourceVpc": "$<span>{</span>aws:SourceVpc}"
                },                
                "Null": <span>{</span>
                    "ec2:SourceInstanceARN": "false"
                },
                "BoolIfExists": <span>{</span>
                    "aws:ViaAWSService": "false"
                }
            }
        },
        <span>{</span>
            "Effect": "Deny",
            "Action":  "*",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringNotEquals": <span>{</span>
                    "aws:Ec2InstanceSourcePrivateIPv4": "$<span>{</span>aws:VpcSourceIp}"
                },                               
                "Null": <span>{</span>
                    "ec2:SourceInstanceARN": "false"
                },
                "BoolIfExists": <span>{</span>
                    "aws:ViaAWSService": "false"
                }
            }
        }
    ]
}</code></pre>
     
        <h2 id="condition-keys-epochtime">aws:EpochTime</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">opérateurs de date</a> ou des <a href="./reference_policies_elements_condition_operators.html#Conditions_Numeric">opérateurs numériques</a>.</p>
        <p>Utilisez cette clé pour comparer la date et l'heure de la demande au format Epoch ou Unix avec la valeur spécifiée dans la politique. Cette clé accepte également le nombre de secondes depuis le 1er janvier 1970. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure toujours dans le contexte de la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-federatedprovider">aws:FederatedProvider</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le fournisseur d'identité (IdP) émetteur du principal avec l'IdP que vous spécifiez dans la politique. Cela signifie qu'un rôle IAM a été endossé à l'aide des opérations AWS STS <code class="code">AssumeRoleWithWebIdentity</code> ou <code class="code">AssumeRoleWithSAML</code>. Lorsque les informations d'identification temporaires de la séance de rôle résultante sont utilisées pour effectuer une demande, le contexte de la demande identifie l'IdP qui a authentifié l'identité fédérée d'origine.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> – Cette clé est présente lorsque le principal est un principal de séance de rôle et que cette séance a été émise à l'aide d'un fournisseur d'identité tiers. </p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Par exemple, si l'utilisateur s'est authentifié via Amazon Cognito, le contexte de la demande inclut la valeur <code class="code">cognito-identity.amazonaws.com</code>. De la même façon, si l'utilisateur s'est authentifié via Login with Amazon, le contexte de la demande inclut la valeur <code class="code">www.amazon.com</code>.</p>
        <p>Vous pouvez utiliser n'importe quelle clé de condition à valeur unique comme <a href="./reference_policies_variables.html">variable</a>. L'exemple suivant de politique basée sur les ressources utilise la clé <code class="code">aws:FederatedProvider</code> comme variable de politique dans l'ARN d'une ressource. Cette politique permet à tout principal qui s'est authentifié à l'aide d'un IdP d'obtenir des objets à partir d'un compartiment Amazon S3 avec un chemin spécifique au fournisseur d'identité émetteur.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:GetObject",
    "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET</code></code>/$<span>{</span>aws:FederatedProvider}/*"
  }
}</code></pre>
     
        <h2 id="condition-keys-multifactorauthage">aws:MultiFactorAuthAge</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Numeric">opérateurs numériques</a>.</p>
        <p>Utilisez cette clé pour comparer le nombre de secondes écoulées depuis l'authentification du principal demandeur avec MFA avec le nombre spécifié dans la politique. Pour plus d'informations sur l'authentification MFA, consultez <a href="./id_credentials_mfa.html">Utilisation de l'authentification multifactorielle (MFA) dans l'interface AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé ne figure dans le contexte de la demande que si le principal a été authentifié avec MFA. Si MFA n'a pas été utilisé, cette clé est absente.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-multifactorauthpresent">aws:MultiFactorAuthPresent</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">opérateurs booléens</a>.</p>
        <p>Utilisez cette clé pour vérifier si l'authentification multi-facteur (MFA) a été utilisée pour valider les informations d'identification de sécurité temporaires qui ont servi à effectuer la demande.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande uniquement lorsque le principal utilise des informations d'identification temporaires pour effectuer la demande. La clé n'est pas présente dans les demandes de la CLI AWS, de l'API AWS ni du kit SDK AWS effectuées à l'aide d'informations d'identification à long terme. </p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Les informations d'identification temporaires sont utilisées pour authentifier les rôles IAM, les utilisateurs fédérés, les utilisateurs IAM avec des jetons temporaires de <code class="code">sts:GetSessionToken</code>, et les utilisateurs de la AWS Management Console. Les clés d'accès utilisateur IAM sont des informations d'identification à long terme, mais, dans certains cas, AWS crée des informations d'identification temporaires au nom des utilisateurs IAM, afin d'effectuer des opérations. Dans ces cas, la clé <code class="code">aws:MultiFactorAuthPresent</code> est présente dans la demande et définie sur la valeur <code class="code">false</code>. Deux scénarios courants peuvent expliquer ce comportement :</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Les utilisateurs IAM de la console AWS Management Console utilisent sans le savoir des informations d'identification temporaires. Les utilisateurs se connectent à la console avec leur nom d'utilisateur et leur mot de passe, qui sont des informations d'identification à long terme. Toutefois, en arrière-plan, la console génère des informations d'identification temporaires pour le compte de l'utilisateur. </p>
            </li><li class="listitem">
                <p>Si un utilisateur IAM effectue un appel à un service AWS, le service réutilise les informations d'identification de cet utilisateur pour envoyer une autre demande à un autre service Par exemple, lorsque vous appelez Athena pour accéder à un compartiment Amazon S3, ou lorsque vous utilisez AWS CloudFormation pour créer une instance Amazon EC2. Pour la demande suivante, AWS utilisera des informations d'identification temporaires.</p>
            </li></ul></div>
        <p>Pour savoir quels services prennent en charge l'utilisation d'informations d'identification temporaires, consultez <a href="./reference_aws-services-that-work-with-iam.html">Services AWS qui fonctionnent avec IAM</a>.</p>
        <p>La clé <code class="code">aws:MultiFactorAuthPresent</code> n'est jamais présente lorsqu'une API ou une commande de l'interface de ligne de commande (CLI) est appelée avec des informations d'identification à long terme, telles que des paires de clés d'accès. Par conséquent, nous vous recommandons d'utiliser les versions <code class="code"><a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">...IfExists</a></code> des opérateurs de condition lors de la vérification de cette clé.</p>
        <p>Il est important de comprendre que l'élément <code class="code">Condition</code> suivant <em><b>ne constitue pas</b></em> une méthode fiable pour vérifier si une demande est authentifiée avec MFA.</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">#####   WARNING: NOT RECOMMENDED   #####
"Effect" : "Deny",
"Condition" : <span>{</span> "Bool" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Cette combinaison de l'effet <code class="code">Deny</code>, de l'élément <code class="code">Bool</code> et de la valeur <code class="code">false</code> refuse les demandes qui peuvent être authentifiées à l'aide de MFA, mais ne l'ont pas été. Cela s'applique uniquement aux informations d'identification temporaires qui prennent en charge l'utilisation de l'authentification MFA. Cette instruction ne refuse pas l'accès aux demandes effectuées à l'aide d'informations d'identification à long terme, ni aux demandes qui ont été authentifiées avec MFA. Utilisez cet exemple avec précaution, car sa logique est complexe et qu'il ne teste pas si l'authentification MFA a été effectivement utilisée. </p>
        <p>De même, n'utilisez pas la combinaison de l'effet <code class="code">Deny</code>, de l'élément <code class="code">Null</code> et de <code class="code">true</code>, car elle se comporte de la même manière et sa logique est encore plus complexe.</p>
         
            <h6>Combinaison recommandée</h6>
            <p>Nous vous recommandons plutôt d'utiliser l'opérateur <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">BoolIfExists</a> pour vérifier si une demande est authentifiée à l'aide de MFA.</p>
         
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Effect" : "Deny",
"Condition" : <span>{</span> "BoolIfExists" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Cette combinaison de <code class="code">Deny</code>, <code class="code">BoolIfExists</code> et <code class="code">false</code> refuse les demandes qui ne sont pas authentifiées à l'aide de MFA. Elle refuse en particulier les demandes provenant d'informations d'identification temporaires qui n'incluent pas l'authentification MFA. Elle refuse également les demandes effectuées à l'aide d'informations d'identification à long terme, telles que des opérations de l'outil AWS CLI ou de l'API AWS effectuées avec des clés d'accès. L'opérateur <code class="code">*IfExists</code> vérifie si la clé <code class="code">aws:MultiFactorAuthPresent</code> existe et est présente ou non. Utilisez cet opérateur si vous souhaitez refuser une demande qui n'est pas authentifiée à l'aide de MFA. Cette solution est plus sécurisée, mais elle peut casser le code ou les scripts qui utilisent des clés d'accès pour accéder à la AWS CLI ou à l'API AWS. </p>
         
            <h6>Combinaisons alternatives</h6>
            <p>Vous pouvez également utiliser l'opérateur <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">BoolIfExists</a> pour autoriser les demandes authentifiées avec MFA et les demandes de la AWS CLI ou de l'API AWS effectuées à l'aide d'informations d'identification à long terme.</p>
         
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Effect" : "Allow",
"Condition" : <span>{</span> "BoolIfExists" : <span>{</span> "aws:MultiFactorAuthPresent" : "true" } }</code></pre>
        <p>Cette condition correspond à deux cas : si la clé existe et est présente <b>ou</b> si la clé n'existe pas. Cette combinaison de <code class="code">Allow</code>, <code class="code">BoolIfExists</code> et <code class="code">true</code> autorise les demandes qui sont authentifiées à l'aide de MFA, ou les demandes qui ne peuvent pas être authentifiées à l'aide de MFA. Cela signifie que les opérations de l'AWS CLI, de l'API AWS et du kit SDK AWS sont autorisées lorsque le demandeur utilise ses clés d'accès à long terme. Cette combinaison n'autorise pas les demandes provenant d'informations d'identification temporaires qui pourraient, mais n'incluent pas MFA. </p>
        <p>Lorsque vous créez une politique à l'aide de l'éditeur visuel de la console IAM et que vous sélectionnez <b>MFA required</b> (MFA obligatoire), cette combinaison s'applique. Ce paramètre nécessite l'authentification MFA pour l'accès à la console, mais autorise un accès par programmation sans authentification MFA. </p>
        <p>Sinon, vous pouvez utiliser l'opérateur <code class="code">Bool</code> pour autoriser les demandes par programmation et les demandes de console uniquement lorsqu'elles sont authentifiées à l'aide de MFA.</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">"Effect" : "Allow",
"Condition" : <span>{</span> "Bool" : <span>{</span> "aws:MultiFactorAuthPresent" : "true" } }</code></pre>
        <p>Cette combinaison de <code class="code">Allow</code>, <code class="code">Bool</code> et <code class="code">true</code> autorise uniquement les demandes authentifiées par MFA. Cela s'applique uniquement aux informations d'identification temporaires qui prennent en charge l'utilisation de l'authentification MFA. Cette instruction n'autorise pas l'accès aux demandes effectuées à l'aide de clés d'accès à long terme ou d'informations d'identification temporaires sans authentification MFA. </p>
        <p><b><em>N'utilisez pas</em></b> de construction de politique semblable à la suivante pour vérifier la présence de la clé MFA :</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">#####   WARNING: USE WITH CAUTION   #####

"Effect" : "Allow",
"Condition" : <span>{</span> "Null" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Cette combinaison de l'effet <code class="code">Allow</code>, de l'élément <code class="code">Null</code> et de la valeur <code class="code">false</code> autorise uniquement les demandes qui peuvent être authentifiées à l'aide de MFA, que la demande soit réellement authentifiée ou non. Elle autorise toutes les demandes effectuées à l'aide d'informations d'identification temporaires et refuse l'accès aux informations d'identification à long terme. Utilisez cet exemple avec précaution, car il ne teste pas si l'authentification MFA a été effectivement utilisée. </p>
     
        <h2 id="condition-keys-principalaccount">aws:PrincipalAccount</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le compte auquel appartient le principal demandeur avec l'identifiant de compte spécifié dans la politique. Pour les demandes anonymes, le contexte de la demande renvoie <code class="code">anonymous</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé figure dans le contexte de la demande pour toutes les demandes, y compris les requêtes anonymes.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Dans l'exemple suivant, l'accès est refusé, sauf aux principaux possédant le numéro de compte <code class="code">123456789012</code>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "DenyAccessFromPrincipalNotInSpecificAccount",
      "Action": "<code class="replaceable">service</code>:*",
      "Effect": "Deny",
      "Resource": [
        "arn:aws:<code class="replaceable">service:region:accountID:resource</code>"
      ],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:PrincipalAccount": [
            "123456789012"
          ]
        }
      }
    }
  ]
}
        </code></pre>

     
        <h2 id="condition-keys-principalarn">aws:PrincipalArn</h2>
        <p>Fonctionne avec les <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">opérateurs ARN</a> et les <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'<a href="./reference_identifiers.html#identifiers-arns">Amazon Resource Name</a> (ARN) du principal ayant fait la demande avec l'ARN spécifié dans la politique. Pour les rôles IAM, le contexte de la demande renvoie l'ARN du rôle, et non l'ARN de l'utilisateur qui a endossé le rôle. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande pour toutes les demandes signées. Les demandes anonymes n'incluent pas cette clé. Vous pouvez spécifier les types de mandataires suivants dans cette clé de condition : </p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Rôle IAM</p>
                    </li><li class="listitem">
                        <p>Utilisateur IAM</p>
                    </li><li class="listitem">
                        <p>AWS STS session d'utilisateur fédéré</p>
                    </li><li class="listitem">
                        <p>Utilisateur root Compte AWS</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>La liste suivante indique la valeur de contexte de demande renvoyée pour les différents types de mandataires que vous pouvez spécifier dans la <code class="code">aws:PrincipalArn</code> clé de condition :</p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Rôle IAM</b>— Le contexte de la requête contient la valeur suivante pour la clé de condition <code class="code">aws:PrincipalArn</code>. Ne spécifiez pas l'ARN de session de rôle présumé comme valeur pour cette clé de condition. Pour en savoir plus sur le rôle présumé de session principale, reportez-vous à la section <a href="./reference_policies_elements_principal.html#principal-role-session">Principaux de séance de rôle</a>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:role/role-name</code></code></pre>
            </li><li class="listitem">
                <p><b>Utilisateur IAM</b>— Le contexte de la requête contient la valeur suivante pour la clé de condition<code class="code">aws:PrincipalArn</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:user/<code class="replaceable">user-name</code></code></code></pre>
            </li><li class="listitem">
                <p><b>AWS STS sessions d'utilisateur fédéré</b>— Le contexte de la requête contient la valeur suivante pour la clé de condition<code class="code">aws:PrincipalArn</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:sts::123456789012:federated-user/<code class="replaceable">user-name</code></code></code></pre>
            </li><li class="listitem">
                <p><b>Compte AWS utilisateur root</b>— Le contexte de la requête contient la valeur suivante pour la clé de condition <code class="code">aws:PrincipalArn</code>. Lorsque vous spécifiez l'ARN de l'utilisateur root comme valeur pour la <code class="code">aws:PrincipalArn</code> clé de condition, il ne limite les autorisations que pour l'utilisateur root de Compte AWS. Cela diffère de la spécification de l'ARN de l'utilisateur root dans l'élément principal d'une politique basée sur les ressources, qui délègue l'autorité au Compte AWS. Pour en savoir plus sur la spécification de l'ARN de l'utilisateur root dans l'élément principal d'une politique basée sur les ressources, consultez <a href="./reference_policies_elements_principal.html#principal-accounts">Principaux Compte AWS</a>. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:root</code></code></pre>
                <p>Vous pouvez spécifier l'ARN de l'utilisateur root comme valeur pour la clé de condition <code class="code">aws:PrincipalArn</code> dans les AWS Organizations politiques de contrôle des services (SCP). Les SCP sont un type de stratégie d'organisation que vous pouvez utiliser pour gérer les autorisations dans votre organisation ; elles n'affectent que les comptes des membres dans l'organisation. Une SCP limite les autorisations des utilisateurs et des rôles IAM dans les comptes membres, y compris l'utilisateur racine du compte membre. Pour plus d'informations sur l'effet des SCP sur les autorisations, consultez <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html#scp-effects-on-permissions">les effets des SCP sur les autorisations</a> dans le <em>Guide d'utilisation pour les organisations</em>.</p>
            </li></ul></div>
        
     
        <h2 id="condition-keys-principalisawsservice">aws:PrincipalIsAWSService</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">opérateurs booléens</a>.</p>
        <p>Utilisez cette touche pour vérifier si l'appel à votre ressource est effectué directement par un <a href="./reference_policies_elements_principal.html#principal-services">principal de service</a> AWS. Par exemple, AWS CloudTrail utilise le principal de service <code class="code">cloudtrail.amazonaws.com</code> pour écrire des journaux dans votre compartiment Amazon S3. La clé de contexte de demande est définie sur true lorsqu'un service utilise un principal de service pour effectuer une action directe sur vos ressources. La clé de contexte est définie sur false si le service utilise les informations d'identification d'un principal IAM pour effectuer une demande au nom du principal. Elle est également définie sur false si le service utilise un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rôle de service</a> ou un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rôle lié à un service</a> pour effectuer un appel au nom du principal.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé est présente dans le contexte de la demande pour toutes les demandes d'API signées utilisant des informations d'identification AWS. Les demandes anonymes n'incluent pas cette clé.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Vous pouvez utiliser cette clé de condition pour limiter l'accès à vos identités de confiance et à vos emplacements réseau attendus, tout en octroyant l'accès en toute sécurité aux services AWS.</p>
        <p>Dans l'exemple suivant de politique de compartiment Amazon S3, l'accès au compartiment est restreint, sauf si la demande provient de <code class="code">vpc-111bbb22</code> ou d'un principal de service, tel que CloudTrail.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "Expected-network+service-principal",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:PutObject",
      "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET1</code></code>/AWSLogs/<code class="replaceable">AccountNumber</code>/*",
      "Condition": <span>{</span>
        "StringNotEqualsIfExists": <span>{</span>
          "aws:SourceVpc": "vpc-111bbb22"
        },
        "BoolIfExists": <span>{</span>
          "aws:PrincipalIsAWSService": "false"
        }
      }
    }
  ]
}</code></pre>
        
        <p>Dans la vidéo suivante, découvrez comment utiliser la clé de condition <code class="code">aws:PrincipalIsAWSService</code> dans une politique.</p>
        <div class="mediaobject">
             
                <iframe width="720" height="330" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/gv-_H8a42G4"></iframe>
             
             
        </div>
        
        
        
     
        <h2 id="condition-keys-principalorgid">aws:PrincipalOrgID</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'identifiant de l'organisation dans AWS Organizations à laquelle appartient le principal demandeur avec l'identifiant spécifié dans la politique.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé ne figure dans le contexte de la demande que si le principal est membre d'une organisation. Les demandes anonymes n'incluent pas cette clé.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Cette clé globale permet d'éviter de répertorier tous les ID de compte pour tous les comptes AWS d'une organisation. Vous pouvez utiliser cette clé de condition pour simplifier la spécification de l'élément <code class="code">Principal</code> d'une <a href="./access_policies_identity-vs-resource.html">politique basée sur une ressource</a>. Vous pouvez spécifier l'<a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_org_details.html">ID de l'organisation</a> dans l'élément Condition. Lorsque vous ajoutez et supprimez des comptes, les politiques qui contiennent la clé <code class="code">aws:PrincipalOrgID</code> ajoutent automatiquement les bons comptes et ne nécessitent pas de mise à jour manuelle.</p>
        <p>Par exemple, la politique de compartiment Amazon S3 suivante permet aux membres de n'importe quel compte de l'organisation <code class="code">o-xxxxxxxxxxx</code> d'ajouter un objet dans le compartiment <code class="code">policy-ninja-dev</code>. </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "> <span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Sid": "AllowPutObject",
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:PutObject",
    "Resource": "arn:aws:s3:::policy-ninja-dev/*",
    "Condition": <span>{</span>"StringEquals":
      <span>{</span>"aws:PrincipalOrgID":"o-xxxxxxxxxxx"}
    }
  }
}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Cette condition globale s'applique également au compte de gestion d'une organisation AWS. Cette politique empêche tous les principaux en dehors de l'organisation spécifiée d'accéder au compartiment Amazon S3. Cela inclut tous les services AWS qui interagissent avec vos ressources internes, tels que AWS CloudTrail qui envoie des données de journal à vos compartiments Amazon S3. Pour savoir comment vous pouvez accorder l'accès en toute sécurité aux services AWS, veuillez consulter <a href="#condition-keys-principalisawsservice">aws:PrincipalIsAWSService</a>.</p></div></div>
        <p>Pour en savoir plus sur AWS Organizations, consultez <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html">Qu'est-ce que AWS Organizations ?</a> dans le <em>guide de l'utilisateur AWS Organizations</em>.</p>
     
        <h2 id="condition-keys-principalorgpaths">aws:PrincipalOrgPaths</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le chemin d'accès AWS Organizations du principal qui effectue la demande avec le chemin d'accès spécifié dans la politique. Ce principal peut être un utilisateur IAM, un rôle IAM, un utilisateur fédéré ou un Utilisateur racine d'un compte AWS. Dans une politique, cette clé de condition vérifie que le demandeur est un membre du compte au sein de l'organisation racine ou des unités d'organisation spécifiées dans AWS Organizations. Un chemin AWS Organizations est une représentation textuelle de la structure d'une entité Organizations. Pour de plus amples informations sur l'utilisation et la compréhension des chemins, veuillez consulter <a href="./access_policies_access-advisor-view-data-orgs.html#access_policies_access-advisor-viewing-orgs-entity-path">Comprendre le chemin d'entité AWS Organizations</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé ne figure dans le contexte de la demande que si le principal est membre d'une organisation. Les demandes anonymes n'incluent pas cette clé.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur multiple</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Les ID d'organisation sont globalement uniques, mais les ID d'unité d'organisation et les ID racine ne sont uniques qu'au sein d'une organisation. Cela signifie qu'aucune organisation ne partage le même ID d'organisation. Toutefois, une autre organisation peut avoir le même ID d'unité d'organisation ou ID racine que vous. Nous vous recommandons de toujours inclure l'ID d'organisation lorsque vous spécifiez une unité d'organisation ou une racine.</p></div></div>
        
        <p>Par exemple, la condition suivante renvoie <code class="code">true</code> pour les principaux de comptes qui sont directement attachés à l'unité d'organisation <code class="code">ou-ab12-22222222</code>, et non à ses unités d'organisation enfants.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringEquals" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/"]
}}</code></pre>
        
        <p>La condition suivante renvoie <code class="code">true</code> pour les principaux d'un compte qui est directement attaché à l'unité d'organisation ou à l'une de ses unités d'organisation enfants. Lorsque vous incluez un caractère générique, vous devez utiliser l'opérateur de condition <code class="code">StringLike</code>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/*"]
}}</code></pre>
        <p>La condition suivante renvoie <code class="code">true</code> pour les principaux d'un compte qui est directement attaché à l'une des unités d'organisation enfant, mais pas directement à l'unité d'organisation parent. La condition précédente s'applique à l'unité d'organisation ou à tous les enfants. La condition suivante s'applique uniquement aux enfants (et aux enfants de ces enfants).</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/ou-*"]
}}</code></pre>
        <p>La condition suivante autorise l'accès à chaque principal de l'organisation <code class="code">o-a1b2c3d4e5</code>, quelle que soit l'unité d'organisation parent.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/*"]
}}</code></pre>
        <p><code class="code">aws:PrincipalOrgPaths</code> est une clé de condition à valeurs multiples. Les clés multivaluées peuvent avoir plusieurs valeurs dans le contexte de la demande. Lorsque vous utilisez plusieurs valeurs avec l'opérateur de condition <code class="code">ForAnyValue</code>, le chemin d'accès du principal doit correspondre à l'un des chemins spécifiés dans la politique. Pour de plus amples informations sur les clés de condition à valeurs multiples, veuillez consulter <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilisation de plusieurs clés et valeurs</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">    "Condition": <span>{</span>
        "ForAnyValue:StringLike": <span>{</span>
            "aws:PrincipalOrgPaths": [
                "o-a1b2c3d4e5/r-ab12/ou-ab12-33333333/*",
                "o-a1b2c3d4e5/r-ab12/ou-ab12-22222222/*"
            ]
        }
    }</code></pre>
     
        <h2 id="condition-keys-principalservicename">aws:PrincipalServiceName</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le nom du <a href="./reference_policies_elements_principal.html#principal-services">principal de service</a> dans la politique au principal de service qui effectue des demandes à vos ressources. Vous pouvez utiliser cette clé pour vérifier si cet appel est effectué par un principal de service spécifique. Lorsqu'un principal de service effectue une demande directe à vos ressources, la clé <code class="code">aws:PrincipalServiceName</code> contient le nom du principal de service. Par exemple, le nom du principal du service AWS CloudTrail est <code class="code">cloudtrail.amazonaws.com</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé est présente dans la demande lorsque l'appel est effectué par un principal du service AWS. Cette clé n'est présente dans aucun autre cas, notamment les suivants :</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Si le service utilise un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rôle de service</a> ou un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rôle lié à un service</a> pour effectuer un appel au nom du principal.</p>
                    </li><li class="listitem">
                        <p>Si le service utilise les informations d'identification d'un principal IAM pour effectuer une demande au nom du principal.</p>
                    </li><li class="listitem">
                        <p>Si l'appel est effectué directement par un principal IAM.</p>
                    </li><li class="listitem">
                        <p>Si l'appel est passé par un demandeur anonyme.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Vous pouvez utiliser cette clé de condition pour limiter l'accès à vos identités de confiance et à vos emplacements réseau attendus, tout en octroyant l'accès en toute sécurité à un service AWS.</p>
        <p>Dans l'exemple suivant de politique de compartiment Amazon S3, l'accès au compartiment est restreint, sauf si la demande provient de <code class="code">vpc-111bbb22</code> ou d'un principal de service, tel que CloudTrail.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "expected-network+service-principal",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:PutObject",
      "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET1</code></code>/AWSLogs/<code class="replaceable">AccountNumber</code>/*",
      "Condition": <span>{</span>
        "StringNotEqualsIfExists": <span>{</span>
          "aws:SourceVpc": "vpc-111bbb22",
          "aws:PrincipalServiceName": "cloudtrail.amazonaws.com"
        }
      }
    }
  ]
}
        </code></pre>
     
        <h2 id="condition-keys-principalservicenameslist">aws:PrincipalServiceNamesList</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Cette clé fournit une liste de tous les noms des <a href="./reference_policies_elements_principal.html#principal-services">principal de service</a> appartenant au service. Il s'agit d'une clé de condition avancée. Vous pouvez l'utiliser pour empêcher le service d'accéder à vos ressources à partir d'une région spécifique uniquement. Certains services peuvent créer des principaux de services régionaux pour indiquer une instance particulière du service dans une région spécifique. Vous pouvez limiter l'accès à une ressource à une instance particulière du service. Lorsqu'un principal de service effectue une demande directe à vos ressources, <code class="code">aws:PrincipalServiceNamesList</code> contient une liste non ordonnée de tous les noms des principaux de services associés à l'instance régionale du service.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé est présente dans la demande lorsque l'appel est effectué par un principal du service AWS. Cette clé n'est présente dans aucun autre cas, notamment les suivants :</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Si le service utilise un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rôle de service</a> ou un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rôle lié à un service</a> pour effectuer un appel au nom du principal.</p>
                    </li><li class="listitem">
                        <p>Si le service utilise les informations d'identification d'un principal IAM pour effectuer une demande au nom du principal.</p>
                    </li><li class="listitem">
                        <p>Si l'appel est effectué directement par un principal IAM.</p>
                    </li><li class="listitem">
                        <p>Si l'appel est passé par un demandeur anonyme.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur multiple</p>
            </li></ul></div>
        <p><code class="code">aws:PrincipalServiceNamesList</code> est une clé de condition à valeurs multiples. Les clés multivaluées peuvent avoir plusieurs valeurs dans le contexte de la demande. Vous devez utiliser les opérateurs d'ensemble <code class="code">ForAnyValue</code> ou <code class="code">ForAllValues</code> avec l'<a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateur de condition de chaîne</a> pour cette clé. Pour de plus amples informations sur les clés de condition à valeurs multiples, veuillez consulter <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilisation de plusieurs clés et valeurs</a>.</p>
     
        <h2 id="condition-keys-principaltag">aws:PrincipalTag/<em>tag-key</em></h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer la balise attachée au principal effectuant la demande avec la balise spécifiée dans la politique. Si plusieurs balises sont attachées au principal, le contexte de la demande inclut une clé <code class="code">aws:PrincipalTag</code> pour chaque clé de balise attachée.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande si le principal utilise un utilisateur IAM avec des balises attachées. Elle est incluse pour un principal utilisant un rôle IAM avec des balises attachées ou des <a href="./id_session-tags.html">balises de session</a>. Les demandes anonymes n'incluent pas cette clé.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Vous pouvez ajouter des attributs personnalisés à un utilisateur ou un rôle sous la forme d'une paire clé-valeur. Pour plus d'informations sur les balises IAM, consultez <a href="./id_tags.html">Balisage des ressources IAM</a>. Vous pouvez utiliser <code class="code">aws:PrincipalTag</code>pour le <a href="./access_iam-tags.html#access_iam-tags_control-principals">contrôle d'accès</a> des principaux AWS.</p>
        <p>Cet exemple montre comment vous pouvez créer une politique basée sur l'identité qui autorise les utilisateurs avec la balise <code class="userinput">department=hr</code> à gérer les utilisateurs, groupes ou rôles IAM.  Pour utiliser cette politique, remplacez le <code class="replaceable">texte de l'espace réservé en italique</code> dans l'exemple de politique par vos propres informations de ressource. Ensuite, suivez les instructions fournies dans <a href="./access_policies_create.html">create a policy (créer une politique)</a> ou <a href="./access_policies_manage-edit.html">edit a policy (modifier une politique)</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "iam:*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "aws:PrincipalTag/<code class="replaceable">department</code>": "<code class="replaceable">hr</code>"
        }
      }
    }
  ]
}</code></pre>
        <p>Cet exemple montre comment créer une politique basée sur les ressources avec la clé <code class="code">aws:PrincipalTag</code> dans l'ARN des ressources. La politique autorise l'action <code class="code">s3:GetObject</code> uniquement si le nom du compartiment se termine par un nom d'équipe issu de la balise de principal <code class="code"><code class="replaceable">team</code></code>. Pour utiliser cette politique, remplacez le <code class="replaceable">texte de l'espace réservé en italique</code> dans l'exemple de politique par vos propres informations de ressource. Ensuite, suivez les instructions fournies dans <a href="./access_policies_create.html">create a policy (créer une politique)</a> ou <a href="./access_policies_manage-edit.html">edit a policy (modifier une politique)</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:GetObject",
    "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>-$<span>{</span>aws:PrincipalTag/<code class="replaceable">team</code>}/"
  }
}</code></pre>
     
        <h2 id="condition-keys-principaltype">aws:PrincipalType</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le type de principal qui effectue la demande avec le type de principal spécifié dans la politique. Pour plus d'informations, veuillez consulter <a href="./reference_policies_elements_principal.html#Principal_specifying">Spécification d'un principal</a>. Pour des exemples spécifiques de valeurs clés <code class="code">principal</code>, veuillez consulter <a href="./reference_policies_variables.html#principaltable">Valeurs de la clé du principal</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé figure dans le contexte de la demande pour toutes les demandes, y compris les requêtes anonymes.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-referer">aws:referer</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le référent de la demande dans le navigateur client avec le référent spécifié dans la politique. La valeur <code class="code">aws:referer</code> du contexte de la demande est fournie par le principal dans un en-tête HTTP. L'en-tête <code class="code">Referer</code> est inclus dans une demande de navigateur Web lorsque vous sélectionnez un lien sur une page Web. L'en-tête <code class="code">Referer</code> contient l'URL de la page Web où le lien a été sélectionné.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande uniquement si la demande à la ressource AWS a été invoquée par liaison à partir d'une URL de page web dans le navigateur. Cette clé n'est pas incluse pour les demandes de programmation, car elle n'utilise pas de lien de navigateur pour accéder à la ressource AWS.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Par exemple, vous pouvez accéder à un objet Amazon S3 directement à l'aide d'une URL ou en utilisant l'appel direct de l'API. Pour plus d'informations, consultez la section <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html#example-bucket-policies-use-case-4">Opérations d'API Amazon S3 directement à l'aide d'un navigateur web</a>. Lorsque vous accédez à un objet Amazon S3 à partir d'une URL qui existe dans une page web, l'URL de la page web source est utilisée dans <code class="code">aws:referer</code>. Lorsque vous accédez à un objet Amazon S3 en saisissant l'URL dans votre navigateur, <code class="code">aws:referer</code> n'est pas présent. Lorsque vous appelez l'API directement, <code class="code">aws:referer</code> n'est pas non plus présent. Vous pouvez utiliser la clé de condition <code class="code">aws:referer</code> dans une politique pour autoriser les demandes effectuées à partir d'un référent spécifique, comme un lien sur une page Web dans le domaine de votre entreprise. </p>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Avertissement</h6></div><div class="awsdocs-note-text"><p>Utilisez cette clé avec précaution. Il est dangereux d'inclure une valeur d'en-tête de référent connue publiquement. Les tiers non autorisés peuvent utiliser des navigateurs modifiés ou personnalisés pour fournir n'importe quelle valeur <code class="code">aws:referer</code> de leur choix. Pour cette raison, il est recommandé de ne pas utiliser <code class="code">aws:referer</code> pour empêcher les tiers non autorisés d'effectuer directement des demandes AWS. Cette clé est fournie uniquement pour permettre aux clients de protéger leur contenu numérique, stocké notamment dans Amazon S3, contre tout référencement sur des sites tiers non autorisés.</p></div></div>
     
        <h2 id="condition-keys-requestedregion">aws:RequestedRegion</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer la région AWS qui a été appelée dans la demande avec la région spécifiée dans la politique. Vous pouvez utiliser cette clé de condition globale pour contrôler les régions qui peuvent être demandées. Pour afficher les régions AWS de chaque service, consultez <a href="https://docs.aws.amazon.com/general/latest/gr/aws-service-information.html">Points de terminaison et quotas de service</a> dans le document <em>Référence générale d'Amazon Web Services</em>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure toujours dans le contexte de la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Certains services globaux, tels qu'IAM, ont un point de terminaison unique. Comme ce point de terminaison se trouve physiquement dans la région USA Est (Virginie du Nord), les appels IAM sont toujours effectués vers la région us-east-1. Par exemple, si vous créez une politique qui refuse l'accès à tous les services si la région demandée n'est pas us-west-2, les appels IAM échouent toujours. Pour afficher un exemple de la manière de contourner ce problème, consultez <a href="./reference_policies_elements_notaction.html">NotAction avec Deny</a>. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>La clé de condition <code class="code">aws:RequestedRegion</code> vous permet de contrôler le point de terminaison de service qui est appelé, mais n'a pas d'impact sur l'opération. Certains services ont des impacts entre régions. Par exemple, Amazon S3 a des opérations d'API qui contrôlent la réplication entre régions. Vous pouvez appeler <code class="code">s3:PutBucketReplication</code> dans une région (qui est affectée par la clé de condition <code class="code">aws:RequestedRegion</code>), mais d'autres régions sont affectées en fonction des paramètres de configuration des réplications. </p></div></div>
        <p>Vous pouvez utiliser cette clé de contexte pour limiter l'accès aux services AWS au sein d'un ensemble donné de régions. Par exemple, la politique suivante permet à un utilisateur d'afficher toutes les instances Amazon EC2 dans AWS Management Console. Cependant, elle lui permet d'apporter des modifications aux instances dans Irlande (eu-west-1), Londres (eu-west-2) ou Paris (eu-west-3).</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "InstanceConsoleReadOnly",
            "Effect": "Allow",
            "Action": [
                "ec2:Describe*",
                "ec2:Export*",
                "ec2:Get*",
                "ec2:Search*"
            ],
            "Resource": "*"
        },
        <span>{</span>
            "Sid": "InstanceWriteRegionRestricted",
            "Effect": "Allow",
            "Action": [
                "ec2:Associate*",
                "ec2:Import*",
                "ec2:Modify*",
                "ec2:Monitor*",
                "ec2:Reset*",
                "ec2:Run*",
                "ec2:Start*",
                "ec2:Stop*",
                "ec2:Terminate*"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:RequestedRegion": [
                        "eu-west-1",
                        "eu-west-2",
                        "eu-west-3"
                    ]
                }
            }
        }
    ]
}       </code></pre>
     
        <h2 id="condition-keys-requesttag">aws:RequestTag/<em>clé-balise</em></h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer la paire clé-valeur de balise qui a été transmise dans la demande avec la paire de balises spécifiée dans la politique. Par exemple, vous pouvez vérifier que la demande comprend la clé de balise <code class="code">"Dept"</code> et qu'elle a la valeur <code class="code">"Accounting"</code>. Pour de plus amples informations, veuillez consulter <a href="./access_tags.html#access_tags_control-requests">Contrôle de l'accès au cours des demandes AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé figure dans le contexte de la demande lorsque les balises sont transmises dans la demande. Lorsque plusieurs balises sont transmises dans la demande, il y a une clé de contexte pour chaque paire clé-valeur de balise.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Cette clé de contexte est formatée selon le schéma <code class="code">"aws:RequestTag/<code class="replaceable">tag-key</code>":"<code class="replaceable">tag-value</code>"</code>, où <code class="replaceable">tag-key</code> et <code class="replaceable">tag-value</code> représentent respectivement une clé de balise et une paire de valeurs. Les clés et les valeurs d'étiquette ne sont pas sensibles à la casse. Cela signifie que si vous spécifiez <code class="code">"aws:RequestTag/TagKey1": "Value1"</code> dans l'élément de condition de votre politique, la condition correspond à une clé de balise de demande nommée <code class="code">TagKey1</code> ou <code class="code">tagkey1</code>, mais pas aux deux.</p>
        <p>Cet exemple montre que même si la clé est à valeur unique, vous pouvez toujours utiliser plusieurs paires clé-valeur dans une requête si les clés sont différentes.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "ec2:CreateTags",
    "Resource": "arn:aws:ec2:::instance/*",
    "Condition": <span>{</span>
      "StringEquals": <span>{</span>
        "aws:RequestTag/environment": [
          "preprod",
          "production"
        ],
        "aws:RequestTag/team": [
          "engineering"
        ]
      }
    }
  }
}
</code></pre>
     
        <h2 id="condition-keys-resourceaccount">aws:ResourceAccount</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'<a href="https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html">ID de l'Compte AWS</a> du propriétaire de la ressource demandée avec le compte de la ressource dans la politique. Vous pouvez ensuite autoriser ou refuser l'accès à cette ressource en fonction du compte propriétaire de la ressource.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé figure toujours dans le contexte de la demande pour la plupart des services. Les actions suivantes ne prennent pas en charge cette clé :</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store : toutes les actions</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge : toutes les actions</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour des considérations supplémentaires concernant les actions non prises en charge ci-dessus, consultez le référentiel <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>Exemples de politiques relatives aux périmètres de données</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (français non garanti).</p></div></div>
        <p>Cette clé est égale à l'ID d'Compte AWS pour lequel les ressources sont évaluées dans la demande.</p>
        <p>Pour la plupart des ressources de votre compte, l'<a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">ARN</a> contient l'ID du compte propriétaire de cette ressource. Pour certaines ressources, telles que les compartiments Amazon S3, l'ARN de ressource n'inclut pas l'ID de compte. Les deux exemples suivants montrent la différence entre une ressource avec un ID de compte dans l'ARN et un ARN Amazon S3 sans ID de compte :</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">arn:aws:iam::123456789012:role/AWSExampleRole</code> – rôle IAM créé et détenu dans le compte 123456789012. </p>
            </li><li class="listitem">
                <p><code class="code">arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET2</code></code> : compartiment Amazon S3 créé et détenu dans le compte <code class="code">111122223333</code>, non affiché dans l'ARN.</p>
            </li></ul></div>
        <p>Utilisez la console AWS, l'API, ou la CLI pour trouver toutes vos ressources et les ARN correspondants.</p>
        <p>Vous élaborez une politique qui refuse les autorisations d'accès aux ressources en fonction de l'ID de compte du propriétaire de la ressource. Par exemple, la politique basée sur l'identité suivante refuse l'accès à la <em>ressource spécifiée</em> si celle-ci n'appartient pas au <em>compte spécifié</em>.</p>
        <p>Pour utiliser cette politique, remplacez le <em>texte en italique de l'espace réservé</em> dans l'exemple de politique par vos propres informations de compte. </p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Cette politique ne permet aucune action. Au lieu de cela, elle utilise l'effet <code class="code">Deny</code> qui refuse explicitement l'accès à toutes les ressources répertoriées dans l'instruction n'appartenant pas au compte répertorié. Utilisez cette politique en combinaison avec d'autres politiques qui autorisent l'accès à des ressources spécifiques.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "DenyInteractionWithResourcesNotInSpecificAccount",
      "Action": "<code class="replaceable">service</code>:*",
      "Effect": "Deny",
      "Resource": [
        "arn:aws:<code class="replaceable">service</code>:<code class="replaceable">region</code>:<code class="replaceable">account</code>:<code class="replaceable">*</code>"
      ],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:ResourceAccount": [
            "<code class="replaceable">account</code>"
          ]
        }
      }
    }
  ]
}</code></pre>
        <p>Cette politique refuse l'accès à toutes les ressources pour un service AWS sauf si l'Compte AWS est propriétaire de la ressource. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Certains Services AWS nécessitent l'accès à des ressources appartenant à AWS qui sont hébergées dans un autre Compte AWS. L'utilisation de <code class="code">aws:ResourceAccount</code> dans vos politiques basées sur l'identité peut avoir un impact sur la capacité de votre identité à accéder à ces ressources.</p></div></div>
        <p>Certains services AWS, tels que AWS Data Exchange, dépendent de l'accès à des ressources en dehors de vos Comptes AWS pour les opérations normales. Si vous utilisez l'élément <code class="code">aws:ResourceAccount</code> dans vos politiques, incluez des déclarations supplémentaires afin de créer des dérogations pour ces services. L'exemple de politique <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: refuser l'accès aux ressources Amazon S3 en dehors de votre compte, sauf AWS Data Exchange</a> montre comment refuser l'accès en fonction du compte de la ressource tout en définissant des exceptions pour les ressources appartenant au service.</p>
        <p>Utilisez cet exemple de politique comme modèle pour créer vos propres politiques personnalisées. Reportez-vous à votre <a href="https://docs.aws.amazon.com/index.html">documentation</a> de service pour plus d'informations.</p>
     
        <h2 id="condition-keys-resourceorgid">aws:ResourceOrgID</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'identifiant de l'organisation dans AWS Organizations à laquelle la ressource demandée appartient avec l'identifiant spécifié dans la politique.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé ne figure dans le contexte de la demande que si le compte qui possède la ressource est membre d'une organisation. Cette clé de condition globale ne prend pas en charge les actions suivantes :</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store : toutes les actions</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge : toutes les actions</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour des considérations supplémentaires concernant les actions non prises en charge ci-dessus, consultez le référentiel <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>Exemples de politiques relatives aux périmètres de données</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (français non garanti).</p></div></div>
        <p>Cette clé globale renvoie l'ID de l'organisation de la ressource pour une demande donnée. Elle vous permet de créer des règles qui s'appliquent à toutes les ressources d'une organisation qui sont spécifiées dans l'élément <code class="code">Resource</code> d'une <a href="./access_policies_identity-vs-resource.html">politique basée sur l'identité</a>. Vous pouvez spécifier l'<a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_org_details.html">ID de l'organisation</a> dans l'élément Condition. Lorsque vous ajoutez et supprimez des comptes, les politiques qui contiennent la clé <code class="code">aws:ResourceOrgID</code> incluent automatiquement les bons comptes et vous n'avez pas besoin de la mettre à jour manuellement.</p>
        <p>Par exemple, la politique suivante empêche le principal d'ajouter des objets à la ressource <code class="code">policy-genius-dev</code>, sauf si la ressource Amazon S3 appartient à la même organisation que le principal qui effectue la demande.</p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Cette politique ne permet aucune action. Au lieu de cela, elle utilise l'effet <code class="code">Deny</code> qui refuse explicitement l'accès à toutes les ressources répertoriées dans l'instruction n'appartenant pas au compte répertorié. Utilisez cette politique en combinaison avec d'autres politiques qui autorisent l'accès à des ressources spécifiques.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Sid": "DenyPutObjectToS3ResourcesOutsideMyOrganization",
    "Effect": "Deny",
    "Action": "s3:PutObject",
    "Resource": "arn:<code class="replaceable">partition</code>:s3:::policy-genius-dev/*",
    "Condition": <span>{</span>
      "StringNotEquals": <span>{</span>
        "aws:ResourceOrgID": "$<span>{</span>aws:PrincipalOrgID}"
      }
    }
  }
}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Certains Services AWS nécessitent l'accès à des ressources appartenant à AWS qui sont hébergées dans un autre Compte AWS. L'utilisation de <code class="code">aws:ResourceOrgID</code> dans vos politiques basées sur l'identité peut avoir un impact sur la capacité de votre identité à accéder à ces ressources.</p></div></div>
        
        <p>Certains services AWS, tels que AWS Data Exchange, dépendent de l'accès à des ressources en dehors de vos Comptes AWS pour les opérations normales. Si vous utilisez la clé <code class="code">aws:ResourceOrgID</code> dans vos politiques, incluez des déclarations supplémentaires afin de créer des dérogations pour ces services. L'exemple de politique <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: refuser l'accès aux ressources Amazon S3 en dehors de votre compte, sauf AWS Data Exchange</a> montre comment refuser l'accès en fonction du compte de la ressource tout en définissant des exceptions pour les ressources appartenant au service. Vous pouvez créer une politique similaire pour restreindre l'accès aux ressources de votre organisation à l'aide de la clé <code class="code">aws:ResourceOrgID</code>, tout en tenant compte des ressources appartenant au service.</p>
        <p>Utilisez cet exemple de politique comme modèle pour créer vos propres politiques personnalisées. Reportez-vous à votre <a href="https://docs.aws.amazon.com/index.html">documentation</a> de service pour plus d'informations.</p>
        
        <p>Dans la vidéo suivante, découvrez comment utiliser la clé de condition <code class="code">aws:ResourceOrgID</code> dans une politique.</p>
        <div class="mediaobject">
             
                <iframe width="720" height="330" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/cWVW0xAiWwc"></iframe>
             
             
        </div>
        
        
        
     
        <h2 id="condition-keys-resourceorgpaths">aws:ResourceOrgPaths</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le chemin d'accès d'AWS Organizations pour la ressource consultée avec le chemin d'accès spécifié dans la politique. Dans une politique, cette clé de condition vérifie que le demandeur est un membre du compte au sein de l'organisation racine ou des unités d'organisation spécifiées dans AWS Organizations. Un chemin AWS Organizations est une représentation textuelle de la structure d'une entité Organizations. Pour de plus amples informations sur l'utilisation et la compréhension des chemins, veuillez consulter <a href="./access_policies_access-advisor-view-data-orgs.html#access_policies_access-advisor-viewing-orgs-entity-path">Comprendre le chemin d'entité AWS Organizations</a>. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé ne figure dans le contexte de la demande que si le compte qui possède la ressource est membre d'une organisation. Cette clé de condition globale ne prend pas en charge les actions suivantes :</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store : toutes les actions</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge : toutes les actions</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur multiple</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Pour des considérations supplémentaires concernant les actions non prises en charge ci-dessus, consultez le référentiel <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>Exemples de politiques relatives aux périmètres de données</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> (français non garanti).</p></div></div>
        <p><code class="code">aws:ResourceOrgPaths</code> est une clé de condition à valeurs multiples. Les clés multivaluées peuvent avoir plusieurs valeurs dans le contexte de la demande. Vous devez utiliser les opérateurs d'ensemble <code class="code">ForAnyValue</code> ou <code class="code">ForAllValues</code> avec l'<a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateur de condition de chaîne</a> pour cette clé. Pour de plus amples informations sur les clés de condition à valeurs multiples, veuillez consulter <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilisation de plusieurs clés et valeurs</a>.</p>
        <p>Par exemple, la condition suivante renvoie <code class="code">True</code> pour les ressources qui appartiennent à l'organisation <code class="code">o-a1b2c3d4e5</code>. Lorsque vous incluez un caractère générique, vous devez utiliser l'opérateur de condition <a href="./reference_policies_elements_condition_operators.html">StringLike</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> 
      "ForAnyValue:StringLike": <span>{</span>
             "aws:ResourceOrgPaths":["o-a1b2c3d4e5/*"]
   }
}</code></pre>
        <p>La condition suivante renvoie <code class="code">True</code> pour les ressources avec l'ID d'unité d'organisation <code class="code">ou-ab12-11111111</code>. Elle correspond aux ressources détenues par les comptes rattachés à l'unité d'organisation ou-ab12-11111111 ou à l'une des unités d'organisation enfants.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:ResourceOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/*"]
}}</code></pre>
        <p>La condition suivante renvoie <code class="code">True</code> pour les ressources détenues par des comptes rattachés directement à l'ID d'unité d'organisation <code class="code">ou-ab12-22222222</code>, mais pas aux unités d'organisation enfants. L'exemple suivant utilise l'opérateur de condition <a href="./reference_policies_elements_condition_operators.html">StringEquals</a> pour spécifier l'exigence de correspondance exacte pour l'ID d'unité d'organisation et non une correspondance générique.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> "ForAnyValue:StringEquals" : <span>{</span>
     "aws:ResourceOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/"]
}}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Certains Services AWS nécessitent l'accès à des ressources appartenant à AWS qui sont hébergées dans un autre Compte AWS. L'utilisation de <code class="code">aws:ResourceOrgPaths</code> dans vos politiques basées sur l'identité peut avoir un impact sur la capacité de votre identité à accéder à ces ressources.</p></div></div>
        
        <p>Certains services AWS, tels que AWS Data Exchange, dépendent de l'accès à des ressources en dehors de vos Comptes AWS pour les opérations normales. Si vous utilisez la clé <code class="code">aws:ResourceOrgPaths</code> dans vos politiques, incluez des déclarations supplémentaires afin de créer des dérogations pour ces services. L'exemple de politique <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: refuser l'accès aux ressources Amazon S3 en dehors de votre compte, sauf AWS Data Exchange</a> montre comment refuser l'accès en fonction du compte de la ressource tout en définissant des exceptions pour les ressources appartenant au service. Vous pouvez créer une politique similaire pour restreindre l'accès aux ressources d'une unité d'organisation (UO) à l'aide de la clé <code class="code">aws:ResourceOrgPaths</code>, tout en tenant compte des ressources appartenant au service.</p>
        <p>Utilisez cet exemple de politique comme modèle pour créer vos propres politiques personnalisées. Reportez-vous à votre <a href="https://docs.aws.amazon.com/index.html">documentation</a> de service pour plus d'informations.</p>
     
        <h2 id="condition-keys-resourcetag">aws:ResourceTag/<em>tag-key</em></h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer la paire valeur clé d'étiquette que vous spécifiez dans la politique avec la paire valeur clé attachée à la ressource. Par exemple, vous pouvez exiger que l'accès à une ressource soit autorisé uniquement si la clé de balise <code class="code">"Dept"</code> est attachée à la ressource avec la valeur <code class="code">"Marketing"</code>. Pour de plus amples informations, veuillez consulter <a href="./access_tags.html#access_tags_control-resources">Contrôle de l'accès aux ressources AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé figure dans le contexte de la demande lorsque la ressource demandée possède déjà des balises attachées ou dans les demandes qui créent une ressource avec une balise attachée. Cette clé est renvoyée uniquement pour les ressources qui <a href="./reference_aws-services-that-work-with-iam.html">prennent en charge l'autorisation basée sur les balises</a>. Il y a une clé de contexte pour chaque paire clé-valeur de balise.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Cette clé de contexte est formatée selon le schéma <code class="code">"aws:ResourceTag/<code class="replaceable">tag-key</code>":"<code class="replaceable">tag-value</code>"</code>, où <code class="replaceable">tag-key</code> et <code class="replaceable">tag-value</code> représentent respectivement une clé de balise et une paire de valeurs. Les clés et les valeurs d'étiquette ne sont pas sensibles à la casse. Cela signifie que si vous spécifiez <code class="code">"aws:ResourceTag/TagKey1": "Value1"</code> dans l'élément de condition de votre politique, la condition correspond à une clé de balise de ressource nommée <code class="code">TagKey1</code> ou <code class="code">tagkey1</code>, mais pas aux deux.</p>
        <p>Pour obtenir des exemples d'utilisation de la clé <code class="code">aws:ResourceTag</code> pour contrôler l'accès aux ressources IAM, consultez la section <a href="./access_tags.html#access_tags_control-resources">Contrôle de l'accès aux ressources AWS</a>.</p>
        <p>Pour obtenir des exemples d'utilisation de la clé <code class="code">aws:ResourceTag</code> pour contrôler l'accès à d'autres ressources AWS, consultez la section <a href="./access_tags.html">Contrôle de l'accès aux ressources AWS à l'aide de balises</a>.</p>
        <p>Pour obtenir un didacticiel sur l'utilisation de la clé de condition <code class="code">aws:ResourceTag</code> pour le contrôle d'accès basé sur les attributs (ABAC), reportez-vous à la section <a href="./tutorial_attribute-based-access-control.html">Didacticiel IAM : définir les autorisations d'accès aux ressources AWS en fonction des balises</a>.</p>
     
        <h2 id="condition-keys-securetransport">aws:SecureTransport</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">opérateurs booléens</a>.</p>
        <p>Utilisez cette clé pour vérifier si une demande est envoyée avec SSL. Le contexte de la demande renvoie <code class="code">true</code> ou <code class="code">false</code>. Dans une politique, vous pouvez autoriser des actions spécifiques uniquement si la demande est envoyée avec SSL.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure toujours dans le contexte de la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-sourceaccount">aws:SourceAccount</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'ID de compte de la ressource effectuant une demande de service à service avec l'ID de compte que vous spécifiez dans la politique. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de demande uniquement si l'accès à une ressource déclenche l'appel d'un service AWS à un autre service au nom du propriétaire de la ressource. Le service appelant doit transmettre l'ID de compte de la ressource au service appelé. Cet ID de compte inclut l'ID du compte source.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Vous pouvez utiliser cette clé de condition pour empêcher un service AWS d'être utilisé en tant que <a href="./confused-deputy.html">député confus</a> lors de transactions entre services. Définissez la valeur de cette clé de condition sur le compte de la ressource dans la demande. Par exemple, lorsqu'une mise à jour du compartiment Amazon S3 déclenche une publication de rubrique Amazon SNS, le service Amazon S3 appelle l'opération d'API <code class="code">sns:Publish</code>. Dans la politique qui autorise l'opération <code class="code">sns:Publish</code>, définissez la valeur de la clé de condition sur l'ID de compte du compartiment Amazon S3. Pour de plus amples informations sur la façon et le moment de recommander ces clés de condition, consultez la documentation relative aux services AWS que vous utilisez.</p>
     
        <h2 id="condition-keys-sourcearn">aws:SourceArn</h2>
        <p>Fonctionne avec <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">Opérateurs ARN</a> et <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>. AWS recommande d'utiliser des opérateurs ARN plutôt que des opérateurs de chaîne lors de la comparaison des ARN.</p>
        <p>Utilisez cette clé pour comparer l'<a href="./reference_identifiers.html#identifiers-arns">Amazon Resource Name (ARN)</a> de la ressource effectuant une demande de service à service avec l'ARN que vous spécifiez dans la politique. </p>
        <p>Cette clé ne fonctionne pas avec l'ARN du principal qui fait la demande. Utilisez à la place <a href="#condition-keys-principalarn">aws:PrincipalArn</a>. L'ARN de la source inclut l'ID de compte. Il n'est donc pas nécessaire d'utiliser <code class="code">aws:SourceAccount</code> avec <code class="code">aws:SourceArn</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de demande uniquement si l'accès à une ressource déclenche l'appel d'un service AWS à un autre service au nom du propriétaire de la ressource. Le service appelant doit transmettre l'ARN de la ressource d'origine au service appelé.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Vous pouvez utiliser cette clé de condition pour empêcher un service AWS d'être utilisé en tant que <a href="./confused-deputy.html">député confus</a> lors de transactions entre services. Définissez la valeur de cette clé de condition sur l'ARN de la ressource dans la demande. Par exemple, lorsqu'une mise à jour du compartiment Amazon S3 déclenche une publication de rubrique Amazon SNS, le service Amazon S3 appelle l'opération d'API <code class="code">sns:Publish</code>. Dans la politique qui autorise l'opération <code class="code">sns:Publish</code>, définissez la valeur de la clé de condition sur l'ARN du compartiment Amazon S3. Pour de plus amples informations sur la façon et le moment de recommander ces clés de condition, consultez la documentation relative aux services AWS que vous utilisez.</p>
     
        <h2 id="condition-keys-sourceidentity">aws:SourceIdentity</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'identité source qui a été définie par le principal à l'identité source que vous spécifiez dans la politique. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé est incluse dans le contexte de la demande après qu'une identité source a été définie lorsqu'un rôle est endossé au moyen d'une commande de la CLI assume-role AWS STS ou d'une opération d'API <code class="code">AssumeRole</code> AWS STS.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Vous pouvez utiliser cette clé dans une politique pour autoriser des actions dans AWS par les principaux qui ont défini une identité source lorsqu'ils ont endossé un rôle. L'activité pour l'identité source spécifiée du rôle apparaît dans <a href="./cloudtrail-integration.html#cloudtrail-integration_signin-tempcreds">AWS CloudTrail</a>. Cela permet aux administrateurs de déterminer plus facilement qui ou quoi a effectué des actions avec un rôle dans AWS.</p>
        <p>Contrairement à <a href="./reference_policies_iam-condition-keys.html#ck_rolesessionname">sts:RoleSessionName</a>, une fois l'identité source définie, la valeur ne peut plus être modifiée. Elle est présente dans le contexte de la demande pour toutes les actions entreprises par le rôle. La valeur persiste dans les sessions de rôle suivantes lorsque vous utilisez les informations d'identification de session pour endosser un autre rôle. Le fait d'endosser un rôle à partir d'un autre est appelé <a href="./id_roles_terms-and-concepts.html#iam-term-role-chaining">chaînage des rôles</a>. </p>
        <p>La clé <a href="./reference_policies_iam-condition-keys.html#ck_sourceidentity">sts:SourceIdentity</a> est présente dans la demande lorsque le principal définit initialement une identité source lorsqu'il endosse un rôle au moyen d'une commande de la CLI assume-role AWS STS ou d'une opération d'API <code class="code">AssumeRole</code> AWS STS. La clé <code class="code">aws:SourceIdentity</code> est présente dans la demande pour toutes les actions qui sont effectuées avec une session de rôle disposant d'un ensemble d'identités source.</p>
        <p>La politique de confiance de rôle suivante pour <code class="code">CriticalRole</code> dans un compte <code class="code">111122223333</code> contient une condition pour <code class="code">aws:SourceIdentity</code> qui empêche un principal sans identité source définie sur Saanvi ou Diego d'endosser le rôle.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AssumeRoleIfSourceIdentity",
            "Effect": "Allow",
            "Principal": <span>{</span>"AWS": "arn:aws:iam::123456789012:role/CriticalRole"},
            "Action": [
                "sts:AssumeRole",
                "sts:SetSourceIdentity"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "aws:SourceIdentity": ["Saanvi","Diego"]
                }
            }
        }
    ]
}
</code></pre>
        <p>Pour en savoir plus sur les informations relatives à l'identité source, veuillez consulter <a href="./id_credentials_temp_control-access_monitor.html">Surveiller et contrôler les actions prises avec les rôles endossés</a>.</p>
     
        <h2 id="condition-keys-sourceip">aws:SourceIp</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">opérateurs d'adresse IP</a>.</p>
        <p>Utilisez cette clé pour comparer l'adresse IP du demandeur avec celle spécifiée dans la politique. La clé de condition <code class="code">aws:SourceIp</code> ne peut être utilisée que pour les plages d'adresses IP publiques.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande, sauf lorsque le demandeur utilise un point de terminaison VPC pour effectuer la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>La clé de condition <code class="code">aws:SourceIp</code> peut être utilisée dans une politique pour autoriser des principaux à effectuer des demandes uniquement dans une plage IP spécifiée. Toutefois, cette politique refuse l'accès si un service AWS effectue des appels au nom du principal. Dans ce cas, vous pouvez utiliser <code class="code">aws:SourceIp</code> avec la clé <code class="code"><a href="#condition-keys-viaawsservice">aws:ViaAWSService</a></code> pour vous assurer que la restriction d'IP source s'applique uniquement aux demandes faites directement par un principal. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p> <code class="code">aws:SourceIp</code> prend en charge des adresses ou une plage d’adresses IP IPv4 et IPv6. Pour plus de détails, consultez la section <a href="https://docs.aws.amazon.com/marketplace/latest/buyerguide/buyer-security-ipv6-upgrade.html">Mettre à niveau les politiques IAM vers IPv6</a>.</p></div></div>
        <p>Par exemple, vous pouvez attacher la politique suivante à un utilisateur IAM. Cette politique permet à l'utilisateur de placer directement un objet dans le compartiment Amazon S3 <code class="code"><code class="replaceable">DOC-EXAMPLE-BUCKET3</code></code> si l'appel est effectué à partir de l'adresse IP spécifiée. Toutefois, si l'utilisateur effectue une autre demande qui provoque l'appel à Amazon S3 par un service, la restriction d'adresse IP ne s'applique pas. L'instruction <code class="code">PrincipalPutObjectIfIpAddress</code> restreint l'adresse IP uniquement si la demande n'est pas effectuée par un service. L'instruction <code class="code">ServicePutObject</code> autorise l'opération sans restriction d'adresse IP si la demande est effectuée par un service.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Texte"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "PrincipalPutObjectIfIpAddress",
            "Effect": "Allow",
            "Action": "s3:PutObject",
            "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET3</code>/*",
            "Condition": <span>{</span>
                "Bool": <span>{</span>"aws:ViaAWSService": "false"},
                "IpAddress": <span>{</span>"aws:SourceIp": "<code class="replaceable">203.0.113.0</code>"}
            }
        },
        <span>{</span>
            "Sid": "ServicePutObject",
            "Effect": "Allow",
            "Action": "s3:PutObject",
            "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/*",
            "Condition": <span>{</span>
                "Bool": <span>{</span>"aws:ViaAWSService": "true"}
            }
        }
    ]
}</code></pre>
        <p>Si la demande provient d'un hôte qui utilise un point de terminaison Amazon VPC, la clé <code class="code">aws:SourceIp</code> n'est pas disponible. Vous devez plutôt utiliser une clé spécifique au VPC telle que aws:VpcSourceIp. Pour plus d'informations sur l'utilisation des points de terminaison d'un VPC, veuillez consulter la rubrique <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-iam.html">Gestion des identités et des accès pour les points de terminaison d'un VPC et les services de points de terminaison d'un VPC</a> dans le <em>Guide AWS PrivateLink</em>.</p>
     
        <h2 id="condition-keys-sourcevpc">aws:SourceVpc</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour vérifier si la demande provient du VPC spécifiée dans la politique. Dans une politique, vous pouvez utiliser cette clé pour autoriser l'accès à un seul VPC spécifique. Pour de plus amples informations, veuillez consulter <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html#example-bucket-policies-restrict-access-vpc">Restriction de l'accès à un VPC spécifique</a> dans le <em>Guide de l'utilisateur service de stockage simple Amazon</em>. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande uniquement si le demandeur utilise un point de terminaison de VPC pour effectuer la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-sourcevpce">aws:SourceVpce</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'identifiant du point de terminaison de VPC de la demande avec l'ID du point de terminaison spécifié dans la politique. Dans une politique, vous pouvez utiliser cette clé pour restreindre l'accès à un point de terminaison de VPC spécifique. Pour plus d'informations, veuillez consulter <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html#example-bucket-policies-restrict-access-vpc-endpoint">Restriction de l'accès à un point de terminaison d'un VPC spécifique</a> dans le <em>Guide de l'utilisateur service de stockage simple Amazon</em>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande uniquement si le demandeur utilise un point de terminaison de VPC pour effectuer la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-tagkeys">aws:TagKeys</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer les clés de balise d'une demande avec celles spécifiées dans la politique. Nous vous recommandons, lorsque vous utilisez des politiques pour contrôler l'accès à l'aide de balises, d'utiliser la clé de condition <code class="code">aws:TagKeys</code> pour définir quelles clés de balises sont autorisées. Pour obtenir des exemples de stratégie et de plus amples informations, veuillez consulter <a href="./access_tags.html#access_tags_control-tag-keys">Contrôle de l'accès en fonction des clés de balise</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé figure dans le contexte de la demande si l'opération prend en charge le passage de balises dans la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeurs multiples</p>
            </li></ul></div>
        <p>Cette clé de contexte est formatée selon le schéma <code class="code">"aws:TagKeys":"<code class="replaceable">tag-key</code>"</code>, où <code class="replaceable">tag-key</code> est une liste de clés d'étiquette sans valeur (par exemple, <code class="code">["Dept","Cost-Center"]</code>).</p>
        <p>Étant donné que vous pouvez inclure plusieurs paires clé-valeur de balise dans une demande, le contenu de la demande peut être une demande <a href="./reference_policies_multi-value-conditions.html">à valeurs multiples</a>. Dans ce cas, vous devez utiliser le opérateurs d'ensemble <code class="code">ForAllValues</code> ou <code class="code">ForAnyValue</code>. Pour plus d'informations, veuillez consulter <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilisation de plusieurs clés et valeurs</a>.</p>
        <p>Certains services prennent en charge le balisage avec des opérations de ressource, comme la création, la modification ou de la suppression d'une ressource. Pour autoriser le balisage et les opérations sous la forme d'un seul appel, vous devez créer une politique qui inclut à la fois l'action de balisage et celle de modification de ressource. Vous pouvez ensuite utiliser la clé de condition <code class="code">aws:TagKeys</code> pour imposer l'utilisation de clés de balise spécifiques dans la demande. Par exemple, pour limiter les balises lorsque quelqu'un crée un instantané Amazon EC2, vous devez inclure l'action de création <code class="code">ec2:CreateSnapshot</code> <em><b>et</b></em> l'action de balisage <code class="code">ec2:CreateTags</code> dans la politique. Pour afficher une politique correspondant à ce scénario, qui utilise <code class="code">aws:TagKeys</code>, veuillez consulter <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ExamplePolicies_EC2.html#iam-creating-snapshot-with-tags">Création d'un instantané avec des balises</a> dans le <em>Guide de l'utilisateur Amazon EC2 pour instances Linux</em>. </p>
     
        <h2 id="condition-keys-tokenissuetime">aws:TokenIssueTime</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">opérateurs de date</a>.</p>
        <p>Utilisez cette clé pour comparer la date et l'heure d'émission des informations d'identification de sécurité temporaires avec celles spécifiées dans la politique. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure dans le contexte de la demande uniquement lorsque le principal utilise des informations d'identification temporaires pour effectuer la demande. La clé n'est pas présente dans les demandes de la AWS CLI, de l'API AWS ou du kit SDK AWS effectuées à l'aide de clés d'accès.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Pour savoir quels services prennent en charge l'utilisation d'informations d'identification temporaires, consultez <a href="./reference_aws-services-that-work-with-iam.html">Services AWS qui fonctionnent avec IAM</a>.</p>
     
        <h2 id="condition-keys-useragent">aws:UserAgent</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'application cliente du demandeur avec l'application spécifiée dans la politique.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure toujours dans le contexte de la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Avertissement</h6></div><div class="awsdocs-note-text"><p>Utilisez cette clé avec précaution. Dans la mesure où le principal fournit la valeur <code class="code">aws:UserAgent</code> dans un en-tête HTTP, les tiers non autorisés peuvent modifier ou personnaliser les navigateurs de manière à fournir n'importe quelle valeur <code class="code">aws:UserAgent</code>. Pour cette raison, il est recommandé de ne pas utiliser <code class="code">aws:UserAgent</code> pour empêcher les tiers non autorisés d'effectuer directement des demandes AWS. Vous pouvez l'utiliser pour autoriser uniquement les applications clientes spécifiques, et uniquement après avoir testé votre politique.</p></div></div>
     
        <h2 id="condition-keys-userid">aws:userid</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer l'identifiant principal du demandeur avec l'ID spécifié dans la politique. Pour les utilisateurs IAM, la valeur du contexte de la demande est l'ID utilisateur. Pour les rôles IAM, ce format de valeur peut varier. Pour de plus amples informations sur l'ajout de principaux, veuillez consulter <a href="./reference_policies_elements_principal.html#Principal_specifying">Spécification d'un principal</a>. Pour des exemples spécifiques de valeurs clés <code class="code">principal</code>, veuillez consulter <a href="./reference_policies_variables.html#principaltable">Valeurs de la clé du principal</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilité</b> : cette clé figure dans le contexte de la demande pour toutes les demandes, y compris les requêtes anonymes.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-username">aws:username</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_String">opérateurs de chaîne</a>.</p>
        <p>Utilisez cette clé pour comparer le nom d'utilisateur du demandeur avec celui spécifié dans la politique. Pour de plus amples informations sur l'ajout de principaux, veuillez consulter <a href="./reference_policies_elements_principal.html#Principal_specifying">Spécification d'un principal</a>. Pour des exemples spécifiques de valeurs clés <code class="code">principal</code>, veuillez consulter <a href="./reference_policies_variables.html#principaltable">Valeurs de la clé du principal</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure toujours dans le contexte de la demande pour les utilisateurs IAM. Les demandes anonymes et les demandes effectuées à l'aide de l'Utilisateur racine d'un compte AWS ou des rôles IAM n'incluent pas cette clé. Les requêtes effectuées à l'aide des informations d'identification IAM Identity Center n'incluent pas cette clé dans le contexte. Pour découvrir comment contrôler l'accès des utilisateurss IAM Identity Center, consultez <code class="code">identitystore:UserId</code> dans <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/using-predefined-attributes.html">Utilisation d'attributs prédéfinis du centre d'identités IAM pour le contrôle d'accès dans AWS</a>. Les utilisateurs d'IAM Identity Center sont les personnes de votre personnel qui ont besoin d'accéder à vos Comptes AWS ou à vos applications cloud.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
     
        <h2 id="condition-keys-viaawsservice">aws:ViaAWSService</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">opérateurs booléens</a>.</p>
        <p>Utilisez cette clé pour vérifier si un service AWS effectue une demande à un autre service en votre nom.</p>
        <p>La clé de contexte de demande renvoie <code class="code">true</code> lorsqu'un service utilise les informations d'identification d'un principal IAM pour effectuer une demande au nom du principal. La clé de contexte renvoie <code class="code">false</code> si le service utilise un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">rôle de service</a> ou un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">rôle lié à un service</a> pour effectuer un appel au nom du principal. La clé de contexte de demande renvoie également <code class="code">false</code> lorsque le principal effectue l'appel directement.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé figure toujours dans le contexte de la demande.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Vous pouvez utiliser cette clé de condition pour autoriser ou refuser l'accès selon qu'une demande a été effectuée par un service. Pour accéder à un exemple de politique, veuillez consulter <a href="./reference_policies_examples_aws_deny-ip.html">AWS : refuse l'accès à AWS en fonction de l'adresse IP source</a>.</p>
     
        <h2 id="condition-keys-vpcsourceip">aws:VpcSourceIp</h2>
        <p>Fonctionne avec des <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">opérateurs d'adresse IP</a>.</p>
        <p>Utilisez cette clé pour comparer l'adresse IP à partir de laquelle une demande a été effectuée avec celle spécifiée dans la politique. Dans une politique, la clé ne correspond que si la demande provient de l'adresse IP spécifiée et qu'elle passe par un point de terminaison de VPC.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Availability</b> (Disponibilité) : cette clé ne figure dans le contexte de la demande que si la demande est effectuée à l'aide d'un point de terminaison de VPC.</p>
            </li><li class="listitem">
                <p><b>Type de valeur</b> – À valeur unique</p>
            </li></ul></div>
        <p>Pour en savoir plus, consultez <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints-access.html">Contrôle de l'accès aux services avec des points de terminaison d'un VPC</a> dans le <em>guide de l'utilisateur Amazon VPC</em>.</p>
     
        <h2 id="condition-keys-other">Autres clés de condition inter-services</h2>
        <p>Les clés de condition générales sont des clés de condition avec un préfixe <code class="code">aws:</code>. Chaque service peut créer ses propres clés de condition. Ces clés de condition spécifiques au service incluent un préfixe correspondant au nom du service, tel que <code class="code">iam:</code> ou <code class="code">sts:</code>.</p>
        <p>Les services peuvent créer des clés spécifiques au service qui sont disponibles dans le contexte de demande pour d'autres services. Ces clés sont disponibles sur plusieurs services, mais ne sont pas des clés de condition générales. Par exemple, AWS STS prend en charge les <a href="./reference_policies_iam-condition-keys.html#condition-keys-saml">clés de condition de fédération basées sur SAML</a>. Ces clés sont disponibles lorsqu'un utilisateur qui a été fédéré à l'aide de SAML effectue des opérations AWS dans d'autres services. <code class="code"><a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/using-predefined-attributes.html">identitystore:UserId</a></code> et <code class="code"><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-policy-structure.html#amazon-ec2-keys">ec2:SourceInstanceArn</a></code> sont deux autres exemples.</p>
        <p>Pour afficher les clés de condition spécifiques au service d'un service, consultez la section <a href="https://docs.aws.amazon.com/service-authorization/latest/reference/reference_policies_actions-resources-contextkeys.html">Actions, ressources et clés de condition pour les services AWS</a> et sélectionnez le service dont vous souhaitez afficher les clés.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avertissement" /> <strong>JavaScript est désactivé ou n'est pas disponible dans votre navigateur.</strong></p><p>Pour que vous puissiez utiliser la documentation AWS, Javascript doit être activé. Vous trouverez des instructions sur les pages d'aide de votre navigateur.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Conventions de rédaction</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./access_policies_job-functions_create-policies.html">Création des rôles et association des politiques (console)</div><div id="next" class="next-link" accesskey="n" href="./reference_policies_iam-condition-keys.html">Clés de condition IAM</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Oui</div><div class="content"><p>Merci de nous avoir fait part de votre satisfaction.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer ce qui vous a plu afin que nous puissions nous améliorer davantage.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Cette page vous a-t-elle été utile ? - Non</div><div class="content"><p>Merci de nous avoir avertis que cette page avait besoin d'être retravaillée. Nous sommes désolés de ne pas avoir répondu à vos attentes.</p><p>Si vous avez quelques minutes à nous consacrer, merci de nous indiquer comment nous pourrions améliorer cette documentation.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Commentaire" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>