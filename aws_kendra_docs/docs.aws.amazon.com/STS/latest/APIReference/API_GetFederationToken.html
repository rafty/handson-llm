<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>GetFederationToken - AWS Security Token Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="API_GetFederationToken" /><meta name="default_state" content="API_GetFederationToken" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html" /><meta name="description" content="Returns a set of temporary security credentials (consisting of an access key ID, a secret access key, and a security token) for a user. A typical use is in a proxy application that gets temporary security credentials on behalf of distributed applications inside a corporate network." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Security Token Service" /><meta name="guide" content="API Reference" /><meta name="abstract" content="AWS Security Token Service (AWS STS) enables you to request temporary, limited-privilege credentials for users. This guide provides descriptions of the AWS STS API. For more information about using this service, see Temporary Security Credentials." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/STS/latest/APIReference/API_GetFederationToken.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/STS/latest/APIReference/API_GetFederationToken.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/STS/latest/APIReference/API_GetFederationToken.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/STS/latest/APIReference/API_GetFederationToken.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/STS/latest/APIReference/API_GetFederationToken.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/STS/latest/APIReference/API_GetFederationToken.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/STS/latest/APIReference/API_GetFederationToken.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/STS/latest/APIReference/API_GetFederationToken.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/STS/latest/APIReference/API_GetFederationToken.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/STS/latest/APIReference/API_GetFederationToken.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/STS/latest/APIReference/API_GetFederationToken.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/STS/latest/APIReference/API_GetFederationToken.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/STS/latest/APIReference/API_GetFederationToken.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/STS/latest/APIReference/API_GetFederationToken.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/STS/latest/APIReference/API_GetFederationToken.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/STS/latest/APIReference/API_GetFederationToken.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/STS/latest/APIReference/API_GetFederationToken.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/STS/latest/APIReference/API_GetFederationToken.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/STS/latest/APIReference/API_GetFederationToken.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Security Token Service" /><meta name="this_doc_guide" content="API Reference" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="API Reference" /><meta id="panorama-serviceConsolePage" value="GetFederationToken" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>GetFederationToken - AWS Security Token Service</title><meta name="pdf" content="/pdfs/STS/latest/APIReference/sts-api.pdf#API_GetFederationToken" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/en_us/STS/latest/APIReference/API_GetFederationToken.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/STS/latest/APIReference/API_GetFederationToken.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/STS/latest/APIReference/API_GetFederationToken.html" /><meta name="keywords" content="API,requests,GetFederationToken" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Security Token Service",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "API Reference",
        "item" : "https://docs.aws.amazon.com/STS/latest/APIReference"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Actions",
        "item" : "https://docs.aws.amazon.com/STS/latest/APIReference/API_Operations.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "GetFederationToken",
        "item" : "https://docs.aws.amazon.com/STS/latest/APIReference/API_Operations.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/STS/latest/APIReference/sts-api.pdf#API_GetFederationToken" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/iam/index.html">AWS Security Token Service</a><a href="welcome.html">API Reference</a></div><div id="page-toc-src"><a href="#API_GetFederationToken_RequestParameters">Request Parameters</a><a href="#API_GetFederationToken_ResponseElements">Response Elements</a><a href="#API_GetFederationToken_Errors">Errors</a><a href="#API_GetFederationToken_Examples">Examples</a><a href="#API_GetFederationToken_SeeAlso">See Also</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="API_GetFederationToken">GetFederationToken</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Returns a set of temporary security credentials (consisting of an access key ID, a
         secret access key, and a security token) for a user. A typical use is in a proxy
         application that gets temporary security credentials on behalf of distributed applications
         inside a corporate network.</p><p>You must call the <code class="code">GetFederationToken</code> operation
         using the long-term security credentials of an IAM user. As a result, this call is
         appropriate in contexts where those credentials can be safeguarded, usually in a
         server-based application. For a comparison of <code class="code">GetFederationToken</code> with the
         other API operations that produce temporary credentials, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html">Requesting Temporary Security
            Credentials</a> and <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html#stsapi_comparison">Comparing the
            AWS STS API operations</a> in the <em>IAM User Guide</em>.</p><p>Although it is possible to call <code class="code">GetFederationToken</code> using the security credentials of an
         AWS account root user rather than an IAM user that you create for the purpose of a proxy application, we do not recommend it. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#lock-away-credentials">Safeguard your root user credentials and don't use them for everyday tasks</a> in the
         <em>IAM User Guide</em>. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can create a mobile-based or browser-based app that can authenticate users using
            a web identity provider like Login with Amazon, Facebook, Google, or an OpenID
            Connect-compatible identity provider. In this case, we recommend that you use <a href="http://aws.amazon.com/cognito/" rel="noopener noreferrer" target="_blank"><span>Amazon Cognito</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> or
               <code class="code">AssumeRoleWithWebIdentity</code>. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html#api_assumerolewithwebidentity">Federation Through a Web-based Identity Provider</a> in the
               <em>IAM User Guide</em>.</p></div></div><p>
      <b>Session duration</b>
   </p><p>The temporary credentials are valid for the specified duration, from 900 seconds (15
         minutes) up to a maximum of 129,600 seconds (36 hours). The default session duration is
         43,200 seconds (12 hours). Temporary credentials obtained by using the root user credentials have a maximum duration of 3,600 seconds (1 hour).</p><p>
      <b>Permissions</b>
   </p><p>You can use the temporary credentials created by <code class="code">GetFederationToken</code> in any
         AWS service with the following exceptions:</p><div class="itemizedlist">
       
       
   <ul class="itemizedlist"><li class="listitem">
         <p>You cannot call any IAM operations using the AWS CLI or the AWS API. This limitation does not apply to console sessions.</p>
      </li><li class="listitem">
         <p>You cannot call any AWS STS operations except <code class="code">GetCallerIdentity</code>.</p>
      </li></ul></div><p>You can use temporary credentials for single sign-on (SSO) to the console.</p><p>You must pass an inline or managed <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">session policy</a> to
         this operation. You can pass a single JSON policy document to use as an inline session
         policy. You can also specify up to 10 managed policy Amazon Resource Names (ARNs) to use as
         managed session policies. The plaintext that you use for both inline and managed session
         policies can't exceed 2,048 characters.</p><p>Though the session policy parameters are optional, if you do not pass a policy, then the
         resulting federated user session has no permissions. When you pass session policies, the
         session permissions are the intersection of the IAM user policies and the session
         policies that you pass. This gives you a way to further restrict the permissions for a
         federated user. You cannot use session policies to grant more permissions than those that
         are defined in the permissions policy of the IAM user. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">Session
            Policies</a> in the <em>IAM User Guide</em>. For information about
         using <code class="code">GetFederationToken</code> to create temporary security credentials, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html#api_getfederationtoken">GetFederationToken—Federation Through a Custom Identity Broker</a>. </p><p>You can use the credentials to access a resource that has a resource-based policy. If
         that policy specifically references the federated user session in the
            <code class="code">Principal</code> element of the policy, the session has the permissions allowed by
         the policy. These permissions are granted in addition to the permissions granted by the
         session policies.</p><p>
      <b>Tags</b>
   </p><p>(Optional) You can pass tag key-value pairs to your session. These are called session
         tags. For more information about session tags, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_session-tags.html">Passing Session Tags in AWS STS</a> in the
            <em>IAM User Guide</em>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can create a mobile-based or browser-based app that can authenticate users using
            a web identity provider like Login with Amazon, Facebook, Google, or an OpenID
            Connect-compatible identity provider. In this case, we recommend that you use <a href="http://aws.amazon.com/cognito/" rel="noopener noreferrer" target="_blank"><span>Amazon Cognito</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> or
               <code class="code">AssumeRoleWithWebIdentity</code>. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_request.html#api_assumerolewithwebidentity">Federation Through a Web-based Identity Provider</a> in the
               <em>IAM User Guide</em>.</p></div></div><p>An administrator must grant you the permissions necessary to pass session tags. The
         administrator can also create granular permissions to allow you to pass only specific
         session tags. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_attribute-based-access-control.html">Tutorial: Using Tags
            for Attribute-Based Access Control</a> in the
         <em>IAM User Guide</em>.</p><p>Tag key–value pairs are not case sensitive, but case is preserved. This means that you
         cannot have separate <code class="code">Department</code> and <code class="code">department</code> tag keys. Assume
         that the user that you are federating has the
            <code class="code">Department</code>=<code class="code">Marketing</code> tag and you pass the
            <code class="code">department</code>=<code class="code">engineering</code> session tag. <code class="code">Department</code>
         and <code class="code">department</code> are not saved as separate tags, and the session tag passed in
         the request takes precedence over the user tag.</p>
      <h2 id="API_GetFederationToken_RequestParameters">Request Parameters</h2>
      <p> For information about the parameters that are common to all actions, see <a href="./CommonParameters.html">Common Parameters</a>.</p>
      <div class="variablelist">
          
          
          
          
          
      <dl>
            <dt><span class="term">
               <b>
                  DurationSeconds
               </b>
            </span></dt>
            <dd>
               <p>The duration, in seconds, that the session should last. Acceptable durations for
         federation sessions range from 900 seconds (15 minutes) to 129,600 seconds (36 hours), with
         43,200 seconds (12 hours) as the default. Sessions obtained using root user
         credentials are restricted to a maximum of 3,600 seconds (one hour). If the specified
         duration is longer than one hour, the session obtained by using root user credentials
         defaults to one hour.</p>
               <p>Type: Integer</p>
               <p>Valid Range: Minimum value of 900. Maximum value of 129600.</p>
               <p>Required: No</p>
            </dd>
          
            <dt><span class="term">
               <b>
                  Name
               </b>
            </span></dt>
            <dd>
               <p>The name of the federated user. The name is used as an identifier for the temporary
         security credentials (such as <code class="code">Bob</code>). For example, you can reference the
         federated user name in a resource-based policy, such as in an Amazon S3 bucket policy.</p>
               <p>The regex used to validate this parameter is a string of characters 
    consisting of upper- and lower-case alphanumeric characters with no spaces. You can 
    also include underscores or any of the following characters: =,.@-</p>
               <p>Type: String</p>
               <p>Length Constraints: Minimum length of 2. Maximum length of 32.</p>
               <p>Pattern: <code class="code">[\w+=,.@-]*</code>
               </p>
               <p>Required: Yes</p>
            </dd>
          
            <dt><span class="term">
               <b>
                  Policy
               </b>
            </span></dt>
            <dd>
               <p>An IAM policy in JSON format that you want to use as an inline session policy.</p>
               <p>You must pass an inline or managed <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">session policy</a> to
         this operation. You can pass a single JSON policy document to use as an inline session
         policy. You can also specify up to 10 managed policy Amazon Resource Names (ARNs) to use as
         managed session policies.</p>
               <p>This parameter is optional. However, if you do not pass any session policies, then the
         resulting federated user session has no permissions.</p>
               <p>When you pass session policies, the session permissions are the intersection of the
         IAM user policies and the session policies that you pass. This gives you a way to further
         restrict the permissions for a federated user. You cannot use session policies to grant
         more permissions than those that are defined in the permissions policy of the IAM user.
         For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">Session Policies</a> in
         the <em>IAM User Guide</em>.</p>
               <p>The resulting credentials can be used to access a resource that has a resource-based
         policy. If that policy specifically references the federated user session in the
            <code class="code">Principal</code> element of the policy, the session has the permissions allowed by
         the policy. These permissions are granted in addition to the permissions that are granted
         by the session policies.</p>
               <p>The plaintext that you use for both inline and managed session policies can't exceed
         2,048 characters. The JSON policy characters can be any ASCII character from the space
         character to the end of the valid character list (\u0020 through \u00FF). It can also
         include the tab (\u0009), linefeed (\u000A), and carriage return (\u000D)
         characters.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>An AWS conversion compresses the passed inline session policy, managed policy ARNs,
            and session tags into a packed binary format that has a separate limit. Your request can
            fail for this limit even if your plaintext meets the other requirements. The
               <code class="code">PackedPolicySize</code> response element indicates by percentage how close the
            policies and tags for your request are to the upper size limit.</p></div></div>
               <p>Type: String</p>
               <p>Length Constraints: Minimum length of 1. Maximum length of 2048.</p>
               <p>Pattern: <code class="code">[\u0009\u000A\u000D\u0020-\u00FF]+</code>
               </p>
               <p>Required: No</p>
            </dd>
          
            <dt><span class="term">
               <b>PolicyArns.member.N</b>
            </span></dt>
            <dd>
               <p>The Amazon Resource Names (ARNs) of the IAM managed policies that you want to use as a
         managed session policy. The policies must exist in the same account as the IAM user that
         is requesting federated access.</p>
               <p>You must pass an inline or managed <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">session policy</a> to
         this operation. You can pass a single JSON policy document to use as an inline session
         policy. You can also specify up to 10 managed policy Amazon Resource Names (ARNs) to use as
         managed session policies. The plaintext that you use for both inline and managed session
         policies can't exceed 2,048 characters. You can provide up to 10 managed policy ARNs. For
         more information about ARNs, see <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">Amazon Resource Names (ARNs) and AWS
            Service Namespaces</a> in the AWS General Reference.</p>
               <p>This parameter is optional. However, if you do not pass any session policies, then the
         resulting federated user session has no permissions.</p>
               <p>When you pass session policies, the session permissions are the intersection of the
         IAM user policies and the session policies that you pass. This gives you a way to further
         restrict the permissions for a federated user. You cannot use session policies to grant
         more permissions than those that are defined in the permissions policy of the IAM user.
         For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">Session Policies</a> in
         the <em>IAM User Guide</em>.</p>
               <p>The resulting credentials can be used to access a resource that has a resource-based
         policy. If that policy specifically references the federated user session in the
            <code class="code">Principal</code> element of the policy, the session has the permissions allowed by
         the policy. These permissions are granted in addition to the permissions that are granted
         by the session policies.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>An AWS conversion compresses the passed inline session policy, managed policy ARNs,
            and session tags into a packed binary format that has a separate limit. Your request can
            fail for this limit even if your plaintext meets the other requirements. The
               <code class="code">PackedPolicySize</code> response element indicates by percentage how close the
            policies and tags for your request are to the upper size limit.</p></div></div>
               <p>Type: Array of <a href="./API_PolicyDescriptorType.html">PolicyDescriptorType</a> objects</p>
               <p>Required: No</p>
            </dd>
          
            <dt><span class="term">
               <b>Tags.member.N</b>
            </span></dt>
            <dd>
               <p>A list of session tags. Each session tag consists of a key name and an associated value.
         For more information about session tags, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_session-tags.html">Passing Session Tags in AWS STS</a> in the
            <em>IAM User Guide</em>.</p>
               <p>This parameter is optional. You can pass up to 50 session tags. The plaintext session
         tag keys can’t exceed 128 characters and the values can’t exceed 256 characters. For these
         and additional limits, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_iam-limits.html#reference_iam-limits-entity-length">IAM
            and AWS STS Character Limits</a> in the <em>IAM User Guide</em>.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>An AWS conversion compresses the passed inline session policy, managed policy ARNs,
            and session tags into a packed binary format that has a separate limit. Your request can
            fail for this limit even if your plaintext meets the other requirements. The
               <code class="code">PackedPolicySize</code> response element indicates by percentage how close the
            policies and tags for your request are to the upper size limit.</p></div></div>
               <p>You can pass a session tag with the same key as a tag that is already attached to the
         user you are federating. When you do, session tags override a user tag with the same key. </p>
               <p>Tag key–value pairs are not case sensitive, but case is preserved. This means that you
         cannot have separate <code class="code">Department</code> and <code class="code">department</code> tag keys. Assume
         that the role has the <code class="code">Department</code>=<code class="code">Marketing</code> tag and you pass the
            <code class="code">department</code>=<code class="code">engineering</code> session tag. <code class="code">Department</code>
         and <code class="code">department</code> are not saved as separate tags, and the session tag passed in
         the request takes precedence over the role tag.</p>
               <p>Type: Array of <a href="./API_Tag.html">Tag</a> objects</p>
               <p>Array Members: Maximum number of 50 items.</p>
               <p>Required: No</p>
            </dd>
         </dl></div>
    
      <h2 id="API_GetFederationToken_ResponseElements">Response Elements</h2>
      <p>The following elements are returned by the service.</p>
      <div class="variablelist">
          
          
          
      <dl>
            <dt><span class="term">
               <b>
                  Credentials
               </b>
            </span></dt>
            <dd>
               <p>The temporary security credentials, which include an access key ID, a secret access key,
         and a security (or session) token.</p>
               <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The size of the security token that AWS STS API operations return is not fixed. We
        strongly recommend that you make no assumptions about the maximum size.</p></div></div>
               <p>Type: <a href="./API_Credentials.html">Credentials</a> object</p>
            </dd>
          
            <dt><span class="term">
               <b>
                  FederatedUser
               </b>
            </span></dt>
            <dd>
               <p>Identifiers for the federated user associated with the credentials (such as
            <code class="code">arn:aws:sts::123456789012:federated-user/Bob</code> or
            <code class="code">123456789012:Bob</code>). You can use the federated user's ARN in your
         resource-based policies, such as an Amazon S3 bucket policy. </p>
               <p>Type: <a href="./API_FederatedUser.html">FederatedUser</a> object</p>
            </dd>
          
            <dt><span class="term">
               <b>
                  PackedPolicySize
               </b>
            </span></dt>
            <dd>
               <p>A percentage value that indicates the packed size of the session policies and session 
      tags combined passed in the request. The request fails if the packed size is greater than 100 percent, 
      which means the policies and tags exceeded the allowed space.</p>
               <p>Type: Integer</p>
               <p>Valid Range: Minimum value of 0.</p>
            </dd>
         </dl></div>
    
      <h2 id="API_GetFederationToken_Errors">Errors</h2>
      <p>For information about the errors that are common to all actions, see <a href="./CommonErrors.html">Common Errors</a>.</p>
      <div class="variablelist">
          
          
          
      <dl>
            <dt><span class="term">
               <b>
                  MalformedPolicyDocument
               </b>
            </span></dt>
            <dd>
               <p>The request was rejected because the policy document was malformed. The error message
            describes the specific error.</p>
               <p>HTTP Status Code: 400</p>
            </dd>
          
            <dt><span class="term">
               <b>
                  PackedPolicyTooLarge
               </b>
            </span></dt>
            <dd>
               <p>The request was rejected because the total packed size of the session policies and
            session tags combined was too large. An AWS conversion compresses the session policy
            document, session policy ARNs, and session tags into a packed binary format that has a
            separate limit. The error message indicates by percentage how close the policies and
            tags are to the upper size limit. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_session-tags.html">Passing Session Tags in AWS STS</a> in
            the <em>IAM User Guide</em>.</p>
               <p>You could receive this error even though you meet other defined session policy and
            session tag limits. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_iam-quotas.html#reference_iam-limits-entity-length">IAM and AWS STS Entity
                Character Limits</a> in the <em>IAM User Guide</em>.</p>
               <p>HTTP Status Code: 400</p>
            </dd>
          
            <dt><span class="term">
               <b>
                  RegionDisabled
               </b>
            </span></dt>
            <dd>
               <p>
                  AWS STS is not activated in the requested region for the account that is being asked to
            generate credentials. The account administrator must use the IAM console to activate AWS STS
            in that region. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_enable-regions.html">Activating and
                Deactivating AWSAWS STS in an AWS Region</a> in the <em>IAM User
                    Guide</em>.</p>
               <p>HTTP Status Code: 403</p>
            </dd>
         </dl></div>
    
      <h2 id="API_GetFederationToken_Examples">Examples</h2>
       
         <h3 id="API_GetFederationToken_Example_1">Example</h3>
         <p>This example illustrates one usage of GetFederationToken.</p>
          
            <h4 id="API_GetFederationToken_Example_1_Request">Sample Request</h4>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="">https://sts.amazonaws.com/
?Version=2011-06-15
&amp;Action=GetFederationToken
&amp;Name=Bob
&amp;PolicyArns.member.1.arn=arn:aws:iam::123456789012:policy/federateduserdemopolicy1
&amp;PolicyArns.member.2.arn=arn:aws:iam::123456789012:policy/federateduserdemopolicy2
&amp;Policy=%7B%22Version%22%3A%222012-10-17%22%2C%22Statement%22%3A%5B%7B%22Sid%22%3A%22Stmt1%22%2C%22Effect%22%
 3A%22Allow%22%2C%22Action%22%3A%22s3%3A*%22%2C%22Resource%22%3A%22*%22%7D
 %5D%7D
&amp;DurationSeconds=3600
&amp;Tags.member.1.Key=Dept&amp;Tags.member.1.Value=Accounting
&amp;Tags.member.2.Key=Cost-Center&amp;Tags.member.2.Value=12345
&amp;AUTHPARAMS</code></pre>
          
          
            <h4 id="API_GetFederationToken_Example_1_Response">Sample Response</h4>
            <pre class="programlisting"><div class="code-btn-container"></div><code class="">&lt;GetFederationTokenResponse xmlns="https://sts.amazonaws.com/doc/2011-06-15/"&gt;
  &lt;GetFederationTokenResult&gt;
    &lt;Credentials&gt;
      &lt;SessionToken&gt;
       AQoDYXdzEPT//////////wEXAMPLEtc764bNrC9SAPBSM22wDOk4x4HIZ8j4FZTwdQW
       LWsKWHGBuFqwAeMicRXmxfpSPfIeoIYRqTflfKD8YUuwthAx7mSEI/qkPpKPi/kMcGd
       QrmGdeehM4IC1NtBmUpp2wUE8phUZampKsburEDy0KPkyQDYwT7WZ0wq5VSXDvp75YU
       9HFvlRd8Tx6q6fE8YQcHNVXAkiY9q6d+xo0rKwT38xVqr7ZD0u0iPPkUL64lIZbqBAz
       +scqKmlzm8FDrypNC9Yjc8fPOLn9FX9KSYvKTr4rvx3iSIlTJabIQwj2ICCR/oLxBA==
      &lt;/SessionToken&gt;
      &lt;SecretAccessKey&gt;
       wJalrXUtnFEMI/K7MDENG/bPxRfiCYzEXAMPLEKEY
      &lt;/SecretAccessKey&gt;
      &lt;Expiration&gt;2011-07-15T23:28:33.359Z&lt;/Expiration&gt;
      &lt;AccessKeyId&gt;ASIAIOSFODNN7EXAMPLE&lt;/AccessKeyId&gt;
    &lt;/Credentials&gt;
    &lt;FederatedUser&gt;
      &lt;Arn&gt;arn:aws:sts::123456789012:federated-user/Bob&lt;/Arn&gt;
      &lt;FederatedUserId&gt;123456789012:Bob&lt;/FederatedUserId&gt;
    &lt;/FederatedUser&gt;
    &lt;PackedPolicySize&gt;6&lt;/PackedPolicySize&gt;
  &lt;/GetFederationTokenResult&gt;
  &lt;ResponseMetadata&gt;
    &lt;RequestId&gt;c6104cbe-af31-11e0-8154-cbc7ccf896c7&lt;/RequestId&gt;
  &lt;/ResponseMetadata&gt;
&lt;/GetFederationTokenResponse&gt;</code></pre>
          
       
    
      <h2 id="API_GetFederationToken_SeeAlso">See Also</h2>
      <p>For more information about using this API in one of the language-specific AWS SDKs, see the following:</p>
      <div class="itemizedlist">
          
          
          
          
          
          
          
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/aws-cli/sts-2011-06-15/GetFederationToken">AWS Command Line Interface</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/DotNetSDKV3/sts-2011-06-15/GetFederationToken">AWS SDK for .NET</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/SdkForCpp/sts-2011-06-15/GetFederationToken">AWS SDK for C++</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/SdkForGoV1/sts-2011-06-15/GetFederationToken">AWS SDK for Go</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/SdkForJavaV2/sts-2011-06-15/GetFederationToken">AWS SDK for Java V2</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/AWSJavaScriptSDK/sts-2011-06-15/GetFederationToken">AWS SDK for JavaScript</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/SdkForPHPV3/sts-2011-06-15/GetFederationToken">AWS SDK for PHP V3</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/boto3/sts-2011-06-15/GetFederationToken">AWS SDK for Python</a>
            </p>
         </li><li class="listitem">
            <p>
               <a href="https://docs.aws.amazon.com/goto/SdkForRubyV3/sts-2011-06-15/GetFederationToken">AWS SDK for Ruby V3</a>
            </p>
         </li></ul></div>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./API_GetCallerIdentity.html">GetCallerIdentity</div><div id="next" class="next-link" accesskey="n" href="./API_GetSessionToken.html">GetSessionToken</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/STS/latest/APIReference/API_GetFederationToken.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/en_us/STS/latest/APIReference/API_GetFederationToken.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>