<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control access to an API with IAM permissions - Amazon API Gateway</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="permissions" /><meta name="default_state" content="permissions" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/permissions.html" /><meta name="description" content="Learn how to provide access permissions to users for Amazon API Gateway actions and resources." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon API Gateway" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Build, deploy, maintain and call cloud-based APIs using Amazon API Gateway with this Developer Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/permissions.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/apigateway/latest/developerguide/permissions.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/apigateway/latest/developerguide/permissions.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/apigateway/latest/developerguide/permissions.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/apigateway/latest/developerguide/permissions.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/permissions.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/permissions.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/apigateway/latest/developerguide/permissions.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/apigateway/latest/developerguide/permissions.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/apigateway/latest/developerguide/permissions.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/apigateway/latest/developerguide/permissions.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/apigateway/latest/developerguide/permissions.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/apigateway/latest/developerguide/permissions.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/permissions.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/permissions.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/permissions.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/permissions.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/apigateway/latest/developerguide/permissions.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/apigateway/latest/developerguide/permissions.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/apigateway/latest/developerguide/permissions.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/apigateway/latest/developerguide/permissions.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/permissions.html" hreflang="x-default" /><meta name="feedback-item" content="API Gateway" /><meta name="this_doc_product" content="Amazon API Gateway" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'apigateway'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Control access to an API with IAM permissions" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Control access to an API with IAM permissions - Amazon API Gateway</title><meta name="pdf" content="/pdfs/apigateway/latest/developerguide/apigateway-dg.pdf#permissions" /><meta name="github" content="https://github.com/awsdocs/amazon-api-gateway-developer-guide/tree/main/doc_source/permissions.md" /><meta name="rss" content="amazon-apigateway-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=199" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API%20Gateway&amp;topic_url=http://docs.aws.amazon.com/en_us/apigateway/latest/developerguide/permissions.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/apigateway/latest/developerguide/permissions.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/apigateway/latest/developerguide/permissions.html" /><meta name="keywords" content="API Gateway,Amazon API Gateway,serverless,cloud computing,REST API,HTTP API,WebSocket API" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon API Gateway",
        "item" : "https://docs.aws.amazon.com/apigateway/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/apigateway/latest/developerguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with REST APIs",
        "item" : "https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-rest-api.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Developing a REST API in API Gateway",
        "item" : "https://docs.aws.amazon.com/apigateway/latest/developerguide/rest-api-develop.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Controlling and managing access to a REST API in API Gateway",
        "item" : "https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-control-access-to-api.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Control access to an API with IAM permissions",
        "item" : "https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-control-access-to-api.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/apigateway/latest/developerguide/apigateway-dg.pdf#permissions" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-api-gateway-developer-guide/tree/main/doc_source/permissions.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/apigateway/index.html">Amazon API Gateway</a><a href="welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#api-gateway-control-access-iam-permissions-model-for-managing-api">
                API Gateway permissions model for creating and managing an API</a><a href="#api-gateway-control-access-iam-permissions-model-for-calling-api">
                API Gateway permissions model for invoking an API</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="permissions">Control access to an API with IAM permissions</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p> You control access to your Amazon API Gateway API with <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_permissions.html">IAM permissions</a> by controlling
        access to the following two API Gateway component processes: </p><div class="itemizedlist">
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p> To create, deploy, and manage an API in API Gateway, you must grant the API developer
                permissions to perform the required actions supported by the API management
                component of API Gateway. </p>
        </li><li class="listitem">
            <p> To call a deployed API or to refresh the API caching, you must grant the API
                caller permissions to perform required IAM actions supported by the API execution
                component of API Gateway. </p>
        </li></ul></div><p> The access control for the two processes involves different permissions models, explained
        next.</p>
        <h2 id="api-gateway-control-access-iam-permissions-model-for-managing-api">
                API Gateway permissions model for creating and managing an API</h2>

        <p> To allow an API developer to create and manage an API in API Gateway, you must <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html">create IAM permissions
                policies</a> that allow a specified API developer to create, update, deploy,
            view, or delete required <a href="https://docs.aws.amazon.com/apigateway/latest/api/API_Resource.html">API entities</a>. You
            attach the permissions policy to a user, role, or group. </p>
      
  
  <p>To provide access, add permissions to your users, groups, or roles:</p>
  <div class="itemizedlist">
   
   
   
  <ul class="itemizedlist"><li class="listitem">
    <p>Users and groups in AWS IAM Identity Center (successor to AWS Single Sign-On):</p>
    <p>Create a permission set. Follow the instructions in <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/howtocreatepermissionset.html">Create a permission set</a> in the <em>AWS IAM Identity Center (successor to AWS Single Sign-On) User Guide</em>.</p>
  </li><li class="listitem">
    <p>Users managed in IAM through an identity provider:</p>
    <p>Create a role for identity federation. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html">Creating a role
    for a third-party identity provider (federation)</a> in the <em>IAM User Guide</em>.</p>
  </li><li class="listitem">
    <p>IAM users:</p>
     <div class="itemizedlist">
        
        
     <ul class="itemizedlist"><li class="listitem">
         <p>Create a role that your user can assume. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html">Creating a role for an IAM user</a> in the <em>IAM User Guide</em>.</p>
       </li><li class="listitem">
         <p>(Not recommended) Attach a policy directly to a user or add a user to a user group. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_change-permissions.html#users_change_permissions-add-console">Adding permissions to a user (console)</a> in the <em>IAM User Guide</em>.</p>
       </li></ul></div>
  </li></ul></div>
  
        <p>For more information on how to use this permissions model, see <a href="./security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies">API Gateway
                    identity-based policies</a>. </p>
     
        <h2 id="api-gateway-control-access-iam-permissions-model-for-calling-api">
                API Gateway permissions model for invoking an API</h2>
        <p>To allow an API caller to invoke the API or refresh its caching, you must create IAM
            policies that permit a specified API caller to invoke the API method for which
            user authentication is enabled. The API developer sets the method's <code class="literal">authorizationType</code> property to <code class="literal">AWS_IAM</code> to require that the caller submit the user's credentials to be
            authenticated. Then, you attach the policy to a user, role, or group. </p>
        <p>In this IAM permissions policy statement, the IAM <code class="literal">Resource</code> element contains a list of deployed API methods identified by given
            HTTP verbs and API Gateway <a href="https://docs.aws.amazon.com/apigateway/latest/api/API_Resource.html">resource paths</a>. The
            IAM <code class="literal">Action</code> element contains the required API Gateway API
            executing actions. These actions include <code class="literal">execute-api:Invoke</code> or <code class="literal">execute-api:InvalidateCache</code>, where <code class="literal">execute-api</code> designates the underlying API execution component of API Gateway. </p>
        <p>For more information on how to use this permissions model, see <a href="./api-gateway-control-access-using-iam-policies-to-invoke-api.html"> Control
                access for invoking an API</a>. </p>
        <p> When an API is integrated with an AWS service (for example, AWS Lambda) in the back
            end, API Gateway must also have permissions to access integrated AWS resources (for example,
            invoking a Lambda function) on behalf of the API caller. To grant these permissions,
            create an IAM role of the <b>AWS service for API Gateway</b> type. When you
            create this role in the IAM Management console, this resulting role contains the
            following IAM trust policy that declares API Gateway as a trusted entity permitted to assume
            the role: </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "",
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "apigateway.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
        <p>If you create the IAM role by calling the <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/create-role.html">create-role</a> command of CLI or a
            corresponding SDK method, you must supply the above trust policy as the input parameter
            of <code class="code">assume-role-policy-document</code>. Do not attempt to create such a policy
            directly in the IAM Management console or calling AWS CLI <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/create-policy.html">create-policy</a> command or a
            corresponding SDK method.</p>
        <p>For API Gateway to call the integrated AWS service, you must also attach to this role
            appropriate IAM permissions policies for calling integrated AWS services. For
            example, to call a Lambda function, you must include the following IAM permissions
            policy in the IAM role: </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": "lambda:InvokeFunction",
            "Resource": "*"
        }
    ]
}</code></pre>
        <p>Note that Lambda supports resource-based access policy, which combines both trust and
            permissions policies. When integrating an API with a Lambda function using the API Gateway
            console, you are not asked to set this IAM role explicitly, because the console sets
            the resource-based permissions on the Lambda function for you, with your consent. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p> To enact access control to an AWS service, you can use either the caller-based
                permissions model, where a permissions policy is directly attached to the caller's
                user or group, or the role-based permission model, where a permissions policy
                is attached to an IAM role that API Gateway can assume. The permissions policies may
                differ in the two models. For example, the caller-based policy blocks the access
                while the role-based policy allows it. You can take advantage of this to require
                that a user access an AWS service through an API Gateway API only. </p></div></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./apigateway-resource-policies-aws-condition-keys.html">AWS condition keys
                that can be used in API Gateway resource policies</div><div id="next" class="next-link" accesskey="n" href="./api-gateway-control-access-using-iam-policies-to-invoke-api.html"> Control
                access for invoking an API</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/apigateway/latest/developerguide/permissions.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=API Gateway&amp;topic_url=https://docs.aws.amazon.com/en_us/apigateway/latest/developerguide/permissions.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>