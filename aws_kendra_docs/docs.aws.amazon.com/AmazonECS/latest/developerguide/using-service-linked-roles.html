<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using service-linked roles for Amazon ECS - Amazon Elastic Container Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-service-linked-roles" /><meta name="default_state" content="using-service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using-service-linked-roles.html" /><meta name="description" content="How to use service-linked roles to give Amazon ECS access to resources in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Elastic Container Service" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Run, stop, and manage Docker containers on a cluster using the Amazon Elastic Container Service Developer Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using-service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using-service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="AmazonEC2ContainerService" /><meta name="this_doc_product" content="Amazon Elastic Container Service" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'ecs'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Using service-linked roles for Amazon ECS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using service-linked roles for Amazon ECS - Amazon Elastic Container Service</title><meta name="pdf" content="/pdfs/AmazonECS/latest/developerguide/ecs-dg.pdf#using-service-linked-roles" /><meta name="github" content="https://github.com/awsdocs/amazon-ecs-developer-guide/tree/master/doc_source/using-service-linked-roles.md" /><meta name="rss" content="amazon-ecs-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=187" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AmazonEC2ContainerService&amp;topic_url=http://docs.aws.amazon.com/en_us/AmazonECS/latest/developerguide/using-service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonECS/latest/developerguide/using-service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonECS/latest/developerguide/using-service-linked-roles.html" /><meta name="keywords" content="ECS,Amazon ECS,Amazon Elastic Container Service" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon ECS",
        "item" : "https://docs.aws.amazon.com/ecs/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/AmazonECS/latest/developerguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Amazon Elastic Container Service",
        "item" : "https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and Access Management for Amazon Elastic Container Service",
        "item" : "https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security-iam.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using service-linked roles for Amazon ECS",
        "item" : "https://docs.aws.amazon.com/AmazonECS/latest/developerguide/security-iam.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AmazonECS/latest/developerguide/ecs-dg.pdf#using-service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-ecs-developer-guide/tree/master/doc_source/using-service-linked-roles.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/ecs/index.html">Amazon ECS</a><a href="Welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#slr-permissions">Service-linked role permissions for
                Amazon ECS</a><a href="#create-slr">Creating a service-linked role for Amazon ECS</a><a href="#edit-slr">Editing a service-linked role for Amazon ECS</a><a href="#delete-slr">Deleting a service-linked role for Amazon ECS</a><a href="#slr-regions">Supported regions for Amazon ECS service-linked
                roles</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-service-linked-roles">Using service-linked roles for
            Amazon ECS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Elastic Container Service uses AWS Identity and Access Management (IAM)<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role"> service-linked roles</a>. A service-linked role is a unique type of IAM role
        that is linked directly to Amazon ECS. The service-linked role is predefined by
        Amazon ECS and includes all the permissions that the service requires to call other AWS
        services on your behalf. </p><p>A service-linked role makes setting up Amazon ECS easier because you don’t have to
        manually add the necessary permissions. Amazon ECS defines the permissions of its
        service-linked roles, and unless defined otherwise, only Amazon ECS can assume its roles.
        The defined permissions include the trust policy and the permissions policy, and that
        permissions policy cannot be attached to any other IAM entity.</p><p>For information about other services that support service-linked roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS services
            that work with IAM</a> and look for the services that have <b>Yes </b>in the <b>Service-linked roles</b> column.
        Choose a <b>Yes</b> with a link to view the service-linked role
        documentation for that service.</p>
        <h2 id="slr-permissions">Service-linked role permissions for
                Amazon ECS</h2>
        <p>Amazon ECS uses the service-linked role named
            <b>AWSServiceRoleForECS</b>.</p>
        <p>The AWSServiceRoleForECS service-linked role trusts the following services to assume the
            role:</p>
        <div class="itemizedlist">
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">ecs.amazonaws.com</code></p>
            </li></ul></div>
        <p>The role permissions policy named AmazonECSServiceRolePolicy allows Amazon ECS to complete
            the following actions on the specified resources:</p>
        <div class="itemizedlist">
            
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Action: When using the <code class="code">awsvpc</code> network mode for your Amazon ECS tasks,
                    Amazon ECS manages the lifecycle of the elastic network interfaces associated with
                    the task. This also includes tags that Amazon ECS adds to your elastic network
                    interfaces.</p>
            </li><li class="listitem">
                <p>Action: When using a load balancer with your Amazon ECS service, Amazon ECS manages the
                    registration and deregistration of resources with the load balancer.</p>
            </li><li class="listitem">
                <p>Action: When using Amazon ECS service discovery, Amazon ECS manages the required Route 53
                    and AWS Cloud Map resources for service discovery to work.</p>
            </li><li class="listitem">
                <p>Action: When using Amazon ECS service auto scaling, Amazon ECS manages the required Auto Scaling
                    resources.</p>
            </li><li class="listitem">
                <p>Action: Amazon ECS creates and manages CloudWatch alarms and log streams that assist in
                    the monitoring of your Amazon ECS resources.</p>
            </li><li class="listitem">
                <p>Action: When using Amazon ECS Exec, Amazon ECS manages the permissions needed to start
                    Amazon ECS Exec sessions to your tasks.</p>
            </li><li class="listitem">
                
                <p>Action: When using Amazon ECS Service Connect, Amazon ECS manages the required AWS Cloud Map
                    resources to use the feature.</p>
                
            </li></ul></div>
        <p>You must configure permissions to allow an IAM entity (such as a user, group, or
            role) to create, edit, or delete a service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions">Service-linked role permissions</a> in the
                <em>IAM User Guide</em>.</p>
     
        <h2 id="create-slr">Creating a service-linked role for Amazon ECS</h2>
        
        <p>You don't need to manually create a service-linked role. When you
            create a cluster or create or update a service in the AWS Management Console, the AWS CLI, or the AWS API, Amazon ECS
            creates the service-linked role for you. </p>
        
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>This service-linked role can appear in your account if you completed an action in
                another service that uses the features supported by this role.</p></div></div>
        <p>If you delete this service-linked role, and then need to create it again, you can use
            the same process to recreate the role in your account. When you
            create a cluster or create or update a service, Amazon ECS creates the service-linked role for you again. </p>
        
     
        <h2 id="edit-slr">Editing a service-linked role for Amazon ECS</h2>
        <p>Amazon ECS doesn't allow you to edit the AWSServiceRoleForECS service-linked role. After you
            create a service-linked role, you cannot change the name of the role because various
            entities might reference the role. However, you can edit the description of the role
            using IAM. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#edit-service-linked-role">Editing a service-linked role</a> in the
            <em>IAM User Guide</em>.</p>
     
        <h2 id="delete-slr">Deleting a service-linked role for Amazon ECS</h2>
        
        <p>If you no longer need to use a feature or service that requires a service-linked role,
            we recommend that you delete that role. That way you don’t have an unused entity that is
            not actively monitored or maintained. However, you must clean up the resources for your
            service-linked role before you can manually delete it.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If the Amazon ECS service is using the role when you try to delete the
                resources, then the deletion might fail. If that happens, wait for a few minutes and
                try the operation again.</p></div></div>

        <div class="procedure"><h6>To check whether the service-linked role has an active session</h6><ol><li><p>Open the IAM console at
         <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                <p>In the navigation pane, choose <b>Roles</b> and choose the
                    AWSServiceRoleForECS name (not the check box).</p>
            </li><li>
                <p>On the <b>Summary</b> page, choose <b>Access
                        Advisor</b> and review recent activity for the service-linked
                    role.</p>
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you are unsure whether Amazon ECS is using the AWSServiceRoleForECS role, you
                        can try to delete the role. If the service is using the role, then the
                        deletion fails and you can view the regions where the role is being used. If
                        the role is being used, then you must wait for the session to end before you
                        can delete the role. You cannot revoke the session for a service-linked
                        role. </p></div></div>
            </li></ol></div>
        <div class="procedure"><h6>To remove Amazon ECS resources used by the AWSServiceRoleForECS service-linked
                role</h6><p>You must delete all Amazon ECS clusters in all AWS Regions before you can delete the
                AWSServiceRoleForECS role.</p><ol><li>
                <p>Scale all Amazon ECS services down to a desired count of 0 in all regions, and then
                    delete the services. For more information, see <a href="./update-service.html">Updating a service using the classic
                    console</a> and <a href="./delete-service.html">Deleting a service using the classic
                    console</a>.</p>
            </li><li>
                <p>Force deregister all container instances from all clusters in all regions. For
                    more information, see <a href="./deregister_container_instance.html">Deregister an Amazon EC2 backed container
                    instance</a>.</p>
            </li><li>
                <p>Delete all Amazon ECS clusters in all regions. For more information, see <a href="./delete_cluster.html">Deleting a cluster using the classic console</a>.</p>
            </li></ol></div>
        <p><b>To manually delete the service-linked role using
                IAM</b></p>
        <p>Use the IAM console, the AWS CLI, or the AWS API to delete the AWSServiceRoleForECS
            service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role">Deleting a service-linked role</a> in the
            <em>IAM User Guide</em>.</p>
     
        <h2 id="slr-regions">Supported regions for Amazon ECS service-linked
                roles</h2>
        

        
        <p>Amazon ECS supports using service-linked roles in all of the regions where the
            service is available. For more information, see <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS regions and endpoints</a>.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security-iam-awsmanpol-amazonecs-full-access-migration.html">Migrating to AmazonECS_FullAccess</div><div id="next" class="next-link" accesskey="n" href="./task_execution_IAM_role.html">Task execution IAM role</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AmazonEC2ContainerService&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonECS/latest/developerguide/using-service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AmazonEC2ContainerService&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonECS/latest/developerguide/using-service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>