<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using the service-linked role for Amazon EMR - Amazon EMR</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-service-linked-roles" /><meta name="default_state" content="using-service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/using-service-linked-roles.html" /><meta name="description" content="How to use a service-linked role to give Amazon EMR access to clean up cluster resources in AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon EMR" /><meta name="guide" content="Management Guide" /><meta name="abstract" content="Learn to plan, configure, deploy, monitor, and secure big-data solutions in the cloud using Amazon EMR. Amazon EMR is the Amazon Web Services (AWS) managed framework for running Apache Hadoop, Spark, HBase, Presto, Flink and other big-data applications on dynamically scalable Amazon EC2 instances. Use this guide together with the Amazon EMR Release Guide, which covers application installation, configuration, and optimization." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/using-service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/using-service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="EMR" /><meta name="this_doc_product" content="Amazon EMR" /><meta name="this_doc_guide" content="Management Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'emr'}"></script><meta id="panorama-serviceSubSection" value="Management Guide" /><meta id="panorama-serviceConsolePage" value="Using the service-linked role for Amazon EMR" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using the service-linked role for Amazon EMR - Amazon EMR</title><meta name="pdf" content="/pdfs/emr/latest/ManagementGuide/emr-mgmt.pdf#using-service-linked-roles" /><meta name="github" content="https://github.com/awsdocs/amazon-emr-management-guide/tree/main/doc_source/using-service-linked-roles.md" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=52" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EMR&amp;topic_url=http://docs.aws.amazon.com/en_us/emr/latest/ManagementGuide/using-service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/emr/latest/ManagementGuide/using-service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/emr/latest/ManagementGuide/using-service-linked-roles.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon EMR Documentation",
        "item" : "https://docs.aws.amazon.com/emr/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Management Guide",
        "item" : "https://docs.aws.amazon.com/emr/latest/ManagementGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Amazon EMR",
        "item" : "https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS Identity and Access Management for Amazon EMR",
        "item" : "https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-plan-access-iam.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Configure IAM service roles for Amazon EMR permissions to AWS services and resources",
        "item" : "https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-iam-roles.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "IAM service roles used by Amazon EMR",
        "item" : "https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-iam-service-roles.html"
      },
      {
        "@type" : "ListItem",
        "position" : 8,
        "name" : "Using the service-linked role for Amazon EMR",
        "item" : "https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-iam-service-roles.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/emr/latest/ManagementGuide/emr-mgmt.pdf#using-service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-emr-management-guide/tree/main/doc_source/using-service-linked-roles.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/emr/index.html">Amazon EMR Documentation</a><a href="emr-what-is-emr.html">Management Guide</a></div><div id="page-toc-src"><a href="#service-linked-role-permissions">Service-linked role permissions for
        Amazon EMR</a><a href="#create-service-linked-role">Creating a service-linked role for
        Amazon EMR</a><a href="#edit-service-linked-role">Editing a service-linked role for
        Amazon EMR</a><a href="#delete-service-linked-role">Deleting a service-linked role for
        Amazon EMR</a><a href="#emr-slr-regions">Supported Regions for
        Amazon EMR service-linked roles</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-service-linked-roles">Using the service-linked role for
      Amazon EMR</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon EMR uses AWS Identity and Access Management (IAM)<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">
      service-linked roles</a>. A service-linked role is a unique type of IAM role that is linked directly to Amazon EMR. The service-linked role is predefined by Amazon EMR and includes the permissions that Amazon EMR requires to call Amazon EC2 on your behalf to clean up cluster resources after they are no longer in use. The service-linked role works together with the Amazon EMR service role and Amazon EC2 instance profile for Amazon EMR. For more information about the service role and instance profile, see <a href="./emr-iam-roles.html">Configure IAM service roles for Amazon EMR permissions to AWS
            services and resources</a>.</p><p>Amazon EMR defines the permissions of this service-linked role, and unless defined otherwise, only Amazon EMR can assume the role. The defined permissions include the trust policy and the permissions policy, and that permissions
    policy cannot be attached to any other IAM entity. You can delete the role only after you terminate all EMR clusters in the account.</p><p>For information about other services that support service-linked roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS services that work with
      IAM</a> and look for the services that have <b>Yes </b>in the
      <b>Service-Linked Role</b> column. Choose a <b>Yes</b> with a link to view the service-linked role documentation for that
    service.</p>
    <h2 id="service-linked-role-permissions">Service-linked role permissions for
        Amazon EMR</h2>
    <p>Amazon EMR uses the <b>AWSServiceRoleForEMRCleanup</b> role, which is a
      service-based role that allows Amazon EMR to terminate and delete Amazon EC2 resources on your behalf if the Amazon EMR service role has lost that ability. Amazon EMR creates the role automatically during cluster creation if it does not already exist.</p>
    <p>The AWSServiceRoleForEMRCleanup service-linked role trusts the following services to assume the
      role:</p>
    <div class="itemizedlist">
       
    <ul class="itemizedlist"><li class="listitem">
        <p><code class="code">elasticmapreduce.amazonaws.com</code></p>
      </li></ul></div>
    <p>The AWSServiceRoleForEMRCleanup service-linked role permissions policy allows Amazon EMR to complete the
      following actions on the specified resources:</p>
    <div class="itemizedlist">
     
         
       
       
       
         
       
       
       
       
      
       
    <ul class="itemizedlist"><li class="listitem"><p>Action: <code class="code">DescribeInstances</code> on
          <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">DescribeSpotInstanceRequests</code> on
          <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">ModifyInstanceAttribute</code> on
        <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">TerminateInstances</code> on
          <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">CancelSpotInstanceRequests</code> on
          <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">DeleteNetworkInterface</code> on
        <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">DescribeInstanceAttribute</code> on
        <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">DescribeVolumeStatus</code> on
        <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">DescribeVolumes</code> on
        <code class="code">ec2</code></p></li><li class="listitem"> <p>Action: <code class="code">DetachVolume</code> on
       <code class="code">ec2</code></p></li><li class="listitem"><p>Action: <code class="code">DeleteVolume</code> on
        <code class="code">ec2</code></p></li></ul></div>
    <p>You must configure permissions to allow an IAM entity (such as a user, group, or role)
      to create, edit, or delete a service-linked role.</p>
    <p><b>To allow an IAM entity to create the AWSServiceRoleForEMRCleanup service-linked
      role</b></p>
    <p>Add the following statement to the permissions policy for the IAM entity that needs to
      create the service-linked role:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": [
        "iam:CreateServiceLinkedRole",
        "iam:PutRolePolicy"
    ],
    "Resource": "arn:aws:iam::*:role/aws-service-role/elasticmapreduce.amazonaws.com*/AWSServiceRoleForEMRCleanup*",
    "Condition": <span>{</span>
        "StringLike": <span>{</span>
            "iam:AWSServiceName": [
                "elasticmapreduce.amazonaws.com",
                "elasticmapreduce.amazonaws.com.cn"
            ]
        }
    }
}</code></pre>
    <p><b>To allow an IAM entity to edit the description of the AWSServiceRoleForEMRCleanup
      service-linked role</b></p>
    <p>Add the following statement to the permissions policy for the IAM entity that needs to
      edit the description of a service-linked role:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": [
        "iam:UpdateRoleDescription"
    ],
    "Resource": "arn:aws:iam::*:role/aws-service-role/elasticmapreduce.amazonaws.com*/AWSServiceRoleForEMRCleanup*",
    "Condition": <span>{</span>
        "StringLike": <span>{</span>
            "iam:AWSServiceName": [
                "elasticmapreduce.amazonaws.com",
                "elasticmapreduce.amazonaws.com.cn"
            ]
        }
    }
}</code></pre>
    <p><b>To allow an IAM entity to delete the AWSServiceRoleForEMRCleanup service-linked
      role</b></p>
    <p>Add the following statement to the permissions policy for the IAM entity that needs to
      delete a service-linked role:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Effect": "Allow",
    "Action": [
        "iam:DeleteServiceLinkedRole",
        "iam:GetServiceLinkedRoleDeletionStatus"
    ],
    "Resource": "arn:aws:iam::*:role/aws-service-role/elasticmapreduce.amazonaws.com*/AWSServiceRoleForEMRCleanup*",
    "Condition": <span>{</span>
        "StringLike": <span>{</span>
            "iam:AWSServiceName": [
                "elasticmapreduce.amazonaws.com",
                "elasticmapreduce.amazonaws.com.cn"
            ]
        }
    }
}</code></pre>
   
    <h2 id="create-service-linked-role">Creating a service-linked role for
        Amazon EMR</h2>
    <p>You don't need to manually create the AWSServiceRoleForEMRCleanup role. When you launch a cluster, either for the first time or when a service-linked role is not present,
      Amazon EMR creates the service-linked role for you. You must have permissions to create the
      service-linked role. For an example statement that adds this capability to the permissions
      policy of an IAM entity (such as a user, group, or role), see <a href="#service-linked-role-permissions">Service-linked role permissions for
        Amazon EMR</a>.</p>
    <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you were using Amazon EMR before October 24, 2017, when service-linked roles were
        not supported, then Amazon EMR created the AWSServiceRoleForEMRCleanup role in your account. For more
        information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_roles.html#troubleshoot_roles_new-role-appeared">A new
          role appeared in my IAM account</a>.</p></div></div>
   
    <h2 id="edit-service-linked-role">Editing a service-linked role for
        Amazon EMR</h2>
    <p>Amazon EMR does not allow you to edit the AWSServiceRoleForEMRCleanup service-linked role. After you
      create a service-linked role, you cannot change the name of the role because various entities
      might reference the role. However, you can edit the description of the role using
      IAM.</p>
     
      <h3 id="edit-service-linked-role-iam-console">Editing a service-linked role
          description (IAM console)</h3>
      
  
 <p>You can use the IAM console to edit the description of a service-linked role.</p>
       <div class="procedure"><h6>To edit the description of a service-linked role (console)</h6><ol><li>
           <p>In the navigation pane of the IAM console, choose
             <b>Roles</b>.</p>
         </li><li>
           <p>Choose the name of the role to modify.</p>
         </li><li>
           <p>To the right of the <b>Role description</b>, choose
               <b>Edit</b>. </p>
         </li><li>
           <p>Enter a new description in the box and choose <b>Save changes</b>.</p>
         </li></ol></div>
 
     
     
      <h3 id="edit-service-linked-role-iam-cli">Editing a service-linked role description
          (IAM CLI)</h3>
      
  
 <p>You can use IAM commands from the AWS Command Line Interface to edit the description of a
         service-linked role.</p>
       <div class="procedure"><h6>To change the description of a service-linked role (CLI)</h6><ol><li>
           <p>(Optional) To view the current description for a role, use the following
             commands:</p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="false">$ </code><code class="userinput">aws iam get-role --role-name <code class="replaceable">role-name</code></code></code></pre>
           <p>Use the role name, not the ARN, to refer to roles with the CLI commands. For
             example, if a role has the following ARN:
               <code class="code">arn:aws:iam::123456789012:role/myrole</code>, you refer to the role as
               <code class="userinput">myrole</code>.</p>
         </li><li>
           <p>To update a service-linked role's description, use one of the following
             commands:</p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="false">$ </code><code class="userinput">aws iam update-role-description --role-name <code class="replaceable">role-name</code> --description <code class="replaceable">description</code></code></code></pre>
         </li></ol></div>
 
     
     
      <h3 id="edit-service-linked-role-iam-api">Editing a service-linked role description
          (IAM API)</h3>
      
  
 <p>You can use the IAM API to edit the description of a service-linked role.</p>
       <div class="procedure"><h6>To change the description of a service-linked role (API)</h6><ol><li>
           <p>(Optional) To view the current description for a role, use the following
             command:</p>
           <p>IAM API: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetRole.html">GetRole</a>
           </p>
         </li><li>
           <p>To update a role's description, use the following command: </p>
           <p>IAM API: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_UpdateRoleDescription.html">UpdateRoleDescription</a></p>
         </li></ol></div>
 
     
    
   
    <h2 id="delete-service-linked-role">Deleting a service-linked role for
        Amazon EMR</h2>
    <p>If you no longer need to use a feature or service that requires a service-linked role, we
      recommend that you delete that role. That way, you don't have an unused entity that is not
      being actively monitored or maintained. However, you must clean up your service-linked role
      before you can delete it.</p>
     
      <h3 id="service-linked-role-review-before-delete">Cleaning up a service-linked
          role</h3>
      <p>Before you can use IAM to delete a service-linked role, you must first confirm that
        the role has no active sessions and remove any resources used by the role.</p>
      <div class="procedure"><h6>To check whether the service-linked role has an active session in the IAM
          console</h6><ol><li><p>Open the IAM console at
         <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>In the navigation pane, choose <b>Roles</b>. Select the name (not the
            check box) of the AWSServiceRoleForEMRCleanup role.</p>
        </li><li>
          <p>On the <b>Summary</b> page for the selected role, choose
              <b>Access Advisor</b>.</p>
        </li><li>
          <p>On the <b>Access Advisor</b> tab, review the recent activity for the
            service-linked role.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you are unsure whether Amazon EMR is using the AWSServiceRoleForEMRCleanup role, you can try
              to delete the role. If the service is using the role, then the deletion fails and you
              can view the Regions where the role is being used. If the role is being used, then you
              must wait for the session to end before you can delete the role. You cannot revoke the
              session for a service-linked role. </p></div></div>
        </li></ol></div>
      <div class="procedure"><h6>To remove Amazon EMR resources used by the AWSServiceRoleForEMRCleanup</h6><ul><li>
          <p>Terminate all clusters in your account. For more information, see <a href="./UsingEMR_TerminateJobFlow.html">Terminate a cluster</a>.</p>
        </li></ul></div>
     
     
      <h3 id="delete-service-linked-role-iam-console">Deleting a service-linked role
          (IAM console)</h3>
      <p>You can use the IAM console to delete a service-linked role.</p>
      <div class="procedure"><h6>To delete a service-linked role (console)</h6><ol><li><p>Open the IAM console at
         <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>In the navigation pane, choose <b>Roles</b>. Select the check box next
            to AWSServiceRoleForEMRCleanup, not the name or row itself. </p>
        </li><li>
          <p>For <b>Role actions</b> at the top of the page, choose
              <b>Delete role</b>.</p>
        </li><li>
          <p>In the confirmation dialog box, review the service last accessed data, which shows
            when each of the selected roles last accessed an AWS service. This helps you to
            confirm whether the role is currently active. To proceed, choose <b>Yes,
              Delete</b>.</p>
        </li><li>
          <p>Watch the IAM console notifications to monitor the progress of the service-linked
            role deletion. Because the IAM service-linked role deletion is asynchronous, after you
            submit the role for deletion, the deletion task can succeed or fail. If the task fails,
            you can choose <b>View details</b> or <b>View Resources</b>
            from the notifications to learn why the deletion failed. If the deletion fails because
            there are resources in the service that are being used by the role, then the reason for
            the failure includes a list of resources.</p>
        </li></ol></div>
     
     
      <h3 id="delete-service-linked-role-iam-cli">Deleting a service-linked role (IAM
          CLI)</h3>
      <p>You can use IAM commands from the AWS Command Line Interface to delete a service-linked role. Because a
        service-linked role cannot be deleted if it is being used or has associated resources, you
        must submit a deletion request. If these conditions are not met, that request can be denied. </p>
      <div class="procedure"><h6>To delete a service-linked role (CLI)</h6><ol><li>
          <p>To check the status of the deletion task, you must capture the
              <code class="code">deletion-task-id</code> from the response. Type the following command to submit
            a service-linked role deletion request:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="false">$ </code><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/delete-service-linked-role.html">delete-service-linked-role</a> --role-name AWSServiceRoleForEMRCleanup</code></code></pre>
        </li><li>
          <p>Type the following command to check the status of the deletion task:</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="false">$ </code><code class="userinput">aws iam <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/get-service-linked-role-deletion-status.html">get-service-linked-role-deletion-status</a> --deletion-task-id <code class="replaceable">deletion-task-id</code></code></code></pre>
          <p>The status of the deletion task can be <code class="code">NOT_STARTED</code>,
              <code class="code">IN_PROGRESS</code>, <code class="code">SUCCEEDED</code>, or <code class="code">FAILED</code>. If the
            deletion fails, the call returns the reason that it failed so that you can
            troubleshoot.</p>
        </li></ol></div>
     
     
      <h3 id="delete-service-linked-role-iam-api">Deleting a service-linked role (IAM
          API)</h3>
      <p>You can use the IAM API to delete a service-linked role. Because a service-linked role
        cannot be deleted if it is being used or has associated resources, you must submit a
        deletion request. If these conditions are not met, that request can be denied. </p>
      <div class="procedure"><h6>To delete a service-linked role (API)</h6><ol><li>
          <p>To submit a deletion request for a service-linked role, call <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_DeleteServiceLinkedRole.html">DeleteServiceLinkedRole</a>.
            In the request, specify the AWSServiceRoleForEMRCleanup role name.</p>
          <p>To check the status of the deletion task, you must capture the
              <code class="code">DeletionTaskId</code> from the response.</p>
        </li><li>
          <p>To check the status of the deletion, call <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_GetServiceLinkedRoleDeletionStatus.html">GetServiceLinkedRoleDeletionStatus</a>. In the request, specify the
              <code class="code">DeletionTaskId</code>.</p>
          <p>The status of the deletion task can be <code class="code">NOT_STARTED</code>,
              <code class="code">IN_PROGRESS</code>, <code class="code">SUCCEEDED</code>, or <code class="code">FAILED</code>. If the
            deletion fails, the call returns the reason that it failed so that you can
            troubleshoot.</p>
        </li></ol></div>
     
   
    <h2 id="emr-slr-regions">Supported Regions for
        Amazon EMR service-linked roles</h2>
    
    <p>Amazon EMR supports using service-linked roles in the following Regions.</p>
    <div class="table-container"><div class="table-contents"><table id="w321aac30c31c21c23c17c17b7"><thead>
          <tr>
            <th>Region name</th>
            <th>Region identity</th>
            <th>Support in Amazon EMR</th>
          </tr>
        </thead>
          <tr>
            <td>US East (N. Virginia)</td>
            <td>us-east-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>US East (Ohio)</td>
            <td>us-east-2</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>US West (N. California)</td>
            <td>us-west-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>US West (Oregon)</td>
            <td>us-west-2</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Asia Pacific (Mumbai)</td>
            <td>ap-south-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Asia Pacific (Osaka)</td>
            <td>ap-northeast-3</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Asia Pacific (Seoul)</td>
            <td>ap-northeast-2</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Asia Pacific (Singapore)</td>
            <td>ap-southeast-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Asia Pacific (Sydney)</td>
            <td>ap-southeast-2</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Asia Pacific (Tokyo)</td>
            <td>ap-northeast-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Canada (Central)</td>
            <td>ca-central-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Europe (Frankfurt)</td>
            <td>eu-central-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Europe (Ireland)</td>
            <td>eu-west-1</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Europe (London)</td>
            <td>eu-west-2</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>Europe (Paris)</td>
            <td>eu-west-3</td>
            <td>Yes</td>
          </tr>
          <tr>
            <td>South America (SÃ£o Paulo)</td>
            <td>sa-east-1</td>
            <td>Yes</td>
          </tr>
          
          
          
          
          
        </table></div></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./emr-managed-notebooks-service-role.html">EMR Notebooks role</div><div id="next" class="next-link" accesskey="n" href="./emr-iam-roles-custom.html">Customize IAM roles</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EMR&amp;topic_url=https://docs.aws.amazon.com/en_us/emr/latest/ManagementGuide/using-service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EMR&amp;topic_url=https://docs.aws.amazon.com/en_us/emr/latest/ManagementGuide/using-service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>