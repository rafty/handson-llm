<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Deleting a bucket - Amazon Simple Storage Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="delete-bucket" /><meta name="default_state" content="delete-bucket" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/delete-bucket.html" /><meta name="description" content="You can delete an empty Amazon S3 bucket. Before deleting a bucket, consider the following:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Simple Storage Service" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Learn how to use Amazon Simple Storage Service (Amazon S3) to store and retrieve any amount of data from anywhere. This guide explains Amazon S3 concepts, such as buckets, objects, and related configurations, and includes code examples for common operations." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/delete-bucket.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/delete-bucket.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/delete-bucket.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/delete-bucket.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/delete-bucket.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/delete-bucket.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/delete-bucket.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/delete-bucket.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/delete-bucket.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/delete-bucket.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/delete-bucket.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/delete-bucket.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/delete-bucket.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/delete-bucket.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/delete-bucket.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/delete-bucket.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/delete-bucket.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/delete-bucket.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/delete-bucket.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/delete-bucket.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/userguide/delete-bucket.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/delete-bucket.html" hreflang="x-default" /><meta name="feedback-item" content="S3" /><meta name="this_doc_product" content="Amazon Simple Storage Service" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'s3'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Deleting a bucket" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Deleting a bucket - Amazon Simple Storage Service</title><meta name="pdf" content="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#delete-bucket" /><meta name="github" content="https://github.com/awsdocs/amazon-s3-userguide/tree/main/doc_source/delete-bucket.md" /><meta name="rss" content="s3-userguide-rss-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=24" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/delete-bucket.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/delete-bucket.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/delete-bucket.html" /><meta name="keywords" content="S3,Amazon S3,S3 User Guide,Amazon S3 User Guide,Amazon User Guide,s3 bucket,s3 object,cloud storage,data storage" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Simple Storage Service (S3)",
        "item" : "https://docs.aws.amazon.com/s3/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Creating, configuring, and working with Amazon S3 buckets",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets-s3.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Deleting a bucket",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets-s3.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#delete-bucket" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-s3-userguide/tree/main/doc_source/delete-bucket.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/s3/index.html">Amazon Simple Storage Service (S3)</a><a href="Welcome.html">User Guide</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="delete-bucket">Deleting a bucket</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can delete an empty Amazon S3 bucket. Before deleting a bucket, consider the following:</p><div class="itemizedlist">
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p>Bucket names are unique. If you delete a bucket, another AWS user can use the name.
      </p>
    </li><li class="listitem">
      <p>If the bucket hosts a static website, and you created and configured an Amazon Route 53 hosted
          zone as described in <a href="./website-hosting-custom-domain-walkthrough.html">Tutorial: Configuring a static website using a
			custom domain registered with Route 53</a>, you must clean up the Route 53
          hosted zone settings that are related to the bucket. For more information, see <a href="./getting-started-cleanup.html#getting-started-cleanup-route53">Step 2: Delete the Route 53 hosted zone</a>.</p>
    </li><li class="listitem">
      <p>If the bucket receives log data from Elastic Load Balancing (ELB): We recommend that you stop the
        delivery of ELB logs to the bucket before deleting it. After you delete the bucket, if
        another user creates a bucket using the same name, your log data could potentially be
        delivered to that bucket. For information about ELB access logs, see <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/access-log-collection.html">Access logs</a> in the
          <em>User Guide for Classic Load Balancers</em> and <a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-access-logs.html">Access logs</a> in the
          <em>User Guide for Application Load Balancers</em>.</p>
    </li></ul></div><h6>Troubleshooting</h6>
        <p>If you are unable to delete an Amazon S3 bucket, consider the following:</p>
    <div class="itemizedlist">
         
         
         
         
    <ul class="itemizedlist"><li class="listitem">
            <p><b>Make sure the bucket is empty</b> – You can
                only delete buckets that don't have any objects in them. Make sure the bucket is
                empty.</p>
        </li><li class="listitem">
            <p><b>Make sure there aren't any access points attached</b>
                – You can only delete buckets that don't have any access points attached to
                them. Delete any access points that are attached to the bucket, before deleting the bucket.</p>
        </li><li class="listitem">
            <p><b>s3:DeleteBucket permissions</b> – If you
                cannot delete a bucket, work with your IAM administrator to confirm that you have
                    <code class="code">s3:DeleteBucket</code> permissions. For information about how to view or
                update IAM permissions, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_change-permissions.html">Changing
                    permissions for an IAM user</a> in the
                <em>IAM User Guide</em>.</p>
        </li><li class="listitem">
            <p><b>s3:DeleteBucket deny statement</b> – If you
                have <code class="code">s3:DeleteBucket</code> permissions in your IAM policy and you cannot
                delete a bucket, the bucket policy might include a deny statement for
                    <code class="code">s3:DeleteBucket</code>. Buckets created by ElasticBeanstalk have a policy
                containing this statement by default. Before you can delete the bucket, you must
                delete this statement or the bucket policy.</p>
        </li></ul></div><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Bucket names are unique. If you delete a bucket, another AWS user can use the name.
            If you want to continue to use the same bucket name, don't delete the bucket. We
            recommend that you empty the bucket and keep it.</p></div></div><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="Using the S3 console" id="delete-bucket-console" expanded="false"><div class="procedure"><h6>To delete an S3 bucket</h6><ol><li><p>Sign in to the AWS Management Console and open the Amazon S3 console at
         <a href="https://console.aws.amazon.com/s3/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/s3/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
      <p>In the <b>Buckets</b> list, select the option next to the name of the
        bucket that you want to delete, and then choose <b>Delete</b> at the top of
        the page.</p>
    </li><li>
      <p>On the <b>Delete bucket</b> page, confirm that you want to delete the
        bucket by entering the bucket name into the text field, and then choose <b>Delete
          bucket</b>.</p>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If the bucket contains any objects, empty the bucket before deleting it by selecting
          the <em>empty bucket configuration</em> link in the <b>This bucket is
            not empty</b> error alert and following the instructions on the <b>Empty
              bucket</b> page. Then return to the <b>Delete bucket</b> page and
          delete the bucket.</p></div></div>
      <p></p>
    </li><li>
      <p>To verify that you've deleted the bucket, open the <b>Buckets</b> list and
        enter the name of the bucket that you deleted. If the bucket can't be found, your deletion
        was successful. </p>
    </li></ol></div></awsui-expandable-section><awsui-expandable-section variant="container" header="Using the AWS SDK for Java" id="delete-empty-bucket" expanded="false"><p>The following example shows you how to delete a bucket using the AWS SDK for Java. First, the code deletes
            objects in the bucket and then it deletes the bucket. For information about other AWS
            SDKs, see <a href="https://aws.amazon.com/tools/" rel="noopener noreferrer" target="_blank"><span>Tools for Amazon Web
            Services</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><awsdocs-tabs><dl style="display: none">
                <dt>Java</dt><dd tab-id="java"> <p>The following Java example deletes a bucket that contains objects. The example
                        deletes all objects, and then it deletes the bucket. The example works for
                        buckets with or without versioning enabled.</p>
                        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>For buckets without versioning enabled, you can delete all objects
                                directly and then delete the bucket. For buckets with versioning enabled,
                                you must delete all object versions before deleting the bucket.</p></div></div>
                        <p>For instructions on creating and testing a working sample, see <a href="./UsingTheMPJavaAPI.html#TestingJavaSamples">Testing the Amazon S3 Java Code Examples</a>. </p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="java ">
import com.amazonaws.AmazonServiceException;
import com.amazonaws.SdkClientException;
import com.amazonaws.auth.profile.ProfileCredentialsProvider;
import com.amazonaws.regions.Regions;
import com.amazonaws.services.s3.AmazonS3;
import com.amazonaws.services.s3.AmazonS3ClientBuilder;
import com.amazonaws.services.s3.model.*;

import java.util.Iterator;

public class DeleteBucket2 <span>{</span>

    public static void main(String[] args) <span>{</span>
        Regions clientRegion = Regions.DEFAULT_REGION;
        String bucketName = "*** Bucket name ***";

        try <span>{</span>
            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()
                    .withCredentials(new ProfileCredentialsProvider())
                    .withRegion(clientRegion)
                    .build();

            // Delete all objects from the bucket. This is sufficient
            // for unversioned buckets. For versioned buckets, when you attempt to delete objects, Amazon S3 inserts
            // delete markers for all objects, but doesn't delete the object versions.
            // To delete objects from versioned buckets, delete all of the object versions before deleting
            // the bucket (see below for an example).
            ObjectListing objectListing = s3Client.listObjects(bucketName);
            while (true) <span>{</span>
                Iterator&lt;S3ObjectSummary&gt; objIter = objectListing.getObjectSummaries().iterator();
                while (objIter.hasNext()) <span>{</span>
                    s3Client.deleteObject(bucketName, objIter.next().getKey());
                }

                // If the bucket contains many objects, the listObjects() call
                // might not return all of the objects in the first listing. Check to
                // see whether the listing was truncated. If so, retrieve the next page of objects 
                // and delete them.
                if (objectListing.isTruncated()) <span>{</span>
                    objectListing = s3Client.listNextBatchOfObjects(objectListing);
                } else <span>{</span>
                    break;
                }
            }

            // Delete all object versions (required for versioned buckets).
            VersionListing versionList = s3Client.listVersions(new ListVersionsRequest().withBucketName(bucketName));
            while (true) <span>{</span>
                Iterator&lt;S3VersionSummary&gt; versionIter = versionList.getVersionSummaries().iterator();
                while (versionIter.hasNext()) <span>{</span>
                    S3VersionSummary vs = versionIter.next();
                    s3Client.deleteVersion(bucketName, vs.getKey(), vs.getVersionId());
                }

                if (versionList.isTruncated()) <span>{</span>
                    versionList = s3Client.listNextBatchOfVersions(versionList);
                } else <span>{</span>
                    break;
                }
            }

            // After all objects and object versions are deleted, delete the bucket.
            s3Client.deleteBucket(bucketName);
        } catch (AmazonServiceException e) <span>{</span>
            // The call was transmitted successfully, but Amazon S3 couldn't process 
            // it, so it returned an error response.
            e.printStackTrace();
        } catch (SdkClientException e) <span>{</span>
            // Amazon S3 couldn't be contacted for a response, or the client couldn't
            // parse the response from Amazon S3.
            e.printStackTrace();
        }
    }
}

</code></pre></dd>
              
            </dl></awsdocs-tabs></awsui-expandable-section><awsui-expandable-section variant="container" header="Using the AWS CLI" id="delete-bucket-awscli" expanded="false"><p>You can delete a bucket that contains objects with the AWS CLI if it doesn't have
                versioning enabled. When you delete a bucket that contains objects, all the objects
                in the bucket are permanently deleted, including objects that are transitioned to
                the <code class="code">S3 Glacier</code> storage class.</p><p>If your bucket does not have versioning enabled, you can use the <code class="code">rb</code>
                (remove bucket) AWS CLI command with the <code class="code">--force</code> parameter to delete the
                bucket and all the objects in it. This command deletes all objects first and then
                deletes the bucket.</p><p>If versioning is enabled versioned objects will not be deleted in this process
                which would cause the bucket deletion to fail because the bucket would not be empty.
                For more information about deleting versioned objects, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/DeletingObjectVersions.html">Deleting object versions</a>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code>aws s3 rb s3://bucket-name --force  </code></pre><p>For more information, see <a href="https://docs.aws.amazon.com/cli/latest/userguide/using-s3-commands.html">Using
                    High-Level S3 Commands with the AWS Command Line Interface</a> in the AWS Command Line Interface User Guide.</p></awsui-expandable-section></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./empty-bucket.html">Emptying a bucket</div><div id="next" class="next-link" accesskey="n" href="./bucket-encryption.html">Setting default bucket encryption</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/delete-bucket.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/delete-bucket.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>