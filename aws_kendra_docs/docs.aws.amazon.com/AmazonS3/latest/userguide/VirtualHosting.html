<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Virtual hosting of buckets - Amazon Simple Storage Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="VirtualHosting" /><meta name="default_state" content="VirtualHosting" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html" /><meta name="description" content="Use virtual hosting to serve multiple websites from a single web server." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Simple Storage Service" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Learn how to use Amazon Simple Storage Service (Amazon S3) to store and retrieve any amount of data from anywhere. This guide explains Amazon S3 concepts, such as buckets, objects, and related configurations, and includes code examples for common operations." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html" hreflang="x-default" /><meta name="feedback-item" content="S3" /><meta name="this_doc_product" content="Amazon Simple Storage Service" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'s3'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Virtual hosting of buckets" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Virtual hosting of buckets - Amazon Simple Storage Service</title><meta name="pdf" content="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#VirtualHosting" /><meta name="github" content="https://github.com/awsdocs/amazon-s3-userguide/tree/main/doc_source/VirtualHosting.md" /><meta name="rss" content="s3-userguide-rss-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=24" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/VirtualHosting.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/VirtualHosting.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/VirtualHosting.html" /><meta name="keywords" content="S3,Amazon S3,S3 User Guide,Amazon S3 User Guide,Amazon User Guide,s3 bucket,s3 object,cloud storage,data storage" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Simple Storage Service (S3)",
        "item" : "https://docs.aws.amazon.com/s3/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Developing with Amazon S3",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/developing-s3.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Making requests",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/MakingRequests.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Making requests using the REST API",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/RESTAPI.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Virtual hosting of buckets",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/RESTAPI.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#VirtualHosting" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-s3-userguide/tree/main/doc_source/VirtualHosting.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/s3/index.html">Amazon Simple Storage Service (S3)</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#path-style-access">Path-style requests</a><a href="#virtual-hosted-style-access">Virtual-hosted–style
				requests</a><a href="#VirtualHostingSpecifyBucket">HTTP Host header bucket
				specification</a><a href="#VirtualHostingExamples">Examples </a><a href="#VirtualHostingCustomURLs">Customizing Amazon S3 URLs with CNAME
				records</a><a href="#VirtualHostingCustomURLsHowTo">How to associate a hostname with an Amazon S3 bucket</a><a href="#VirtualHostingLimitations">Limitations</a><a href="#VirtualHostingBackwardsCompatibility">Backward compatibility</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="VirtualHosting">Virtual hosting of buckets</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Virtual hosting is the practice of serving multiple websites from a single web server. One
		way to differentiate sites in your Amazon S3 REST API requests is by using the apparent hostname
		of the Request-URI instead of just the path name part of the URI. An ordinary Amazon S3 REST
		request specifies a bucket by using the first slash-delimited component of the Request-URI
		path. Instead, you can use Amazon S3 virtual hosting to address a bucket in a REST API call by
		using the HTTP <code class="code">Host</code> header. In practice, Amazon S3 interprets <code class="code">Host</code> as
		meaning that most buckets are automatically accessible for limited types of requests at
				<code>https://<code class="replaceable">bucket-name</code>.s3.<code class="replaceable">region-code</code>.amazonaws.com</code>.
		For a complete list of Amazon S3 Regions and endpoints, see <a href="https://docs.aws.amazon.com/general/latest/gr/s3.html">Amazon S3 endpoints and quotas</a> in the <em>Amazon Web Services General Reference</em>.</p><p>Virtual hosting also has other benefits. By naming your bucket after your registered
		domain name and by making that name a DNS alias for Amazon S3, you can completely customize the
		URL of your Amazon S3 resources, for example,
				<code>http://my.<code class="replaceable">bucket-name</code>.com/</code>. You can
		also publish to the "root directory" of your bucket's virtual server. This ability can be
		important because many existing applications search for files in this standard location. For
		example, <code>favicon.ico</code>, <code>robots.txt</code>, and
			<code>crossdomain.xml</code> are all expected to be found at the root. </p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>When you're using virtual-hosted–style buckets with SSL, the SSL wildcard certificate
			matches only buckets that do not contain dots (<code class="code">.</code>). To work around this
			limitation, use HTTP or write your own certificate-verification logic. For more
			information, see <a href="http://aws.amazon.com/blogs/aws/amazon-s3-path-deprecation-plan-the-rest-of-the-story/" rel="noopener noreferrer" target="_blank"><span>Amazon S3 Path
				Deprecation Plan</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the <em>AWS News
			Blog.</em></p></div></div><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#path-style-access">Path-style requests</a></li><li><a href="#virtual-hosted-style-access">Virtual-hosted–style
				requests</a></li><li><a href="#VirtualHostingSpecifyBucket">HTTP Host header bucket
				specification</a></li><li><a href="#VirtualHostingExamples">Examples </a></li><li><a href="#VirtualHostingCustomURLs">Customizing Amazon S3 URLs with CNAME
				records</a></li><li><a href="#VirtualHostingCustomURLsHowTo">How to associate a hostname with an Amazon S3 bucket</a></li><li><a href="#VirtualHostingLimitations">Limitations</a></li><li><a href="#VirtualHostingBackwardsCompatibility">Backward compatibility</a></li></ul></div>
		<h2 id="path-style-access">Path-style requests</h2>
		
  <p>Currently, Amazon S3 supports both virtual-hosted–style and path-style URL access in all AWS Regions. However, path-style 
  URLs will be discontinued in the future. For more information, see the following <b>Important</b> note.</p>

		
<p>In Amazon S3, path-style URLs use the following format:</p>
			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">https://s3.<code class="replaceable">region-code</code>.amazonaws.com/<code class="replaceable">bucket-name</code>/<code class="replaceable">key-name</code></code></pre>

		
<p>For example, if you create a bucket named <code class="code">DOC-EXAMPLE-BUCKET1</code> in the US West (Oregon) Region,
				and you want to access the <code class="code">puppy.jpg</code> object in that bucket, you can use the
				following path-style URL:</p>
			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">https://s3.us-west-2.amazonaws.com/DOC-EXAMPLE-BUCKET1/puppy.jpg</code></pre>

		<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Update (September 23, 2020) – To make sure that customers have the time that they need to transition to virtual-hosted–style URLs, 
we have decided to delay the deprecation of path-style URLs. For more information, 
see <a href="https://aws.amazon.com/blogs/aws/amazon-s3-path-deprecation-plan-the-rest-of-the-story/" rel="noopener noreferrer" target="_blank"><span>Amazon S3 Path Deprecation Plan – The Rest of the Story</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the <em>AWS News Blog</em>.</p></div></div>
		<div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Warning</h6></div><div class="awsdocs-note-text"><p>When hosting website content that will be accessed from a web browser, avoid using
				path-style URLs, which might interfere with the browser same origin security model.
				To host website content, we recommend that you use either S3 website endpoints or a
				CloudFront distribution. For more information, see <a href="./WebsiteEndpoints.html">Website endpoints</a> and <a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/patterns/deploy-a-react-based-single-page-application-to-amazon-s3-and-cloudfront.html"> Deploy a React-based single-page application to Amazon S3 and CloudFront</a> in the
					<em>AWS Perspective Guidance Patterns</em>.</p></div></div>
		
	 
		<h2 id="virtual-hosted-style-access">Virtual-hosted–style
				requests</h2>
		<p>In a virtual-hosted–style URI, the bucket name is part of the domain name in the
			URL.</p>
		
<p>Amazon S3 virtual-hosted–style URLs use the following format:</p>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">https://<code class="replaceable">bucket-name</code>.s3.<code class="replaceable">region-code</code>.amazonaws.com/<code class="replaceable">key-name</code></code></pre>

		
<p>In this example, <code class="code">DOC-EXAMPLE-BUCKET1</code> is the bucket name, US West (Oregon) is the Region, and <code class="code">puppy.png</code> is the key name:</p>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">https://DOC-EXAMPLE-BUCKET1.s3.us-west-2.amazonaws.com/puppy.png</code></pre>

	 
		<h2 id="VirtualHostingSpecifyBucket">HTTP <code class="code">Host</code> header bucket
				specification</h2>
		<p>As long as your <code class="code">GET</code> request does not use the SSL endpoint, you can
			specify the bucket for the request by using the HTTP <code class="code">Host</code> header. The
				<code class="code">Host</code> header in a REST request is interpreted as follows: </p>
		<div class="itemizedlist">
			 
			 
			 
		<ul class="itemizedlist"><li class="listitem">
				<p>If the <code class="code">Host</code> header is omitted or its value is
							<code class="code">s3.<code class="replaceable">region-code</code>.amazonaws.com</code>, the
					bucket for the request will be the first slash-delimited component of the
					Request-URI, and the key for the request will be the rest of the Request-URI.
					This is the ordinary method, as illustrated by the first and second examples in
					this section. Omitting the <code class="code">Host</code> header is valid only for HTTP 1.0
					requests. </p>
			</li><li class="listitem">
				<p>Otherwise, if the value of the <code class="code">Host</code> header ends in
							<code class="code">.s3.<code class="replaceable">region-code</code>.amazonaws.com</code>,
					the bucket name is the leading component of the <code class="code">Host</code> header's value
					up to <code class="code">.s3.<code class="replaceable">region-code</code>.amazonaws.com</code>. The
					key for the request is the Request-URI. This interpretation exposes buckets as
					subdomains of
						<code class="code">.s3.<code class="replaceable">region-code</code>.amazonaws.com</code>, as
					illustrated by the third and fourth examples in this section. </p>
			</li><li class="listitem">
				<p>Otherwise, the bucket for the request is the lowercase value of the
						<code class="code">Host</code> header, and the key for the request is the Request-URI.
					This interpretation is useful when you have registered the same DNS name as your
					bucket name and have configured that name to be a canonical name (CNAME) alias
					for Amazon S3. The procedure for registering domain names and configuring CNAME DNS
					records is beyond the scope of this guide, but the result is illustrated by the
					final example in this section.</p>
			</li></ul></div>
	 
		<h2 id="VirtualHostingExamples">Examples </h2>
		<p>This section provides example URLs and requests.</p>
		<div class="example"><h6>Example – Path-style URLs and requests</h6><div class="example-contents"><p>This example uses the following:</p><div class="itemizedlist">
					 
					 
					 
				<ul class="itemizedlist"><li class="listitem"><p>Bucket Name ‐ <code>example.com</code></p></li><li class="listitem"><p>Region ‐ US East (N. Virginia) </p></li><li class="listitem"><p>Key Name ‐ <code>homepage.html</code></p></li></ul></div><p>The URL is as follows:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">http://s3.us-east-1.amazonaws.com/example.com/homepage.html</code></pre><p>The request is as follows:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GET /example.com/homepage.html HTTP/1.1
Host: s3.us-east-1.amazonaws.com</code></pre><p>The request with HTTP 1.0 and omitting the <code class="code">Host</code> header is as
				follows:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GET /example.com/homepage.html HTTP/1.0</code></pre></div></div>
		<p>For information about DNS-compatible names, see <a href="#VirtualHostingLimitations">Limitations</a>. For more information about
			keys, see <a href="./Welcome.html#BasicsKeys">Keys</a>.</p>
		<div class="example"><h6>Example – Virtual-hosted–style URLs and requests</h6><div class="example-contents"><p>This example uses the following:</p><div class="itemizedlist">
				 
				 
				 
			<ul class="itemizedlist"><li class="listitem">
					<p><b>Bucket name</b> ‐
							<code>DOC-EXAMPLE-BUCKET1.eu</code>
					</p>
				</li><li class="listitem">
					<p><b>Region</b> ‐ Europe (Ireland) </p>
				</li><li class="listitem">
					<p><b>Key name</b> ‐
							<code>homepage.html</code></p>
				</li></ul></div><p>The URL is as follows:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">http://DOC-EXAMPLE-BUCKET1.eu.s3.eu-west-1.amazonaws.com/homepage.html</code></pre><p>The request is as follows:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GET /homepage.html HTTP/1.1
Host: DOC-EXAMPLE-BUCKET1.eu.s3.eu-west-1.amazonaws.com</code></pre></div></div>
		<div class="example"><h6>Example – CNAME alias method</h6><div class="example-contents"><p>To use this method, you must configure your DNS name as a CNAME alias for
						<code class="code"><code class="replaceable">bucket-name</code>.s3.us-east-1.amazonaws.com</code>.
				For more information, see <a href="#VirtualHostingCustomURLs">Customizing Amazon S3 URLs with CNAME
				records</a>. </p><p>This example uses the following:</p><div class="itemizedlist">
				 
				 
			<ul class="itemizedlist"><li class="listitem">
					<p>Bucket Name ‐ <code>example.com</code>
					</p>
				</li><li class="listitem">
					<p><b>Key name</b> ‐
							<code>homepage.html</code></p>
				</li></ul></div><p>The URL is as follows:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">http://www.example.com/homepage.html</code></pre><p>The example is as follows:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">GET /homepage.html HTTP/1.1
Host: www.example.com</code></pre></div></div>
	 
		<h2 id="VirtualHostingCustomURLs">Customizing Amazon S3 URLs with CNAME
				records</h2>
		<p>Depending on your needs, you might not want
					<code class="code">s3.<code class="replaceable">region-code</code>.amazonaws.com</code> to appear on
			your website or service. For example, if you're hosting website images on Amazon S3, you
			might prefer <code>http://images.example.com/</code> instead of
				<code class="code">http://images.example.com.s3.us-east-1.amazonaws.com/</code>. Any bucket
			with a DNS-compatible name can be referenced as follows: <code>
					http://<code class="replaceable">BucketName</code>.s3.<code class="replaceable">Region</code>.amazonaws.com/[<code class="replaceable">Filename</code>]</code>,
			for example,
				<code>http://images.example.com.s3.us-east-1.amazonaws.com/mydog.jpg</code>.
			By using CNAME, you can map <code>images.example.com</code> to an Amazon S3
			hostname so that the previous URL could become
				<code>http://images.example.com/mydog.jpg</code>. </p>
		<p>Your bucket name must be the same as the CNAME. For example, if you create a CNAME to
			map <code>images.example.com</code> to
				<code>images.example.com.s3.us-east-1.amazonaws.com</code>, both
				<code>http://images.example.com/filename</code> and
				<code>http://images.example.com.s3.us-east-1.amazonaws.com/filename</code>
			will be the same.</p>
		<p>The CNAME DNS record should alias your domain name to the appropriate virtual
			hosted–style hostname. For example, if your bucket name and domain name are
				<code>images.example.com</code> and your bucket is in the
			US East (N. Virginia) Region, the CNAME record should alias to
				<code>images.example.com.s3.us-east-1.amazonaws.com</code>. </p>
		<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">images.example.com CNAME 			images.example.com.s3.us-east-1.amazonaws.com.</code></pre>
		
		<p>Amazon S3 uses the hostname to determine the bucket name. So the CNAME and the bucket name
			must be the same. For example, suppose that you have configured
				<code>www.example.com</code> as a CNAME for
				<code>www.example.com.s3.us-east-1.amazonaws.com</code>. When you access
				<code>http://www.example.com</code>, Amazon S3 receives a request similar to
			the following:</p>
		<div class="example"><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">GET / HTTP/1.1
Host: www.example.com
Date: <code class="replaceable">date</code>
Authorization: <code class="replaceable">signatureValue</code></code></pre></div></div>
		<p>Amazon S3 sees only the original hostname <code>www.example.com</code> and is
			unaware of the CNAME mapping used to resolve the request. </p>
		
		<p>You can use any Amazon S3 endpoint in a CNAME alias. For example,
				<code>s3.ap-southeast-1.amazonaws.com</code> can be used in CNAME aliases.
			For more information about endpoints, see <a href="./MakingRequests.html#RequestEndpoints">Request
				Endpoints</a>. To create a static website by using a custom domain, see <a href="./website-hosting-custom-domain-walkthrough.html">Tutorial: Configuring a static website using a
			custom domain registered with Route 53</a>.</p>
		<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>When using custom URLs with CNAMEs, you will need to ensure a matching bucket
				exists for any CNAME or alias record you configure. For example, if you create DNS
				entries for <code>www.example.com</code> and
					<code>login.example.com</code> to publish web content using S3, you
				will need to create both buckets <code>www.example.com</code> and
					<code>login.example.com</code>.</p><p>When a CNAME or alias records is configured pointing to an S3 endpoint without a
				matching bucket, any AWS user can create that bucket and publish content under the
				configured alias, even if ownership is not the same.</p><p>For the same reason, we recommend that you change or remove the corresponding
				CNAME or alias when deleting a bucket.</p></div></div>
	 
		<h2 id="VirtualHostingCustomURLsHowTo">How to associate a hostname with an Amazon S3 bucket</h2>
		<div class="procedure"><h6>To associate a hostname with an Amazon S3 bucket by using a CNAME alias</h6><ol><li>
				<p>Select a hostname that belongs to a domain that you control. </p>
				<p>This example uses the <code>images</code> subdomain of the
					<code>example.com</code> domain.</p>
			</li><li>
				<p>Create a bucket that matches the hostname. </p>
				<p>In this example, the host and bucket names are
					<code class="code">images.example.com</code>. The bucket name must <em>exactly</em> match the hostname. </p>
			</li><li>
				<p>Create a CNAME DNS record that defines the hostname as an alias for the Amazon S3
					bucket. </p>
				<p>For example:</p>
				<p><code>images.example.com CNAME
					images.example.com.s3.us-west-2.amazonaws.com</code></p>
				<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>For request-routing reasons, the CNAME DNS record must be defined exactly
						as shown in the preceding example. Otherwise, it might appear to operate
						correctly, but it will eventually result in unpredictable behavior.</p></div></div>
				<p>The procedure for configuring CNAME DNS records depends on your DNS server or
					DNS provider. For specific information, see your server documentation or contact
					your provider.</p>
			</li></ol></div>
	 
		<h2 id="VirtualHostingLimitations">Limitations</h2>
		 
    <p>
        SOAP support over HTTP is deprecated, but SOAP is still available over HTTPS. 
        New Amazon S3 features are not supported for SOAP. Instead of using SOAP, we recommend that you use 
        either the REST API or the AWS SDKs.
    </p>
 
	 
		<h2 id="VirtualHostingBackwardsCompatibility">Backward compatibility</h2>
		
		<p>The following sections cover various aspects of Amazon S3 backward compatibility that
			relate to path-style and virtual-hosted–style URL requests.</p>
		 
			<h3 id="s3-legacy-endpoints">Legacy endpoints</h3>
			<p>Some Regions support legacy endpoints. You might see these endpoints in your
				server access logs or AWS CloudTrail logs. For more information, review the following
				information. For a complete list of Amazon S3 Regions and endpoints, see <a href="https://docs.aws.amazon.com/general/latest/gr/s3.html">Amazon S3 endpoints and quotas</a> in the <em>Amazon Web Services General Reference</em>.</p>
			<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Although you might see legacy endpoints in your logs, we recommend that you
					always use the standard endpoint syntax to access your buckets. </p><p>Amazon S3 virtual-hosted–style URLs use the following format:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">https://<code class="replaceable">bucket-name</code>.s3.<code class="replaceable">region-code</code>.amazonaws.com/<code class="replaceable">key-name</code></code></pre><p>In Amazon S3, path-style URLs use the following format:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">https://s3.<code class="replaceable">region-code</code>.amazonaws.com/<code class="replaceable">bucket-name</code>/<code class="replaceable">key-name</code></code></pre></div></div>
			 
				<h4 id="s3-dash-region">s3‐Region</h4>
				<p>Some older Amazon S3 Regions support endpoints that contain a dash (<code class="code">-</code>)
					between <code class="code">s3</code> and the Region code (for example,
						<code class="code">s3‐us-west-2</code>), instead of a dot (for example,
						<code class="code">s3.us-west-2</code>). If your bucket is in one of these Regions, you
					might see the following endpoint format in your server access logs or CloudTrail
					logs:</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">https://<code class="replaceable">bucket-name</code>.s3-<code class="replaceable">region-code</code>.amazonaws.com</code></pre>
				<p>In this example, the bucket name is DOC-EXAMPLE-BUCKET1 and the
					Region is US West (Oregon):</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">https://DOC-EXAMPLE-BUCKET1.s3-us-west-2.amazonaws.com</code></pre>
			 
			 
				<h4 id="deprecated-global-endpoint">Legacy global endpoint</h4>
				<p>For some Regions, you can use the legacy global endpoint to construct requests
					that do not specify a Region-specific endpoint. The legacy global endpoint point
					is as follows:</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="replaceable">bucket-name</code>.s3.amazonaws.com</code></pre>
				<p>In your server access logs or CloudTrail logs, you might see requests that use the
					legacy global endpoint. In this example, the bucket name is
						<code>DOC-EXAMPLE-BUCKET1</code> and the legacy global
					endpoint is: </p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">https://DOC-EXAMPLE-BUCKET1.s3.amazonaws.com</code></pre>
				 
					<h6>Virtual-hosted–style requests for US East (N. Virginia)</h6>
					<p>Requests made with the legacy global endpoint go to the US East (N. Virginia)
						Region by default. Therefore, the legacy global endpoint is sometimes used
						in place of the Regional endpoint for US East (N. Virginia). If you create a
						bucket in US East (N. Virginia) and use the global endpoint, Amazon S3 routes your
						request to this Region by default. </p>
				 
				 
					<h6>Virtual-hosted–style requests for other Regions</h6>
					<p>The legacy global endpoint is also used for virtual-hosted–style
						requests in other supported Regions. If you create a bucket in a Region that
						was launched before March 20, 2019, and use the legacy global endpoint, Amazon S3
						updates the DNS record to reroute the request to the correct location, which
						might take time. In the meantime, the default rule applies, and your
						virtual-hosted–style request goes to the US East (N. Virginia) Region.
						Amazon S3 then redirects it with an HTTP 307 Temporary Redirect to the correct
						Region. </p>
				 
				<p>For S3 buckets in Regions launched after March 20, 2019, the DNS server
					doesn't route your request directly to the AWS Region where your bucket
					resides. It returns an HTTP 400 Bad Request error instead. For more information,
					see <a href="./MakingRequests.html">Making requests</a>.</p>
				 
					<h6>Path-style requests</h6>
					<p>For the US East (N. Virginia) Region, you can use the legacy global endpoint
						for path-style requests. </p>
				 
				<p>For all other Regions, the path-style syntax requires that you use the
					Region-specific endpoint when attempting to access a bucket. If you try to
					access a bucket with the legacy global endpoint or another endpoint that is
					different than the one for the Region where the bucket resides, you receive an
					HTTP response code 307 Temporary Redirect error and a message that indicates the
					correct URI for your resource. For example, if you use
							<code class="code">https://s3.amazonaws.com/<code class="replaceable">bucket-name</code></code>
					for a bucket that was created in the US West (Oregon) Region, you will receive
					an HTTP 307 Temporary Redirect error.</p>
			 
		 
	<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./RESTAPI.html">Making requests using the REST API</div><div id="next" class="next-link" accesskey="n" href="./RESTRedirect.html">Request redirection and the REST API</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/VirtualHosting.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/VirtualHosting.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>