<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Setting default server-side encryption behavior for Amazon S3 buckets - Amazon Simple Storage Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="bucket-encryption" /><meta name="default_state" content="bucket-encryption" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-encryption.html" /><meta name="description" content="Describes Amazon S3 default bucket encryption and how to use it." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Simple Storage Service" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Learn how to use Amazon Simple Storage Service (Amazon S3) to store and retrieve any amount of data from anywhere. This guide explains Amazon S3 concepts, such as buckets, objects, and related configurations, and includes code examples for common operations." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-encryption.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/bucket-encryption.html" hreflang="x-default" /><meta name="feedback-item" content="S3" /><meta name="this_doc_product" content="Amazon Simple Storage Service" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'s3'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Setting default server-side encryption behavior for Amazon S3 buckets" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Setting default server-side encryption behavior for Amazon S3 buckets - Amazon Simple Storage Service</title><meta name="pdf" content="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#bucket-encryption" /><meta name="github" content="https://github.com/awsdocs/amazon-s3-userguide/tree/main/doc_source/bucket-encryption.md" /><meta name="rss" content="s3-userguide-rss-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=24" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/bucket-encryption.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/bucket-encryption.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/bucket-encryption.html" /><meta name="keywords" content="S3,Amazon S3,S3 User Guide,Amazon S3 User Guide,Amazon User Guide,s3 bucket,s3 object,cloud storage,data storage" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Simple Storage Service (S3)",
        "item" : "https://docs.aws.amazon.com/s3/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Creating, configuring, and working with Amazon S3 buckets",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets-s3.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Setting default server-side encryption behavior for Amazon S3 buckets",
        "item" : "https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets-s3.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AmazonS3/latest/userguide/s3-userguide.pdf#bucket-encryption" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-s3-userguide/tree/main/doc_source/bucket-encryption.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/s3/index.html">Amazon Simple Storage Service (S3)</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#bucket-encryption-update-bucket-policy">Using SSE-KMS encryption for cross-account
        operations</a><a href="#bucket-encryption-replication">Using default encryption with
        replication</a><a href="#bucket-key-default-encryption">Using Amazon S3 Bucket Keys with default
        encryption</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="bucket-encryption">Setting default server-side encryption behavior for Amazon S3
      buckets</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Amazon S3 now applies server-side encryption with Amazon S3 managed keys (SSE-S3)
            as the base level of encryption for every bucket in Amazon S3. Starting January 5, 2023, all new object uploads to Amazon S3 are automatically encrypted at no
            additional cost and with no impact on performance. The automatic encryption status for S3 bucket default encryption configuration 
            and for new object uploads is available in AWS CloudTrail logs, S3 Inventory, S3 Storage Lens, the Amazon S3 console, and as an additional Amazon S3 API response header 
            in the AWS Command Line Interface and AWS SDKs. For more information, 
            see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/default-encryption-faq.html">Default encryption FAQ</a>.</p></div></div><p>All Amazon S3 buckets have encryption configured by default, and
    objects are automatically encrypted by using server-side encryption with Amazon S3 managed keys
    (SSE-S3). This encryption setting applies to all objects in your Amazon S3 buckets.</p><p>If you need more control over your keys, such as managing key rotation and access policy
    grants, you can choose to use server-side encryption with AWS Key Management Service (AWS KMS) keys (SSE-KMS), or
    dual-layer server-side encryption with AWS KMS keys (DSSE-KMS). For more information about editing
    KMS keys, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/editing-keys.html">Editing keys</a> in <em>AWS Key Management Service Developer Guide</em>. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>We've changed buckets to encrypt new object uploads automatically. If you previously
      created a bucket without default encryption, Amazon S3 will enable encryption by default for the
      bucket using SSE-S3. There will be no changes to the default encryption configuration for an
      existing bucket that already has SSE-S3 or SSE-KMS configured. If you want to encrypt your
      objects with SSE-KMS, you must change the encryption type in your bucket settings. For more
      information, see <a href="./UsingKMSEncryption.html">Using server-side encryption with AWS KMS keys
            (SSE-KMS)</a>. </p></div></div><p>When you configure your bucket to use default encryption with SSE-KMS, you can also enable
    S3 Bucket Keys to decrease request traffic from Amazon S3 to AWS KMS and reduce the cost of encryption. For
    more information, see <a href="./bucket-key.html">Reducing the cost of SSE-KMS with Amazon S3 Bucket Keys</a>.</p><p>To identify buckets that have SSE-KMS enabled for default encryption, you can use
    Amazon S3 Storage Lens metrics. S3 Storage Lens is a cloud-storage analytics feature that you can use to gain organization-wide
    visibility into object-storage usage and activity. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/storage-lens-data-protection.html?icmpid=docs_s3_user_guide_bucket-encryption.html"> Using S3 Storage Lens to protect your data</a>.</p><p>When you use server-side encryption, Amazon S3 encrypts an object before saving it to disk and
    decrypts it when you download the object. For more information about protecting data using
    server-side encryption and encryption-key management, see <a href="./serv-side-encryption.html">Protecting data with server-side encryption</a>.</p><p>For more information about the permissions required for default encryption, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketEncryption.html">PutBucketEncryption</a> in the
    <em>Amazon Simple Storage Service API Reference</em>.</p><p>You can configure the Amazon S3 default encryption behavior for an S3 bucket by using the Amazon S3
    console, the AWS SDKs, the Amazon S3 REST API, and the AWS Command Line Interface (AWS CLI).</p>
    <h6>Encrypting existing objects</h6>
    <p>To encrypt your existing unencrypted Amazon S3 objects, you can use Amazon S3 Batch Operations. You
      provide S3 Batch Operations with a list of objects to operate on, and Batch Operations calls the
      respective API to perform the specified operation. You can use the <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/batch-ops-copy-object.html">Batch Operations Copy operation</a>
      to copy existing unencrypted objects and write them back to the same bucket as encrypted
      objects. A single Batch Operations job can perform the specified operation on billions of objects.
      For more information, see <a href="./batch-ops.html">Performing large-scale batch operations on Amazon S3 objects</a> and the
        <em>AWS Storage Blog</em> post <a href="http://aws.amazon.com/blogs/storage/encrypting-objects-with-amazon-s3-batch-operations/" rel="noopener noreferrer" target="_blank"><span>Encrypting objects with
        Amazon S3 Batch Operations</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
  <p>You can also encrypt existing objects by using the <code class="code">CopyObject</code> API operation or
    the <code class="code">copy-object</code> AWS CLI command. For more information, see the <em>AWS Storage Blog</em> post <a href="http://aws.amazon.com/blogs/storage/encrypting-existing-amazon-s3-objects-with-the-aws-cli/" rel="noopener noreferrer" target="_blank"><span>Encrypting existing Amazon S3
      objects with the AWS CLI</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon S3 buckets with default bucket encryption set to SSE-KMS cannot be used as destination
      buckets for <a href="./ServerLogs.html">Logging requests using server access logging</a>. Only SSE-S3 default encryption is supported for
      server access log destination buckets.</p></div></div>
    <h2 id="bucket-encryption-update-bucket-policy">Using SSE-KMS encryption for cross-account
        operations</h2>
    <p>When using encryption for cross-account operations, be aware of the following:</p>
    <div class="itemizedlist">
       
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>If an AWS KMS key Amazon Resource Name (ARN) or alias is not provided at request
          time or through the bucket's default encryption configuration, the AWS managed key
            (<code class="code">aws/s3</code>) is used.</p>
      </li><li class="listitem">
        <p>If you're uploading or accessing S3 objects by using AWS Identity and Access Management (IAM) principals that
          are in the same AWS account as your KMS key, you can use the AWS managed key
            (<code class="code">aws/s3</code>). </p>
      </li><li class="listitem">
        <p>If you want to grant cross-account access to your S3 objects, use a customer managed key. You
          can configure the policy of a customer managed key to allow access from another account.</p>
      </li><li class="listitem">
        <p>If you're specifying your own KMS key, we recommend using a fully qualified
          KMS key ARN. If you use a KMS key alias instead, AWS KMS resolves the key within the
          requester’s account. This behavior can result in data that's encrypted with a KMS key
          that belongs to the requester, and not the bucket owner.</p>
      </li><li class="listitem">
        <p>You must specify a key that you (the requester) have been granted <code class="code">Encrypt</code>
          permission to. For more information, see <a href="https://docs.aws.amazon.com/kms/latest/developerguide/key-policies.html#key-policy-users-crypto">Allow key
            users to use a KMS key for cryptographic operations</a> in the <em>AWS Key Management Service Developer Guide</em>.</p>
      </li></ul></div>
    <p>For more information about when to use customer managed keys and AWS managed KMS keys, see
        <a href="http://aws.amazon.com/premiumsupport/knowledge-center/s3-object-encryption-keys/" rel="noopener noreferrer" target="_blank"><span>Should I use an AWS managed key or a customer managed key to encrypt my objects in
      Amazon S3?</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
   
    <h2 id="bucket-encryption-replication">Using default encryption with
        replication</h2>
    <p>When you enable default encryption for a replication destination bucket, the following
      encryption behavior applies:</p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>If objects in the source bucket are not encrypted, the replica objects in the
          destination bucket are encrypted by using the default encryption settings of the destination
          bucket. As a result, the entity tags (ETags) of the source objects differ from
          the ETags of the replica objects. If you have applications that use ETags, you must update 
          those applications to account for this difference.</p>
      </li><li class="listitem">
        <p>If objects in the source bucket are encrypted by using server-side encryption with Amazon S3 
        managed keys (SSE-S3), server-side encryption with AWS Key Management Service (AWS KMS) keys (SSE-KMS), or dual-layer 
        server-side encryption with AWS KMS keys (DSSE-KMS), the replica
          objects in the destination bucket use the same type of encryption as the source objects.
          The default encryption settings of the destination bucket are not used.</p>
      </li></ul></div>
    <p>For more information about using default encryption with SSE-KMS, see <a href="./replication-config-for-kms-objects.html">Replicating encrypted
            objects (SSE-C, SSE-S3, SSE-KMS, DSSE-KMS)</a>.</p>
   
    <h2 id="bucket-key-default-encryption">Using Amazon S3 Bucket Keys with default
        encryption</h2>
    <p>When you configure your bucket to use SSE-KMS as the default encryption behavior for new
      objects, you can also configure S3 Bucket Keys. S3 Bucket Keys decrease the number of transactions from Amazon S3
      to AWS KMS to reduce the cost of SSE-KMS. </p>
    <p>When you configure your bucket to use S3 Bucket Keys for SSE-KMS on new objects, AWS KMS generates
      a bucket-level key that is used to create a unique <a href="https://docs.aws.amazon.com/kms/latest/developerguide/concepts.html#data-keys">data key</a> for objects in the
      bucket. This S3 Bucket Key is used for a time-limited period within Amazon S3, reducing the need for
      Amazon S3 to make requests to AWS KMS to complete encryption operations. </p>
    <p>For more information about using S3 Bucket Keys, see <a href="./bucket-key.html">Using Amazon S3 Bucket Keys</a>.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./delete-bucket.html">Deleting a bucket</div><div id="next" class="next-link" accesskey="n" href="./default-bucket-encryption.html">Configuring default
      encryption</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/bucket-encryption.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=S3&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonS3/latest/userguide/bucket-encryption.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>