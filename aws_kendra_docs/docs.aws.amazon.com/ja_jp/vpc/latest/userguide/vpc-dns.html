<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ja-JP"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VPC の DNS 属性 - Amazon Virtual Private Cloud</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="vpc-dns" /><meta name="default_state" content="vpc-dns" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" /><meta name="description" content="VPC の DNS サポートを制御します。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Virtual Private Cloud" /><meta name="guide" content="ユーザーガイド" /><meta name="abstract" content="Amazon VPC を使用すると、AWS クラウドの論理的に分離されたセクションである仮想ネットワーク内に AWS リソースを起動できます。" /><meta name="guide-locale" content="ja_jp" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/vpc-dns.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/vpc-dns.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/vpc-dns.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/vpc-dns.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/vpc-dns.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/vpc-dns.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/vpc-dns.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/vpc-dns.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/vpc-dns.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/vpc-dns.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/vpc-dns.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/vpc-dns.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/vpc-dns.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/vpc-dns.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/vpc-dns.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="x-default" /><meta name="feedback-item" content="VPC" /><meta name="this_doc_product" content="Amazon Virtual Private Cloud" /><meta name="this_doc_guide" content="ユーザーガイド" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'vpc'}"></script><meta id="panorama-serviceSubSection" value="ユーザーガイド" /><meta id="panorama-serviceConsolePage" value="VPC の DNS 属性" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>VPC の DNS 属性 - Amazon Virtual Private Cloud</title><meta name="pdf" content="vpc-ug.pdf#vpc-dns" /><meta name="rss" content="amazon-vpc-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=58" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=http://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" /><meta name="keywords" content="VPC,Amazon VPC,ネットワーク,ルートテーブル,インターネットゲートウェイ,サブネット,NAT" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon VPC",
        "item" : "https://docs.aws.amazon.com/vpc/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "ユーザーガイド",
        "item" : "https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "仮想プライベートクラウド (VPC)",
        "item" : "https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/configure-your-vpc.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "VPC の DNS 属性",
        "item" : "https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/configure-your-vpc.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="vpc-ug.pdf#vpc-dns" target="_blank" rel="noopener noreferrer" title="PDF を開く"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">ドキュメント</a><a href="/vpc/index.html">Amazon VPC</a><a href="what-is-amazon-vpc.html">ユーザーガイド</a></div><div id="page-toc-src"><a href="#AmazonDNS">Amazon DNS サーバー</a><a href="#vpc-dns-hostnames">DNS ホスト名</a><a href="#vpc-dns-support">VPC 内の DNS 属性</a><a href="#vpc-dns-limits">DNS クォータ</a><a href="#vpc-dns-viewing">EC2 インスタンスの DNS ホスト名を表示する</a><a href="#vpc-dns-updating">VPC の DNS 属性の表示と更新</a><a href="#vpc-private-hosted-zones">プライベートホストゾーン</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="vpc-dns">VPC の DNS 属性</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>ドメインネームシステム (DNS) は、インターネットで使用する名前を対応する IP アドレスに解決するための標準です。DNS ホスト名はコンピュータを一意に識別する絶対名で、ホスト名とドメイン名で構成されます。DNS サーバーは DNS ホスト名を対応する IP アドレスに解決します。</p><p>パブリック IPv4 アドレスによってインターネットでの通信が可能になり、プライベート IPv4 アドレスによってインスタンスのネットワーク内部での通信が可能になります。詳細については、「<a href="./vpc-ip-addressing.html">VPC とサブネットの IP アドレス指定</a>」を参照してください。</p><p>Amazon は、お客様の VPC 用の DNS サーバー (<a href="#AmazonDNS">Amazon Route 53 Resolver</a>) を提供しています。代わりに独自の DNS サーバーを使用するには、VPC 用の DHCP オプションの新しいセットを作成します。詳細については、「<a href="./VPC_DHCP_Options.html">Amazon VPC の DHCP オプションセット</a>」を参照してください。</p><div class="highlights" id="inline-topiclist"><h6>内容</h6><ul><li><a href="#AmazonDNS">Amazon DNS サーバー</a></li><li><a href="#vpc-dns-hostnames">DNS ホスト名</a></li><li><a href="#vpc-dns-support">VPC 内の DNS 属性</a></li><li><a href="#vpc-dns-limits">DNS クォータ</a></li><li><a href="#vpc-dns-viewing">EC2 インスタンスの DNS ホスト名を表示する</a></li><li><a href="#vpc-dns-updating">VPC の DNS 属性の表示と更新</a></li><li><a href="#vpc-private-hosted-zones">プライベートホストゾーン</a></li></ul></div>
    <h2 id="AmazonDNS">Amazon DNS サーバー</h2>
    <p>Route 53 Resolver (「Amazon DNS サーバー」または「AmazonProvidedDNS」とも呼ばれます) は、AWS リージョン内の各アベイラビリティーゾーンに組み込まれている DNS リゾルバーサービスです。Route 53 Resolver は <code class="code">169.254.169.253</code> (IPv4)、<code class="code">fd00:ec2::253</code> (IPv6)、および VPC+2 にプロビジョニングされたプライマリプライベート IPV4 CIDR 範囲に配置されています。例えば、IPv4 CIDR が <code class="code">10.0.0.0/16</code> で、IPv6 CIDR が <code class="code">fd00:ec2::253</code> の VPC がある場合、Route 53 Resolver には <code class="code">169.254.169.253</code> (IPv4)、<code class="code">fd00:ec2::253</code> (IPv6)、または <code class="code">10.0.0.2</code> (IPv4) でアクセスできます。</p>
    <p>VPC 内に起動したインスタンスは、インスタンスにプライベート DNS ホスト名を提供します。パブリック IPv4 アドレスを使用してインスタンスが設定されており、VPC DNS 属性が有効になっている場合は、パブリック DNS ホスト名も提供します。</p>
    <p>プライベート DNS ホスト名の形式は、EC2 インスタンスを起動したときの設定方法によって異なります。プライベート DNS ホスト名タイプの詳細については、<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-naming.html">EC2 インスタンスの名前付け</a>を参照してください。</p>
    <p>VPC の Amazon DNS サーバーは、Route 53 のプライベートホストゾーンで指定する DNS ドメイン名を解決するために使用されます。プライベートホストゾーンの詳細については、<em>Amazon Route 53 デベロッパーガイド</em>の「<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-private.html">プライベートホストゾーンの使用</a>」を参照してください。</p>
    
     
      <h3 id="amazon-dns-rules">ルールと考慮事項</h3>
      <p>Amazon DNS サーバーを使用する場合は、次のルールと考慮事項が適用されます。</p>
      <div class="itemizedlist">
         
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>ネットワーク ACL またはセキュリティグループを使用して、Amazon DNS サーバーとの間のトラフィックをフィルタリングすることはできません。</p>
        </li><li class="listitem">
          <p>Amazon EMR のような、Hadoop フレームワークを使用するサービスは、インスタンスが自己の完全修飾ドメイン名 (FQDN) を解決する必要があります。このような場合、<code class="code">domain-name-servers</code> オプションがカスタム値に設定されていると DNS 解決が失敗する場合があります。DNS 解決が適切に行われるようにするには、DNS サーバーに条件付きフォワーダーを追加して、<code class="code"><code class="replaceable">region-name</code>.compute.internal</code> ドメインのクエリがAmazon DNS サーバーに転送されるようにする方法を検討します。詳細については、<em>Amazon EMR 管理ガイド</em>の「<a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-vpc-host-job-flows.html">クラスターをホストするための VPC をセットアップする</a>」を参照してください。</p>
        </li><li class="listitem">
          <p>Windows Server 2008 では、リンクローカルアドレス範囲 (169.254.0.0/16) にある DNS サーバーは使用できません。</p>
        </li><li class="listitem">
          <p>Amazon Route 53 Resolver は、再帰的な DNS クエリのみをサポートしています。</p>
        </li></ul></div>
     
   
    <h2 id="vpc-dns-hostnames">DNS ホスト名</h2>
    <p>インスタンスを起動すると、常にプライベート IPv4 アドレスと、プライベート IPv4 アドレスに対応するプライベート DNS ホスト名を受け取ります。インスタンスにパブリック IPv4 アドレスが割り当てられている場合、VPC の DNS 属性は、パブリック IPv4 アドレスに対応するパブリック DNS ホスト名を受け取るかどうかを決定します。詳細については、「<a href="#vpc-dns-support">VPC 内の DNS 属性</a>」を参照してください。</p>
    <p>Amazon が提供する DNS サーバーを有効にすると、DNS ホスト名が次のように割り当てられ、解決されます。</p>
       
        <h6>プライベート IP DNS 名 (IPv4 専用)</h6>   
        <p>プライベート IP DNS 名 (IPv4 専用) のホスト名は、同じ VPC 内のインスタンス間の通信に使用できます。インスタンスが同じ AWS リージョンにあり、他のインスタンスのホスト名が <a href="https://datatracker.ietf.org/doc/html/rfc1918" rel="noopener noreferrer" target="_blank"><span>RFC 1918</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> によって定義されたプライベートアドレス空間の範囲内にある限り、他の VPC 内の他のインスタンスのプライベート IP DNS 名 (IPv4 のみ) のホスト名を解決できます: <code class="code">10.0.0.0 - 10.255.255.255 (10/8 prefix)</code>、<code class="code">172.16.0.0 - 172.31.255.255 (172.16/12 prefix)</code>、および <code class="code">192.168.0.0 - 192.168.255.255 (192.168/16 prefix)</code>。</p>
     
     
      <h6>プライベートリソース DNS 名</h6>
      <p>このインスタンスで選択された A および AAAA DNS レコードに解決できる RBN ベースの DNS 名。この DNS ホスト名は、デュアルスタックおよび IPv6 専用サブネットのインスタンスの詳細で表示されます。RBN の詳細については、<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-naming.html">EC2 インスタンスホスト名タイプ</a>を参照してください。</p>
     
       
        <h6>パブリック IPv4 DNS</h6>
          <p>パブリック (外部) IPv4 DNS ホスト名には、<code class="code">us-east-1</code> リージョンは <code class="code">ec2-<code class="replaceable">public-ipv4-address</code>.compute-1.amazonaws.com</code> 書式、その他のリージョンは <code class="code">ec2-<code class="replaceable">public-ipv4-address</code>.<code class="replaceable">region</code>.compute.amazonaws.com</code> 書式が使用されます。Amazon DNS サーバーがパブリック DNS ホスト名を解決すると、インスタンスのパブリック IPv4 アドレス (インスタンスのネットワークの外部の場合) およびインスタンスのプライベート IPv4 アドレス (インスタンスのネットワーク内からの場合) となります。詳細については、<em>Linux インスタンス用の Amazon EC2 ユーザーガイド</em>の「<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses">パブリック IPv4 アドレスと外部 DNS ホスト名</a>」を参照してください。</p>
       
   
    <h2 id="vpc-dns-support">VPC 内の DNS 属性</h2>
    
    <p>次の VPC 属性は、VPC に提供される DNS サポートを決定します。両方の属性が有効になっている場合、VPC 内に起動されるインスタンスはパブリック DNS ホスト名を受け取ります。そのためには、インスタンスにパブリック IPv4 アドレスまたは Elastic IP アドレスが割り当てられている必要があります。両方とも有効になっていなかった VPC で両方の属性を有効にすると、その VPC ですでに起動されているインスタンスはパブリック DNS ホスト名を受け取ります。そのためには、インスタンスにパブリック IPv4 アドレスまたは Elastic IP アドレスが割り当てられている必要があります。</p>
     <p>これらの属性が VPC で有効かどうかを確認するには、「<a href="#vpc-dns-updating">VPC の DNS 属性の表示と更新</a>」を参照してください。</p>
      <div class="table-container"><div class="table-contents"><table id="w282aac13c19c15b7"><thead>
            <tr>
              <th>属性</th>
              <th>説明</th>
            </tr>
          </thead>
            <tr>
              <td><code class="code">enableDnsHostnames</code></td>
              <td>
                <p>VPC がパブリック IP アドレスを持つインスタンスへのパブリック DNS ホスト名の割り当てをサポートするかどうかを決定します。</p>
                <p>VPC がデフォルト VPC でない限り、この属性のデフォルトは <code class="code">false</code> です。</p>
                
              </td>
            </tr>
            <tr>
              <td><code class="code">enableDnsSupport</code></td>
              <td>
                <p>VPC が Amazon 提供の DNS サーバーを介した DNS 解決策をサポートするかどうかを決定します。</p>
                <p>この属性が <code class="code">true</code> の場合、Amazon が提供した DNS サーバーへのクエリは成功します。詳細については、「<a href="#AmazonDNS">Amazon DNS サーバー</a>」を参照してください。</p>
                <p>この属性のデフォルトは <code class="code">true</code> です。</p>
              </td>
            </tr>
          </table></div></div>
    
    <div class="itemizedlist">
          <h6>ルールと考慮事項</h6>
           
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>属性の両方が <code class="code">true</code> に設定されている場合、次のようになります。</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>パブリック IP アドレスを持つインスタンスは、対応するパブリック DNS ホスト名を受け取ります。</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53 Resolver サーバーは、Amazon が提供するプライベート DNS ホスト名を解決できます。</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>少なくとも 1 つの属性が <code class="code">false</code> に設定されている場合、次のようになります。</p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>パブリック IP アドレスを持つインスタンスは、対応するパブリック DNS ホスト名を受け取りません。</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53 Resolver は、Amazon が提供するプライベート DNS ホスト名を解決できません。</p>
                    </li><li class="listitem">
                        <p><a href="./VPC_DHCP_Options.html">DHCP オプションセット</a>にカスタムドメイン名がある場合、インスタンスはカスタムプライベート DNS ホスト名を受け取ります。Amazon Route 53 Resolver サーバーを使用しない場合、必要に応じてカスタムドメインネームサーバーがホスト名を解決する必要があります。</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>Amazon Route 53 のプライベートホストゾーンで定義されたカスタム DNS ドメイン名を使用する場合や、インターフェイス VPC エンドポイント (AWS PrivateLink) でプライベート DNS を使用する場合は、<code class="code">enableDnsHostnames</code> 属性と <code class="code">enableDnsSupport</code> 属性の両方を <code class="code">true</code> に設定する必要があります。</p>
            </li><li class="listitem">
                <p>Amazon Route 53 Resolver は、プライベート DNS ホスト名を、すべてのアドレス空間のプライベート IPv4 アドレスに解決できます。これには、VPC の IPv4 アドレス範囲が、<a href="https://tools.ietf.org/html/rfc1918" rel="noopener noreferrer" target="_blank"><span>RFC 1918</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> に指定されているプライベート IPv4 アドレス範囲外になる場合も含まれます。ただし、2016 年 10 月より前に作成した VPC の場合、その IPv4 アドレス範囲がこれらの範囲外であると、Amazon Route 53 Resolver はプライベート DNS ホスト名を解決しません。このサポートを有効にするには、<a href="http://aws.amazon.com/contact-us/" rel="noopener noreferrer" target="_blank"><span>AWS Support</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> までお問い合わせください。</p>
            </li><li class="listitem">
              <p>VPC ピアリングを使用する場合は、両方の VPC で両方の属性を有効にし、ピアリング接続の DNS 解決を有効にする必要があります。詳細については、「<a href="https://docs.aws.amazon.com/vpc/latest/peering/modify-peering-connections.html#vpc-peering-dns">VPC ピアリング接続の DNS 解決を有効にする</a>」を参照してください。</p>
            </li></ul></div>
   
        <h2 id="vpc-dns-limits">DNS クォータ</h2>
         <p>各 EC2 インスタンスは、Route 53 Resolver (具体的には 10.0.0.2、169.254.169.253などの .2 アドレス) にネットワークインターフェイスあたり 1024 パケット/秒でパケットを送信できます。このクォータを増やすことはできません。Route 53 Resolver でサポートされる 1 秒あたりの DNS クエリの数は、クエリのタイプ、レスポンスのサイズ、および使用中のプロトコルにより異なります。スケーラブルな DNS アーキテクチャの詳細および推奨については、「<a href="https://d1.awsstatic.com/whitepapers/aws-hybrid-dns-with-active-directory.pdf" rel="noopener noreferrer" target="_blank"><span>アクティブディレクトリを使用した AWS ハイブリッド DNS</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> 技術ガイド」を参照してください。</p> 
    <p>クォータに達すると、Route 53 Resolver はトラフィックを拒否します。クォータに達する原因には、DNS スロットリングの問題や、Route 53 Resolver ネットワークインターフェイスを使用するインスタンスメタデータクエリがあります。VPC DNS スロットリングの問題を解決する方法については、「<a href="http://aws.amazon.com/premiumsupport/knowledge-center/vpc-find-cause-of-failed-dns-queries/" rel="noopener noreferrer" target="_blank"><span>VPC DNS スロットリングが、Amazon が提供している DNS サーバーへのDNS クエリの失敗の原因となっているかどうかを判断する方法を教えてください。</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>」を参照してください。インスタンスメタデータの詳細については、「<em>Amazon EC2 Linux インスタンス用ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html">Retrieve instance metadata (インスタンスメタデータの取得)</a>」を参照してください。</p>
   
    <h2 id="vpc-dns-viewing">EC2 インスタンスの DNS ホスト名を表示する</h2>
    
    <p>Amazon EC2 コンソールまたはコマンドラインを使用して、実行中のインスタンスまたはネットワークインターフェイスの DNS ホスト名を確認できます。</p>
    <p>[<b>Public DNS (IPv4) (パブリック DNS (IPv4))</b>] フィールドと [<b>Private DNS (プライベート DNS)</b>] フィールドは、インスタンスに関連付けられている VPC で DNS オプションが有効になっている場合に使用できます。詳細については、「<a href="#vpc-dns-support">VPC 内の DNS 属性</a>」を参照してください。</p>

     
      <h3 id="instance-dns">インスタンス</h3>
      
      <div class="procedure"><h6>コンソールを使用してインスタンスの DNS ホスト名を確認するには</h6><ol><li><p>Amazon EC2 コンソール (<a href="https://console.aws.amazon.com/ec2/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/ec2/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) を開きます。</p></li><li><p>ナビゲーションペインで、[<b>インスタンス</b>] を選択します。</p></li><li><p>リストから インスタンスを選択します。</p></li><li>
          <p>詳細ペインで、[<b>Public DNS (IPv4)</b>] および [<b>Private DNS</b>] フィールドに、該当する場合は DNS ホスト名が表示されます。</p>
        </li></ol></div>
      
      <div class="itemizedlist">
        <h6>コマンドラインを使用してインスタンスの DNS ホスト名を確認するには</h6>
        <p>次のいずれかのコマンドを使用できます。これらのコマンドラインインターフェイスの詳細については、「<a href="./what-is-amazon-vpc.html#VPCInterfaces">Amazon EC2 の使用</a>」を参照してください。</p>
         
         
      <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html">describe-instances</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Instance.html">Get-EC2Instance</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
     
    
     
      <h3 id="eni-dns">ネットワークインターフェイス</h3>
      
      <div class="procedure"><h6>コンソールを使用してネットワークインターフェイスのプライベート DNS ホスト名を確認するには</h6><ol><li><p>Amazon EC2 コンソール (<a href="https://console.aws.amazon.com/ec2/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/ec2/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) を開きます。</p></li><li><p>ナビゲーションペインで、[<b>Network Interfaces</b>] を選択します。</p></li><li><p>リストからネットワークインターフェイスを選択します。</p></li><li>
          <p>詳細ペインの [<b>プライベート DNS (IPv4)</b>] フィールドにプライベート DNS ホスト名が表示されます。</p>
        </li></ol></div>
      
      <div class="itemizedlist">
        <h6>コマンドラインを使用してネットワークインターフェイスの DNS ホスト名を確認するには</h6>
        <p>次のいずれかのコマンドを使用できます。これらのコマンドラインインターフェイスの詳細については、「<a href="./what-is-amazon-vpc.html#VPCInterfaces">Amazon EC2 の使用</a>」を参照してください。</p>
         
         
      <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-network-interfaces.html">describe-network-interfaces</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2NetworkInterface.html">Get-EC2NetworkInterface</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
     
            
   
    <h2 id="vpc-dns-updating">VPC の DNS 属性の表示と更新</h2>
    
    <p>Amazon VPC コンソールを使用して、VPC の DNS サポート属性を表示および更新することができます。</p>
    
    <div class="procedure"><h6>コンソールを使用して VPC の DNS サポートの詳細を確認し更新するには</h6><ol><li><p>Amazon VPC コンソール (<a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>) を開きます。</p></li><li><p>画面左枠のナビゲーションペインで、[<b>Your VPCs</b>] を選択します。</p></li><li><p>VPC のチェックボックスをオンにします。</p></li><li>
        <p>情報の<b>詳細</b>を確認します。この例では、両方の <b>DNS hostnames</b> (DNS ホスト名) および<b>DNS resolution</b> (DNS 解決方法) が有効です。</p>
          <div class="mediaobject">
             
              <img src="images/dns-settings.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;              [DNS 設定] タブ&#xA;            " />
             
             
          </div>
      </li><li>
    		<p>これらの設定を更新するには、<b>[Actions]</b> (アクション) を選択してから <b>[Edit VPC settings]</b> (VPC 設定の編集) を選択します。該当する DNS 属性の <b>[Enable]</b> (有効化) のチェックをオンまたはオフにして、<b>[Save changes]</b> (変更を保存する) を選択します。</p>
    	</li></ol></div>

    <div class="itemizedlist">
      <h6>コマンドラインを使用して VPC の DNS サポートについて説明するには</h6>
      <p>次のいずれかのコマンドを使用できます。これらのコマンドラインインターフェイスの詳細については、<a href="./what-is-amazon-vpc.html#VPCInterfaces">Amazon EC2 の使用</a> を参照してください。</p>
       
       
    <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-vpc-attribute.html">describe-vpc-attribute</a>（AWS CLI）</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2VpcAttribute.html">Get-EC2VpcAttribute</a>（AWS Tools for Windows PowerShell）</p></li></ul></div>
    
    <div class="itemizedlist">
      <h6>コマンドラインを使用して VPC の DNS サポートを更新するには</h6>
      <p>次のいずれかのコマンドを使用できます。これらのコマンドラインインターフェイスの詳細については、<a href="./what-is-amazon-vpc.html#VPCInterfaces">Amazon EC2 の使用</a> を参照してください。</p>
       
       
    <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-vpc-attribute.html">modify-vpc-attribute</a>（AWS CLI）</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2VpcAttribute.html">Edit-EC2VpcAttribute</a>（AWS Tools for Windows PowerShell）</p></li></ul></div>
        
   
	  <h2 id="vpc-private-hosted-zones">プライベートホストゾーン</h2>
		
		<p>プライベート IPv4 アドレスや AWS で提供されたプライベート DNS ホスト名の代わりに <code>example.com</code> のようなカスタム DNS ドメイン名を使用して VPC のリソースにアクセスする場合は、Route 53 でプライベートホストゾーンを作成できます。プライベートホストゾーンは、インターネットにリソースを公開することなく、1 つ以上の VPC 内のドメインとそのサブドメインにトラフィックをルーティングする方法に関する情報を保持するコンテナです。次に、Route 53 リソースレコードセットを作成できます。これにより、ドメインとサブドメインへのクエリに Route 53 が対応する方法が決定されます。例えば、example.com のブラウザリクエストが VPC のウェブサーバーにルーティングされるようにする場合、プライベートホストゾーンで A レコードを作成し、そのウェブサーバーの IP アドレスを指定します。プライベートホストゾーンの作成の詳細については、<em>Amazon Route 53 開発者ガイド</em>の「<a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-private.html">プライベートホストゾーンの使用</a>」を参照してください。</p>
		<p>カスタム DNS ドメイン名を使用してリソースにアクセスするには、VPC 内のインスタンスに接続している必要があります。インスタンスで、<code class="code">ping</code> コマンド (<code class="code">ping mywebserver.example.com</code> など) を使用してカスタム DNS 名からプライベートホストゾーンのリソースにアクセス可能なことをテストできます (<code class="code">ping</code> コマンドが機能するには、インスタンスのセキュリティグループのルールでインバウンド ICMP トラフィックが許可されている必要があります)。</p>
    <p>プライベートホストゾーンは VPC 外部の推移的関係をサポートしていません。例えば、VPN 接続の他方の側からカスタムプライベート DNS 名を使用してリソースにアクセスすることはできません。</p>
		<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>重要</h6></div><div class="awsdocs-note-text"><p>Amazon Route 53 のプライベートホストゾーンに定義されているカスタム DNS ドメイン名を使用している場合は、<code class="code">enableDnsHostnames</code> 属性と <code class="code">enableDnsSupport</code> 属性の両方を <code class="code">true</code> に設定する必要があります。</p></div></div>
	<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>ブラウザで JavaScript が無効になっているか、使用できません。</strong></p><p>AWS ドキュメントを使用するには、JavaScript を有効にする必要があります。手順については、使用するブラウザのヘルプページを参照してください。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">ドキュメントの表記規則</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./DHCPOptionSet.html">DHCP オプションセットの使用</div><div id="next" class="next-link" accesskey="n" href="./network-address-usage.html">ネットワークアドレスの使用状況</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">このページは役に立ちましたか? - はい</div><div class="content"><p>ページが役に立ったことをお知らせいただき、ありがとうございます。</p><p>お時間がある場合は、何が良かったかお知らせください。今後の参考にさせていただきます。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">このページは役に立ちましたか? - いいえ</div><div class="content"><p>このページは修正が必要なことをお知らせいただき、ありがとうございます。ご期待に沿うことができず申し訳ありません。</p><p>お時間がある場合は、ドキュメントを改善する方法についてお知らせください。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>