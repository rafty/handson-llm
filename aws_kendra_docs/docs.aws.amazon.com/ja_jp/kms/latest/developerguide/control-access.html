<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ja-JP"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS KMS の認証とアクセスコントロール - AWS Key Management Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="control-access" /><meta name="default_state" content="control-access" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html" /><meta name="description" content="AWS Key Management Service (AWS KMS) の認証とアクセスコントロール (許可) について説明します。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Key Management Service" /><meta name="guide" content="デベロッパーガイド" /><meta name="abstract" content="AWS Key Management Service (AWS KMS) を使用して暗号化キーを安全に保存および管理し、ユーザーデータの暗号化と復号を実行する方法について説明します。" /><meta name="guide-locale" content="ja_jp" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kms/latest/developerguide/control-access.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kms/latest/developerguide/control-access.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kms/latest/developerguide/control-access.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kms/latest/developerguide/control-access.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kms/latest/developerguide/control-access.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kms/latest/developerguide/control-access.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kms/latest/developerguide/control-access.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kms/latest/developerguide/control-access.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kms/latest/developerguide/control-access.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kms/latest/developerguide/control-access.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kms/latest/developerguide/control-access.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kms/latest/developerguide/control-access.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kms/latest/developerguide/control-access.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kms/latest/developerguide/control-access.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kms/latest/developerguide/control-access.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kms/latest/developerguide/control-access.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kms/latest/developerguide/control-access.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kms/latest/developerguide/control-access.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kms/latest/developerguide/control-access.html" hreflang="x-default" /><meta name="feedback-item" content="Key Management Service (KMS)" /><meta name="this_doc_product" content="AWS Key Management Service" /><meta name="this_doc_guide" content="デベロッパーガイド" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kms'}"></script><meta id="panorama-serviceSubSection" value="デベロッパーガイド" /><meta id="panorama-serviceConsolePage" value="AWS KMS の認証とアクセスコントロール" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS KMS の認証とアクセスコントロール - AWS Key Management Service</title><meta name="pdf" content="kms-dg.pdf#control-access" /><meta name="rss" content="aws-kms-document-history.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=182" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Key%20Management%20Service%20%28KMS%29&amp;topic_url=http://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html" /><meta name="keywords" content="KMS,key management service,暗号化キーの管理,Encryption Key,,エンベロープ暗号化" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS KMS",
        "item" : "https://docs.aws.amazon.com/kms/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "デベロッパーガイド",
        "item" : "https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS KMS の認証とアクセスコントロール",
        "item" : "https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kms-dg.pdf#control-access" target="_blank" rel="noopener noreferrer" title="PDF を開く"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">ドキュメント</a><a href="/kms/index.html">AWS KMS</a><a href="overview.html">デベロッパーガイド</a></div><div id="page-toc-src"><a href="#permission-concepts">概念</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="control-access">AWS KMS の認証とアクセスコントロール</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS KMS を使用する場合は、AWS によってリクエストの認証に使用される認証情報が必要です。認証情報には、AWS リソースへのアクセス、<a href="./concepts.html#kms_keys">AWS KMS keys</a> および<a href="./kms-alias.html">エイリアス</a>を含める必要があります。AWS プリンシパルは、そのアクセス許可が明示的に提供され、拒否されていない限り、KMS キーに対して何もアクセス許可はありません。KMS キーを使用または管理するための暗黙的または自動的な権限はありません。</p><p>AWS KMS リソースへのアクセスを管理する主な手段は、<em>ポリシー</em>です。ポリシーは、どのプリンシパルがどのリソースにアクセスできるかを記述するドキュメントです。IAM アイデンティティにアタッチされたポリシーは<em>アイデンティティベースのポリシー</em> (または <em>IAM ポリシー</em>) と呼ばれ、他の種類のリソースにアタッチされたポリシーは<em>リソースポリシー</em>と呼ばれます。KMS キーの AWS KMS リソースポリシーは<em>キーポリシー</em>と呼ばれます。すべての KMS キーにはキーポリシーがあります。</p><p>AWS KMS エイリアスへのアクセスを管理するには、IAM ポリシーを使用します。プリンシパルにエイリアスの作成を許可するには、IAM ポリシーのエイリアスに対する許可と、キーポリシーのキーに対する許可を提供する必要があります。詳細については、「<a href="./alias-access.html">エイリアスへのアクセスの制御</a>」を参照してください。</p><p>KMS キーへのアクセスを制御するには、次のポリシーメカニズムを使用できます。</p><div class="itemizedlist">
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p><b>キーポリシー</b> — すべての KMS キーにはキーポリシーがあります。これは、KMS キーへのアクセスを制御するための主要メカニズムです。キーポリシーを単独で使用してアクセスを制御できます。この場合、KMS キーへのアクセスの完全な範囲が 1 つのドキュメント (キーポリシー) で定義されます。キーポリシーの使用の詳細については、「<a href="./key-policies.html">キーポリシー</a>」を参照してください。</p>
    </li><li class="listitem">
      <p><b>IAM ポリシー</b> — IAM ポリシーをキーポリシーと組み合わせて使用し、KMS キーへのアクセスを制御できるように許可を付与します。この方法でアクセスを制御すると、IAM の IAM ID に対するすべてのアクセス許可を管理できます。IAM ポリシーを使用して KMS キーへのアクセスを許可するには、キーポリシーで明示的に許可する必要があります。IAM ポリシーの使用の詳細については、「<a href="./iam-policies.html">IAM ポリシー</a>」を参照してください。</p>
    </li><li class="listitem">
      <p><b>グラント</b> — グラントをキーポリシーおよび IAM ポリシーと組み合わせて使用し、KMS キーへのアクセスを許可します。この方法でアクセスを制御すると、キーポリシーで KMS キーへのアクセスを許可し、アイデンティティが他のユーザーにアクセスを委任できるようになります。グラントの使用の詳細については、「<a href="./grants.html">AWS KMS でのグラント</a>」を参照してください。</p>
    </li></ul></div><p>KMS キーは、作成された AWS アカウントに属します。ただし、アクセスグラントがキーポリシー、IAM ポリシー、またはグラントで明示的に提供されていない限り、アイデンティティやプリンシパルは、AWS アカウントのルートユーザーも含め、KMS キーを使用または管理するアクセス許可はありません。KMS キーを作成する IAM アイデンティティは、キー所有者とはみなされないため、作成した KMS キーを使用または管理するためのアクセス許可が自動的に付与されません。他のアイデンティティと同様に、キー作成者は、キーポリシー、IAM ポリシー、またはグラントを使用してアクセス許可を取得する必要があります。ただし、<code class="code">kms:CreateKey</code> アクセス許可を持つアイデンティティは、初期キーポリシーを設定し、キーを使用または管理するためのアクセス許可を自分自身に付与できます。</p><p>次のトピックでは、AWS Identity and Access Management (IAM) と AWS KMS アクセス許可を使用して、リソースにアクセスできるユーザーを制御することでリソースをセキュア化する方法の詳細について説明します。</p><div class="highlights"><h6>トピック</h6><ul><li><a href="#permission-concepts">概念</a></li><li><a href="./key-policies.html">キーポリシー</a></li><li><a href="./iam-policies.html">IAM ポリシー</a></li><li><a href="./grants.html">グラント</a></li><li><a href="./kms-vpc-endpoint.html">VPC エンドポイント</a></li><li><a href="./policy-conditions.html">条件キー</a></li><li><a href="./abac.html">属性ベースのアクセスコントロール (ABAC)</a></li><li><a href="./key-policy-modifying-external-accounts.html">クロスアカウントアクセス</a></li><li><a href="./using-service-linked-roles.html">サービスリンクロール</a></li><li><a href="./pqtls.html">ハイブリッドポスト量子 TLS</a></li><li><a href="./determining-access.html">アクセスの確認</a></li><li><a href="./kms-api-permissions-reference.html">アクセス許可に関するリファレンス</a></li></ul></div>
    <h2 id="permission-concepts">AWS KMS アクセスコントロールの概念</h2>

    <p>AWS KMS でのアクセスコントロールに関する説明で使用した概念について説明します。</p>
    <div class="highlights" id="inline-topiclist"><h6>トピック</h6><ul><li><a href="#permission-concept-authentication">認証</a></li><li><a href="#permission-concept-authorization">認可</a></li><li><a href="#security_iam_authentication">アイデンティティを使用した認証</a></li><li><a href="#security_iam_access-manage">ポリシーを使用したアクセスの管理</a></li><li><a href="#kms-resources-operations">AWS KMS リソース: </a></li></ul></div>
    
     
      <h3 id="permission-concept-authentication">認証</h3>
      <p>認証とは、アイデンティティを検証するプロセスです。AWS KMS にリクエストを送信するには、AWS 認証情報を使用して AWS にサインインする必要があります。</p>
     
    
     
      <h3 id="permission-concept-authorization">認可</h3>
      <p>認可により、AWS KMS リソースの作成、管理、使用といったリクエストを送信する権限が与えられます。例えば、暗号化オペレーションで KMS キーを使用するには、認可が必要です。</p>
      <p><a href="./key-policies.html">キーポリシー</a>、<a href="./iam-policies.html">IAM ポリシー</a>、<a href="./grants.html">グラント</a>を使用して、AWS KMS リソースへのアクセスを制御します。すべての KMS キーにはキーポリシーが必要です。キーポリシーで許可されている場合は、IAM ポリシーとグラントを使用して、プリンシパルに KMS キーへのアクセス権を付与することもできます。認可をより詳細に行うには、リクエストまたはリソースが指定した条件を満たす場合に限りアクセスを許可または拒否する<a href="./policy-conditions.html">条件キー</a>を使用できます。また、<a href="./key-policy-modifying-external-accounts.html">他の AWS アカウント</a> で、信頼するプリンシパルへのアクセスを許可できます。</p>
     
    
    
    
     
      <h3 id="security_iam_authentication">アイデンティティを使用した認証</h3> 
      
   
<p>認証とは、アイデンティティ認証情報を使用して AWS にサインインする方法です。ユーザーは、AWS アカウントのルートユーザー として、または IAM ロールを引き受けることによって、<em>認証済み</em> (AWS にサインイン済み) である必要があります。</p>

<p>ID ソースから提供された認証情報を使用して、フェデレーティッドアイデンティティとして AWS にサインインできます。 AWS IAM Identity Center (successor to AWS Single Sign-On)フェデレーティッドアイデンティティの例としては、(IAM Identity Center) ユーザー、会社のシングルサインオン認証、Google または Facebook の認証情報などがあります。フェデレーティッドアイデンティティとしてサインインする場合、IAM ロールを使用して、前もって管理者により ID フェデレーションが設定されています。フェデレーションを使用して AWS にアクセスする場合、間接的にロールを引き受けることになります。</p>

<p>ユーザーのタイプに応じて、AWS Management Console または AWS アクセスポータルにサインインできます。AWS へのサインインの詳細については、<em>AWS サインイン ユーザーガイド</em>の「<a href="https://docs.aws.amazon.com/signin/latest/userguide/how-to-sign-in.html">AWS アカウント にサインインする方法</a>」を参照してください。</p>

<p>プログラムを使用して AWS にアクセスする場合、AWS は software development kit (SDK) とコマンドラインインターフェイス (CLI) を提供して、認証情報を使用しリクエストに暗号で署名します。AWS ツールを使用しない場合は、リクエストに自分で署名する必要があります。自分でリクエストに署名するための推奨される方法については、「AWS 全般のリファレンス」の「<a href="https://docs.aws.amazon.com/general/latest/gr/signature-version-4.html">署名バージョン 4 の署名プロセス</a>」を参照してください。</p>

<p>使用する認証方法を問わず、セキュリティ情報の提供を追加でリクエストされる場合もあります。例えば、AWS は、アカウントのセキュリティを強化するために多要素認証 (MFA) を使用することをお勧めします。詳細については、<em>「AWS IAM Identity Center (successor to AWS Single Sign-On) ユーザーガイド」</em>の「<a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/enable-mfa.html">Multi-factor authentication</a>」(多要素認証) および「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa.html">AWS での多要素認証 (MFA) の使用</a>」を参照してください。</p>


   
       
        <h4 id="security_iam_authentication-rootuser">AWS アカウント ルートユーザー</h4>
        <p> AWS アカウント を作成する場合は、このアカウントのすべての AWS のサービス とリソースに対して完全なアクセス権を持つ 1 つのサインインアイデンティティから始めます。この ID は AWS アカウント <em>ルートユーザー</em>と呼ばれ、アカウントの作成に使用した E メールアドレスとパスワードでサインインすることによってアクセスできます。日常的なタスクには、ルートユーザーを使用しないことを強くお勧めします。ルートユーザーの認証情報を保護し、それらを使用してルートユーザーのみが実行できるタスクを実行します。ルートユーザーとしてサインインする必要があるタスクの完全なリストについては、「<em>AWS Account Management 全般のリファレンスガイド</em>」の「<a href="https://docs.aws.amazon.com/accounts/latest/reference/root-user-tasks.html">ルートユーザー認証情報が必要なタスク</a>」を参照してください。</p>
       
       
        <h4 id="security_iam_authentication-federated">フェデレーティッド ID</h4> 
        

<p>ベストプラクティスとして、管理者アクセスを必要とするユーザーを含む人間のユーザーに対し、ID プロバイダーとのフェデレーションを使用して、一時的な認証情報の使用により、AWS のサービス にアクセスすることを要求します。</p>

<p><em>フェデレーティッド ID</em> は、エンタープライズユーザーディレクトリ、ウェブ ID プロバイダー、AWS Directory Service、<span>Identity Center ディレクトリ</span>のユーザーか、または ID ソースから提供された認証情報を使用して AWS のサービス にアクセスするユーザーです。フェデレーティッド ID が AWS アカウント にアクセスすると、ロールが継承され、ロールは一時的な認証情報を提供します。</p>

<p>アクセスを一元管理する場合は、AWS IAM Identity Center (successor to AWS Single Sign-On) を使用することをお勧めします。IAM Identity Center でユーザーとグループを作成するか、すべての AWS アカウント とアプリケーションで使用するために、独自の ID ソースで一連のユーザーとグループに接続して同期することもできます。IAM Identity Center の詳細については、「<em>AWS IAM Identity Center (successor to AWS Single Sign-On) ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/what-is.html">What is IAM Identity Center?</a>」(IAM Identity Center とは) を参照してください。</p>
 
       
       
        <h4 id="security_iam_authentication-iamuser">IAM ユーザーとグループ</h4> 
        
   
         <p><em><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html">IAM ユーザー</a></em>は、1 人のユーザーまたは 1 つのアプリケーションに対して特定の許可を持つ AWS アカウント 内のアイデンティティです。可能であれば、パスワードやアクセスキーなどの長期的な認証情報を保有する IAM ユーザーを作成する代わりに、一時的な認証情報を使用することをお勧めします。ただし、IAM ユーザーとの長期的な認証情報が必要な特定のユースケースがある場合は、アクセスキーをローテーションすることをお勧めします。詳細については、IAM ユーザーガイドの「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#rotate-credentials">長期的な認証情報を必要とするユースケースのためにアクセスキーを定期的にローテーションする</a>」を参照してください。</p>
         
         <p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_groups.html"><em>IAM グループ</em></a>は、IAM ユーザーの集団を指定するアイデンティティです。グループとしてサインインすることはできません。グループを使用して、複数のユーザーに対して一度に許可を指定できます。多数のユーザーグループがある場合、グループを使用することで許可の管理が容易になります。例えば、<em>IAMAdmins</em> という名前のグループを設定して、そのグループに IAM リソースを管理する許可を与えることができます。</p>
         <p>ユーザーは、ロールとは異なります。ユーザーは 1 人の人または 1 つのアプリケーションに一意に関連付けられますが、ロールはそれを必要とする任意の人が引き受けるようになっています。ユーザーには永続的な長期の認証情報がありますが、ロールでは一時的な認証情報が提供されます。詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html#id_which-to-choose">IAM ユーザー (ロールではなく) の作成が適している場合</a>」を参照してください。</p>
   
       
      
       
        <h4 id="security_iam_authentication-iamrole">IAM ロール</h4> 
        
   
         <p><em><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">IAM ロール</a></em>は、特定の許可を持つ、AWS アカウント 内のアイデンティティです。これは IAM ユーザーに似ていますが、特定のユーザーには関連付けられていません。<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-console.html">ロールを切り替える</a>ことによって、AWS Management Console で IAM ロールを一時的に引き受けることができます。ロールを引き受けるには、AWS CLI または AWS API オペレーションを呼び出すか、カスタム URL を使用します。ロールを使用する方法の詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html">IAM ロールの使用</a>」を参照してください。</p>
         <p>IAM ロールと一時的な認証情報は、次の状況で役立ちます。</p>
         <div class="itemizedlist">
            
             
             
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><b>フェデレーティッドユーザーアクセス</b> – フェデレーティッドアイデンティティに許可を割り当てるには、ロールを作成してそのロールの許可を定義します。フェデレーティッドアイデンティティが認証されると、そのアイデンティティはロールに関連付けられ、ロールで定義されている許可が付与されます。フェデレーションの詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html">Creating a role for a third-party Identity Provider</a>」(サードパーティーアイデンティティプロバイダー向けロールの作成) を参照してください。<span>IAM アイデンティティセンターを使用する場合、許可セットを設定します。アイデンティティが認証後にアクセスできるものを制御するため、IAM Identity Center は、アクセス許可セットを IAM のロールに関連付けます。アクセス許可セットの詳細については、「<em>AWS IAM Identity Center (successor to AWS Single Sign-On) ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/permissionsetsconcept.html">アクセス許可セット</a>」を参照してください。</span></p>
            </li><li class="listitem">
               <p><b>一時的な IAM ユーザー許可</b> - IAM ユーザーまたはロールは、特定のタスクに対して複数の異なる許可を一時的に IAM ロールで引き受けることができます。</p>
            </li><li class="listitem">
               <p><b>クロスアカウントアクセス</b> - IAM ロールを使用して、自分のアカウントのリソースにアクセスすることを、別のアカウントの人物 (信頼済みプリンシパル) に許可できます。クロスアカウントアクセスを許可する主な方法は、ロールを使用することです。ただし、一部の AWS のサービス では、(ロールをプロキシとして使用する代わりに) リソースにポリシーを直接添付できます。クロスアカウントアクセスにおけるロールとリソースベースのポリシーの違いについては、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_compare-resource-policies.html">IAM ロールとリソースベースのポリシーとの相違点</a>」を参照してください。</p>
            </li><li class="listitem">
               <p><b>クロスサービスアクセス</b> - 一部の AWS のサービス では、他の AWS のサービス の機能を使用します。例えば、サービスで呼び出しを行うと、通常そのサービスによって Amazon EC2 でアプリケーションが実行されたり、Amazon S3 にオブジェクトが保存されたりします。サービスでは、呼び出し元プリンシパルの許可、サービスロール、またはサービスにリンクされたロールを使用してこれを行う場合があります。</p>
                  <div class="itemizedlist">
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p><b>プリンシパル許可</b> - IAM ユーザーまたはロールを使用して AWS でアクションを実行する場合、そのユーザーはプリンシパルと見なされます。ポリシーによって、プリンシパルに許可が付与されます。一部のサービスを使用する際に、アクションを実行することで、別のサービスの別のアクションがトリガーされることがあります。この場合、両方のアクションを実行するための許可が必要です。アクションがポリシー内の追加の依存アクションを必要とするかどうかを確認するには、「サービス認可リファレンス」の https://docs.aws.amazon.com/service-authorization/latest/reference/list_awskeymanagementservice.html を参照してください。</p>
                     </li><li class="listitem">
                        <p><b>サービスロール</b> - サービスがユーザーに代わってアクションを実行するために引き受ける <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html">IAM ロール</a>です。IAM 管理者は、IAM 内からサービスロールを作成、変更、削除できます。詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html">AWS のサービス にアクセス許可を委任するロールの作成</a>」を参照してください。</p>
                     </li><li class="listitem">
                        <p><b>サービスにリンクされたロール</b> - サービスにリンクされたロールは、AWS のサービス にリンクされたサービスロールの一種です。サービスは、ユーザーに代わってアクションを実行するロールを引き受けることができます。サービスにリンクされたロールは、AWS アカウント に表示され、サービスによって所有されます。IAM 管理者は、サービスにリンクされたロールの許可を表示できますが、編集することはできません。</p>
                     </li></ul></div>
            </li><li class="listitem">
               <p><b>Amazon EC2 で実行されているアプリケーション</b> - EC2 インスタンスで実行され、AWS CLI または AWS API 要求を行っているアプリケーションの一時的な認証情報を管理するには、IAM ロールを使用できます。これは、EC2 インスタンス内でのアクセスキーの保存に推奨されます。AWS ロールを EC2 インスタンスに割り当て、そのすべてのアプリケーションで使用できるようにするには、インスタンスにアタッチされたインスタンスプロファイルを作成します。インスタンスプロファイルにはロールが含まれ、EC2 インスタンスで実行されるプログラムは一時的な認証情報を取得することができます。詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-ec2.html">Amazon EC2 インスタンスで実行されるアプリケーションに IAM ロールを使用して許可を付与する</a>」を参照してください。</p>
            </li></ul></div>
         <p>IAM ロールと IAM ユーザーのどちらを使用するかについては、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id.html#id_which-to-choose_role">(IAM ユーザーではなく) IAM ロールをいつ作成したら良いのか?</a>」を参照してください。</p>
   
       
     
     
      <h3 id="security_iam_access-manage">ポリシーを使用したアクセスの管理</h3> 
      
   
 <p>AWS でアクセスをコントロールするには、ポリシーを作成して AWS アイデンティティまたはリソースにアタッチします。ポリシーは AWS のオブジェクトであり、アイデンティティやリソースに関連付けて、これらのアクセス許可を定義します。AWS は、プリンシパル (ユーザー、ルートユーザー、またはロールセッション) がリクエストを行うと、これらのポリシーを評価します。ポリシーでの許可により、リクエストが許可されるか拒否されるかが決まります。大半のポリシーは JSON ドキュメントとして AWS に保存されます。JSON ポリシードキュメントの構造と内容の詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#access_policies-json">JSON ポリシー概要</a>」を参照してください。</p>

 
   
      <p>管理者は AWS JSON ポリシーを使用して、誰が何にアクセスできるかを指定できます。つまり、どの<b>プリンシパル</b>がどの<b>リソース</b>に対してどのような<b>条件下で</b><b>アクション</b>を実行できるかということです。</p>
  

<p>デフォルトでは、ユーザーやロールにアクセス許可はありません。IAM 管理者は、リソースで必要なアクションを実行するためのアクセス許可をユーザーに付与する IAM ポリシーを作成できます。その後、管理者はロールに IAM ポリシーを追加し、ユーザーはロールを引き継ぐことができます。</p>
 <p>IAM ポリシーは、オペレーションの実行方法を問わず、アクションの許可を定義します。例えば、<code class="code">iam:GetRole</code> アクションを許可するポリシーがあるとします。このポリシーがあるユーザーは、AWS Management Console、AWS CLI、または AWS API からロールの情報を取得できます。</p>
   
       
        <h4 id="security_iam_access-manage-id-based-policies">アイデンティティベースのポリシー</h4> 
        
   
         
   
         <p>アイデンティティベースポリシーは、IAM ユーザー、ユーザーのグループ、ロールなど、アイデンティティに添付できる JSON 許可ポリシードキュメントです。これらのポリシーは、ユーザーとロールが実行できるアクション、リソース、および条件を制御します。アイデンティティベースのポリシーを作成する方法については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html">IAM ポリシーの作成</a>」を参照してください。</p>
  
         <p>アイデンティティベースのポリシーは、さらに<em>インラインポリシー</em>または<em>マネージドポリシー</em>に分類できます。インラインポリシーは、単一のユーザー、グループ、またはロールに直接埋め込まれます。マネージドポリシーは、AWS アカウント 内の複数のユーザー、グループ、およびロールに添付できるスタンドアロンポリシーです。マネージドポリシーには、AWS マネージドポリシーとカスタマーマネージドポリシーがあります。マネージドポリシーまたはインラインポリシーのいずれかを選択する方法については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#choosing-managed-or-inline">マネージドポリシーとインラインポリシーの比較</a>」を参照してください。</p>
   
       
       
        <h4 id="security_iam_access-manage-resource-based-policies">リソースベースのポリシー</h4> 
        
        <p>AWS KMS <a href="./key-policies.html">キーポリシー</a>は、KMS キーへのアクセスを制御するリソースベースのポリシーです。すべての KMS キーにはキーポリシーが必要です。他の認可メカニズムを使用して、KMS キーへのアクセスを許可できますが、キーポリシーで許可されている場合に限ります (キーポリシーで明示的に許可されていなくても、IAM ポリシーを使用して KMS キーへのアクセスを「拒否」できます)。</p>
        <p>リソースベースのポリシーとは、JSON ポリシードキュメントです。KMS キーなどのリソースにアタッチして、特定のリソースへのアクセスを制御します。リソースベースのポリシーは、指定されたプリンシパルがそのリソースに対して実行できるアクションと条件を定義します。リソースベースのポリシーではリソースを指定しませんが、アカウント、ユーザー、ロール、フェデレーションユーザー、AWS のサービス などのプリンシパルを指定する必要があります。リソースベースのポリシーは、リソースを管理するそのサービス内にあるインラインポリシーです。リソースベースのポリシーでは、IAM の AWS マネージドポリシー (<a href="./aws-managed-policies.html">AWSKeyManagementServicePowerUser マネージドポリシー</a>など) を使用することはできません。</p>
             

       
        <h4 id="security_iam_access-manage-acl">アクセスコントロールリスト (ACL)</h4> 
        
   
      
   
   <p>アクセスコントロールリスト (ACL) は、どのプリンシパル (アカウントメンバー、ユーザー、またはロール) がリソースにアクセスするための許可を持つかをコントロールします。ACL はリソースベースのポリシーに似ていますが、JSON ポリシードキュメント形式は使用しません。</p>
  
      <p>Simple Storage Service (Amazon S3)、AWS WAF、および Amazon VPC は、ACL をサポートするサービスの例です。ACL の詳細については、「<em>Amazon Simple Storage Service デベロッパーガイド</em>」の「<a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html">アクセスコントロールリスト (ACL) の概要」</a>を参照してください。</p>
   
        <p>AWS KMS では ACL はサポートされません。</p>
       
       
        <h4 id="security_iam_access-manage-other-policies">その他のポリシータイプ</h4> 
        
   
         <p>AWS では、その他の一般的ではないポリシータイプもサポートしています。これらのポリシータイプでは、より一般的なポリシータイプで付与された最大の許可を設定できます。</p>
         <div class="itemizedlist">
             
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><b>アクセス許可の境界</b> - アクセス許可の境界は、アイデンティティベースのポリシーによって IAM エンティティ (IAM ユーザーまたはロール) に付与できる許可の上限を設定する高度な機能です。エンティティにアクセス許可の境界を設定できます。結果として得られるアクセス許可は、エンティティのアイデンティティベースポリシーとそのアクセス許可の境界の共通部分になります。<code class="code">Principal</code> フィールドでユーザーまたはロールを指定するリソースベースのポリシーでは、アクセス許可の境界は制限されません。これらのポリシーのいずれかを明示的に拒否した場合、許可は無効になります。アクセス許可の境界の詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_boundaries.html">IAM エンティティのアクセス許可の境界</a>」を参照してください。</p>
            </li><li class="listitem">
               <p><b>サービスコントロールポリシー (SCP)</b> - SCP は、AWS Organizations で組織や組織単位 (OU) の最大許可を指定する JSON ポリシーです。AWS Organizations は、顧客のビジネスが所有する複数の AWS アカウント をグループ化し、一元的に管理するサービスです。組織内のすべての機能を有効にすると、サービスコントロールポリシー (SCP) を一部またはすべてのアカウントに適用できます。SCP はメンバーアカウントのエンティティに対するアクセス許可を制限します (各 AWS アカウントのルートユーザー など)。Organizations と SCP の詳細については、<em>AWS Organizations ユーザーガイド</em>の「<a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_about-scps.html">SCP の仕組み</a>」を参照してください。</p>
            </li><li class="listitem">
               <p><b>セッションポリシー</b> - セッションポリシーは、ロールまたはフェデレーティッドユーザーの一時的なセッションをプログラムで作成する際にパラメータとして渡す高度なポリシーです。結果としてセッションの許可される範囲は、ユーザーまたはロールのアイデンティティベースポリシーとセッションポリシーの共通部分になります。また、リソースベースのポリシーから許可が派生する場合もあります。これらのポリシーのいずれかを明示的に拒否した場合、許可は無効になります。詳細については、<em>IAM ユーザーガイド</em>の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session">セッションポリシー</a>」を参照してください。</p>
            </li></ul></div>
   
       
       
        <h4 id="security_iam_access-manage-multiple-policies">複数のポリシータイプ</h4> 
        
   
         <p>1 つのリクエストに複数のタイプのポリシーが適用されると、結果として作成される許可を理解するのがさらに難しくなります。複数のポリシータイプが関連するとき、リクエストを許可するかどうかを AWS が決定する方法の詳細については、「<em>IAM ユーザーガイド</em>」の「<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_evaluation-logic.html">ポリシーの評価ロジック</a>」を参照してください。</p>
   
       
     
    
    
    
     
      <h3 id="kms-resources-operations">AWS KMS リソース: </h3>      
      <p>AWS KMS では、プライマリリソースは <a href="./concepts.html#kms_keys">AWS KMS keys</a> です。AWS KMS は、KMS キーのわかりやすい名前を提供する独立したリソースである<a href="./kms-alias.html">エイリアス</a>もサポートします。一部の AWS KMS オペレーションでは、エイリアスを使用して KMS 許可キーを識別できます。</p>
      <p>KMS キーまたはエイリアスの各インスタンスには、標準形式の一意の <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html#arns-syntax">Amazon リソースネーム</a> (ARN) があります。AWS KMS リソースの場合、AWS のサービス名は <code class="code">kms</code> です。</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><b>AWS KMS key</b></p>
          <p>ARN 形式:</p>
          <p><code class="code">arn:<code class="replaceable">AWS partition name</code>:<code class="replaceable">AWS service
            name</code>:<code class="replaceable">AWS リージョン</code>:<code class="replaceable">AWS アカウント
              ID</code>:key/<code class="replaceable">key ID</code></code></p>
          <p>ARN の例:</p>
          <p><code class="code">arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab</code></p>
        </li><li class="listitem">
          <p><b>エイリアス</b></p>
          <p>ARN 形式:</p>
          <p><code class="code">arn:<code class="replaceable">AWS partition name</code>:<code class="replaceable">AWS service
            name</code>:<code class="replaceable">AWS リージョン</code>:<code class="replaceable">AWS アカウント
              ID</code>:alias/<code class="replaceable">alias name</code></code></p>
          <p>ARN の例:</p>
          <p><code class="code">arn:aws:kms:us-west-2:111122223333:alias/example-alias</code></p>
        </li></ul></div>
      <p>AWS KMS には、AWS KMS リソースをオペレーションするための一連の API オペレーションが用意されています。AWS Management Console および AWS KMS API オペレーションでの KMS キーの識別の詳細については、<a href="./concepts.html#key-id">キー識別子 (KeyId)</a> を参照してください。AWS KMS オペレーションのリストについては、「<a href="https://docs.aws.amazon.com/kms/latest/APIReference/">AWS Key Management Service API リファレンス</a>」を参照してください。</p>
     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>ブラウザで JavaScript が無効になっているか、使用できません。</strong></p><p>AWS ドキュメントを使用するには、JavaScript を有効にする必要があります。手順については、使用するブラウザのヘルプページを参照してください。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">ドキュメントの表記規則</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./key-state.html">キーステータスリファレンス</div><div id="next" class="next-link" accesskey="n" href="./key-policies.html">キーポリシー</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">このページは役に立ちましたか? - はい</div><div class="content"><p>ページが役に立ったことをお知らせいただき、ありがとうございます。</p><p>お時間がある場合は、何が良かったかお知らせください。今後の参考にさせていただきます。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Key Management Service (KMS)&amp;topic_url=https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">このページは役に立ちましたか? - いいえ</div><div class="content"><p>このページは修正が必要なことをお知らせいただき、ありがとうございます。ご期待に沿うことができず申し訳ありません。</p><p>お時間がある場合は、ドキュメントを改善する方法についてお知らせください。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Key Management Service (KMS)&amp;topic_url=https://docs.aws.amazon.com/ja_jp/kms/latest/developerguide/control-access.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>