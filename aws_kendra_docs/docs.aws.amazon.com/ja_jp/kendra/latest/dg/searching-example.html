<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="ja-JP"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>インデックスのクエリ - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="searching-example" /><meta name="default_state" content="searching-example" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" /><meta name="description" content="でインデックスをクエリする方法Amazon Kendra。" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="デベロッパーガイド" /><meta name="abstract" content="Amazon Kendra の概念的な概要について説明します。Amazon Kendra機能について学び、コンソール、CLI、API を使用してドキュメントのインデックス作成を始めましょう。" /><meta name="guide-locale" content="ja_jp" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/searching-example.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/searching-example.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/searching-example.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/searching-example.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching-example.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/searching-example.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/searching-example.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/searching-example.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/searching-example.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/searching-example.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/searching-example.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/searching-example.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/searching-example.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/searching-example.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/searching-example.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/searching-example.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/searching-example.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="デベロッパーガイド" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="デベロッパーガイド" /><meta id="panorama-serviceConsolePage" value="インデックスのクエリ" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>インデックスのクエリ - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#searching-example" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search (検索),インテリジェント検索,自然言語,インデックス,質問,キーワード,データソース,コネクタ,よくある質問,query" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "デベロッパーガイド",
        "item" : "https://docs.aws.amazon.com/ja_jp/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "インデックスの検索",
        "item" : "https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "インデックスのクエリ",
        "item" : "https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#searching-example" target="_blank" rel="noopener noreferrer" title="PDF を開く"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">ドキュメント</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">デベロッパーガイド</a></div><div id="page-toc-src"><a href="#searching-prerequisites">前提条件</a><a href="#searching-index-console">インデックスの検索 (コンソール)</a><a href="#searching-index-sdk">インデックスの検索 (SDK)</a><a href="#searching-index-query-syntax">高度なクエリ構文による検索</a><a href="#searching-index-languages">各言語での検索</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>翻訳は機械翻訳により提供されています。提供された翻訳内容と英語版の間で齟齬、不一致または矛盾がある場合、英語版が優先します。</p></awsui-alert><h1 class="topictitle" id="searching-example">インデックスのクエリ</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>インデックスを検索すると、Amazon Kendraドキュメントに関して提供したすべての情報を使用して、入力した検索語に最も関連性の高いドキュメントを特定します。Amazon Kendra考慮すべき項目には、以下のものがあります。</p><div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>ドキュメントのテキスト。</p>
            </li><li class="listitem">
                <p>ドキュメントのタイトル。</p>
            </li><li class="listitem">
                <p>検索可能とマークしたカスタムテキストフィールド。</p>
            </li><li class="listitem">
                <p>指定した日付フィールドは、ドキュメントの「鮮度」を決定するために使用する必要があります。</p>
            </li></ul></div><p>インデックスから関連するドキュメントセットを選択すると、Amazon Kendra検索に対してリクエストした属性フィルターに基づいてレスポンスをフィルタリングします。例えば、「department」というカスタム属性がある場合、「legal」という部門からのドキュメントのみを返すようにレスポンスをフィルタリングできます。詳細については、「<a href="https://docs.aws.amazon.com/kendra/latest/dg/custom-attributes.html">Custom fields または」属性を参照してください</a>。</p><p>関連するドキュメントを検索し、設定した属性に基づいてフィルタリングすると、Amazon Kendra結果を返します。結果は、Amazon Kendraドキュメントごとに特定された関連性で並び替えられます。結果はページ割りされ、ユーザーにページを一度に表示できます。</p><p>Amazon Kendraインデックス付けしたドキュメントを検索するにはAmazon Lex、<a href="https://docs.aws.amazon.com/lexv2/latest/dg/API_KendraConfiguration.html">AMAZON を使用します。 KendraSearchIntent</a>。Amazon Kendraでの設定の例についてはAmazon Lex、「<a href="https://docs.aws.amazon.com/lexv2/latest/dg/faq-bot-kendra-search.html">Amazon Kendraインデックス用の FAQ ボットの作成</a>」を参照してください。</p><p>次の Python の例は、<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Query</a> API を使用してインデックスを検索する方法を示しています。次の例では、検索結果のタイプ (回答、ドキュメント、質問/回答) を決定し、回答テキストを表示しています。</p><p>クエリのレスポンスの詳細については、<a href="./query-responses-types.html">クエリレスポンスとレスポンスタイプ</a> を参照してください。</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>注記</h6></div><div class="awsdocs-note-text"><p>このコードを使用して、ドキュメント属性をフィルタリングできます。トピック <a href="./filtering.html">フィルタリングとファセット検索</a> で、次のコードを置き換えるための例を示します。</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response=kendra.query(
        QueryText = query,
        IndexId = index)</code></pre></div></div>
            <h2 id="searching-prerequisites">前提条件</h2>
            <p>この例を実行するには、以下を行う必要があります。</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>許可を設定します。詳細については、「<a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html">IAMロール</a>」を参照してください。</p>
                </li><li class="listitem">
                    <p>AWS CLI をセットアップします。詳細については、「<a href="https://docs.aws.amazon.com/kendra/latest/dg/aws-kendra-set-up-aws-cli.html">CLI の設定</a>」を参照してください。</p>
                </li><li class="listitem">
                    <p>データソースとインデックスを作成します。詳細については、「<a href="https://docs.aws.amazon.com/kendra/latest/dg/gs-console.html">コンソール開始方法</a>」を参照してください。</p>
                </li></ul></div>
         
            <h2 id="searching-index-console">インデックスの検索 (コンソール)</h2>
            <p>Amazon Kendraコンソールを使用して、インデックスを検索およびテストできます。クエリを作成して結果を確認できます。</p>
            <div class="procedure"><h6>コンソールでインデックスを検索するには</h6><ol><li>
                    <p>にサインインしてAWS Management Console、<a href="https://console.aws.amazon.com/kendra" rel="noopener noreferrer" target="_blank"><span>http://console.aws.amazon.com/kendra/Amazon Kendra</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> でコンソールを開きます。</p>
                </li><li>
                    <p>ナビゲーションペインで、<b>[Indexes]</b> (インデックス) をクリックします。</p>
                </li><li>
                    <p>インデックスを選択します。</p>
                </li><li>
                    <p>ナビゲーションメニューで、インデックスを検索するオプションを選択します。</p>
                </li><li>
                    <p>テキストボックスにクエリを入力し、Enter を押します。</p>
                </li><li>
                    <p>Amazon Kendra検索の結果を返します。</p>
                </li></ol></div>
         
            <h2 id="searching-index-sdk">インデックスの検索 (SDK)</h2>
            <div class="procedure"><h6>Python または Java でインデックスを検索するには</h6><ul><li>
                    <p>次の例では、インデックスを検索します。<code class="code">query</code> の値を検索クエリに、<code class="code">index_id</code> または <code class="code">indexId</code> を検索するインデックスのインデックス識別子に変更します。</p>
                    <awsdocs-tabs><dl style="display: none">
                        <dt>Python</dt><dd tab-id="python">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3
import pprint

kendra = boto3.client("kendra")

# Provide the index ID
index_id = "index-id"
# Provide the query text
query = "search-string"

response = kendra.query(
        QueryText = query,
        IndexId = index_id)

print("\nSearch results for query: " + query + "\n")        

for query_result in response["ResultItems"]:

    print("-------------------")
    print("Type: " + str(query_result["Type"]))
        
    if query_result["Type"]=="ANSWER" or query_result["Type"]=="QUESTION_ANSWER":
        answer_text = query_result["DocumentExcerpt"]["Text"]
        print(answer_text)

    if query_result["Type"]=="DOCUMENT":
        if "DocumentTitle" in query_result:
            document_title = query_result["DocumentTitle"]["Text"]
            print("Title: " + document_title)
        document_text = query_result["DocumentExcerpt"]["Text"]
        print(document_text)

    print("------------------\n\n")  
    </code></pre>
                            </dd>
                        <dt>Java</dt><dd tab-id="java">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="java ">package com.amazonaws.kendra;

import software.amazon.awssdk.services.kendra.KendraClient;
import software.amazon.awssdk.services.kendra.model.QueryRequest;
import software.amazon.awssdk.services.kendra.model.QueryResponse;
import software.amazon.awssdk.services.kendra.model.QueryResultItem;

public class SearchIndexExample <span>{</span>
    public static void main(String[] args) <span>{</span>
        KendraClient kendra = KendraClient.builder().build();

        String query = "some queries";
        String indexId = "anIndexId";

        QueryRequest queryRequest = QueryRequest
            .builder()
            .queryText(query)
            .indexId(indexId)
            .build();

        QueryResponse queryResponse = kendra.query(queryRequest);

        System.out.println(String.format("\nSearch results for query: %s", query));
        for(QueryResultItem item: queryResponse.resultItems()) <span>{</span>
            System.out.println("----------------------");
            System.out.println(String.format("Type: %s", item.type()));

            switch(item.type()) <span>{</span>
                case QUESTION_ANSWER:
                case ANSWER:
                    String answerText = item.documentExcerpt().text();
                    System.out.println(answerText);
                    break;
                case DOCUMENT:
                    String documentTitle = item.documentTitle().text();
                    System.out.println(String.format("Title: %s", documentTitle));
                    String documentExcerpt = item.documentExcerpt().text();
                    System.out.println(String.format("Excerpt: %s", documentExcerpt));
                    break;
                default:
                    System.out.println(String.format("Unknown query result type: %s", item.type()));

            }

            System.out.println("-----------------------\n");
        }
    }
}</code></pre>
                            </dd>
                    </dl></awsdocs-tabs>
                </li></ul></div>
         
            <h2 id="searching-index-query-syntax">高度なクエリ構文による検索</h2>
            <p>高度なクエリ構文または演算子を使用すると、単純なキーワードクエリや自然言語クエリよりも具体的なクエリを作成できます。これには、範囲、ブール値、ワイルドカードなどが含まれます。演算子を使用すると、クエリのコンテキストを詳しく説明し、検索結果をさらに絞り込むことができます。</p>
            <p>Amazon Kendraでサポートされる演算子は以下の演算子をサポートします。</p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>ブーリアン:検索を制限したり広げたりするためのロジック。たとえば、<code class="code">amazon
                            AND sports</code>両方の用語を含むドキュメントのみを検索するように検索を制限します。</p>
                </li><li class="listitem">
                    <p>括弧:ネストされたクエリ用語を優先順位に従って読み取ります。たとえば、<code class="code">(amazon AND sports) NOT rainforest</code><code class="code">(amazon AND
                            sports)</code>以前に読み取ったとします<code class="code">NOT rainforest</code>。</p>
                </li><li class="listitem">
                    <p>範囲:日付または数値範囲値。範囲は、包含することも、排他的にすることも、無制限にすることもできます。たとえば、2020 年 1 月 1 日から 2020 年 12 月 31 日の間に最終更新されたドキュメントを、これらの日付を含めて検索できます。</p>
                </li><li class="listitem">
                    <p>フィールド:特定のフィールドを使用して検索を制限します。たとえば、「場所」フィールドに「米国」が含まれるドキュメントを検索できます。</p>
                </li><li class="listitem">
                    <p>ワイルドカード:テキストの文字列を部分的に一致させます。たとえば、<code class="code">Cloud*</code>一致する可能性があります CloudFormation。 Amazon Kendra現在、末尾のワイルドカードのみをサポートしています。</p>
                </li><li class="listitem">
                    <p>完全引用符:テキスト文字列と完全に一致します。たとえば、を含む文書<code class="code">"Amazon Kendra" "pricing"</code>。</p>
                </li></ul></div>
            <p>上記の演算子を組み合わせて使用できます。</p>
            <p>演算子を過度に使用したり、非常に複雑なクエリを使用したりすると、クエリのレイテンシに影響する可能性があることに注意してください。ワイルドカードは、レイテンシーの点で最もコストのかかる演算の1つです。一般的なルールは、使用する用語や演算子が多いほど、レイテンシーへの影響が大きくなります。レイテンシーに影響を与えるその他の要因には、インデックス作成されたドキュメントの平均サイズ、インデックスのサイズ、検索結果のフィルタリング、Amazon Kendraインデックスの全体的な負荷などがあります。</p>
             
                <h3 id="query-syntax-boolean">ブール値</h3>
                <p>ブール演算子<code class="code">AND</code>、、を使用して、単語を組み合わせたり除外したりできます<code class="code">NOT</code>。<code class="code">OR</code></p>
                <p>ブール演算子の使用例を以下に示します。</p>
                <p>
                    <b><code class="code">amazon AND sports</code></b>
                </p>
                <p>テキストに「amazon」と「sports」の両方を含む検索結果 (Amazon プライム、ビデオスポーツ、その他の類似コンテンツなど) を返します。</p>
                <p>
                    <b><code class="code">sports OR recreation</code></b>
                </p>
                <p>テキストに「スポーツ」または「レクリエーション」、あるいはその両方を含む検索結果を返します。</p>
                <p>
                    <b><code class="code">amazon NOT rainforest</code></b>
                </p>
                <p>「amazon」という用語を含むが、テキストに「rainforest」という用語が含まれていない検索結果を返します。これは、アマゾン熱帯雨林ではなく、アマゾンという会社に関する文書を検索するためのものです。</p>
             
             
                <h3 id="query-syntax-parentheses">括弧</h3>
                <p>ネストされた単語は、括弧を使用して優先順位の高い順にクエリできます。括弧は、Amazon Kendraクエリの読み取り方法を示します。</p>
                <p>以下は、括弧演算子の使用例です。</p>
                <p>
                    <b><code class="code">(amazon AND sports) NOT rainforest</code></b>
                </p>
                <p>テキストに「amazon」と「sports」の両方を含むが、「rainforest」という用語は含まないドキュメントを返します。これは、Amazonプライムのビデオスポーツやその他の類似コンテンツを検索するためのもので、Amazon熱帯雨林のアドベンチャースポーツを検索するためのものではありません。括弧は、<code class="code">amazon AND sports</code>事前に読む必要があることを示すのに役立ちます<code class="code">NOT rainforest</code>。クエリをそのまま読んではいけません<code class="code">amazon
                        AND (sports NOT rainforest)</code>。</p>
                <p>
                    <b><code class="code">(amazon AND (sports OR recreation)) NOT
                            rainforest</code></b>
                </p>
                <p>「スポーツ」または「レクリエーション」、あるいはその両方と「アマゾン」という用語を含むドキュメントを返します。ただし、「熱帯雨林」という用語は含まれていません。これは、アマゾンプライムのビデオスポーツやレクリエーションを検索するためのもので、アマゾン熱帯雨林のアドベンチャースポーツを検索するためのものではありません。括弧は、その前に読んだ 'amazon'<code class="code">sports OR
                        recreation</code><code class="code">NOT rainforest</code> と組み合わせる前に読んでおく必要があることを示します。クエリをそのまま読んではいけません<code class="code">amazon AND (sports OR (recreation NOT rainforest))</code>。</p>
             
             
                <h3 id="query-syntax-ranges">範囲</h3>
                <p>値の範囲を使用して検索結果をフィルタリングできます。属性と範囲値を指定します。日付タイプでも数値タイプでもかまいません。</p>
                <p>日付範囲は、以下の形式である必要があります。</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Epoch</p>
                    </li><li class="listitem">
                        <p>YYYY</p>
                    </li><li class="listitem">
                        <p>YYYY-mm</p>
                    </li><li class="listitem">
                        <p>yyyy-mm-dd</p>
                    </li><li class="listitem">
                        <p>YYYYY-MM-D'T'T'HH</p>
                    </li></ul></div>
                <p>範囲の下限値と上限値を含めるか除外するかを指定することもできます。</p>
                <p>範囲演算子の使用例を以下に示します。</p>
                <p>
                    <b><code class="code">_processed_date:&gt;2019-12-31 AND
                            _processed_date:&lt;2021-01-01</code></b>
                </p>
                <p>2020 年に処理された文書（2019 年 12 月 31 日以降、2021 年 1 月 1 日未満の文書）を返品します。</p>
                <p>
                    <b><code class="code">_processed_date:&gt;=2020-01-01 AND
                            _processed_date:&lt;=2020-12-31</code></b>
                </p>
                <p>2020 年に処理された文書（2020 年 1 月 1 日以降、2020 年 12 月 31 日以内）を返送します。</p>
                <p>
                    <b><code class="code">_document_likes:&lt;1</code></b>
                </p>
                <p>「いいね！」がゼロ、またはユーザーからのフィードバックがない（「いいね！」が 1 件未満）ドキュメントを返します。</p>
                <p>範囲を特定の範囲値を含むものとして扱うか、含まないものとして扱うかを指定できます。</p>
                <p> <b>包括的</b> </p>
                <p>
                    <b><code class="code">_last_updated_at:[2020-01-01 TO
                        2020-12-31]</code></b>
                </p>
                <p>返品書類の最終更新日は 2020 年で、2020 年 12 月 1 日と 2020 年 12 月 31 日が含まれます。</p>
                <p> <b>独占</b> </p>
                <p>
                    <b><code class="code">_last_updated_at:<span>{</span>2019-12-31 TO
                        2021-01-01}</code></b>
                </p>
                <p>返品書類の最終更新日は 2020 年で、2019 年 12 月 31 日と 2021 年 1 月 1 日を除きます。</p>
                <p>範囲が制限なく包含的でも排他的でもない場合は、&lt; and &gt; 単純に演算子を使用してください。例えば、<code class="code">_last_updated_at:&gt;2019-12-31 AND
                        _last_updated_at:&lt;2021-01-01</code> です。</p>
                 
                    <h4 id="query-syntax-fields">フィールド</h4>
                    <p>特定のフィールドの値を満たすドキュメントのみを返すように検索を制限できます。フィールドは任意のタイプにすることができます。</p>
                    <p>以下は、フィールドレベルのコンテキスト演算子の使用例です。</p>
                    <p>
                        <b><code class="code">status:"Incomplete" AND
                                financial_year:2021</code></b>
                    </p>
                    <p>ステータスが不完全である2021会計年度の書類を返します。</p>
                    <p>
                        <b><code class="code">(sports OR recreation) AND country:"United
                                States" AND level:"professional"</code></b>
                    </p>
                    <p>米国でのプロスポーツやレクリエーションに関するドキュメントを返します。</p>
                 
                 
                    <h4 id="query-syntax-wildcards">ワイルドカード</h4>
                    <p>ワイルドカード演算子を使用すると、さまざまな単語やフレーズが含まれるように検索範囲を広げることができます。これは、名前のバリエーションを検索する場合に便利です。 Amazon Kendra現在、末尾のワイルドカードのみをサポートしています。末尾のワイルドカードのプレフィックス文字数は 2 文字以上でなければなりません。</p>
                    <p>ワイルドカード演算子の使用例を以下に示します。</p>
                    <p>
                        <b><code class="code">Cloud*</code></b>
                    </p>
                    <p> CloudFormation やなどのバリアントを含むドキュメントを返します CloudWatch。</p>
                    <p>
                        <b><code class="code">kendra*aws</code></b>
                    </p>
                    <p>kendra.amazonaws などのバリエーションを含むドキュメントを返します。</p>
                    <p>
                        <b><code class="code">kendra*aws*</code></b>
                    </p>
                    <p>kendra.amazonaws.com などのバリエーションを含むドキュメントを返品します</p>
                 
                 
                    <h4 id="query-syntax-exact-quote">正確な見積もり</h4>
                    <p>引用符を使用して、テキストと完全に一致するテキストを検索できます。</p>
                    <p>引用符の使用例を以下に示します。</p>
                    <p>
                        <b><code class="code">"Amazon Kendra" "pricing"</code></b>
                    </p>
                    <p>「」という語句と「価格設定Amazon Kendra」という用語の両方を含む文書を返します。結果を返すには、書類に「Amazon Kendra」と「価格」の両方を記載する必要があります。</p>
                    <p>
                        <b><code class="code">"Amazon Kendra" "pricing"
                            cost</code></b>
                    </p>
                    <p>「」という語句と「価格設定Amazon Kendra」という用語、およびオプションで「コスト」という用語を含む文書を返します。結果を返すには、Amazon Kendra書類に「」と「価格」の両方を記載する必要がありますが、必ずしも「費用」が含まれるとは限りません。</p>
                 
                 
                    <h4 id="query-syntax-invalid">無効なクエリ構文</h4>
                    <p>Amazon Kendraクエリ構文に問題がある場合、またはクエリが現在でサポートされていない場合に警告が表示されますAmazon Kendra。詳細については、<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Warning.html">クエリ警告の API ドキュメントを参照してください</a>。</p>
                    <p>次のクエリは、無効なクエリ構文の例です。</p>
                    <p>
                        <b><code class="code">_last_updated_at:&lt;2021-12-32</code></b>
                    </p>
                    <p>無効な日付です。32日目は、が使用しているグレゴリオ暦には存在しませんAmazon Kendra。</p>
                    <p>
                        <b><code class="code">_view_count:ten</code></b>
                    </p>
                    <p>数値が無効です。数値を表すには数字を使用する必要があります。</p>
                    <p>
                        <b><code class="code">nonExistentField:123</code></b>
                    </p>
                    <p>フィールド検索が無効です。フィールド検索を使用するには、フィールドが存在している必要があります。</p>
                    <p>
                        <b><code class="code">Product:[A TO D]</code></b>
                    </p>
                    <p>無効な範囲です。範囲には数値または日付を使用する必要があります。</p>
                    <p>
                        <b><code class="code">OR Hello</code></b>
                    </p>
                    <p>無効なブールから無効です。演算子は用語と一緒に使用し、用語の間に配置する必要があります。</p>
                 
             
         
            <h2 id="searching-index-languages">各言語での検索</h2>
            <p>サポートされている言語でドキュメントを検索できます。<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_AttributeFilter.html">AttributeFilter</a>言語コードをに渡して、選択した言語でフィルタリングされたドキュメントを返すことができます。クエリは、サポートされている言語で入力できます。</p>
            <p>言語を指定しない場合、Amazon Kendraデフォルトで英語でドキュメントをクエリします。コードを含む、サポートされている言語の詳細については、<a href="https://docs.aws.amazon.com/kendra/latest/dg/in-adding-languages.html">英語以外の言語でドキュメントを追加する</a>を参照してください。</p>
            <p>コンソールでサポートされる言語のドキュメントを検索するには、インデックスを選択し、ナビゲーションメニューからインデックスを検索するオプションを選択します。検索設定を選択し、ドロップダウンの「言語」から言語を選択して、<b>ドキュメントを返す言語を選択します</b>。</p>
            <p>次の例は、スペイン語でドキュメントを検索する方法を示しています。</p>
            <div class="procedure"><h6>コンソールでスペイン語のインデックスを検索するには</h6><ol><li>
                    <p>にサインインしてAWS Management Console、<a href="https://console.aws.amazon.com/kendra" rel="noopener noreferrer" target="_blank"><span>http://console.aws.amazon.com/kendra/Amazon Kendra</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> でコンソールを開きます。</p>
                </li><li>
                    <p>ナビゲーションメニューで [インデックス] を選択し、[<b>インデックス</b>] を選択します。</p>
                </li><li>
                    <p>ナビゲーションメニューで、インデックスを検索するオプションを選択します。</p>
                </li><li>
                    <p>検索設定で、「<b>言語</b>」ドロップダウンを選択し、「スペイン語」を選択します。</p>
                </li><li>
                    <p>テキストボックスにクエリを入力し、Enter を押します。</p>
                </li><li>
                    <p>Amazon Kendra検索の結果をスペイン語で返します。</p>
                </li></ol></div>
            <div class="procedure"><h6>CLI、Python、または Java を使用してスペイン語のインデックスを検索するには</h6><ul><li>
                    <p>次の例では、インデックスをスペイン語で検索します。<code class="code">searchString</code> の値を検索クエリに、<code class="code">indexID</code> の値を検索するインデックスのインデックス識別子に変更します。スペイン語の言語コードは <code class="code">es</code> です。これを独自の言語コードに置き換えることができます。</p>
                    <awsdocs-tabs><dl style="display: none">
                        <dt>CLI</dt><dd tab-id="cli">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "EqualsTo":<span>{</span>      
    "Key": "_language_code",
    "Value": <span>{</span>
    "StringValue": "es"
    }
  }
}</code></pre>
                            </dd>
                        <dt>Python</dt><dd tab-id="python">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">import boto3&#xD;
import pprint&#xD;
&#xD;
kendra = boto3.client("kendra")&#xD;
&#xD;
# Provide the index ID&#xD;
index_id = "index-id"&#xD;
# Provide the query text&#xD;
query = "search-string"&#xD;
&#xD;
# Includes the index ID, query text, and language attribute filter&#xD;
response = kendra.query(&#xD;
        QueryText = query,&#xD;
        IndexId = index_id,&#xD;
        AttributeFilter = <span>{</span>&#xD;
            "EqualsTo": <span>{</span>      &#xD;
                "Key": "_language_code",&#xD;
                "Value": <span>{</span>&#xD;
                    "StringValue": "es"&#xD;
                    }&#xD;
                }&#xD;
            })&#xD;
&#xD;
print ("\nSearch results|Resultados de la búsqueda: " + query + "\n")        &#xD;
&#xD;
for query_result in response["ResultItems"]:&#xD;
&#xD;
    print("-------------------")&#xD;
    print("Type: " + str(query_result["Type"]))&#xD;
        &#xD;
    if query_result["Type"]=="ANSWER" or query_result["Type"]=="QUESTION_ANSWER":&#xD;
        answer_text = query_result["DocumentExcerpt"]["Text"]&#xD;
        print(answer_text)&#xD;
&#xD;
    if query_result["Type"]=="DOCUMENT":&#xD;
        if "DocumentTitle" in query_result:&#xD;
            document_title = query_result["DocumentTitle"]["Text"]&#xD;
            print("Title: " + document_title)&#xD;
        document_text = query_result["DocumentExcerpt"]["Text"]&#xD;
        print(document_text)&#xD;
&#xD;
    print("------------------\n\n")&#xD;
    
                                </code></pre>
                            </dd>
                        <dt>Java</dt><dd tab-id="java">
                                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="コピー"><awsui-icon name="copy"></awsui-icon></div></div><code class="java ">package com.amazonaws.kendra;

import software.amazon.awssdk.services.kendra.KendraClient;
import software.amazon.awssdk.services.kendra.model.QueryRequest;
import software.amazon.awssdk.services.kendra.model.QueryResponse;
import software.amazon.awssdk.services.kendra.model.QueryResultItem;

public class SearchIndexExample <span>{</span>
    public static void main(String[] args) <span>{</span>
        KendraClient kendra = KendraClient.builder().build();

        String query = "searchString";
        String indexId = "indexID";

        QueryRequest queryRequest = QueryRequest.builder()
            .queryText(query)
            .indexId(indexId)
            .attributeFilter(
                 AttributeFilter.builder()
                     .withEqualsTo(
                         DocumentAttribute.builder()
                             .withKey("_language_code")
                             .withValue("es")
                             .build())
                     .build())
            .build();

        QueryResponse queryResponse = kendra.query(queryRequest);

        System.out.println(String.format("\nSearch results|
                                          Resultados de la búsqueda: %s", query));
        for(QueryResultItem item: queryResponse.resultItems()) <span>{</span>
            System.out.println("----------------------");
            System.out.println(String.format("Type: %s", item.type()));

            switch(item.type()) <span>{</span>
                case QUESTION_ANSWER:
                case ANSWER:
                    String answerText = item.documentExcerpt().text();
                    System.out.println(answerText);
                    break;
                case DOCUMENT:
                    String documentTitle = item.documentTitle().text();
                    System.out.println(String.format("Title: %s", documentTitle));
                    String documentExcerpt = item.documentExcerpt().text();
                    System.out.println(String.format("Excerpt: %s", documentExcerpt));
                    break;
                default:
                    System.out.println(String.format("Unknown query result type: %s", item.type()));

            }

            System.out.println("-----------------------\n");
        }
    }
}</code></pre>
                            </dd>
                    </dl></awsdocs-tabs>
                </li></ul></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="警告" /> <strong>ブラウザで JavaScript が無効になっているか、使用できません。</strong></p><p>AWS ドキュメントを使用するには、JavaScript を有効にする必要があります。手順については、使用するブラウザのヘルプページを参照してください。</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">ドキュメントの表記規則</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./searching.html">インデックスの検索</div><div id="next" class="next-link" accesskey="n" href="./browsing.html">索引の閲覧</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">このページは役に立ちましたか? - はい</div><div class="content"><p>ページが役に立ったことをお知らせいただき、ありがとうございます。</p><p>お時間がある場合は、何が良かったかお知らせください。今後の参考にさせていただきます。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">このページは役に立ちましたか? - いいえ</div><div class="content"><p>このページは修正が必要なことをお知らせいただき、ありがとうございます。ご期待に沿うことができず申し訳ありません。</p><p>お時間がある場合は、ドキュメントを改善する方法についてお知らせください。</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="フィードバック" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/searching-example.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>