<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IAMZugriffsrollen fürAmazon Kendra - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="iam-roles" /><meta name="default_state" content="iam-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" /><meta name="description" content="Die erforderlichen Zugriffsberechtigungen fürAmazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Entwicklerhandbuch" /><meta name="abstract" content="Bietet eine konzeptionelle Übersicht über Amazon Kendra. Erfahren Sie mehr überAmazon Kendra Funktionen und beginnen Sie mit der Indexierung Ihrer Dokumente mithilfe der Konsole, der CLI und der API." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/iam-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/iam-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/iam-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/iam-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/iam-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/iam-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/iam-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/iam-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/iam-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/iam-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/iam-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/iam-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Entwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Entwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="IAMZugriffsrollen fürAmazon Kendra" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IAMZugriffsrollen fürAmazon Kendra - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#iam-roles" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligente Suche,natürliche Sprache,index,question,Schlüsselwort,Datenquelle,Anschluss,Häufig gestellte Fragen,häufig gestellte Frage" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Entwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAMZugriffsrollen fürAmazon Kendra",
        "item" : "https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#iam-roles" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Entwicklerhandbuch</a></div><div id="page-toc-src"><a href="#iam-roles-index">IAMRollen für Indizes</a><a href="#iam-roles-batch">IAMRollen für die BatchPutDocument API</a><a href="#iam-roles-ds">IAMRollen für Datenquellen</a><a href="#iam-roles-ds-faq">IAMRollen für häufig gestellte Fragen (FAQs)</a><a href="#iam-roles-query-suggestions">IAMRollen für Abfragevorschläge</a><a href="#iam-roles-principal-mapping">IAMRollen für die prinzipielle Zuordnung von Benutzern und Gruppen</a><a href="#iam-roles-aws-sso">IAM-Rollen für AWS IAM Identity Center (successor to AWS Single Sign-On)</a><a href="#iam-roles-amazon-kendra-experiences">IAMRollen fürAmazon Kendra Erlebnisse</a><a href="#iam-roles-custom-document-enrichment">IAMRollen für Custom Document Enrichment</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="iam-roles">IAMZugriffsrollen fürAmazon Kendra</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Wenn Sie einen Index, eine Datenquelle oder eine häufig gestellte Frage erstellen,Amazon Kendra benötigen Sie Zugriff auf dieAWS Ressourcen, die zum Erstellen derAmazon Kendra Ressource erforderlich sind. Sie müssen eineAWS Identity and Access Management (IAM) -Richtlinie erstellen, bevor Sie dieAmazon Kendra Ressource erstellen. Wenn Sie den Vorgang aufrufen, geben Sie den Amazon-Ressourcennamen (ARN) der Rolle an, an das die Richtlinie angehängt ist. Wenn Sie beispielsweise die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API aufrufen, um Dokumente aus einemAmazon S3 Bucket hinzuzufügen, stellen Sie eine RolleAmazon Kendra mit einer Richtlinie bereit, die Zugriff auf den Bucket hat.</p><p>Sie können eine neueIAM Rolle in derAmazon Kendra Konsole erstellen oder eineIAM vorhandene Rolle zur Verwendung auswählen. Die Konsole zeigt Rollen an, deren Rollenname die Zeichenfolge „kendra“ oder „Kendra“ enthält. </p><p>In den folgenden Themen finden Sie Einzelheiten zu den erforderlichen Richtlinien. Wenn SieIAM Rollen mithilfe derAmazon Kendra Konsole erstellen, werden diese Richtlinien für Sie erstellt.</p><div class="highlights" id="inline-topiclist"><h6>Themen</h6><ul><li><a href="#iam-roles-index">IAMRollen für Indizes</a></li><li><a href="#iam-roles-batch">IAMRollen für die BatchPutDocument API</a></li><li><a href="#iam-roles-ds">IAMRollen für Datenquellen</a></li><li><a href="#iam-roles-ds-faq">IAMRollen für häufig gestellte Fragen (FAQs)</a></li><li><a href="#iam-roles-query-suggestions">IAMRollen für Abfragevorschläge</a></li><li><a href="#iam-roles-principal-mapping">IAMRollen für die prinzipielle Zuordnung von Benutzern und Gruppen</a></li><li><a href="#iam-roles-aws-sso">IAM-Rollen für AWS IAM Identity Center (successor to AWS Single Sign-On)</a></li><li><a href="#iam-roles-amazon-kendra-experiences">IAMRollen fürAmazon Kendra Erlebnisse</a></li><li><a href="#iam-roles-custom-document-enrichment">IAMRollen für Custom Document Enrichment</a></li></ul></div>
        <h2 id="iam-roles-index">IAMRollen für Indizes</h2>
        <p>Wenn Sie einen Index erstellen, müssen Sie einerIAM Rolle die Berechtigung geben, in einen zu schreibenAmazon CloudWatch. Sie müssen außerdem eine Vertrauensrichtlinie bereitstellen, die es IhnenAmazon Kendra ermöglicht, die Rolle anzunehmen. Im Folgenden sind die Richtlinien aufgeführt, die bereitgestellt werden müssen.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Indizes" id="permissions-policy" expanded="false"><p>Eine Rollenrichtlinie, die denAmazon Kendra Zugriff auf einCloudWatch Protokoll ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": "cloudwatch:PutMetricData",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "cloudwatch:namespace": "AWS/Kendra"
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": "logs:DescribeLogGroups",
            "Resource": "*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": "logs:CreateLogGroup",
            "Resource": "arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "logs:DescribeLogStreams",
                "logs:CreateLogStream",
                "logs:PutLogEvents"
            ],
            "Resource": "arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*:log-stream:*"
        }
    ]
}</code></pre><p>Eine Rollenrichtlinie, um den ZugriffAmazon Kendra zu ermöglichenAWS Secrets Manager. Wenn Sie den Benutzerkontext mitSecrets Manager als Schlüsselposition verwenden, können Sie die folgende Richtlinie verwenden. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Action":"cloudwatch:PutMetricData",
         "Resource":"*",
         "Condition":<span>{</span>
            "StringEquals":<span>{</span>
               "cloudwatch:namespace":"AWS/Kendra"
            }
         }
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":"logs:DescribeLogGroups",
         "Resource":"*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":"logs:CreateLogGroup",
         "Resource":"arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "logs:DescribeLogStreams",
            "logs:CreateLogStream",
            "logs:PutLogEvents"
         ],
         "Resource":"arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*:log-stream:*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "secretsmanager:GetSecretValue"
         ],
         "Resource":[
            "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret_id</code>"
         ]
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "kms:Decrypt"
         ],
         "Resource":[
            "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key_id</code>"
         ],
         "Condition":<span>{</span>
            "StringLike":<span>{</span>
               "kms:ViaService":[
                  "secretsmanager.*.amazonaws.com"
               ]
            }
         }
      }
   ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-batch">IAMRollen für die BatchPutDocument API</h2>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Warnung</h6></div><div class="awsdocs-note-text"><p>Amazon Kendraverwendet keine Bucket-Richtlinie, die einemAmazon Kendra Principal Berechtigungen zur Interaktion mit einem S3-Bucket gewährt. Stattdessen verwendet esIAM Rollen. Stellen Sie sicher, dass diesAmazon Kendra nicht als vertrauenswürdiges Mitglied in Ihrer Bucket-Richtlinie aufgeführt ist, um Datensicherheitsprobleme zu vermeiden, die entstehen, wenn versehentlich beliebigen Prinzipalen Berechtigungen erteilt werden. Sie können jedoch eine Bucket-Richtlinie hinzufügen, um einenAmazon S3 Bucket für verschiedene Konten zu verwenden. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds-s3-cross-accounts">Richtlinien für dieAmazon S3 kontenübergreifende Verwendung</a>. Informationen zuIAM Rollen für S3-Datenquellen finden Sie unter <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds-s3">IAMRollen</a>.</p></div></div>
        <p>Wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API verwenden, um Dokumente in einemAmazon S3 Bucket zu indexieren, müssen Sie eineIAM Rolle mit Zugriff auf den Bucket bereitstellenAmazon Kendra. Sie müssen außerdem eine Vertrauensrichtlinie bereitstellen, die es IhnenAmazon Kendra ermöglicht, die Rolle anzunehmen. Wenn die Dokumente im Bucket verschlüsselt sind, müssen Sie die Erlaubnis erteilen, denAWS KMS Kundenmasterschlüssel (CMK) zum Entschlüsseln der Dokumente zu verwenden.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für die BatchPutDocument  API" id="iam-roles-batch-json" expanded="false"><p>Eine erforderliche Rollenrichtlinie, um den ZugriffAmazon Kendra auf einenAmazon S3 Bucket zu ermöglichen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Es wird empfohlen, dass Sie<code class="code">aws:sourceAccount</code> und<code class="code">aws:sourceArn</code> in die Vertrauensrichtlinie aufnehmen. Dadurch<code class="code">aws:sourceArn</code> werden die Berechtigungen eingeschränkt und es wird auf sichere Weise geprüft, ob<code class="code">aws:sourceAccount</code> und ob sie mit den in derIAM Rollenrichtlinie für die<code class="code">sts:AssumeRole</code> Aktion angegebenen übereinstimmen. Dadurch wird verhindert, dass unbefugte Entitäten auf IhreIAM Rollen und deren Berechtigungen zugreifen. Weitere Informationen finden Sie in derAWS Identity and Access Management Anleitung zum <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">Confused-Deputy-Problem</a>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre><p>Eine optionale Rollenrichtlinie, dieAmazon Kendra die Verwendung einesAWS KMS Kundenmasterschlüssels (CMK) zum Entschlüsseln von Dokumenten in einemAmazon S3 Bucket ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-ds">IAMRollen für Datenquellen</h2>
        <p>Wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateDataSource.html">CreateDataSource</a>API verwenden, müssen SieAmazon Kendra eineIAM Rolle angeben, die berechtigt ist, auf die Datenbankressourcen zuzugreifen. Die erforderlichen spezifischen Berechtigungen hängen von der Datenquelle ab.</p>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Alfresco-Datenquellen" id="iam-roles-ds-alfresco" expanded="false"><p>Wenn Sie Alfresco verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf IhrAWS Secrets Manager Geheimnis zuzugreifen, um Ihr Alfresco zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für den Alfresco-Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen fürAmazon S3 Datenquellen" id="iam-roles-ds-s3" expanded="false"><div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Warnung</h6></div><div class="awsdocs-note-text"><p>Amazon Kendraverwendet keine Bucket-Richtlinie, die einemAmazon Kendra Principal Berechtigungen zur Interaktion mit einem S3-Bucket gewährt. Stattdessen verwendet esIAM Rollen. Stellen Sie sicher, dass diesAmazon Kendra nicht als vertrauenswürdiges Mitglied in Ihrer Bucket-Richtlinie aufgeführt ist, um Datensicherheitsprobleme zu vermeiden, die entstehen, wenn versehentlich beliebigen Prinzipalen Berechtigungen erteilt werden. Sie können jedoch eine Bucket-Richtlinie hinzufügen, um einenAmazon S3 Bucket für verschiedene Konten zu verwenden. Weitere Informationen finden Sie unter<a href="#iam-roles-ds-s3-cross-accounts">Richtlinien zurAmazon S3 kontoübergreifenden Verwendung</a> (nach unten scrollen).</p></div></div><p>Wenn Sie einenAmazon S3 Bucket als Datenquelle verwenden, geben Sie eine Rolle an, die berechtigt ist, auf den Bucket zuzugreifen und die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden. Wenn die Dokumente imAmazon S3 Bucket verschlüsselt sind, müssen Sie die Erlaubnis erteilen, denAWS KMS Kundenmasterschlüssel (CMK) zum Entschlüsseln der Dokumente zu verwenden.</p><p>Eine erforderliche Rollenrichtlinie, umAmazon Kendra die Verwendung einesAmazon S3 Buckets als Datenquelle zu ermöglichen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
         <span>{</span>
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            ]
        }
    ]
}</code></pre><p>Eine optionale Rollenrichtlinie, dieAmazon Kendra die Verwendung einesAWS KMS Kundenmasterschlüssels (CMK) zum Entschlüsseln von Dokumenten in einemAmazon S3 Bucket ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre><p>Eine optionale Rollenrichtlinie, die denAmazon Kendra Zugriff auf einenAmazon S3 Bucket ermöglicht, während ein Bucket verwendet wirdAmazon VPC, ohneAWS KMS Berechtigungen zu aktivierenAWS KMS oder zu teilen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}/*"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Action": [
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]",
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:security-group/[[security_group]]"
      ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateNetworkInterface"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringLike": <span>{</span>
                "aws:RequestTag/AWS_KENDRA": "kendra_<span>{</span><span>{</span>account_id}}_<span>{</span><span>{</span>index_id}}_<span>{</span>datasource_id}}_*"
            }
        }
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateTags"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringEquals": <span>{</span>
                "ec2:CreateAction": "CreateNetworkInterface"
            }
        }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": ["arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}",
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
    }
  ]
}
<span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "kendra.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre><p>Eine optionale Rollenrichtlinie, die denAmazon Kendra Zugriff auf einenAmazon S3 Bucket ermöglichtAmazon VPC, während ein Benutzer verwendet wird und dieAWS KMS Berechtigungen aktiviert sind.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}/*"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Action": [
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/<span>{</span><span>{</span>key_id}}"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "s3.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]",
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:security-group/[[security_group]]"
      ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateNetworkInterface"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringLike": <span>{</span>
                "aws:RequestTag/AWS_KENDRA": "kendra_<span>{</span><span>{</span>account_id}}_<span>{</span><span>{</span>index_id}}_<span>{</span>datasource_id}}_*"
            }
        }
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateTags"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringEquals": <span>{</span>
                "ec2:CreateAction": "CreateNetworkInterface"
            }
        }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": ["arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}",
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
    }
  ]
}

<span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "kendra.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                    <h4 id="iam-roles-ds-s3-cross-accounts">Richtlinien zurAmazon S3 kontoübergreifenden Verwendung</h4>
                    <p>Wenn sich IhrAmazon S3 Bucket in einem anderen Konto befindet als das Konto, das Sie für IhrenAmazon Kendra Index verwenden, können Sie Richtlinien erstellen, um ihn kontoübergreifend zu verwenden.</p>
                    <p>Eine Rollenrichtlinie zur Verwendung IhresAmazon S3 Buckets als Datenquelle, wenn sich der Bucket in einem anderen Konto als IhrAmazon Kendra Index befindet.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
         <span>{</span>
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:$KENDRA_REGION:$KENDRA_ACCOUNT_ID:index/$KENDRA_INDEX_ID"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:PutObjectAcl"
            ],
            "Resource": "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
        }
    ]
}</code></pre>
                    <p>Eine Bucket-Richtlinie, die es derAmazon S3 Datenquellenrolle ermöglicht, kontoübergreifend auf denAmazon S3 Bucket zuzugreifen.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "$KENDRA_S3_CONNECTOR_ROLE_ARN"
            },
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:PutObjectAcl"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "$KENDRA_S3_CONNECTOR_ROLE_ARN"
            },
            "Action": "s3:ListBucket",
            "Resource": "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT"
        }
    ]
}</code></pre>
                     
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                </awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Datenbankdatenquellen" id="iam-roles-ds-jdbc" expanded="false"><p>Wenn Sie eine Datenbank als Datenquelle verwenden, stellen Sie eine Rolle zur Verfügung, die über die für die VerbindungAmazon Kendra mit der Datenbank erforderlichen Berechtigungen verfügt. Dazu zählen:</p><div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Berechtigung zum Zugriff auf dasAWS Secrets Manager Geheimnis, das den Benutzernamen und das Passwort für die Datenbank-Site enthält. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-database.html">Amazon RDS/Aurora</a>.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)Secrets Manager.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Zugriff auf denAmazon S3 Bucket, der das SSL-Zertifikat enthält, das für die Kommunikation mit der Datenbank-Site verwendet wird.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>Es gibt zwei optionale Richtlinien, die Sie mit einer Datenbankdatenquelle verwenden können.</p><p>Wenn Sie denAmazon S3 Bucket verschlüsselt haben, der das SSL-Zertifikat enthält, das für die Kommunikation mit der Datenbank verwendet wird, geben Sie eine Richtlinie an, um denAmazon Kendra Zugriff auf den Schlüssel zu gewähren. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre><p>Wenn Sie eine VPC verwenden, stellen Sie eine Richtlinie bereit, die denAmazon Kendra Zugriff auf die erforderlichen Ressourcen ermöglicht. Die<a href="#iam-roles-vpc">IAMRolle Virtual Private Cloud (VPC)</a> erforderliche Richtlinie finden Sie unter.</p>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen fürAmazon FSx Datenquellen" id="iam-roles-ds-fsx" expanded="false"><p>Wenn Sie verwendenAmazon FSx, geben Sie eine Rolle mit den folgenden Richtlinien an.</p><div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf IhrAWS Secrets Manager Geheimnis zuzugreifen, um Ihr Geheimnis zu authentifizierenAmazon FSx.</p>
                    </li><li class="listitem">
                        <p>ZugriffserlaubnisAmazon Virtual Private Cloud (VPC) an IhremAmazon FSx Wohnort.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis, den Domainnamen Ihres Active Directory für IhrAmazon FSx Windows-Dateisystem abzurufen.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für denAmazon FSx Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung, die<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code> AND-APIs aufzurufen, um den Index zu aktualisieren.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
        "Statement": [
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "secretsmanager:GetSecretValue"
          ],
          "Resource": [
            "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:<span>{</span><span>{</span>secret_id}}"
          ]
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "kms:Decrypt"
          ],
          "Resource": [
            "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/<span>{</span><span>{</span>key_id}}"
          ],
          "Condition": <span>{</span>
            "StringLike": <span>{</span>
              "kms:ViaService": [
                "secretsmanager.<span>{</span><span>{</span>region}}.amazonaws.com"
              ]
            }
          }
        },
        <span>{</span>
          "Effect": "Allow",
          "Action":[
            "ec2:CreateNetworkInterface",
            "ec2:DeleteNetworkInterface"
          ],
          "Resource": [
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]   
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "ec2:DescribeSubnets",
            "ec2:DescribeNetworkInterfaces"
          ],
          "Resource": "*"
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "ec2:CreateNetworkInterfacePermission"
          ],
          "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "ec2:AuthorizedService": "kendra.*.amazonaws.com"
            },
            "ArnEquals": <span>{</span>
              "ec2:Subnet": [
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
              ]
            }
          }
        },
        <span>{</span>
          "Sid": "AllowsKendraToGetDomainNameOfActiveDirectory",
          "Effect": "Allow",
          "Action": "ds:DescribeDirectories",
          "Resource": "*"
        },
        <span>{</span>
          "Sid": "AllowsKendraToCallRequiredFsxAPIs",
          "Effect": "Allow",
          "Action": [
              "fsx:DescribeFileSystems"
          ],
          "Resource": "*"
        },
        <span>{</span>
          "Sid": "iamPassRole",
          "Effect": "Allow",
          "Action": "iam:PassRole",
          "Resource": "*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "iam:PassedToService": [
                "kendra.*.amazonaws.com"
              ]
            }
          }
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "kendra:BatchPutDocument",
            "kendra:BatchDeleteDocument"
          ],
          "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
        }
        ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Web-Crawler-Datenquellen" id="iam-roles-ds-webcrawler" expanded="false"><p>Wenn SieAmazon Kendra Web Crawler verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit:</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Berechtigung zum Zugriff auf dasAWS Secrets Manager -Geheimnisses, das den Benutzernamen und das Passwort enthält, um eine Verbindung mit Websites oder einem Web-Proxyserver herzustellen, das durch eine Standardauthentifizierung unterstützt wird. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie <a href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-web-crawler.html">unter Verwenden einer Webcrawler-Datenquelle</a>.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)Secrets Manager.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen fürAmazon WorkDocs Datenquellen" id="iam-roles-workdocs" expanded="false"><p>Wenn Sie verwendenAmazon WorkDocs, stellen Sie eine Rolle mit den folgenden Richtlinien zur Verfügung</p><div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Berechtigung zur Überprüfung der Verzeichnis-ID (Organisations-ID), die IhremAmazon WorkDocs Site-Repository entspricht.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Abrufen des Domainnamens Ihres Active Directorys, das IhrAmazon WorkDocs Site-Verzeichnis enthält.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für denAmazon WorkDocs Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung, die<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code> AND-APIs aufzurufen, um den Index zu aktualisieren.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "AllowsKendraToGetDomainNameOfActiveDirectory",
      "Effect": "Allow",
      "Action": "ds:DescribeDirectories",
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "AllowsKendraToCallRequiredWorkDocsAPIs",
      "Effect": "Allow",
      "Action": [
        "workdocs:GetDocumentPath",
        "workdocs:GetGroup",
        "workdocs:GetDocument",
        "workdocs:DownloadDocumentVersions",
        "workdocs:DescribeUsers",
        "workdocs:DescribeFolderContents",
        "workdocs:DescribeActivities",
        "workdocs:DescribeComments",
        "workdocs:GetFolder",
        "workdocs:DescribeResourcePermissions",
        "workdocs:GetFolderPath",
        "workdocs:DescribeInstances"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "iamPassRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "iam:PassedToService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Sid": "AllowsKendraToCallBatchPutDeleteAPIs",
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/$<span>{</span><code class="replaceable">IndexId</code>}"
      ]
    }
  ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Box-Datenquellen" id="iam-roles-ds-box" expanded="false"><p>Wenn Sie Box verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf deinAWS Secrets Manager Geheimnis zuzugreifen, um deinen Slack zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für den Box-Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Confluence-Datenquellen" id="iam-roles-ds-cnf" expanded="false"><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Confluence Connector v1.0" id="iam-roles-confluence-v1" expanded="false"><p>Wenn Sie einen Confluence-Server als Datenquelle verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit:</p><div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Erlaubnis zum Zugriff auf dasAWS Secrets Manager Geheimnis, das die Anmeldeinformationen enthält, die für die Verbindung mit Confluence erforderlich sind. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-confluence.html">Confluence</a>.</p>
                            </li><li class="listitem">
                                <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)Secrets Manager.</p>
                            </li><li class="listitem">
                                <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                            </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre><p>Wenn Sie eine VPC verwenden, stellen Sie eine Richtlinie bereit, die denAmazon Kendra Zugriff auf die erforderlichen Ressourcen ermöglicht. Die<a href="#iam-roles-vpc">IAMRolle Virtual Private Cloud (VPC)</a> erforderliche Richtlinie finden Sie unter.</p>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Confluence Connector v2.0" id="iam-roles-confluence-v2" expanded="false"><p>Für eine Confluence Connector v2.0-Datenquelle stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Erlaubnis zum Zugriff auf dasAWS Secrets Manager Geheimnis, das die Authentifizierungsdaten für Confluence enthält. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-confluence.html">Confluence</a>.</p>
                            </li><li class="listitem">
                                <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)AWS Secrets Manager.</p>
                            </li><li class="listitem">
                                <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                            </li></ul></div><p>Sie müssen auch eine Vertrauensrichtlinie anfügen, die es IhnenAmazon Kendra ermöglicht, die Rolle anzunehmen.</p><p>Eine Rollenrichtlinie, dieAmazon Kendra die Verbindung zu Confluence ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:region:account_id:secret:secret_id"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:region:account_id:key/key_id"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:region:account_id:index/index_id",
        "arn:aws:kendra:region:account_id:index/index_id/data-source/*"
      ]
    }
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:region:account_id:index/index_id"
    }
  ]
}</code></pre><p>Eine Rollenrichtlinie, die esAmazon Kendra ermöglicht, mit VPC-Konfiguration eine Verbindung zu Confluence herzustellen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:region:account_id:secret:secret_id"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:region:account_id:key/key_id"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:region:account_id:index/index_id",
        "arn:aws:kendra:region:account_id:index/index_id/data-source/*"
      ]
    }
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:region:account_id:index/index_id"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:region:account_id:subnet/subnet_ids",
        "arn:aws:ec2:region:account_id:security-group/security_group"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:RequestTag/AWS_KENDRA": "kendra_account_id_index_id_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateTags"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:CreateAction": "CreateNetworkInterface"
        }
      }
    },
    
<span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:ResourceTag/AWS_KENDRA": "kendra_account_id_index_id_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeNetworkInterfaceAttribute",
        "ec2:DescribeVpcs",
        "ec2:DescribeRegions",
        "ec2:DescribeNetworkInterfacePermissions",
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    }
  ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div></awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Dropbox-Datenquellen" id="iam-roles-ds-dropbox" expanded="false"><p>Wenn Sie Dropbox verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf IhrAWS Secrets Manager geheimes Konto zuzugreifen, um Ihre Dropbox zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für den Dropbox-Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
"Version": "2012-10-17",
  "Statement": [
  <span>{</span>"Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>"StringLike": <span>{</span>"kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für GitHub  Datenquellen" id="iam-roles-ds-github" expanded="false"><p>Wenn Sie verwenden GitHub, geben Sie eine Rolle mit den folgenden Richtlinien an.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf IhrAWS Secrets Manager Geheimnis zuzugreifen, um Ihr Geheimnis zu authentifizieren GitHub.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für den GitHub Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>


        
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Gmail-Datenquellen" id="iam-roles-ds-gmail" expanded="false"><p>Wenn Sie Gmail verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf IhrAWS Secrets Manager Geheimnis zuzugreifen, um Ihr Gmail zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis zum Aufrufen der erforderlichen öffentlichen APIs für den Gmailconnector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
"Version": "2012-10-17",
  "Statement": [
  <span>{</span>"Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>"StringLike": <span>{</span>"kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Google Drive-Datenquellen" id="iam-roles-ds-gd" expanded="false"><p>Wenn Sie eine Google Workspace Drive-Datenquelle verwenden, stellen Sie eine Rolle zur Verfügung, die über die für die VerbindungAmazon Kendra mit der Website erforderlichen Berechtigungen verfügt. Dazu zählen: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis zum Abrufen und Entschlüsseln desAWS Secrets Manager Geheimnisses, das die E-Mail-Adresse des Kundenkontos, die E-Mail-Adresse des Administratorkontos und den privaten Schlüssel enthält, die für die Verbindung mit der Google Drive-Website erforderlich sind. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-google-drive.html">Google Drive</a>.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis zur Verwendung der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>und <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>APIs.</p>
                    </li></ul></div><p>Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Jira-Datenquellen" id="iam-roles-ds-jira" expanded="false"><p>Wenn du Jira verwendest, stellst du eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf deinAWS Secrets Manager Geheimnis zuzugreifen, um deinen Jira zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für den Jira-Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Microsoft Exchange-Datenquellen" id="iam-roles-ds-exchange" expanded="false"><p>Wenn Sie eine Microsoft Exchange-Datenquelle verwenden, stellen Sie eine Rolle zur Verfügung, die über die für die VerbindungAmazon Kendra mit der Site erforderlichen Berechtigungen verfügt. Dazu zählen: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Berechtigung zum Abrufen und Entschlüsseln desAWS Secrets Manager geheimen Schlüssels, das die Anwendungs-ID und den geheimen Schlüssel enthält, die für die Verbindung mit der Microsoft Exchange-Website erforderlich sind. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-yammer.html">Microsoft Yammer</a>.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis zur Verwendung der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>und <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>APIs.</p>
                    </li></ul></div><p>Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>Wenn Sie die Liste der zu indexierenden Benutzer in einemAmazon S3 Bucket speichern, müssen Sie auch die Erlaubnis zur Verwendung der<code class="code">GetObject</code> S3-Operation erteilen. Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für OneDrive  Microsoft-Datenquellen" id="iam-roles-ds-on" expanded="false"><p>Wenn Sie eine OneDrive  Microsoft-Datenquelle verwenden, stellen Sie eine Rolle zur Verfügung, die über die für die VerbindungAmazon Kendra mit der Site erforderlichen Berechtigungen verfügt. Dazu zählen: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Berechtigung zum Abrufen und Entschlüsseln desAWS Secrets Manager Geheimnisses, das die Anwendungs-ID und den geheimen Schlüssel enthält, die für die Verbindung mit der OneDrive  Site erforderlich sind. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-onedrive.html">Microsoft OneDrive</a>.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis zur Verwendung der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>und <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>APIs.</p>
                    </li></ul></div><p>Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>Wenn Sie die Liste der zu indexierenden Benutzer in einemAmazon S3 Bucket speichern, müssen Sie auch die Erlaubnis zur Verwendung der<code class="code">GetObject</code> S3-Operation erteilen. Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für SharePoint  Microsoft-Datenquellen" id="iam-roles-ds-spo" expanded="false"><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für SharePoint  Connector v1.0" id="iam-roles-sharepoint-v1" expanded="false"><p>Für eine Microsoft SharePoint  Connector v1.0-Datenquelle stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Erlaubnis zum Zugriff auf dasAWS Secrets Manager Geheimnis, das den Benutzernamen und das Passwort für die SharePoint  Site enthält. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-sharepoint.html">Microsoft SharePoint</a>.</p>
                            </li><li class="listitem">
                                <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)AWS Secrets Manager.</p>
                            </li><li class="listitem">
                                <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                            </li><li class="listitem">
                                <p>Berechtigung zum Zugriff auf denAmazon S3 Bucket, der das SSL-Zertifikat enthält, das für die Kommunikation mit der SharePoint  Site verwendet wird.</p>
                            </li></ul></div><p>Sie müssen auch eine Vertrauensrichtlinie anfügen, die es IhnenAmazon Kendra ermöglicht, die Rolle anzunehmen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>Wenn Sie denAmazon S3 Bucket verschlüsselt haben, der das SSL-Zertifikat enthält, das für die Kommunikation mit der SharePoint  Site verwendet wird, geben Sie eine Richtlinie an, um denAmazon Kendra Zugriff auf den Schlüssel zu gewähren. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für SharePoint  Connector v2.0" id="iam-roles-sharepoint-v2" expanded="false"><p>Für eine Microsoft SharePoint  Connector v2.0-Datenquelle stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Erlaubnis zum Zugriff auf dasAWS Secrets Manager Geheimnis, das die Authentifizierungsdaten für die SharePoint  Site enthält. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-sharepoint.html">Microsoft SharePoint</a>.</p>
                            </li><li class="listitem">
                                <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)AWS Secrets Manager.</p>
                            </li><li class="listitem">
                                <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                            </li><li class="listitem">
                                <p>Berechtigung zum Zugriff auf denAmazon S3 Bucket, der das SSL-Zertifikat enthält, das für die Kommunikation mit der SharePoint  Site verwendet wird.</p>
                            </li></ul></div><p>Sie müssen auch eine Vertrauensrichtlinie anfügen, die es IhnenAmazon Kendra ermöglicht, die Rolle anzunehmen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:secret:<code class="replaceable">secret_id</code>"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:key/<code class="replaceable">key_id</code>"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>",
        "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>/data-source/*"
      ]
    },
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/<code class="replaceable">input_key_name</code>"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:subnet/<code class="replaceable">subnet_ids</code>",
        "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:security-group/<code class="replaceable">security_group</code>"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:RequestTag/AWS_KENDRA": "kendra_<code class="replaceable">account_id</code>_<code class="replaceable">index_id</code>_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateTags"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:CreateAction": "CreateNetworkInterface"
        }
      }
    },
    
<span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:ResourceTag/AWS_KENDRA": "kendra_<code class="replaceable">account_id</code>_<code class="replaceable">index_id</code>_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeNetworkInterfaceAttribute",
        "ec2:DescribeVpcs",
        "ec2:DescribeRegions",
        "ec2:DescribeNetworkInterfacePermissions",
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    }
  ]
}</code></pre><p>Wenn Sie denAmazon S3 Bucket verschlüsselt haben, der das SSL-Zertifikat enthält, das für die Kommunikation mit der SharePoint  Site verwendet wird, geben Sie eine Richtlinie an, um denAmazon Kendra Zugriff auf den Schlüssel zu gewähren. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div></awsui-expandable-section></div>

        

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Microsoft Teams-Datenquellen" id="iam-roles-ds-teams" expanded="false"><p>Wenn Sie eine Microsoft Teams-Datenquelle verwenden, stellen Sie eine Rolle zur Verfügung, die über die für die VerbindungAmazon Kendra mit der Site erforderlichen Berechtigungen verfügt. Dazu zählen: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Berechtigung zum Abrufen und Entschlüsseln desAWS Secrets Manager Geheimnisses, das die Client-ID und den Client-Schlüssel enthält, die für die Verbindung mit Microsoft Teams erforderlich sind. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-teams.html">Microsoft-Teams</a>.</p>
                    </li><li class="listitem">
                         
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                    </li></ul></div><p>Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">client ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
        </code></pre></awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Microsoft Yammer-Datenquellen" id="iam-roles-ds-yammer" expanded="false"><p>Wenn Sie eine Microsoft Yammer-Datenquelle verwenden, stellen Sie eine Rolle zur Verfügung, die über die für die VerbindungAmazon Kendra mit der Site erforderlichen Berechtigungen verfügt. Dazu zählen: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Berechtigung zum Abrufen und Entschlüsseln desAWS Secrets Manager geheimen Schlüssels, das die Anwendungs-ID und den geheimen Schlüssel enthält, die für die Verbindung mit der Microsoft Yammer-Site erforderlich sind. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-yammer.html">Microsoft Yammer</a>.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis zur Verwendung der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>und <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>APIs.</p>
                    </li></ul></div><p>Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>Wenn Sie die Liste der zu indexierenden Benutzer in einemAmazon S3 Bucket speichern, müssen Sie auch die Erlaubnis zur Verwendung der<code class="code">GetObject</code> S3-Operation erteilen. Die folgendeIAM Richtlinie bietet die erforderlichen Berechtigung:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Quip-Datenquellen" id="iam-roles-ds-quip" expanded="false"><p>Wenn Sie Quip verwenden, geben Sie eine Rolle mit den folgenden Richtlinien an.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf deinAWS Secrets Manager Geheimnis zuzugreifen, um deinen Quip zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für den Quip-Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Salesforce-Datenquellen" id="iam-roles-ds-sf" expanded="false"><p>Wenn Sie Salesforce als Datenquelle verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit:</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis zum Zugriff auf dasAWS Secrets Manager Geheimnis, das den Benutzernamen und das Passwort für die Salesforce-Site enthält. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-salesforce.html">Salesforce</a>.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)Secrets Manager.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>


        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für ServiceNow  Datenquellen" id="iam-roles-ds-sn" expanded="false"><p>Wenn Sie a ServiceNow  als Datenquelle verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit:</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis zum Zugriff auf dasSecrets Manager Geheimnis, das den Benutzernamen und das Passwort für die ServiceNow  Site enthält. Weitere Informationen zum Inhalt des -Secrets-Geheimnisses finden Sie unter<a href="./data-source-servicenow.html">ServiceNow</a>.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Entschlüsseln desAWS KMS -Kundenmasterschlüssels (CMK) -Geheimnisses (-Kundenmasterschlüssel (CMK)Secrets Manager.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis, die<code class="code">BatchDeleteDocument</code> Operationen<code class="code">BatchPutDocument</code> und zu verwenden, um den Index zu aktualisieren.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Slack-Datenquellen" id="iam-roles-ds-slack" expanded="false"><p>Wenn du Slack verwendest, stellst du eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf deinAWS Secrets Manager Geheimnis zuzugreifen, um deinen Slack zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Erlaubnis, die erforderlichen öffentlichen APIs für den Slack-Connector aufzurufen.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Zendesk-Datenquellen" id="iam-roles-ds-zendesk" expanded="false"><p>Wenn Sie Zendesk verwenden, stellen Sie eine Rolle mit den folgenden Richtlinien bereit.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Erlaubnis, auf IhrAWS Secrets Manager Geheimnis zuzugreifen, um Ihre Zendesk Suite zu authentifizieren.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der erforderlichen öffentlichen APIs für den Zendesk-Connector.</p>
                    </li><li class="listitem">
                        <p>Berechtigung zum Aufrufen der<code class="code">ListGroupsOlderThanOrderingId</code> APIs<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code><code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>,,, und.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRolle Virtual Private Cloud (VPC)" id="iam-roles-vpc" expanded="false"><p>Wenn Sie eine Virtual Private Cloud (VPC) verwenden, um eine Verbindung mit Ihrer Datenquelle herzustellen, müssen Sie die folgenden Berechtigungen bereitstellen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface",
        "ec2:DescribeNetworkInterfaces",
        "ec2:DeleteNetworkInterface"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.*.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:subnet/<code class="replaceable">subnet IDs</code>"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "iamPassRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "iam:PassedToService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    }
  ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-ds-faq">IAMRollen für häufig gestellte Fragen (FAQs)</h2>
        <p>Wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateFaq.html">CreateFaq</a>API verwenden, um Fragen und Antworten in einen Index zu laden, müssen Sie eineIAM RolleAmazon Kendra mit Zugriff auf denAmazon S3 Bucket bereitstellen, der die Quelldateien enthält. Wenn die Quelldateien verschlüsselt sind, müssen Sie dieAWS KMS Berechtigung zum Entschlüsseln der Dateien bereitstellen.</p>

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für FAQs" id="iam-roles-faq" expanded="false"><p>Eine erforderliche Rollenrichtlinie, um den ZugriffAmazon Kendra auf einenAmazon S3 Bucket zu ermöglichen.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>Eine optionale Rollenrichtlinie, dieAmazon Kendra die Verwendung einesAWS KMS Kundenmasterschlüssels (CMK) zum Entschlüsseln von Dateien in einemAmazon S3 Bucket ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        }
    ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-query-suggestions">IAMRollen für Abfragevorschläge</h2>
        <p>Wenn Sie eineAmazon S3 Datei als Blockliste für Abfragevorschläge verwenden, geben Sie eine Rolle an, die berechtigt ist, auf dieAmazon S3 Datei und denAmazon S3 Bucket zuzugreifen. Wenn die Blocklisten-Textdatei (dieAmazon S3 Datei) imAmazon S3 Bucket verschlüsselt ist, müssen Sie die Erlaubnis erteilen, denAWS KMS Kundenmasterschlüssel (CMK) zum Entschlüsseln der Dokumente zu verwenden.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Abfragevorschläge" id="iam-roles-query-sugestions-json" expanded="false"><p>Eine erforderliche Rollenrichtlinie, damit SieAmazon Kendra dieAmazon S3 Datei als Blockliste für Abfragevorschläge verwenden können.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::bucket name/*"
            ]
        }
    ]
}
</code></pre><p>Eine optionale Rollenrichtlinie, dieAmazon Kendra die Verwendung einesAWS KMS Kundenmasterschlüssels (CMK) zum Entschlüsseln von Dokumenten in einemAmazon S3 Bucket ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:region:account ID:key/key ID"
            ]
        }
    ]
}
</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-principal-mapping">IAMRollen für die prinzipielle Zuordnung von Benutzern und Gruppen</h2>
        <p>Wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API verwenden, um Benutzer ihren Gruppen zuzuordnen, um Suchergebnisse nach Benutzerkontext zu filtern, müssen Sie eine Liste von Benutzern oder Untergruppen bereitstellen, die zu einer Gruppe gehören. Wenn Ihre Liste mehr als 1000 Benutzer oder Untergruppen für eine Gruppe umfasst, müssen Sie eine Rolle angeben, die berechtigt ist, auf dieAmazon S3 Datei Ihrer Liste und denAmazon S3 Bucket zuzugreifen. Wenn die Textdatei (dieAmazon S3 Datei) der Liste imAmazon S3 Bucket verschlüsselt ist, müssen Sie die Erlaubnis erteilen, denAWS KMS Kundenmasterschlüssel (CMK) zum Entschlüsseln der Dokumente zu verwenden.</p>

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Principal Mapping" id="iam-roles-principal-mapping-json" expanded="false"><p>Eine erforderliche Rollenrichtlinie,Amazon Kendra damit Sie dieAmazon S3 Datei als Liste der Benutzer und Untergruppen verwenden können, die zu einer Gruppe gehören.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::bucket name/*"
            ]
        }
    ]
}
</code></pre><p>Eine optionale Rollenrichtlinie, dieAmazon Kendra die Verwendung einesAWS KMS Kundenmasterschlüssels (CMK) zum Entschlüsseln von Dokumenten in einemAmazon S3 Bucket ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:region:account ID:key/key ID"
            ]
        }
    ]
}
</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Es wird empfohlen, dass Sie<code class="code">aws:sourceAccount</code> und<code class="code">aws:sourceArn</code> in die Vertrauensrichtlinie aufnehmen. Dadurch<code class="code">aws:sourceArn</code> werden die Berechtigungen eingeschränkt und es wird auf sichere Weise geprüft, ob<code class="code">aws:sourceAccount</code> und ob sie mit den in derIAM Rollenrichtlinie für die<code class="code">sts:AssumeRole</code> Aktion angegebenen übereinstimmen. Dadurch wird verhindert, dass unbefugte Entitäten auf IhreIAM Rollen und deren Berechtigungen zugreifen. Weitere Informationen finden Sie in derAWS Identity and Access Management Anleitung zum <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">Confused-Deputy-Problem</a>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-aws-sso">IAM-Rollen für AWS IAM Identity Center (successor to AWS Single Sign-On)</h2>
        <p>Wenn Sie das <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>Objekt verwenden, um Zugriffsebenen von Gruppen und Benutzern aus einerAWS IAM Identity Center (successor to AWS Single Sign-On) Identitätsquelle abzurufen, müssen Sie eine Rolle angeben, die über Zugriffsberechtigungen verfügtIAM Identity Center.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAM-Rollen für AWS IAM Identity Center (successor to AWS Single Sign-On)" id="iam-roles-aws-sso-json" expanded="false"><p>Eine erforderliche Rollenrichtlinie, um den ZugriffAmazon Kendra zu ermöglichenIAM Identity Center.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "sso-directory:SearchUsers",
                "sso-directory:ListGroupsForUser",
                "sso-directory:DescribeGroups",
                "sso:ListDirectoryAssociations"
            ],
            "Resource": [
                 "*"
            ]
        },
        <span>{</span>
          "Sid": "iamPassRole",
          "Effect": "Allow",
          "Action": "iam:PassRole",
          "Resource": "*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "iam:PassedToService": [
                "kendra.*.amazonaws.com"
              ]
            }
          }
        }
     ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-amazon-kendra-experiences">IAMRollen fürAmazon Kendra Erlebnisse</h2>
        <p>Wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateExperience.html">CreateExperience<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateExperience.html">UpdateExperience</a></a>OR-APIs verwenden, um eine Suchanwendung zu erstellen oder zu aktualisieren, müssen Sie eine Rolle angeben, die berechtigt ist, auf die erforderlichen Operationen und das IAM Identity Center zuzugreifen.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für dasAmazon Kendra Sucherlebnis" id="iam-roles-search-app-experience" expanded="false"><p>Eine erforderliche Rollenrichtlinie für denAmazon Kendra Zugriff auf<code class="code">Query</code> Operationen, Operationen,<code class="code">QuerySuggestions</code><code class="code">SubmitFeedback</code> Operationen und das IAM Identity Center, das Ihre Benutzer- und Gruppeninformationen speichert.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "AllowsKendraSearchAppToCallKendraApi",
      "Effect": "Allow",
      "Action": [
        "kendra:GetQuerySuggestions",
        "kendra:Query",
        "kendra:DescribeIndex",
        "kendra:ListFaqs",
        "kendra:DescribeDataSource",
        "kendra:ListDataSources",
        "kendra:DescribeFaq",
        "kendra:SubmitFeedback"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>IndexId}}"
      ]
    },
    <span>{</span>
      "Sid": "AllowKendraSearchAppToDescribeDataSourcesAndFaq",
      "Effect": "Allow",
      "Action": [
        "kendra:DescribeDataSource",
        "kendra:DescribeFaq"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/<span>{</span><span>{</span><code class="replaceable">IndexId</code>}}/data-source/<span>{</span><span>{</span><code class="replaceable">DataSourceId</code>}}",
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/<span>{</span><span>{</span><code class="replaceable">IndexId</code>}}/faq/<span>{</span><span>{</span><code class="replaceable">FaqId</code>}}"
      ]
    },
    <span>{</span>
      "Sid": "AllowKendraSearchAppToCallSSODescribeUsersAndGroups",
      "Effect": "Allow",
      "Action": [
        "sso-directory:ListGroupsForUser",
        "sso-directory:SearchGroups",
        "sso-directory:SearchUsers",
        "sso-directory:DescribeUser",
        "sso-directory:DescribeGroup",
        "sso-directory:DescribeGroups",
        "sso-directory:DescribeUsers"
      ],
      "Resource": [
        "*"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    }
  ]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Es wird empfohlen, dass Sie<code class="code">aws:sourceAccount</code> und<code class="code">aws:sourceArn</code> in die Vertrauensrichtlinie aufnehmen. Dadurch<code class="code">aws:sourceArn</code> werden die Berechtigungen eingeschränkt und es wird auf sichere Weise geprüft, ob<code class="code">aws:sourceAccount</code> und ob sie mit den in derIAM Rollenrichtlinie für die<code class="code">sts:AssumeRole</code> Aktion angegebenen übereinstimmen. Dadurch wird verhindert, dass unbefugte Entitäten auf IhreIAM Rollen und deren Berechtigungen zugreifen. Weitere Informationen finden Sie in derAWS Identity and Access Management Anleitung zum <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">Confused-Deputy-Problem</a>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-custom-document-enrichment">IAMRollen für Custom Document Enrichment</h2>
        <p>Wenn Sie das <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CustomDocumentEnrichmentConfiguration.html">CustomDocumentEnrichmentConfiguration</a>Objekt verwenden, um erweiterte Änderungen an den Metadaten und Inhalten Ihres Dokuments vorzunehmen, müssen Sie eine Rolle angeben, die über die erforderlichen Berechtigungen für die Ausführung<code class="code">PreExtractionHookConfiguration</code> und/oder verfügt<code class="code">PostExtractionHookConfiguration</code>. Sie konfigurieren eine Lambda-Funktion für<code class="code">PreExtractionHookConfiguration</code> und/oder<code class="code">PostExtractionHookConfiguration</code> um erweiterte Änderungen Ihrer Dokumentmetadaten und Inhalte während des Erfassungsprozesses vorzunehmen. Wenn Sie die serverseitige Verschlüsselung für IhrenAmazon S3 Bucket aktivieren, müssen Sie die Erlaubnis haben, denAWS KMS Kundenmasterschlüssel (CMK) zum Verschlüsseln und Entschlüsseln der in IhremAmazon S3 Bucket gespeicherten Objekte zu verwenden.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRollen für Custom Document Enrichment" id="iam-roles-custom-document-enrichment-json" expanded="false"><p>Eine für die Ausführung<code class="code">PreExtractionHookConfiguration</code> erforderliche Rollenrichtlinie<code class="code">PostExtractionHookConfiguration</code> mit Verschlüsselung für IhrenAmazon S3 Bucket.Amazon Kendra</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Action": [
      "s3:GetObject",
      "s3:PutObject"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Action": [
      "s3:ListBucket"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt",
      "kms:GenerateDataKey"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:key/<span>{</span><span>{</span><code class="replaceable">key_id</code>}}"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "lambda:InvokeFunction"
    ],
    "Resource": "arn:aws:lambda:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:function:<span>{</span><span>{</span><code class="replaceable">lambda_function</code>}}"
  }]
}</code></pre><p>Eine optionale Rollenrichtlinie, dieAmazon Kendra die Ausführung<code class="code">PreExtractionHookConfiguration</code> und<code class="code">PostExtractionHookConfiguration</code> ohne Verschlüsselung für IhrenAmazon S3 Bucket ermöglicht.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Action": [
      "s3:GetObject",
      "s3:PutObject"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Action": [
      "s3:ListBucket"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "lambda:InvokeFunction"
    ],
    "Resource": "arn:aws:lambda:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:function:<span>{</span><span>{</span><code class="replaceable">lambda_function</code>}}"
  }]
}</code></pre>
   <p>Eine Vertrauenspolitik, die esAmazon Kendra ermöglicht, eine Rolle zu übernehmen.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Es wird empfohlen, dass Sie<code class="code">aws:sourceAccount</code> und<code class="code">aws:sourceArn</code> in die Vertrauensrichtlinie aufnehmen. Dadurch<code class="code">aws:sourceArn</code> werden die Berechtigungen eingeschränkt und es wird auf sichere Weise geprüft, ob<code class="code">aws:sourceAccount</code> und ob sie mit den in derIAM Rollenrichtlinie für die<code class="code">sts:AssumeRole</code> Aktion angegebenen übereinstimmen. Dadurch wird verhindert, dass unbefugte Entitäten auf IhreIAM Rollen und deren Berechtigungen zugreifen. Weitere Informationen finden Sie in derAWS Identity and Access Management Anleitung zum <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">Confused-Deputy-Problem</a>.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-kendra-set-up-sdks.html">AWSSDKs einrichten</div><div id="next" class="next-link" accesskey="n" href="./deploying.html">Bereitstellen von Amazon Kendra</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>