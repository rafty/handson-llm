<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="de-DE"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Filterung nach Benutzerkontext - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="user-context-filter" /><meta name="default_state" content="user-context-filter" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" /><meta name="description" content="So filtern Sie Suchergebnisse nach dem Zugriff von Benutzern oder deren Gruppen auf Dokumente.Amazon Kendra" /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Entwicklerhandbuch" /><meta name="abstract" content="Bietet eine konzeptionelle Übersicht über Amazon Kendra. Erfahren Sie mehr überAmazon Kendra Funktionen und beginnen Sie mit der Indexierung Ihrer Dokumente mithilfe der Konsole, der CLI und der API." /><meta name="guide-locale" content="de_de" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/user-context-filter.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/user-context-filter.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/user-context-filter.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/user-context-filter.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/user-context-filter.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/user-context-filter.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/user-context-filter.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/user-context-filter.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/user-context-filter.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/user-context-filter.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/user-context-filter.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/user-context-filter.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/user-context-filter.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/user-context-filter.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/user-context-filter.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/user-context-filter.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Entwicklerhandbuch" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Entwicklerhandbuch" /><meta id="panorama-serviceConsolePage" value="Filterung nach Benutzerkontext" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Filterung nach Benutzerkontext - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#user-context-filter" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligente Suche,natürliche Sprache,index,question,Schlüsselwort,Datenquelle,Anschluss,Häufig gestellte Fragen,häufig gestellte Frage,query,Filtern von Kontexten,personalisierte Suche" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Entwicklerhandbuch",
        "item" : "https://docs.aws.amazon.com/de_de/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Indizes durchsuchen",
        "item" : "https://docs.aws.amazon.com/de_de/kendra/latest/dg/searching.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Filterung nach Benutzerkontext",
        "item" : "https://docs.aws.amazon.com/de_de/kendra/latest/dg/searching.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#user-context-filter" target="_blank" rel="noopener noreferrer" title="PDF öffnen"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Dokumentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Entwicklerhandbuch</a></div><div id="page-toc-src"><a href="#context-filter-token">Nach Benutzertoken filtern</a><a href="#context-filter-user-incl-datasources">Filterung nach Benutzer-ID und Gruppe</a><a href="#context-filter-attribute">Filtern nach Benutzerattribut</a><a href="#context-filter-batch">Filterung des Benutzerkontextes für Dokumente, die direkt zu einem Index hinzugefügt wurden</a><a href="#context-filter-faq">Filterung des Benutzerkontextes für häufig gestellte Fragen</a><a href="#context-filter-alfresco">Filterung des Benutzerkontextes für Alfresco-Datenquellen</a><a href="#context-filter-s3">Filterung des Benutzerkontextes fürAmazon S3 Datenquellen</a><a href="#context-filter-jdbc">Benutzerkontextfilterung für Datenbankdatenquellen</a><a href="#context-filter-fsx">Filterung des Benutzerkontextes fürAmazon FSx Datenquellen</a><a href="#context-filter-workdocs">Filterung des Benutzerkontextes fürAmazon WorkDocs Datenquellen</a><a href="#context-filter-box">Benutzerkontextfilterung für Box-Datenquellen</a><a href="#context-filter-confluence">Filterung des Benutzerkontextes für Confluence-Datenquellen</a><a href="#context-filter-dropbox">Filterung des Benutzerkontextes für Dropbox-Datenquellen</a><a href="#context-filter-github">Filterung des Benutzerkontextes für GitHub  Datenquellen</a><a href="#context-filter-google">Filterung des Benutzerkontextes für Google Drive-Datenquellen</a><a href="#context-filter-gmail">Benutzerkontextfilterung für Gmail-Datenquellen</a><a href="#context-filter-jira">Benutzerkontextfilterung für Jira-Datenquellen</a><a href="#context-filter-exchange">Benutzerkontextfilterung für Microsoft Exchange-Datenquellen</a><a href="#context-filter-teams">Benutzerkontextfilterung für Microsoft Teams-Datenquellen</a><a href="#context-filter-onedrive">Benutzerkontextfilterung für OneDrive  Microsoft-Datenquellen</a><a href="#context-filter-onedrivev2">Benutzerkontextfilterung für Microsoft OneDrive  v2.0-Datenquellen</a><a href="#context-filter-yammer">Benutzerkontextfilterung für Microsoft Yammer-Datenquellen</a><a href="#context-filter-sharepoint-online">Benutzerkontextfilterung für SharePoint  Microsoft-Datenquellen</a><a href="#context-filter-quip">Benutzerkontextfilterung für Quip-Datenquellen</a><a href="#context-filter-salesforce">Benutzerkontextfilterung für Salesforce-Datenquellen</a><a href="#context-filter-servicenow">Filterung des Benutzerkontextes für ServiceNow Datenquellen</a><a href="#context-filter-slack">Filterung des Benutzerkontextes für Slack-Datenquellen</a><a href="#context-filter-zendesk">Benutzerkontextfilterung für Zendesk-Datenquellen</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Die vorliegende Übersetzung wurde maschinell erstellt. Im Falle eines Konflikts oder eines Widerspruchs zwischen dieser übersetzten Fassung und der englischen Fassung (einschließlich infolge von Verzögerungen bei der Übersetzung) ist die englische Fassung maßgeblich.</p></awsui-alert><h1 class="topictitle" id="user-context-filter">Filterung nach Benutzerkontext</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Sie können die Suchergebnisse eines Benutzers basierend auf dem Benutzer- oder Gruppenzugriff auf Dokumente filtern. Sie können ein Benutzertoken, eine Benutzer-ID oder ein Benutzerattribut verwenden, um Dokumente zu filtern. Amazon Kendrakann Benutzer auch ihren Gruppen zuordnen. Sie können wählen, ob SieAWS IAM Identity Center (successor to AWS Single Sign-On) es als Identitätsspeicher/Quelle verwenden möchten.</p><p>Die Benutzerkontextfilterung ist eine Art personalisierte Suche mit dem Vorteil, den Zugriff auf Dokumente zu kontrollieren. Beispielsweise sollten nicht alle Teams, die das Unternehmensportal nach Informationen durchsuchen, auf streng geheime Unternehmensdokumente zugreifen, und diese Dokumente sind auch nicht für alle Benutzer relevant. Nur bestimmte Benutzer oder Gruppen von Teams, denen Zugriff auf streng geheime Dokumente gewährt wurde, sollten diese Dokumente in ihren Suchergebnissen sehen.</p><p>Wenn ein Dokument indexiert wirdAmazon Kendra, wird für die meisten Dokumente eine entsprechende Access Control List (ACL) übernommen. Die ACL gibt an, welchen Benutzern und Gruppennamen der Zugriff auf das Dokument gestattet oder verweigert wird. Dokumente ohne ACL sind öffentliche Dokumente.</p><p>Amazon Kendraextrahiert automatisch die Benutzer- oder Gruppeninformationen, die jedem Dokument in den meisten Datenquellen zugeordnet sind. Beispielsweise kann ein Dokument in Quip eine „Teilen“ -Liste ausgewählter Benutzer oder Gruppen enthalten, denen Zugriff auf das Dokument gewährt wird. Wenn Sie einen S3-Bucket als Datenquelle verwenden, stellen Sie eine <a href="https://docs.aws.amazon.com/kendra/latest/dg/s3-acl.html">JSON-Datei</a> für Ihre ACL bereit und schließen den S3-Pfad zu dieser Datei als Teil der Datenquellenkonfiguration ein. Wenn Sie Dokumente direkt zu einem Index hinzufügen, geben Sie die ACL im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">Principal-Objekt</a> als Teil des Dokumentobjekts in der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API an.</p><p>Sie können die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateAccessControlConfiguration.html">CreateAccessControlConfiguration</a>API verwenden, um Ihre bestehende Zugriffskontrolle auf Dokumentebene neu zu konfigurieren, ohne alle Ihre Dokumente erneut zu indexieren. Ihr Index enthält beispielsweise streng geheime Unternehmensdokumente, auf die nur bestimmte Mitarbeiter oder Benutzer zugreifen sollten. Einer dieser Benutzer verlässt das Unternehmen oder wechselt in ein Team, dem der Zugriff auf streng geheime Dokumente verwehrt werden soll. Der Benutzer hat weiterhin Zugriff auf streng geheime Dokumente, da der Benutzer Zugriff hatte, als Ihre Dokumente zuvor indexiert wurden. Sie können eine spezifische Zugriffskontrollkonfiguration für den Benutzer mit „Zugriff verweigern“ erstellen. Sie können die Konfiguration der Zugriffskontrolle später aktualisieren, um den Zugriff zu ermöglichen, falls der Benutzer in das Unternehmen zurückkehrt und wieder dem „streng geheimen“ Team beitritt. Sie können die Zugriffskontrolle für Ihre Dokumente neu konfigurieren, wenn sich die Umstände ändern.</p><p>Um Ihre Zugriffskontrollkonfiguration auf bestimmte Dokumente anzuwenden, rufen Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API mit dem im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Document.html">Dokument<code class="code">AccessControlConfigurationId</code></a> enthaltenen Objekt auf. Wenn Sie einen S3-Bucket als Datenquelle verwenden, aktualisieren Sie den<code class="code">.metadata.json</code> mit dem<code class="code">AccessControlConfigurationId</code> und synchronisieren Ihre Datenquelle. Amazon Kendraunterstützt derzeit nur die Konfiguration der Zugriffskontrolle für S3-Datenquellen und Dokumente, die mit der<code class="code">BatchPutDocument</code> API indexiert wurden.</p>
            <h2 id="context-filter-token">Nach Benutzertoken filtern</h2>
            <p>Wenn Sie einen Index abfragen, können Sie ein Benutzertoken verwenden, um Suchergebnisse basierend auf dem Benutzer- oder Gruppenzugriff auf Dokumente zu filtern. Wenn Sie eine Abfrage ausgeben, wird das TokenAmazon Kendra extrahiert und validiert, die Benutzer- und Gruppeninformationen abgerufen und überprüft und die Abfrage ausgeführt. Alle Dokumente, auf die der Benutzer Zugriff hat, einschließlich öffentlicher Dokumente, werden zurückgegeben. Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/kendra/latest/dg/create-index-access-control.html">Tokenbasierte Benutzerzugriffskontrolle</a>.</p>
            <p>Sie geben das Benutzertoken im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserContext.html">UserContext</a>Objekt an und übergeben es in der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Abfrage-API</a>.</p>
            <p>Im Folgenden wird gezeigt, wie ein Benutzertoken eingebunden wird. </p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
    QueryText = query,
    IndexId = index,
    UserToken = <span>{</span>
        Token = "<code class="replaceable">token</code>"
    })</code></pre>
            <p>Sie können Benutzer Gruppen zuordnen. Wenn Sie die Benutzerkontextfilterung verwenden, müssen Sie bei der Abfrage nicht alle Gruppen einbeziehen, denen ein Benutzer angehört. Mit der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API können Sie Benutzer ihren Gruppen zuordnen. Wenn Sie die<code class="code">PutPrincipalMapping</code> API nicht verwenden möchten, müssen Sie den Benutzernamen und alle Gruppen angeben, zu denen der Benutzer gehört, wenn Sie eine Abfrage stellen. Mithilfe des <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>Objekts können Sie auch die Zugriffsebenen von Gruppen und Benutzern in Ihrer IAM Identity Center-Identitätsquelle abrufen.</p>
         
            <h2 id="context-filter-user-incl-datasources">Filterung nach Benutzer-ID und Gruppe</h2>
            <p>Wenn Sie einen Index abfragen, können Sie die Benutzer-ID und die Gruppe verwenden, um Suchergebnisse basierend auf dem Benutzer- oder Gruppenzugriff auf Dokumente zu filtern. Wenn Sie eine Abfrage stellen, werden die Benutzer- und GruppeninformationenAmazon Kendra überprüft und die Abfrage ausgeführt. Alle für die Abfrage relevanten Dokumente, auf die der Benutzer Zugriff hat, einschließlich öffentlicher Dokumente, werden zurückgegeben.</p>
            <p>Sie können die Suchergebnisse auch nach Datenquellen filtern, auf die Benutzer und Gruppen Zugriff haben. Die Angabe einer Datenquelle ist nützlich, wenn eine Gruppe an mehrere Datenquellen gebunden ist, Sie aber nur möchten, dass die Gruppe auf Dokumente einer bestimmten Datenquelle zugreift. Beispielsweise sind die Gruppen „Forschung“, „Technik“ und „Vertrieb und Marketing“ alle an die in den Datenquellen Confluence und Salesforce gespeicherten Dokumente des Unternehmens gebunden. Das Team „Vertrieb und Marketing“ benötigt jedoch nur Zugriff auf kundenbezogene Dokumente, die in Salesforce gespeichert sind. Wenn Vertriebs- und Marketingbenutzer also nach kundenbezogenen Dokumenten suchen, können sie Dokumente aus Salesforce in ihren Ergebnissen sehen. Benutzern, die nicht in Vertrieb und Marketing tätig sind, werden in ihren Suchergebnissen keine Salesforce-Dokumente angezeigt.</p>
            <p>Sie geben die Benutzer-, Gruppen- und Datenquelleninformationen im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserContext.html">UserContext</a>Objekt an und übergeben diese an die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Abfrage-API</a>. Die Benutzer-ID und die Liste der Gruppen und Datenquellen sollten mit dem Namen übereinstimmen, den Sie im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">Principal-Objekt</a> angegeben haben, um die Benutzer, Gruppen und Datenquellen zu identifizieren. Mit dem<code class="code">Principal</code> Objekt können Sie einen Benutzer, eine Gruppe oder eine Datenquelle entweder zu einer Zulassungsliste oder zu einer Verweigerungsliste für den Zugriff auf ein Dokument hinzufügen.</p>
            <p>Sie müssen einen der folgenden Schritte angeben:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Benutzer- und Gruppeninformationen sowie (optionale) Informationen zu Datenquellen.</p>
                </li><li class="listitem">
                    <p>Nur die Benutzerinformationen, wenn Sie Ihre Benutzer mithilfe der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API Gruppen und Datenquellen zuordnen. Mithilfe des <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>Objekts können Sie auch die Zugriffsebenen von Gruppen und Benutzern in Ihrer IAM Identity Center-Identitätsquelle abrufen.</p>
                </li></ul></div>
            <p>Wenn diese Information nicht in der Abfrage enthalten ist, werden alle DokumenteAmazon Kendra zurückgegeben. Wenn Sie diese Informationen angeben, werden nur Dokumente mit passenden Benutzer-IDs, Gruppen und Datenquellen zurückgegeben.</p>
            <p>Im Folgenden wird gezeigt, wie Benutzer-IDs, Gruppen und Datenquellen einbezogen werden.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
    QueryText = query,
    IndexId = index,
    UserId = <span>{</span>
        UserId = "<code class="replaceable">user1</code>"
    },
    Groups = <span>{</span>
        Groups = ["<code class="replaceable">Sales and Marketing</code>"]
    },
    DataSourceGroups = <span>{</span>
        DataSourceGroups = [<span>{</span>"DataSourceId" : "<code class="replaceable">SalesforceCustomerDocsGroup</code>", "GroupId": "<code class="replaceable">Sales and Marketing</code>"}]
    })</code></pre>
         
            <h2 id="context-filter-attribute">Filtern nach Benutzerattribut</h2>
            <p>Wenn Sie einen Index abfragen, können Sie integrierte Attribute verwenden<code class="code">_user_id</code> und<code class="code">_group_id</code> Suchergebnisse nach dem Zugriff des Benutzers und seiner Gruppe auf Dokumente filtern. Sie können bis zu 100 Gruppenkennungen einrichten. Wenn Sie eine Abfrage stellen, werden die Benutzer- und GruppeninformationenAmazon Kendra überprüft und die Abfrage ausgeführt. Alle für die Abfrage relevanten Dokumente, auf die der Benutzer Zugriff hat, einschließlich öffentlicher Dokumente, werden zurückgegeben.</p>
            <p>Sie geben die Benutzer- und Gruppenattribute im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_AttributeFilter.html">AttributeFilter</a>Objekt an und übergeben diese in der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Abfrage-API</a>.</p>
            <p>Das folgende Beispiel zeigt eine Anfrage, die die Abfrageantwort anhand der Benutzer-ID und der Gruppen „HR“ und „IT“ filtert, zu denen der Benutzer gehört. Die Abfrage gibt jedes Dokument zurück, das den Benutzer oder die Gruppen „HR“ oder „IT“ in der Zulassungsliste enthält. Wenn sich der Benutzer oder eine der Gruppen in der Ablehnungsliste für ein Dokument befindet, wird das Dokument nicht zurückgegeben.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="python ">response = kendra.query(
        QueryText = query,
        IndexId = index,
        AttributeFilter = <span>{</span>
            "OrAllFilters": [
                <span>{</span>
                    "EqualsTo": <span>{</span>
                        "Key": "_user_id",
                        "Value": <span>{</span>
                            "StringValue": "user1"
                        }
                     }
                },
                <span>{</span>
                    "EqualsTo": <span>{</span>
                        "Key": "_group_ids",
                        "Value": <span>{</span>
                            "StringListValue": ["HR", "IT"]
                        }
                    }
                }
            ]
        }
        )</code></pre>
            <p>Sie können auch angeben, auf welche Datenquelle eine Gruppe im<code class="code">Principal</code> Objekt zugreifen kann.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Anmerkung</h6></div><div class="awsdocs-note-text"><p>Die Filterung des Benutzerkontextes ist keine Authentifizierungs- oder Autorisierungskontrolle für Ihre Inhalte. Es führt keine Benutzerauthentifizierung für die an die<code class="code">Query</code> API gesendeten Benutzer und Gruppen durch. Es liegt an Ihrer Anwendung, sicherzustellen, dass die an die<code class="code">Query</code> API gesendeten Benutzer- und Gruppeninformationen authentifiziert und autorisiert sind.</p></div></div>
        <p>Für jede Datenquelle gibt es eine Implementierung der Benutzerkontextfilterung. Im folgenden Abschnitt werden die einzelnen Implementierungen beschrieben. </p><div class="highlights" id="inline-topiclist"><h6>Themen</h6><ul><li><a href="#context-filter-batch">Filterung des Benutzerkontextes für Dokumente, die direkt zu einem Index hinzugefügt wurden</a></li><li><a href="#context-filter-faq">Filterung des Benutzerkontextes für häufig gestellte Fragen</a></li><li><a href="#context-filter-alfresco">Filterung des Benutzerkontextes für Alfresco-Datenquellen</a></li><li><a href="#context-filter-s3">Filterung des Benutzerkontextes fürAmazon S3 Datenquellen</a></li><li><a href="#context-filter-jdbc">Benutzerkontextfilterung für Datenbankdatenquellen</a></li><li><a href="#context-filter-fsx">Filterung des Benutzerkontextes fürAmazon FSx Datenquellen</a></li><li><a href="#context-filter-workdocs">Filterung des Benutzerkontextes fürAmazon WorkDocs Datenquellen</a></li><li><a href="#context-filter-box">Benutzerkontextfilterung für Box-Datenquellen</a></li><li><a href="#context-filter-confluence">Filterung des Benutzerkontextes für Confluence-Datenquellen</a></li><li><a href="#context-filter-dropbox">Filterung des Benutzerkontextes für Dropbox-Datenquellen</a></li><li><a href="#context-filter-github">Filterung des Benutzerkontextes für GitHub  Datenquellen</a></li><li><a href="#context-filter-google">Filterung des Benutzerkontextes für Google Drive-Datenquellen</a></li><li><a href="#context-filter-gmail">Benutzerkontextfilterung für Gmail-Datenquellen</a></li><li><a href="#context-filter-jira">Benutzerkontextfilterung für Jira-Datenquellen</a></li><li><a href="#context-filter-exchange">Benutzerkontextfilterung für Microsoft Exchange-Datenquellen</a></li><li><a href="#context-filter-teams">Benutzerkontextfilterung für Microsoft Teams-Datenquellen</a></li><li><a href="#context-filter-onedrive">Benutzerkontextfilterung für OneDrive  Microsoft-Datenquellen</a></li><li><a href="#context-filter-onedrivev2">Benutzerkontextfilterung für Microsoft OneDrive  v2.0-Datenquellen</a></li><li><a href="#context-filter-yammer">Benutzerkontextfilterung für Microsoft Yammer-Datenquellen</a></li><li><a href="#context-filter-sharepoint-online">Benutzerkontextfilterung für SharePoint  Microsoft-Datenquellen</a></li><li><a href="#context-filter-quip">Benutzerkontextfilterung für Quip-Datenquellen</a></li><li><a href="#context-filter-salesforce">Benutzerkontextfilterung für Salesforce-Datenquellen</a></li><li><a href="#context-filter-servicenow">Filterung des Benutzerkontextes für ServiceNow Datenquellen</a></li><li><a href="#context-filter-slack">Filterung des Benutzerkontextes für Slack-Datenquellen</a></li><li><a href="#context-filter-zendesk">Benutzerkontextfilterung für Zendesk-Datenquellen</a></li></ul></div>
            <h2 id="context-filter-batch">Filterung des Benutzerkontextes für Dokumente, die direkt zu einem Index hinzugefügt wurden</h2>
            <p>Wenn Sie Dokumente mithilfe der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API direkt zu einem Index hinzufügen, werdenAmazon Kendra Benutzer- und Gruppeninformationen aus dem<code class="code">AccessControlList</code> Feld des Dokuments abgerufen. Sie stellen eine Zugriffskontrollliste (ACL) für Ihre Dokumente bereit, und die ACL wird in Ihre Dokumente aufgenommen.</p>
            <p>Sie geben die ACL im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Principal.html">Principal-Objekt</a> als Teil des <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Document.html">Document-Objekts</a> in der<code class="code">BatchPutDocument</code> API an. Sie müssen folgende Informationen angeben:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Der Zugriff, den der Benutzer oder die Gruppe haben sollte. Du kannst sagen<code class="code">ALLOW</code> oder<code class="code">DENY</code>.</p>
                </li><li class="listitem">
                    <p>Der Typ von Entität. Du kannst sagen<code class="code">USER</code> oder<code class="code">GROUP</code>.</p>
                </li><li class="listitem">
                    <p>Der Name des Benutzers oder der Gruppe.</p>
                </li></ul></div>
            <p>Sie können bis zu 200 Einträge in dem<code class="code">AccessControlList</code> Feld hinzufügen.</p>
         
            <h2 id="context-filter-faq">Filterung des Benutzerkontextes für häufig gestellte Fragen</h2>
            <p>Wenn Sie einem Index <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateFaq.html">eine FAQ hinzufügen</a>, werden BenutzerAmazon Kendra - und Gruppeninformationen aus dem<code class="code">AccessControlList</code> Objekt/Feld der FAQ-JSON-Datei abgerufen. Sie können auch eine FAQ-CSV-Datei mit benutzerdefinierten Feldern oder Attributen für die Zugriffskontrolle verwenden.</p>
            <p>Sie müssen folgende Informationen angeben:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Der Zugriff, den der Benutzer oder die Gruppe haben sollte. Du kannst sagen<code class="code">ALLOW</code> oder<code class="code">DENY</code>.</p>
                </li><li class="listitem">
                    <p>Der Typ von Entität. Du kannst sagen<code class="code">USER</code> oder<code class="code">GROUP</code>.</p>
                </li><li class="listitem">
                    <p>Der Name des Benutzers oder der Gruppe.</p>
                </li></ul></div>
            <p>Weitere Informationen finden Sie unter <a href="https://docs.aws.amazon.com/kendra/latest/dg/in-creating-faq.html">FAQ-Dateien</a>.</p>
         
            <h2 id="context-filter-alfresco">Filterung des Benutzerkontextes für Alfresco-Datenquellen</h2>
            <p>Amazon KendraRuft die Benutzer- und Gruppeninformationen von der Alfresco-Instanz ab, wenn Sie eine Alfresco-Datenquelle verwenden.</p>
            <p>Die Gruppen- und Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs existieren in Alfresco für Dateien, für die Zugriffsberechtigungen festgelegt sind. Sie werden anhand der Systemnamen der Gruppen (nicht Anzeigenamen) in Alfresco abgebildet.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs existieren in Alfresco für Dateien, für die Zugriffsberechtigungen festgelegt sind. Sie werden den Benutzer-E-Mails als IDs in Alfresco zugeordnet.</p>
                </li></ul></div>
            <p>Sie können bis zu 200 Einträge in dem<code class="code">AccessControlList</code> Feld hinzufügen.</p>
         
            <h2 id="context-filter-s3">Filterung des Benutzerkontextes fürAmazon S3 Datenquellen</h2>
            <p>Sie fügen einem Dokument in einerAmazon S3 Datenquelle eine Benutzerkontextfilterung hinzu, indem Sie eine dem Dokument zugeordnete Metadatendatei verwenden. Sie fügen die Informationen dem<code class="code">AccessControlList</code> Feld im JSON-Dokument hinzu. Weitere Informationen zum Hinzufügen von Metadaten zu den aus einerAmazon S3 Datenquelle indizierten Dokumenten finden Sie unter <a href="https://docs.aws.amazon.com/kendra/latest/dg/s3-metadata.html">S3-Dokumentmetadaten</a>.</p>
            <p>Sie geben drei Informationen an:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Der Zugriff, den die Entität haben sollte. Du kannst sagen<code class="code">ALLOW</code> oder<code class="code">DENY</code>.</p>
                </li><li class="listitem">
                    <p>Der Typ von Entität. Du kannst sagen<code class="code">USER</code> oder<code class="code">GROUP</code>.</p>
                </li><li class="listitem">
                    <p>Der Name der Entität.</p>
                </li></ul></div>
            <p>Sie können bis zu 200 Einträge in dem<code class="code">AccessControlList</code> Feld hinzufügen.</p>
         
            <h2 id="context-filter-jdbc">Benutzerkontextfilterung für Datenbankdatenquellen</h2>
            <p>Wenn Sie eine Datenbankdatenquelle verwenden, z. B.Amazon Aurora PostgreSQL wenn Benutzer- und Gruppeninformationen aus einer Spalte in der Quelltabelle abgerufen werden.Amazon Kendra Sie geben diese Spalte im <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_AclConfiguration.html">AclConfiguration</a>Objekt als Teil des <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_DatabaseConfiguration.html">DatabaseConfiguration</a>Objekts in der <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateDataSource.html">CreateDataSource</a>API an.</p>
            <p>Eine Datenbankdatenquelle hat die folgenden Einschränkungen:</p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Sie können nur eine Zulassungsliste für eine Datenbankdatenquelle angeben. Sie können keine Ablehnungsliste angeben. </p>
                </li><li class="listitem">
                    <p>Sie können nur Gruppen angeben. Sie können keine einzelnen Benutzer für die Zulassungsliste angeben.</p>
                </li><li class="listitem">
                    <p>Die Datenbankspalte sollte eine Zeichenfolge sein, die eine durch Semikolons getrennte Liste von Gruppen enthält.</p>
                </li></ul></div>
         
            <h2 id="context-filter-fsx">Filterung des Benutzerkontextes fürAmazon FSx Datenquellen</h2>
            <p>Amazon KendraRuft Benutzer- und Gruppeninformationen aus dem Verzeichnisdienst derAmazon FSx Instanz ab, wenn Sie eineAmazon FSx Datenquelle verwenden.</p>
            <p>DieAmazon FSx Gruppen- und Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs sind inAmazon FSx Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden den Systemgruppennamen im Verzeichnisdienst von zugeordnetAmazon FSx.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs sind inAmazon FSx Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden den Systembenutzernamen im Verzeichnisdienst von zugeordnetAmazon FSx.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-workdocs">Filterung des Benutzerkontextes fürAmazon WorkDocs Datenquellen</h2>
            <p>Amazon KendraRuft Benutzer- und Gruppeninformationen von derAmazon WorkDocs Instanz ab, wenn Sie eineAmazon WorkDocs Datenquelle verwenden.</p>
            <p>DieAmazon WorkDocs Gruppen- und Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs sind inAmazon WorkDocs Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden anhand der Namen der Gruppen in zugeordnetAmazon WorkDocs.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs sind inAmazon WorkDocs Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden anhand der Benutzernamen in zugeordnetAmazon WorkDocs.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-box">Benutzerkontextfilterung für Box-Datenquellen</h2>
            <p>Amazon KendraRuft Benutzer- und Gruppeninformationen von der Box-Instanz ab, wenn Sie eine Box-Datenquelle verwenden.</p>
            <p>Die Box-Gruppen- und Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs sind in Box für Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden anhand der Namen der Gruppen in Box zugeordnet.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs sind in Box für Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden den Benutzer-E-Mails als Benutzer-IDs in Box zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-confluence">Filterung des Benutzerkontextes für Confluence-Datenquellen</h2>
            <p>Amazon KendraRuft Benutzer- und Gruppeninformationen von der Confluence-Instanz ab, wenn Sie eine Confluence-Datenquelle verwenden.</p>
            <p>Sie konfigurieren den Benutzer- und Gruppenzugriff auf Bereiche mithilfe der Seite „Bereichsberechtigungen“. Für Seiten und Blogs verwenden Sie die Seite mit den Einschränkungen. Weitere Informationen zu Bereichsberechtigungen finden Sie auf der Confluence Support-Website unter <a href="https://confluence.atlassian.com/doc/space-permissions-overview-139521.html" rel="noopener noreferrer" target="_blank"><span>Übersicht über Space-Berechtigungen</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. Weitere Informationen zu Seiten- und Blogbeschränkungen finden Sie unter <a href="https://confluence.atlassian.com/doc/page-restrictions-139414.html" rel="noopener noreferrer" target="_blank"><span>Seitenbeschränkungen</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> auf der Confluence Support-Website.</p>
            <p>Die Confluence-Gruppen- und Benutzernamen werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppennamen sind in Bereichen, Seiten und Blogs vorhanden, für die Einschränkungen gelten. Sie werden dem Namen der Gruppe in Confluence zugeordnet. Gruppennamen werden immer in Kleinbuchstaben geschrieben.</p>
                </li></ul></div>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— In dem Bereich, auf der Seite oder im Blog, für den Einschränkungen gelten, sind Benutzernamen vorhanden. Sie werden je nach Art der Confluence-Instanz, die Sie verwenden, zugeordnet.</p>

                    <p><b>Für Confluence Connector v1.0</b></p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Server —<code class="code">_user_id</code> Das ist der Benutzername. Der Benutzername ist immer klein geschrieben.</p>
                        </li><li class="listitem">
                            <p>Cloud — Das<code class="code">_user_id</code> ist die Konto-ID des Benutzers.</p>
                        </li></ul></div>
                    <p><b>Für Confluence Connector v2.0</b></p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Server —<code class="code">_user_id</code> Das ist der Benutzername. Der Benutzername ist immer klein geschrieben.</p>
                        </li><li class="listitem">
                            <p>Cloud — Das<code class="code">_user_id</code> ist die E-Mail-ID des Benutzers.</p>
                        </li></ul></div>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-dropbox">Filterung des Benutzerkontextes für Dropbox-Datenquellen</h2>
            <p>Amazon KendraRuft die Benutzer- und Gruppeninformationen von der Dropbox-Instanz ab, wenn Sie eine Dropbox-Datenquelle verwenden.</p>
            <p>Die Gruppen- und Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs gibt es in Dropbox für Dateien, für die festgelegte Zugriffsberechtigungen gelten. Sie werden anhand der Namen der Gruppen in Dropbox zugeordnet.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs gibt es in Dropbox für Dateien, für die festgelegte Zugriffsberechtigungen gelten. Sie werden den Benutzer-E-Mails als IDs in Dropbox zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-github">Filterung des Benutzerkontextes für GitHub  Datenquellen</h2>
            <p>Amazon KendraRuft Benutzerinformationen von der GitHub  Instanz ab, wenn Sie eine GitHub  Datenquelle verwenden.</p>
            <p>Die GitHub  Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs sind in GitHub  Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden den Benutzer-E-Mails als IDs zugeordnet GitHub.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-google">Filterung des Benutzerkontextes für Google Drive-Datenquellen</h2>
            <p>Eine Google Workspace Drive-Datenquelle gibt Nutzer- und Gruppeninformationen für Google Drive-Nutzer und -Gruppen zurück. Gruppen- und Domänenmitgliedschaft werden dem<code class="code">_group_ids</code> Indexfeld zugeordnet. Der Google Drive-Nutzername ist dem<code class="code">_user_id</code> Feld zugeordnet.</p>
            <p>Wenn Sie eine oder mehrere Benutzer-E-Mail-Adressen in der<code class="code">Query</code> API angeben, werden nur Dokumente zurückgegeben, die mit diesen E-Mail-Adressen geteilt wurden. Der folgende<code class="code">AttributeFilter</code> Parameter gibt nur Dokumente zurück, die mit "martha@example.com“ geteilt wurden.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_user_id", 
                   "Value": <span>{</span>
                       "StringValue": "martha@example.com"
                   }
               }
           }</code></pre>
            <p>Wenn Sie in der Abfrage eine oder mehrere Gruppen-E-Mail-Adressen angeben, werden nur Dokumente zurückgegeben, die mit den Gruppen geteilt wurden. Der folgende<code class="code">AttributeFilter</code> Parameter gibt nur Dokumente zurück, die mit der Gruppe "hr@example.com" geteilt wurden.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_group_ids", 
                   "Value": <span>{</span>
                       "StringListValue": ["hr@example.com"]
                   }
               }
           }</code></pre>
            <p>Wenn Sie die Domäne in der Abfrage angeben, werden alle mit der Domain geteilten Dokumente zurückgegeben. Der folgende<code class="code">AttributeFilter</code> Parameter gibt Dokumente zurück, die mit der Domäne „example.com“ geteilt wurden.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"AttributeFilter": <span>{</span>
                "EqualsTo":<span>{</span>
                   "Key": "_group_ids", 
                   "Value": <span>{</span>
                       "StringListValue": ["example.com"]
                   }
               }
           }</code></pre>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
            <p></p>
         
            <h2 id="context-filter-gmail">Benutzerkontextfilterung für Gmail-Datenquellen</h2>
            <p>Amazon KendraRuft die Benutzerinformationen von der Gmail-Instanz ab, wenn Sie eine Gmail-Datenquelle verwenden.</p>
            <p>Die Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs existieren in Gmail für Dateien, für die Zugriffsberechtigungen festgelegt sind. Sie werden den Benutzer-E-Mails als IDs in Gmail zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-jira">Benutzerkontextfilterung für Jira-Datenquellen</h2>
            <p>Amazon KendraRuft Benutzer- und Gruppeninformationen von der Jira-Instanz ab, wenn Sie eine Jira-Datenquelle verwenden.</p>
            <p>Die Jira-Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs existieren in Jira für Dateien, für die Zugriffsberechtigungen festgelegt wurden. Sie werden den Benutzer-E-Mails als Benutzer-IDs in Jira zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-exchange">Benutzerkontextfilterung für Microsoft Exchange-Datenquellen</h2>
            <p>Amazon Kendraruft Benutzerinformationen von Microsoft Exchange ab, wenn die Dokumente auf der Website indexiert werden. Die Benutzerinformationen stammen von der zugrunde liegenden Microsoft Exchange-Hostsite.</p>
            <p>Amazon KendraRuft die Benutzerinformationen von der Microsoft Exchange-Instanz ab, wenn Sie einen Exchange-Benutzer für die Benutzerkontextfilterung verwenden. Die Exchange-IDs werden wie folgt zugeordnet: </p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_tenant_id</code>— Ihre Microsoft-Tenant-ID ist eine global eindeutige Kennung, die für die Konfiguration jeder Connector-Instanz erforderlich ist. Ihre Mandanten-ID unterscheidet sich von Ihrem Organisationsnamen oder Ihrer Domäne und befindet sich im Eigenschaftenbereich Ihres Microsoft-Konto-Dashboards. </p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-teams">Benutzerkontextfilterung für Microsoft Teams-Datenquellen</h2>
            <p>Amazon Kendraruft Benutzerinformationen von Microsoft Teams ab, wenn die Dokumente auf der Website indexiert werden. Die Benutzerinformationen stammen von der zugrunde liegenden Microsoft Teams-Host-Site.</p>
            <p>Wenn Sie einen Teams-Benutzer für die Benutzerkontextfilterung verwendenAmazon Kendra, werden die Benutzerinformationen von der Microsoft Teams-Instanz abgerufen. Die Mandanten-IDs von Teams werden wie folgt zugeordnet: </p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_tenant_id</code>— Ihre Microsoft-Tenant-ID ist eine global eindeutige Kennung, die für die Konfiguration jeder Connector-Instanz erforderlich ist. Ihre Mandanten-ID unterscheidet sich von Ihrem Organisationsnamen oder Ihrer Domäne und befindet sich im Eigenschaftenbereich Ihres Microsoft-Konto-Dashboards. </p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-onedrive">Benutzerkontextfilterung für OneDrive  Microsoft-Datenquellen</h2>
            <p>Amazon Kendraruft Benutzer- und Gruppeninformationen von Microsoft ab OneDrive, wenn die Dokumente auf der Website indexiert werden. Die Benutzer- und Gruppeninformationen stammen von der zugrunde liegenden SharePoint  Microsoft-Website, die gehostet wird OneDrive.</p>
            <p>Wenn Sie einen OneDrive  Benutzer oder eine Gruppe für die Benutzerkontextfilterung verwenden, berechnen Sie die ID wie folgt:</p>
            <div class="orderedlist">
                 
                 
                 
            <ol><li>
                    <p>Holen Sie sich den Namen der Site. Beispiel: <code class="code">https://host.onmicrosoft.com/sites/siteName.</code></p>
                </li><li>
                    <p>Nimm den MD5-Hash des Site-Namens. Zum Beispiel <code class="code">430a6b90503eef95c89295c8999c7981</code>.</p>
                </li><li>
                    <p>Erstellen Sie die Benutzer-E-Mail oder Gruppen-ID, indem Sie den MD5-Hash mit einem senkrechten Strich (|) und der ID verknüpfen. Wenn ein Gruppenname beispielsweise „Seitenbesitzer“ lautet, lautet die Gruppen-ID:</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|site
                        owners</code>"</code></p>
                    <p>Für den Benutzernamen "someone@host.onmicrosoft.com“ wäre die Benutzer-ID wie folgt:</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|someone@host.onmicrosoft.com</code>"</code></p>
                </li></ol></div>
            <p>Senden Sie die Benutzer- oder Gruppen-ID anAmazon Kendra als das<code class="code">_user_id</code><code class="code">_group_ids</code> oder-Attribut, wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Abfrage-API</a> aufrufen. DerAWS CLI Befehl, der eine Gruppe verwendet, um die Abfrageantwort zu filtern, sieht beispielsweise wie folgt aus:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "430a6b90503eef95c89295c8999c7981|site owners"}
                  }}'</code></pre>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-onedrivev2">Benutzerkontextfilterung für Microsoft OneDrive  v2.0-Datenquellen</h2>
            <p>Eine Microsoft OneDrive  v2.0-Datenquelle gibt Abschnitts- und Seiteninformationen von ACL-Entitäten ( OneDrive Access Control List) zurück. Amazon Kendraverwendet die OneDrive Tenant-Domain, um eine Verbindung mit der OneDrive  Instanz herzustellen, und kann nach Abschnittsnamen, Seitentyp, Dateiname, Dateityp und Dateiinhalt filtern. </p>

            <p>Für Standardobjekte<code class="code">_group_id</code> werden die<code class="code">_user_id</code> und wie folgt verwendet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Ihre OneDrive  Microsoft-Benutzer-E-Mail-ID ist dem<code class="code">_user_id</code> Feld zugeordnet.</p>
                </li><li class="listitem">
                    <p><code class="code">_group_id</code>— Ihre OneDrive  Microsoft-Gruppen-E-Mail ist dem<code class="code">_group_id</code> Feld zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-yammer">Benutzerkontextfilterung für Microsoft Yammer-Datenquellen</h2>
            <p>Amazon Kendraruft Benutzer- und Gruppeninformationen von Microsoft Yammer ab, wenn die Dokumente auf der Site indexiert werden. Die Benutzer- und Gruppeninformationen stammen von der zugrunde liegenden Microsoft Yammer-Host-Site.</p>
            <p>Amazon KendraRuft die Benutzerinformationen von der Microsoft Yammer-Instanz ab, wenn Sie einen Yammer-Benutzer für die Benutzerkontextfilterung verwenden. Die Microsoft Yammer-Benutzer-IDs sind wie folgt zugeordnet: </p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_email_id</code>— Ihre Microsoft-E-Mail-ID ist eine Kennung, die für die Konfiguration jeder Connector-Instanz erforderlich ist. Ihre E-Mail-ID finden Sie im Eigenschaftenbereich Ihres Microsoft-Konto-Dashboards. </p>
                </li><li class="listitem">
                    <p> <code class="code">_group_id</code>— Gruppen-IDs existieren in Microsoft Yammer-Instanzen, für die Zugriffsberechtigungen festgelegt sind. Sie werden den Namen der Gruppen in Microsoft Yammer zugeordnet. </p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
            <p></p>
         
            <h2 id="context-filter-sharepoint-online">Benutzerkontextfilterung für SharePoint  Microsoft-Datenquellen</h2>
            <p>Amazon Kendraruft Benutzer- und Gruppeninformationen von Microsoft ab SharePoint, wenn die Dokumente auf der Website indexiert werden. Um Ihre Dokumente zu filtern, geben Sie Benutzer- und Gruppeninformationen an, wenn Sie die<code class="code">Query</code> API aufrufen.</p>
            <p>Verwenden Sie die E-Mail-Adresse des Benutzers, um nach einem Benutzernamen zu filtern. Zum Beispiel johnstiles@example.com.</p>

            <p>Wenn Sie eine SharePoint  Gruppe für die Benutzerkontextfilterung verwenden, berechnen Sie die Gruppen-ID wie folgt:</p>

            <p><b>Für lokale Gruppen</b></p>
            <div class="orderedlist">
                 
                 
                 
            <ol><li>
                    <p>Holen Sie sich den Namen der Site. Beispiel: <code class="code">https://host.onmicrosoft.com/sites/siteName.</code></p>
                </li><li>
                    <p>Nehmen Sie den SHA256-Hashwert des Site-Namens. Zum Beispiel <code class="code">430a6b90503eef95c89295c8999c7981</code>.</p>
                </li><li>
                    <p>Erstellen Sie die Gruppen-ID, indem Sie den SHA256-Hash mit einem senkrechten Strich (|) und dem Gruppennamen verknüpfen. Wenn der Gruppenname beispielsweise „Seitenbesitzer“ lautet, lautet die Gruppen-ID:</p>
                    <p><code class="code">"<code class="code">430a6b90503eef95c89295c8999c7981|site
                        owners</code>"</code></p>
                </li></ol></div>
            <p>Senden Sie die Gruppen-ID anAmazon Kendra als<code class="code">_group_ids</code> Attribut, wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Abfrage-API</a> aufrufen. DerAWS CLI Befehl sieht zum Beispiel so aus:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "430a6b90503eef95c89295c8999c7981|site owners"}
                  }}'</code></pre>

            <p><b>Für AD-Gruppen</b></p>
            <div class="orderedlist">
                 
            <ol><li>
                    <p>Verwenden Sie die AD-Gruppen-ID für die Konfiguration des Benutzerkontextes.</p>
                </li></ol></div>
            <p>Senden Sie die Gruppen-ID anAmazon Kendra als<code class="code">_group_ids</code> Attribut, wenn Sie die <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_Query.html">Abfrage-API</a> aufrufen. DerAWS CLI Befehl sieht zum Beispiel so aus:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Kopieren"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra  query \
                --index-id <code class="replaceable">index ID</code>  
                --query-text "<code class="replaceable">query text</code>" 
                --attribute-filter '<span>{</span>
                   "EqualsTo":<span>{</span>
                     "Key": "_group_ids", 
                     "Value": <span>{</span>"StringValue": "AD group"}
                  }}'</code></pre>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-quip">Benutzerkontextfilterung für Quip-Datenquellen</h2>
            <p>Amazon KendraRuft die Benutzerinformationen von der Quip-Instanz ab, wenn Sie eine Quip-Datenquelle verwenden.</p>
            <p>Die Quip-Benutzer-IDs sind wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs existieren in Quip für Dateien, für die Zugriffsberechtigungen festgelegt wurden. Sie werden den Benutzer-E-Mails als IDs in Quip zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-salesforce">Benutzerkontextfilterung für Salesforce-Datenquellen</h2>
            <p>Eine Salesforce-Datenquelle gibt Benutzer- und Gruppeninformationen von Salesforce Access Control List (ACL) -Entitäten zurück. Sie können die Benutzerkontextfilterung auf Salesforce-Standardobjekte und Chatter-Feeds anwenden. Die Benutzerkontextfilterung ist für Salesforce-Wissensartikel nicht verfügbar.</p>
            <p>Für Standardobjekte<code class="code">_group_ids</code> werden die<code class="code">_user_id</code> und wie folgt verwendet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Der Benutzername des Salesforce-Benutzers.</p>
                </li><li class="listitem">
                    <p><code class="code">_group_ids</code>—</p>
                    <div class="itemizedlist">
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Name der Salesforce<code class="code">Profile</code></p>
                        </li><li class="listitem">
                            <p>Name der Salesforce<code class="code">Group</code></p>
                        </li><li class="listitem">
                            <p>Name der Salesforce<code class="code">UserRole</code></p>
                        </li><li class="listitem">
                            <p>Name der Salesforce<code class="code">PermissionSet</code></p>
                        </li></ul></div>
                </li></ul></div>
            <p>Für Chatter-Feeds<code class="code">_group_ids</code> werden die<code class="code">_user_id</code> und wie folgt verwendet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>— Der Benutzername des Salesforce-Benutzers. Nur verfügbar, wenn der Artikel im Feed des Benutzers veröffentlicht wurde.</p>
                </li><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs werden wie folgt verwendet. Nur verfügbar, wenn der Feedeintrag in einer Chatter- oder Kollaborationsgruppe veröffentlicht wurde.</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Der Name der Chatter- oder Kollaborationsgruppe.</p>
                        </li><li class="listitem">
                            <p>Wenn die Gruppe öffentlich ist,<code class="code">PUBLIC:ALL</code>.</p>
                        </li></ul></div>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
            
         
            <h2 id="context-filter-servicenow">Filterung des Benutzerkontextes für ServiceNow Datenquellen</h2>
            <p>Die Benutzerkontextfilterung für ServiceNow  wird nur für die TemplateConfiguration  API und den ServiceNow  Connector v2.0 unterstützt.  ServiceNowConfiguration API und ServiceNow  Connector v1.0. unterstützen keine Benutzerkontextfilterung.</p>
            <p>Amazon KendraRuft die Benutzer- und Gruppeninformationen von der ServiceNow  Instanz ab, wenn Sie eine ServiceNow  Datenquelle verwenden.</p>
            <p>Die Gruppen- und Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs sind in ServiceNow  Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden anhand der Rollennamen von<code class="code">sys_ids</code> in zugeordnet ServiceNow.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— Benutzer-IDs sind in ServiceNow  Dateien vorhanden, für die Zugriffsberechtigungen festgelegt wurden. Sie werden den Benutzer-E-Mails als IDs zugeordnet ServiceNow.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-slack">Filterung des Benutzerkontextes für Slack-Datenquellen</h2>
            <p>Amazon KendraRuft die Benutzerinformationen von der Slack-Instanz ab, wenn du eine Slack-Datenquelle verwendest.</p>
            <p>Die Slack-Benutzer-IDs sind wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_user_id</code>—Benutzer-IDs existieren in Slack für Nachrichten und Channels, für die festgelegte Zugriffsberechtigungen gelten. Sie werden den Benutzer-E-Mails als IDs in Slack zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
         
            <h2 id="context-filter-zendesk">Benutzerkontextfilterung für Zendesk-Datenquellen</h2>
            <p>Amazon KendraRuft die Benutzer- und Gruppeninformationen von der Zendesk-Instanz ab, wenn Sie eine Zendesk-Datenquelle verwenden.</p>
            <p>Die Gruppen- und Benutzer-IDs werden wie folgt zugeordnet:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><code class="code">_group_ids</code>— Gruppen-IDs gibt es in Zendesk-Tickets und -Artikeln, für die festgelegte Zugriffsberechtigungen gelten. Sie werden anhand der Namen der Gruppen in Zendesk zugeordnet.</p>
                </li><li class="listitem">
                    <p><code class="code">_user_id</code>— Gruppen-IDs gibt es in Zendesk-Tickets und -Artikeln, für die festgelegte Zugriffsberechtigungen gelten. Sie werden den Benutzer-E-Mails als IDs in Zendesk zugeordnet.</p>
                </li></ul></div>
            <p>Sie können in der Liste der Einträge<code class="code">AccessControlList</code> eintragen.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warnung" /> <strong>JavaScript ist in Ihrem Browser nicht verfügbar oder deaktiviert.</strong></p><p>Zur Nutzung der AWS-Dokumentation muss JavaScript aktiviert sein. Weitere Informationen finden auf den Hilfe-Seiten Ihres Browsers.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Dokumentkonventionen</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./filtering.html">Filterung und Facettensuche</div><div id="next" class="next-link" accesskey="n" href="./query-responses-types.html">Abfrageantworten und Antworttypen</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Ja</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass wir gute Arbeit geleistet haben!</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, was wir richtig gemacht haben, damit wir noch besser werden?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Hat Ihnen diese Seite geholfen? – Nein</div><div class="content"><p>Vielen Dank, dass Sie uns mitgeteilt haben, dass diese Seite überarbeitet werden muss. Es tut uns Leid, dass wir Ihnen nicht weiterhelfen konnten.</p><p>Würden Sie sich einen Moment Zeit nehmen, um uns mitzuteilen, wie wir die Dokumentation verbessern können?</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/de_de/kendra/latest/dg/user-context-filter.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>