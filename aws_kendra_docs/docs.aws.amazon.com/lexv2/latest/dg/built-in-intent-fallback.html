<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AMAZON.FallbackIntent - Amazon Lex</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="built-in-intent-fallback" /><meta name="default_state" content="built-in-intent-fallback" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-fallback.html" /><meta name="description" content="When a user's input to an intent isn't what a bot expects, you can configure Amazon Lex V2 to invoke a fallback intent . For example, if the user input &#34;I'd like to order candy&#34; doesn't match an intent in your OrderFlowers bot, Amazon Lex V2 invokes the fallback intent to handle the response." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Lex" /><meta name="guide" content="V2 Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Lex V2. Includes detailed instructions for using various features, such as streaming conversations, and provides a complete reference for the V2 APIs." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-fallback.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intent-fallback.html" hreflang="x-default" /><meta name="feedback-item" content="Lex" /><meta name="this_doc_product" content="Amazon Lex" /><meta name="this_doc_guide" content="V2 Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lex'}"></script><meta id="panorama-serviceSubSection" value="V2 Developer Guide" /><meta id="panorama-serviceConsolePage" value="AMAZON.FallbackIntent" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AMAZON.FallbackIntent - Amazon Lex</title><meta name="pdf" content="/pdfs/lexv2/latest/dg/lex2.0.pdf#built-in-intent-fallback" /><meta name="github" content="https://github.com/awsdocs/amazon-lexv2-developer-guide/tree/main/doc_source/built-in-intent-fallback.md" /><meta name="rss" content="amazon-lex-v2-document-history.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=251" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=http://docs.aws.amazon.com/en_us/lexv2/latest/dg/built-in-intent-fallback.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lexv2/latest/dg/built-in-intent-fallback.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lexv2/latest/dg/built-in-intent-fallback.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Lex",
        "item" : "https://docs.aws.amazon.com/lex/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "V2 Developer Guide",
        "item" : "https://docs.aws.amazon.com/lexv2/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Building bots",
        "item" : "https://docs.aws.amazon.com/lexv2/latest/dg/building-bots.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Adding intents",
        "item" : "https://docs.aws.amazon.com/lexv2/latest/dg/add-intents.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Built-in intents",
        "item" : "https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intents.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "AMAZON.FallbackIntent",
        "item" : "https://docs.aws.amazon.com/lexv2/latest/dg/built-in-intents.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/lexv2/latest/dg/lex2.0.pdf#built-in-intent-fallback" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-lexv2-developer-guide/tree/main/doc_source/built-in-intent-fallback.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/lex/index.html">Amazon Lex</a><a href="what-is.html">V2 Developer Guide</a></div><div id="page-toc-src"><a href="#invoke-fallback">Using a Lambda Function with a
                    Fallback Intent</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="built-in-intent-fallback">AMAZON.FallbackIntent</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>When a user's input to an intent isn't what a bot expects, you
            can configure Amazon Lex V2 to invoke a <em>fallback
                intent</em>. For example, if the user input "I'd like
            to order candy" doesn't match an intent in your
                <code class="code">OrderFlowers</code> bot, Amazon Lex V2 invokes the fallback
            intent to handle the response.</p><p>The built-in <code class="code">AMAZON.FallbackIntent</code> intent type is
            added to your bot automatically when you create a bot using the
            console or when you add a locale to a bot using the <a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_CreateBotLocale.html">CreateBotLocale</a> 
            operation. </p><p>Invoking a fallback intent uses two steps. In the first step
            the fallback intent is matched based on the input from the user.
            When the fallback intent is matched, the way the bot behaves
            depends on the number of retries configured for a prompt. </p><p>Amazon Lex V2 matches the fallback intent in these situations: </p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>The user's input to an intent doesn't match the input
                that the bot expects</p>
            </li><li class="listitem">
                <p>Audio input is noise, or text input isn't recognized
                    as words.</p>
            </li><li class="listitem">
                <p>The user's input is ambiguous and Amazon Lex V2 can't
                    determine which intent to invoke.</p>
            </li></ul></div><p>The fallback intent is invoked when:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>An intent doesn't recognize the user input as a slot
                    value after the configured number of tries.</p>
            </li><li class="listitem">
                <p>An intent doesn't recognize the user input as a
                    response to a confirmation prompt after the configured
                    number of tries.</p>
            </li></ul></div><p>You can't add the following to a fallback intent:</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Utterances</p>
            </li><li class="listitem">
                <p>Slots</p>
            </li><li class="listitem">
                <p>A confirmation prompt</p>
            </li></ul></div>
            <h2 id="invoke-fallback">Using a Lambda Function with a
                    Fallback Intent</h2>
            <p>When a fallback intent is invoked, the response depends on
                the setting of the <code class="code">fulfillmentCodeHook</code>
                parameter to the <a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_CreateIntent.html">CreateIntent</a> operation. The bot
                does one of the following:</p>
            <div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Returns the intent information to the client
                        application.</p>
                </li><li class="listitem">
                    <p>Calls the aliases's validation and fulfillment
                        Lambda function. It calls the function with the
                        session variables that are set for the
                        session.</p>
                </li></ul></div>
            <p>For more information about setting the response when a
                fallback intent is invoked, see the
                    <code class="code">fulfillmentCodeHook</code> parameter of the <a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_CreateIntent.html">CreateIntent</a>
                    operation. </p>
            <p>If you use the Lambda function with your fallback intent,
                you can use this function to call another intent or to
                perform some form of communication with the user, such as
                collecting a callback number or opening a session with a
                customer service representative.</p>
            <p>A fallback intent can be invoked multiple times in the
                same session. For example, suppose that your Lambda function
                uses the <code class="code">ElicitIntent</code> dialog action to prompt
                the user for a different intent. If Amazon Lex V2 can't infer the
                user's intent after the configured number of tries, it
                invokes the fallback intent again. It also invokes the
                fallback intent when the user doesn't respond with a valid
                slot value after the configured number of tries.</p>
            <p>You can configure your Lambda function to keep track of the
                number of times that the fallback intent is called using a
                session variable. Your Lambda function can take a different
                action if it is called more times than the threshold that
                you set in your Lambda function. For more information about
                session variables, see <a href="./context-mgmt-session-attribs.html">Setting session
                attributes</a>.</p>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./built-in-intent-cancel.html">AMAZON.CancelIntent</div><div id="next" class="next-link" accesskey="n" href="./built-in-intent-help.html">AMAZON.HelpIntent</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=https://docs.aws.amazon.com/en_us/lexv2/latest/dg/built-in-intent-fallback.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=https://docs.aws.amazon.com/en_us/lexv2/latest/dg/built-in-intent-fallback.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>