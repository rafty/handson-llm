<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using service-linked roles for AWS Outposts - AWS Outposts</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-service-linked-roles" /><meta name="default_state" content="using-service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/outposts/latest/userguide/using-service-linked-roles.html" /><meta name="description" content="Use service-linked roles to give AWS Outposts access to resources in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Outposts" /><meta name="guide" content="User Guide for racks" /><meta name="abstract" content="AWS Outposts is a fully-managed service that extends AWS infrastructure, APIs, and tools to customer premises. By providing local access to AWS-managed infrastructure, AWS Outposts enables customers to build and run applications on premises using the same programming interfaces as in AWS Regions, while using local compute and storage resources for lower latency and local data processing needs." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/outposts/latest/userguide/using-service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/outposts/latest/userguide/using-service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/outposts/latest/userguide/using-service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/outposts/latest/userguide/using-service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/outposts/latest/userguide/using-service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/outposts/latest/userguide/using-service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/outposts/latest/userguide/using-service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/outposts/latest/userguide/using-service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/outposts/latest/userguide/using-service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/outposts/latest/userguide/using-service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/outposts/latest/userguide/using-service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/outposts/latest/userguide/using-service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/outposts/latest/userguide/using-service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/outposts/latest/userguide/using-service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/outposts/latest/userguide/using-service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/outposts/latest/userguide/using-service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/outposts/latest/userguide/using-service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/outposts/latest/userguide/using-service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/outposts/latest/userguide/using-service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/outposts/latest/userguide/using-service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/outposts/latest/userguide/using-service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/outposts/latest/userguide/using-service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="Outposts" /><meta name="this_doc_product" content="AWS Outposts" /><meta name="this_doc_guide" content="User Guide for racks" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'outposts'}"></script><meta id="panorama-serviceSubSection" value="User Guide for racks" /><meta id="panorama-serviceConsolePage" value="Using service-linked roles for AWS Outposts" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using service-linked roles for AWS Outposts - AWS Outposts</title><meta name="pdf" content="/pdfs/outposts/latest/userguide/outposts-rack.pdf#using-service-linked-roles" /><meta name="rss" content="outposts.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Outposts&amp;topic_url=http://docs.aws.amazon.com/en_us/outposts/latest/userguide/using-service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/outposts/latest/userguide/using-service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/outposts/latest/userguide/using-service-linked-roles.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Outposts",
        "item" : "https://docs.aws.amazon.com/outposts/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide for racks",
        "item" : "https://docs.aws.amazon.com/outposts/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in AWS Outposts",
        "item" : "https://docs.aws.amazon.com/outposts/latest/userguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and access management (IAM) for AWS Outposts",
        "item" : "https://docs.aws.amazon.com/outposts/latest/userguide/identity-access-management.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using service-linked roles for AWS Outposts",
        "item" : "https://docs.aws.amazon.com/outposts/latest/userguide/identity-access-management.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/outposts/latest/userguide/outposts-rack.pdf#using-service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/outposts/index.html">AWS Outposts</a><a href="what-is-outposts.html">User Guide for racks</a></div><div id="page-toc-src"><a href="#slr-permissions">Service-linked role permissions for
        AWS Outposts</a><a href="#create-slr">Creating a service-linked role for
        AWS Outposts</a><a href="#edit-slr">Editing a service-linked role for
        AWS Outposts</a><a href="#delete-slr">Deleting a service-linked role for
        AWS Outposts</a><a href="#slr-regions">Supported Regions for
        AWS Outposts service-linked roles</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-service-linked-roles">Using service-linked roles for
      AWS Outposts</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS Outposts uses AWS Identity and Access Management (IAM)<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">
      service-linked roles</a>. A service-linked role is a unique type of IAM role that is
    linked directly to AWS Outposts. Service-linked roles are predefined by AWS Outposts and
    include all the permissions that the service requires to call other AWS services on your
    behalf. </p><p>A service-linked role makes setting up your AWS Outposts more efficient because you don’t have to
    manually add the necessary permissions. AWS Outposts defines the permissions of its service-linked
    roles, and unless defined otherwise, only AWS Outposts can assume its roles. The defined permissions
    include the trust policy and the permissions policy, and that permissions policy cannot be
    attached to any other IAM entity.</p><p>You can delete a service-linked role only after first deleting the related resources. This
    protects your AWS Outposts resources because you can't inadvertently remove permission to
    access the resources.</p><p>For information about other services that support service-linked roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS Services That Work with
      IAM</a> and look for the services that have <b>Yes </b>in the
      <b>Service-Linked Role</b> column. Choose a <b>Yes</b> with a link to view the service-linked role documentation for that
    service.</p>
    <h2 id="slr-permissions">Service-linked role permissions for
        AWS Outposts</h2>
    <p>AWS Outposts uses the service-linked role named <b>AWSServiceRoleForOutposts_<code class="replaceable">OutpostID</code></b> –
      Allows Outposts to access AWS resources for private connectivity on your behalf. This service-linked role allows private connectivity configuration, creates
      network interfaces, and attaches them to service link endpoint instances.</p>
    <p>The AWSServiceRoleForOutposts_<code class="replaceable">OutpostID</code> service-linked role trusts the following services to assume the
      role:</p>
    <div class="itemizedlist">
       
    <ul class="itemizedlist"><li class="listitem">
        <p><code class="code">outposts.amazonaws.com</code></p>
      </li></ul></div>
    <p>The <b>AWSServiceRoleForOutposts_<code class="replaceable">OutpostID</code></b> service-linked role includes the following policies: </p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><b>AWSOutpostsServiceRolePolicy</b></p>
      </li><li class="listitem">
        <p><b>AWSOutpostsPrivateConnectivityPolicy_<code class="replaceable">OutpostID</code></b>
        </p>
      </li></ul></div>
    <p>The <b>AWSOutpostsServiceRolePolicy</b> policy is a
      service-linked role policy to enable access to AWS resources managed by AWS Outposts.</p>
    <p>This policy allows AWS Outposts to complete the following actions on the specified
      resources:</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>Action: <code class="code">ec2:DescribeNetworkInterfaces</code> on
          <code class="code">all AWS resources</code></p>
        
      </li><li class="listitem">
        <p>Action: <code class="code">ec2:DescribeSecurityGroups</code> on
          <code class="code">all AWS resources</code></p>
      </li><li class="listitem">
        <p>Action: <code class="code">ec2:CreateSecurityGroup</code> on
          <code class="code">all AWS resources</code></p>
      </li><li class="listitem">
        <p>Action: <code class="code">ec2:CreateNetworkInterface</code> on
          <code class="code">all AWS resources</code></p>
      </li></ul></div>
    <p>The <b>AWSOutpostsPrivateConnectivityPolicy_<code class="replaceable">OutpostID</code></b>
      policy allows AWS Outposts to complete the following actions on the specified resources:</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>Action: <code class="code">ec2:AuthorizeSecurityGroupIngress</code> on
          <code class="code">all AWS resources that match the following Condition:</code></p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><span>{</span> "StringLike" : <span>{</span> "ec2:ResourceTag/outposts:private-connectivity-<code class="replaceable">resourceId</code>" : "<code class="replaceable">OutpostID</code>" }} and <span>{</span> "StringEquals" : <span>{</span> "ec2:Vpc" : "<code class="replaceable">vpcArn</code>" }}</code></pre>
      </li><li class="listitem">
        <p>Action: <code class="code">ec2:AuthorizeSecurityGroupEgress</code> on
          <code class="code">all AWS resources that match the following Condition:</code></p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><span>{</span> "StringLike" : <span>{</span> "ec2:ResourceTag/outposts:private-connectivity-<code class="replaceable">resourceId</code>" : "<code class="replaceable">OutpostID</code>" }} and <span>{</span> "StringEquals" : <span>{</span> "ec2:Vpc" : "<code class="replaceable">vpcArn</code>" }}</code></pre>
      </li><li class="listitem">
        <p>Action: <code class="code">ec2:CreateNetworkInterfacePermission</code> on
          <code class="code">all AWS resources that match the following Condition:</code></p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><span>{</span> "StringLike" : <span>{</span> "ec2:ResourceTag/outposts:private-connectivity-<code class="replaceable">resourceId</code>" : "<code class="replaceable">OutpostID</code>" }} and <span>{</span> "StringEquals" : <span>{</span> "ec2:Vpc" : "<code class="replaceable">vpcArn</code>" }}</code></pre>
      </li><li class="listitem">
        <p>Action: <code class="code">ec2:CreateTags</code> on
          <code class="code">all AWS resources that match the following Condition:</code></p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><span>{</span> "StringLike" : <span>{</span> "aws:RequestTag/outposts:private-connectivity-<code class="replaceable">resourceId</code>" : "<span>{</span><span>{</span><code class="replaceable">OutpostId</code>}}*"}}</code></pre>
      </li></ul></div>
    <p>You must configure permissions to allow an IAM entity (such as a user, group, or role)
      to create, edit, or delete a service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions">Service-Linked Role Permissions</a> in the <em>IAM User Guide</em>.</p>
   
    <h2 id="create-slr">Creating a service-linked role for
        AWS Outposts</h2>
    <p>You don't need to manually create a service-linked role. When you
      configure private connectivity for your Outpost in the AWS Management Console, AWS Outposts
      creates the service-linked role for you.</p>
    <p>For more information, see <a href="./region-connectivity.html#private-connectivity">Service link private connectivity using VPC</a>.</p>
   
    <h2 id="edit-slr">Editing a service-linked role for
        AWS Outposts</h2>
    <p>AWS Outposts does not allow you to edit the AWSServiceRoleForOutposts_<code class="replaceable">OutpostID</code> service-linked role. After you
      create a service-linked role, you cannot change the name of the role because various entities
      might reference the role. However, you can edit the description of the role using IAM. For
      more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#edit-service-linked-role">Editing a
        Service-Linked Role</a> in the <em>IAM User Guide</em>.</p>
   
    <h2 id="delete-slr">Deleting a service-linked role for
        AWS Outposts</h2>
    
    <p>If you no longer require a feature or service that requires a service-linked role, we
      recommend that you delete that role. That way you avoid having an unused entity that is not
      actively monitored or maintained. However, you must clean up the resources for your
      service-linked role before you can manually delete it.</p>    
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If the AWS Outposts service is using the role when you try to delete the resources,
        then the deletion might fail. If that happens, wait for a few minutes and try the
        operation again.</p></div></div>
    <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Warning</h6></div><div class="awsdocs-note-text"><p>You must delete your Outpost before you can delete the AWSServiceRoleForOutposts_<code class="replaceable">OutpostID</code> service-linked role. The following procedure deletes your Outpost.</p></div></div>
    <p>Before you begin, make sure that your Outpost is not being shared using AWS Resource Access Manager (AWS RAM). For more information, see <a href="./sharing-outposts.html#sharing-unshare">Unsharing a shared Outpost resource</a>.</p>
    <div class="procedure"><h6>To delete AWS Outposts resources used by the AWSServiceRoleForOutposts_<code class="replaceable">OutpostID</code></h6><ul><li>
        <p>Contact AWS Enterprise Support to delete your Outpost.</p>

      </li></ul></div>
    <p><b>To manually delete the service-linked role using
      IAM</b></p>
    <p>Use the IAM console, the AWS CLI, or the AWS API to delete the AWSServiceRoleForOutposts_<code class="replaceable">OutpostID</code>
      service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role">Deleting a
        Service-Linked Role</a> in the <em>IAM User Guide</em>.</p>
   
    <h2 id="slr-regions">Supported Regions for
        AWS Outposts service-linked roles</h2>
    <p>AWS Outposts supports using service-linked roles in all of the Regions where the service is
      available. For more information, see <a href="https://docs.aws.amazon.com/general/latest/gr/outposts_region.html">AWS Outposts endpoints and quotas</a>.</p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security_iam_id-based-policy-examples.html">Policy examples</div><div id="next" class="next-link" accesskey="n" href="./security-iam-awsmanpol.html">AWS managed policies</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Outposts&amp;topic_url=https://docs.aws.amazon.com/en_us/outposts/latest/userguide/using-service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Outposts&amp;topic_url=https://docs.aws.amazon.com/en_us/outposts/latest/userguide/using-service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>