<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Resource-based policies - AWS Private Certificate Authority</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="pca-rbp" /><meta name="default_state" content="pca-rbp" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/privateca/latest/userguide/pca-rbp.html" /><meta name="description" content="Resource-based permissions policies for cross-account access." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Private Certificate Authority" /><meta name="guide" content="User Guide" /><meta name="abstract" content="AWS Private CA handles the complexity of creating and managing private certificate authorities (CAs) that you can use to issue and revoke private certificates inside of your organization." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/privateca/latest/userguide/pca-rbp.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/privateca/latest/userguide/pca-rbp.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/privateca/latest/userguide/pca-rbp.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/privateca/latest/userguide/pca-rbp.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/privateca/latest/userguide/pca-rbp.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/privateca/latest/userguide/pca-rbp.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/privateca/latest/userguide/pca-rbp.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/privateca/latest/userguide/pca-rbp.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/privateca/latest/userguide/pca-rbp.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/privateca/latest/userguide/pca-rbp.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/privateca/latest/userguide/pca-rbp.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/privateca/latest/userguide/pca-rbp.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/privateca/latest/userguide/pca-rbp.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/privateca/latest/userguide/pca-rbp.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/privateca/latest/userguide/pca-rbp.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/privateca/latest/userguide/pca-rbp.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/privateca/latest/userguide/pca-rbp.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/privateca/latest/userguide/pca-rbp.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/privateca/latest/userguide/pca-rbp.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/privateca/latest/userguide/pca-rbp.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/privateca/latest/userguide/pca-rbp.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/privateca/latest/userguide/pca-rbp.html" hreflang="x-default" /><meta name="feedback-item" content="PCA" /><meta name="this_doc_product" content="AWS Private Certificate Authority" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'privateca'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Resource-based policies" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Resource-based policies - AWS Private Certificate Authority</title><meta name="pdf" content="/pdfs/privateca/latest/userguide/privateca-ug.pdf#pca-rbp" /><meta name="github" content="https://github.com/awsdocs/aws-private-ca-user-guide/tree/master/doc_source/pca-rbp.md" /><meta name="rss" content="amazon-privateca-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=206" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PCA&amp;topic_url=http://docs.aws.amazon.com/en_us/privateca/latest/userguide/pca-rbp.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/privateca/latest/userguide/pca-rbp.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/privateca/latest/userguide/pca-rbp.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Private Certificate Authority",
        "item" : "https://docs.aws.amazon.com/privateca/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/privateca/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in AWS Private Certificate Authority",
        "item" : "https://docs.aws.amazon.com/privateca/latest/userguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Cross-account access to private CAs",
        "item" : "https://docs.aws.amazon.com/privateca/latest/userguide/pca-resource-sharing.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Resource-based policies",
        "item" : "https://docs.aws.amazon.com/privateca/latest/userguide/pca-resource-sharing.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/privateca/latest/userguide/privateca-ug.pdf#pca-rbp" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/aws-private-ca-user-guide/tree/master/doc_source/pca-rbp.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/privateca/index.html">AWS Private Certificate Authority</a><a href="PcaWelcome.html">User Guide</a></div><div id="page-toc-src"><a href="#rbp-policy-examples">Policy examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="pca-rbp">Resource-based policies</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Resource-based policies are permissions policies that you create and manually attach
            to a resource (in this case, a private CA) rather than to a user identity or role. Using
            RAM to apply a resource-based policy, an AWS Private CA administrator can share access to a
            CA with a user in a different AWS account directly or through AWS Organizations. Alternatively,
            an AWS Private CA administrator can use the PCA APIs <a href="https://docs.aws.amazon.com/privateca/latest/APIReference/API_PutPolicy.html">PutPolicy</a>, <a href="https://docs.aws.amazon.com/privateca/latest/APIReference/API_GetPolicy.html">GetPolicy</a>, and <a href="https://docs.aws.amazon.com/privateca/latest/APIReference/API_DeletePolicy.html">DeletePolicy</a>, or the corresponding
            AWS CLI commands <a href="https://docs.aws.amazon.com/cli/latest/reference/acm-pca/put-policy.html">put-policy</a>, <a href="https://docs.aws.amazon.com/cli/latest/reference/acm-pca/get-policy.html">get-policy</a>, and <a href="https://docs.aws.amazon.com/cli/latest/reference/acm-pca/delete-policy.html">delete-policy</a>, to apply and manage
            resource-based policies.</p><p>For general information about resource-based policies, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_identity-vs-resource.html">Identity-Based Policies
               and Resource-Based Policies</a> and <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_controlling.html">Controlling Access Using
            Policies</a>.</p><p>AWS Certificate Manager (ACM) users with cross-account shared access to a private CA can issue
            managed certificates that are signed by the CA.  Cross-account issuers are constrained
            by a resource-based policy and have access only to the
            following end-entity certificate templates:</p><div class="itemizedlist">
             
             
             
             
             
                         
         <ul class="itemizedlist"><li class="listitem">
               <p><a href="./UsingTemplates.html#EndEntityCertificate-V1">EndEntityCertificate/V1</a></p>
            </li><li class="listitem">
               <p><a href="./UsingTemplates.html#EndEntityClientAuthCertificate-V1">EndEntityClientAuthCertificate/V1</a></p>
            </li><li class="listitem">
               <p><a href="./UsingTemplates.html#EndEntityServerAuthCertificate-V1">EndEntityServerAuthCertificate/V1</a></p>
            </li><li class="listitem">
               <p><a href="./UsingTemplates.html#BlankEndEntityCertificate_APIPassthrough">BlankEndEntityCertificate_APIPassthrough/V1</a></p>
            </li><li class="listitem">
               <p><a href="./UsingTemplates.html#BlankEndEntityCertificate_APICSRPassthrough">BlankEndEntityCertificate_APICSRPassthrough/V1</a></p>
            </li><li class="listitem">
               <p><a href="./UsingTemplates.html#SubordinateCACertificate_PathLen0-V1">SubordinateCACertificate_PathLen0/V1</a></p>
            </li></ul></div>
            <h2 id="rbp-policy-examples">Policy examples</h2>
            <p>This section provides example cross-account policies for various needs. In all
               cases, the following command pattern is used to apply a policy:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">aws acm-pca put-policy \
   --region <code class="replaceable">region</code> \
   --resource-arn arn:aws:acm-pca:<code class="replaceable">region</code>:<code class="replaceable">account</code>:certificate-authority/<code class="replaceable">CA_ID</code> \
   --policy file:///<code class="replaceable">[path]</code>/<code class="replaceable">policy<em>N</em>.json</code></code></code></pre>
            <p>In addition to specifying the ARN of a CA, the administrator provides an AWS
               account ID or an AWS Organizations ID that will be granted access to the CA. The JSON of each
               of the following polices is formatted as a file for readability, but can also be
               supplied as an inline CLI arguments.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The structure of the JSON resource-based polices shown below must be followed
                  precisely. Only the ID fields for the principals (the AWS account number or the
                  AWS Organizations ID) and the CA ARNs can be configured by customers.</p></div></div>
            <div class="orderedlist">
                
                
               
            <ol><li>
                  <p><b>File: policy1.json – Sharing access to a CA
                        with a user in a different account</b>
                  </p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "> <span>{</span>                        
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>    
         "Sid":"1",
         "Effect":"Allow",         
         "Principal":<span>{</span>                                                                                                                                               
            "AWS":"<code class="replaceable">account</code>"                                                                                
         },
         "Action":[
            "acm-pca:DescribeCertificateAuthority",
            "acm-pca:GetCertificate",
            "acm-pca:GetCertificateAuthorityCertificate",
            "acm-pca:ListPermissions",
            "acm-pca:ListTags"                                                                                   
         ],                                                                                              
         "Resource":"arn:aws:acm-pca:<code class="replaceable">region</code>:<code class="replaceable">account</code>:certificate-authority/<code class="replaceable">CA_ID</code>"
      },
      <span>{</span>
         "Sid":"1",  
         "Effect":"Allow",
         "Principal":<span>{</span>
            "AWS":"<code class="replaceable">account</code>"
         },
         "Action":[
            "acm-pca:IssueCertificate"
         ],
         "Resource":"arn:aws:acm-pca:<code class="replaceable">region</code>:<code class="replaceable">account</code>:certificate-authority/<code class="replaceable">CA_ID</code>",
         "Condition":<span>{</span>
            "StringEquals":<span>{</span>
               "acm-pca:TemplateArn":"arn:aws:acm-pca:::template/EndEntityCertificate/V1"
            }
         }
      }
   ]
}</code></pre>
               </li><li>
                  <p><b>File: policy2.json – Sharing access to a CA
                        through AWS Organizations</b></p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Sid":"<code class="replaceable">1</code>",
         "Effect":"Allow",
         "Principal":"*",
         "Action":"acm-pca:IssueCertificate",
         "Resource":"arn:aws:acm-pca:<code class="replaceable">region</code>:<code class="replaceable">account</code>:certificate-authority/<code class="replaceable">CA_ID</code>",
         "Condition":<span>{</span>
            "StringEquals":<span>{</span>
               "acm-pca:TemplateArn":"arn:aws:acm-pca:::template/EndEntityCertificate/V1",
               "aws:PrincipalOrgID":"<code class="replaceable">o-1b2c3d4z5</code>"
            }
         }
      },
      <span>{</span>
         "Sid":"<code class="replaceable">1</code>",
         "Effect":"Allow",
         "Principal":"*",
         "Action":[
            "acm-pca:DescribeCertificateAuthority",
            "acm-pca:GetCertificate",
            "acm-pca:GetCertificateAuthorityCertificate",
            "acm-pca:ListPermissions",
            "acm-pca:ListTags"
         ],
         "Resource":"arn:aws:acm-pca:<code class="replaceable">region</code>:<code class="replaceable">account</code>:certificate-authority/<code class="replaceable">CA_ID</code>",
         "Condition":<span>{</span>
            "StringEquals":<span>{</span>
               "aws:PrincipalOrgID":"<code class="replaceable">o-a1b2c3d4z5</code>"
            }
         }
      }
   ]
}</code></pre>
               </li></ol></div>
         <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./pca-resource-sharing.html">Cross-account access</div><div id="next" class="next-link" accesskey="n" href="./security-logging-and-monitoring.html">Logging and monitoring</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PCA&amp;topic_url=https://docs.aws.amazon.com/en_us/privateca/latest/userguide/pca-rbp.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PCA&amp;topic_url=https://docs.aws.amazon.com/en_us/privateca/latest/userguide/pca-rbp.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>