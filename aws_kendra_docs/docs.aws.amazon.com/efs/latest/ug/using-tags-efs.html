<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using tags with Amazon EFS - Amazon Elastic File System</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-tags-efs" /><meta name="default_state" content="using-tags-efs" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/efs/latest/ug/using-tags-efs.html" /><meta name="description" content="Create AWS Identity and Access Management (IAM) policies that grant or deny actions on Amazon EFS resources using tags to implement attrtibute-based access control (ABAC)." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Elastic File System" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Use Amazon Elastic File System to set up, operate, and scale shared file storage in the Amazon Web Services (AWS) cloud." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/efs/latest/ug/using-tags-efs.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/efs/latest/ug/using-tags-efs.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/efs/latest/ug/using-tags-efs.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/efs/latest/ug/using-tags-efs.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/efs/latest/ug/using-tags-efs.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/efs/latest/ug/using-tags-efs.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/efs/latest/ug/using-tags-efs.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/efs/latest/ug/using-tags-efs.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/efs/latest/ug/using-tags-efs.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/efs/latest/ug/using-tags-efs.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/efs/latest/ug/using-tags-efs.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/efs/latest/ug/using-tags-efs.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/efs/latest/ug/using-tags-efs.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/efs/latest/ug/using-tags-efs.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/efs/latest/ug/using-tags-efs.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/efs/latest/ug/using-tags-efs.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/efs/latest/ug/using-tags-efs.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/efs/latest/ug/using-tags-efs.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/efs/latest/ug/using-tags-efs.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/efs/latest/ug/using-tags-efs.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/efs/latest/ug/using-tags-efs.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/efs/latest/ug/using-tags-efs.html" hreflang="x-default" /><meta name="feedback-item" content="EFS" /><meta name="this_doc_product" content="Amazon Elastic File System" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'efs'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using tags with Amazon EFS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using tags with Amazon EFS - Amazon Elastic File System</title><meta name="pdf" content="/pdfs/efs/latest/ug/efs-ug.pdf#using-tags-efs" /><meta name="github" content="https://github.com/awsdocs/amazon-efs-user-guide/tree/main/doc_source/using-tags-efs.md" /><meta name="rss" content="amazon-efs-doc-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=222" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EFS&amp;topic_url=http://docs.aws.amazon.com/en_us/efs/latest/ug/using-tags-efs.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/efs/latest/ug/using-tags-efs.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/efs/latest/ug/using-tags-efs.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Elastic File System (EFS)",
        "item" : "https://docs.aws.amazon.com/efs/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/efs/latest/ug"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Amazon EFS",
        "item" : "https://docs.aws.amazon.com/efs/latest/ug/security-considerations.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and access management for Amazon Elastic File System",
        "item" : "https://docs.aws.amazon.com/efs/latest/ug/security-iam.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using tags with Amazon EFS",
        "item" : "https://docs.aws.amazon.com/efs/latest/ug/security-iam.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/efs/latest/ug/efs-ug.pdf#using-tags-efs" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-efs-user-guide/tree/main/doc_source/using-tags-efs.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/efs/index.html">Amazon Elastic File System (EFS)</a><a href="whatisefs.html">User Guide</a></div><div id="page-toc-src"><a href="#supported-iam-actions-tagging">Tag resources during creation</a><a href="#restrict-efs-access-tags">Access control using tags</a><a href="#resource-tag-control">Control access using tags</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-tags-efs">Using tags with Amazon EFS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can use tags to control access to Amazon EFS resources and to implement
    attribute-based access control (ABAC). For more information, see:</p><div class="itemizedlist">
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p><a href="./manage-fs-tags.html">Tagging Amazon EFS resources</a></p>
    </li><li class="listitem"><p><a href="#resource-tag-control">Controlling access based on tags on a resource</a></p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_attribute-based-access-control.html">What is ABAC
          for AWS?</a> in the <em>IAM User Guide</em></p>
    </li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon EFS replication does not support using tags for attribute-based access control
      (ABAC).</p></div></div><p>To apply tags to Amazon EFS resources during creation, users must have certain AWS Identity and Access Management
    (IAM) permissions.</p>
    <h2 id="supported-iam-actions-tagging">Granting permissions to tag resources during
        creation</h2>
    <p>The following tag-on create Amazon EFS API actions allow you to specify tags when you
      create the resource.</p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><code class="code">CreateAccessPoint</code></p>
      </li><li class="listitem">
        <p><code class="code">CreateFileSystem</code></p>
      </li></ul></div>
    <p> To enable users to tag resources on creation, they must have permissions to use the
      action that creates the resources, such as <code class="code">elasticfilesystem:CreateAccessPoint</code> or
        <code class="code">elasticfilesystem:CreateFileSystem</code>. If tags are specified in the
      resource-creating action, AWS performs additional authorization on the
        <code class="code">elasticfilesystem:TagResource</code> action to verify if users have permission to
      create tags. Therefore, users must also have explicit permissions to use the
        <code class="code">elasticfilesystem:TagResource</code> action. </p>
        <p>In the IAM policy definition for the <code class="code">elasticfilesystem:TagResource</code>
      action, use the <code class="code">Condition</code> element with the
        <code class="code">elasticfilesystem:CreateAction</code> condition key to give tagging permissions to the
      action that creates the resource.</p>

   <div class="example"><h6>Example  policy: Allow adding tags to file systems only at the time of creation</h6><div class="example-contents"><p>The following example policy allows users to create file systems and apply tags to them
        only during creation. Users are not permitted to tag any existing resources (they cannot
        call the <code class="code">elasticfilesystem:TagResource</code> action directly).</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
         "elasticfilesystem:CreateFileSystem"
      ],
      "Resource": "arn:aws:elasticfilesystem:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:file-system/*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
         "elasticfilesystem:TagResource"
      ],
      "Resource": "arn:aws:elasticfilesystem:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:file-system/*",
      "Condition": <span>{</span>
         "StringEquals": <span>{</span>
             "elasticfilesystem:CreateAction": "CreateFileSystem"
          }
       }
    }
  ]
}</code></pre></div></div>
   
  <h2 id="restrict-efs-access-tags">Using tags to control access to your Amazon EFS
      resources</h2>
   <p>To control access to Amazon EFS resources and actions, you can use IAM policies based on tags.
      You can provide this control in two ways:</p>
  
  <div class="itemizedlist">
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p>You can control access to Amazon EFS resources based on the tags on those resources.</p>
    </li><li class="listitem">
      <p>You can control which tags can be passed in an IAM request condition.</p>
    </li></ul></div>
  <p>For information about how to use tags to control access to AWS resources, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_tags.html">Controlling access using
        tags</a> in the <em>IAM User Guide</em>.</p>
    <h2 id="resource-tag-control">Controlling access based on tags on a resource</h2>
    <p>To control which actions a user or role can perform on an Amazon EFS resource, you can use tags
        on the resource. For example, you might want to allow or deny specific API operations on a
        file system resource based on the key-value pair of the tag on the resource.</p>
    <div class="example"><h6>Example  policy: Create a file system only when a specific tag is used</h6><div class="example-contents"></div></div>        
        <p>The following example policy allows the user to create a file system only when they tag
          it with a specific tag key-value pair, in this example, <code class="code">key=Department</code>,
            <code class="code">value=Finance</code>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Effect": "Allow",
    "Action": [
        "elasticfilesystem:CreateFileSystem",
        "elasticfilesystem:TagResource"
    ],
    "Resource": "arn:aws:elasticfilesystem:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:file-system/*",
    "Condition": <span>{</span>
        "StringEquals": <span>{</span>
            "aws:RequestTag/Department": "Finance"
        }
    }
}</code></pre>
   
    <div class="example"><h6>Example policy: Delete file systems with specific tags</h6><div class="example-contents"></div></div>
        <p>The following example policy allows a user to delete only file systems that are tagged
          with <code class="code">Department=Finance</code>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "elasticfilesystem:DeleteFileSystem"
            ],
            "Resource": "arn:aws:elasticfilesystem:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:file-system/*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:ResourceTag/Department": "Finance"
                }
            }
        }
    ]
}</code></pre>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security-iam-awsmanpol.html">AWS managed policies</div><div id="next" class="next-link" accesskey="n" href="./using-service-linked-roles.html">Using service-linked roles for Amazon EFS</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EFS&amp;topic_url=https://docs.aws.amazon.com/en_us/efs/latest/ug/using-tags-efs.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=EFS&amp;topic_url=https://docs.aws.amazon.com/en_us/efs/latest/ug/using-tags-efs.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>