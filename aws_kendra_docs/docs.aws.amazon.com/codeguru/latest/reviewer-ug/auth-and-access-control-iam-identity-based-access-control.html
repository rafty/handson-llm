<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using identity-based policies for CodeGuru Reviewer - Amazon CodeGuru Reviewer</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="auth-and-access-control-iam-identity-based-access-control" /><meta name="default_state" content="auth-and-access-control-iam-identity-based-access-control" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" /><meta name="description" content="Provides examples of IAM identity-based policies for controlling access to Amazon CodeGuru Reviewer." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon CodeGuru Reviewer" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon CodeGuru Reviewer, instructions for getting started, product and service integrations, and review recommendations." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" hreflang="x-default" /><meta name="feedback-item" content="Guru" /><meta name="this_doc_product" content="Amazon CodeGuru Reviewer" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'codeguru'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using identity-based policies for CodeGuru Reviewer" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using identity-based policies for CodeGuru Reviewer - Amazon CodeGuru Reviewer</title><meta name="pdf" content="/pdfs/codeguru/latest/reviewer-ug/reviewer-ug.pdf#auth-and-access-control-iam-identity-based-access-control" /><meta name="github" content="https://github.com/awsdocs/amazon-codeguru-reviewer-user-guide/tree/main/doc_source/auth-and-access-control-iam-identity-based-access-control.md" /><meta name="rss" content="service-guide.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=360" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Guru&amp;topic_url=http://docs.aws.amazon.com/en_us/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon CodeGuru",
        "item" : "https://docs.aws.amazon.com/codeguru/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/codeguru/latest/reviewer-ug"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in CodeGuru Reviewer",
        "item" : "https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and access management in CodeGuru Reviewer",
        "item" : "https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/auth-and-access-control.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using identity-based policies for CodeGuru Reviewer",
        "item" : "https://docs.aws.amazon.com/codeguru/latest/reviewer-ug/auth-and-access-control.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/codeguru/latest/reviewer-ug/reviewer-ug.pdf#auth-and-access-control-iam-identity-based-access-control" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-codeguru-reviewer-user-guide/tree/main/doc_source/auth-and-access-control-iam-identity-based-access-control.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/codeguru/index.html">Amazon CodeGuru</a><a href="welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#security_iam_service-with-iam-policy-best-practices">Policy best
					practices</a><a href="#console-permissions">Permissions required to use the CodeGuru Reviewer
					console</a><a href="#managed-policies">AWS managed (predefined) policies for
					CodeGuru Reviewer</a><a href="#security-iam-awsmanpol-updates">Policy updates</a><a href="#security_iam_id-based-policy-examples">Customer managed policy
					examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="auth-and-access-control-iam-identity-based-access-control">Using
				identity-based policies for CodeGuru Reviewer</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>By default, users and IAM roles don't have permission to create or modify
			Amazon CodeGuru Reviewer resources. They also can't perform tasks using the AWS Management Console,
			AWS CLI, or AWS API. An administrator must create IAM policies that grant users
			and roles permission to perform specific API operations on the specified resources they
			need. The administrator must then attach those policies to the roles or groups
			that require those permissions. To learn how to attach policies to an IAM role or group, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html">Adding and
				removing IAM identity permissions</a> in the <em>IAM User Guide</em>.</p><p>To learn how to create an IAM identity-based policy using these example JSON policy
			documents, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html#access_policies_create-json-editor">Creating IAM policies</a> in the <em>IAM User Guide</em>.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#security_iam_service-with-iam-policy-best-practices">Policy best
					practices</a></li><li><a href="#console-permissions">Permissions required to use the CodeGuru Reviewer
					console</a></li><li><a href="#managed-policies">AWS managed (predefined) policies for
					CodeGuru Reviewer</a></li><li><a href="#security-iam-awsmanpol-updates">CodeGuru Reviewer updates to AWS managed
					policies</a></li><li><a href="#security_iam_id-based-policy-examples">Customer managed policy
					examples</a></li></ul></div>
			<h2 id="security_iam_service-with-iam-policy-best-practices">Policy best
					practices</h2>
			
			
   
 <p>Identity-based policies determine whether someone can create, access, or delete CodeGuru Reviewer resources in your
      account. These actions can incur costs for your AWS account. When you create or edit identity-based policies, follow these guidelines and
      recommendations:</p>
   <div class="itemizedlist">
       
       
       
       
       
   <ul class="itemizedlist"><li class="listitem">
         <p><b>Get started with AWS managed policies and move toward least-privilege permissions</b>
            – To get started granting permissions to your users and workloads, use the <em>AWS
            managed policies</em> that grant permissions for many common use cases. They are
            available in your AWS account. We recommend that you reduce permissions further by
            defining AWS customer managed policies that are specific to your use cases. For more information, see 
            <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies">AWS managed policies</a> or <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html">AWS managed policies for job functions</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Apply least-privilege permissions</b> – 
            When you set permissions with IAM policies, grant only the permissions required to
            perform a task. You do this by defining the actions that can be taken on specific resources
            under specific conditions, also known as <em>least-privilege permissions</em>.
            For more information about using IAM to apply permissions, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html">
            Policies and permissions in IAM</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Use conditions in IAM policies to further restrict access</b>
            – You can add a condition to your policies to limit access to actions and resources. For example, you can write a policy condition to specify that all requests must
            be sent using SSL. You can also use conditions to grant access to service actions
            if they are used through a specific AWS service, such as AWS CloudFormation. For more information, see
            <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html">
            IAM JSON policy elements: Condition</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Use IAM Access Analyzer to validate your IAM policies to ensure secure and functional permissions</b>
            – IAM Access Analyzer validates new and existing policies so that the policies adhere to the IAM policy language (JSON) and IAM best practices.
            IAM Access Analyzer provides more than 100 policy checks and actionable recommendations to help
            you author secure and functional policies. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-policy-validation.html">IAM Access Analyzer policy validation</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Require multi-factor authentication (MFA)</b> –
            If you have a scenario that requires IAM users or a root user in your AWS account, turn on MFA for additional security. To require
            MFA when API operations are called, add MFA conditions to your policies. For
            more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_configure-api-require.html">
            Configuring MFA-protected API access</a> in the <em>IAM User Guide</em>.</p>
      </li></ul></div>
 <p>For more information about best practices in IAM, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html">Security best practices in IAM</a> in the <em>IAM User Guide</em>.</p>

		 
			<h2 id="console-permissions">Permissions required to use the CodeGuru Reviewer
					console</h2>
			<p>A user who uses the CodeGuru Reviewer console must have a minimum set of permissions that
				allows the user to describe other AWS resources for the AWS account. You must
				have permissions from the following services:</p>
			<div class="itemizedlist">
				 
				 
				 
				 
			<ul class="itemizedlist"><li class="listitem">
					<p>CodeGuru Reviewer</p>
				</li><li class="listitem">
					<p>AWS CodeCommit (if your source code is in a CodeCommit repository)</p>
				</li><li class="listitem">
					<p>AWS CodeStar connections (if your source code is in a repository managed by AWS CodeStar connections, such as
						Bitbucket)</p>
				</li><li class="listitem">
					<p>AWS Identity and Access Management (IAM)</p>
				</li></ul></div>
			<p>If your source code is in a GitHub repository, you must have an OAuth token to
				connect to it. Associated GitHub repositories are not managed by AWS CodeStar connections. For more
				information, see <a href="https://help.github.com/en/github/extending-github/git-automation-with-oauth-tokens#step-1-get-an-oauth-token" rel="noopener noreferrer" target="_blank"><span>Git automation with OAuth tokens</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the GitHub website. </p>
			<p>If you create an IAM policy that is more restrictive than the minimum required
				permissions, the console won't function as intended.</p>
			<p>The following shows an example of a permissions policy that allows a user to get
				information about a repository association only in the <code class="code">us-east-2</code> Region
				for account <code class="code">123456789012</code> for any repository association with a
				universally unique identifier (UUID) that starts with <code class="code">12345</code>.</p>
			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "codeguru-reviewer:DescribeRepositoryAssociation",
      "Resource": "arn:aws:codeguru-reviewer:us-east-2:123456789012:association:12345*"      
    }
  ]
}</code></pre>
		 
			<h2 id="managed-policies">AWS managed (predefined) policies for
					CodeGuru Reviewer</h2>
			<p>AWS addresses many common use cases by providing standalone IAM policies that
				are created and administered by AWS. These AWS managed policies grant necessary
				permissions for common use cases so you can avoid having to investigate what
				permissions are needed. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies">AWS managed policies</a> in the
				<em>IAM User Guide</em>.</p>
			<p>To create and manage CodeGuru Reviewer service roles, you must also attach the AWS managed
				policy named <code class="code">IAMFullAccess</code>.</p>
			<p>You can also create your own custom IAM policies to allow permissions for CodeGuru Reviewer
				actions and resources. You can attach these custom policies to the roles or
				groups that require those permissions.</p>
			<p>The following AWS managed policies, which you can attach to users in your
				account, are specific to CodeGuru Reviewer.</p>
			<div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#managed-full-access">AmazonCodeGuruReviewerFullAccess</a></li><li><a href="#managed-read-only-access">AmazonCodeGuruReviewerReadOnlyAccess</a></li><li><a href="#managed-policy-for-codecommit-and-codestar-connections">AmazonCodeGuruReviewerServiceRolePolicy</a></li></ul></div>
			 
				<h3 id="managed-full-access">AmazonCodeGuruReviewerFullAccess</h3>
				<p><code class="code">AmazonCodeGuruReviewerFullAccess</code> – Provides full access to
					CodeGuru Reviewer, including permissions to tag repository associations and to create,
					update, and delete code reviews and repository associations. It also grants
					permission to related resources in other services that integrate with CodeGuru Reviewer,
					such as Amazon CloudWatch, AWS CodeStar connections, and CodeCommit. Apply this only to administrative-level
					users to who you want to grant full control over CodeGuru Reviewer repository associations,
					code reviews, and related resources in your AWS account, including the ability
					to delete code reviews and repository associations. </p>
				<p>The <code class="code">AmazonCodeGuruReviewerFullAccess</code> policy contains the following
					statement.</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AmazonCodeGuruReviewerFullAccess",
            "Effect": "Allow",
            "Action": [
                "codeguru-reviewer:*"
            ],
            "Resource": "*"
        },
        <span>{</span>
            "Sid": "AmazonCodeGuruReviewerSLRCreation",
            "Action": "iam:CreateServiceLinkedRole",
            "Effect": "Allow",
            "Resource": "arn:aws:iam::*:role/aws-service-role/codeguru-reviewer.amazonaws.com/AWSServiceRoleForAmazonCodeGuruReviewer",
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "iam:AWSServiceName": "codeguru-reviewer.amazonaws.com"
                }
            }
        },
        <span>{</span>
            "Sid": "AmazonCodeGuruReviewerSLRDeletion",
            "Effect": "Allow",
            "Action": [
                "iam:DeleteServiceLinkedRole",
                "iam:GetServiceLinkedRoleDeletionStatus"
            ],
            "Resource": "arn:aws:iam::*:role/aws-service-role/codeguru-reviewer.amazonaws.com/AWSServiceRoleForAmazonCodeGuruReviewer"
        },
        <span>{</span>
            "Sid": "codecommitAccess",
            "Effect": "Allow",
            "Action": [
                "codecommit:ListRepositories"
            ],
            "Resource": "*"
        },
        <span>{</span>
            "Sid": "codecommitTagManagement",
            "Effect": "Allow",
            "Action": [
                "codecommit:TagResource",
                "codecommit:UntagResource"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "ForAllValues:StringEquals": <span>{</span>
                    "aws:TagKeys": "codeguru-reviewer"
                }
            }
        },
        <span>{</span>
            "Sid": "CodeConnectTagManagement",
            "Effect": "Allow",
            "Action": [
                "codestar-connections:TagResource",
                "codestar-connections:UntagResource",
                "codestar-connections:ListTagsForResource"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "ForAllValues:StringEquals": <span>{</span>
                    "aws:TagKeys": "codeguru-reviewer"
                }
            }
        },
        <span>{</span>
            "Sid": "CodeConnectManagedRules",
            "Effect": "Allow",
            "Action": [
                "codestar-connections:UseConnection",
                "codestar-connections:ListConnections",
                "codestar-connections:PassConnection"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "ForAllValues:StringEquals": <span>{</span>
                    "codestar-connections:ProviderAction": [
                        "ListRepositories",
                        "ListOwners"
                    ]
                }
            }
        },
        <span>{</span>
            "Sid": "CloudWatchEventsManagedRules",
            "Effect": "Allow",
            "Action": [
                "events:PutRule",
                "events:PutTargets",
                "events:DeleteRule",
                "events:RemoveTargets"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "events:ManagedBy": "codeguru-reviewer.amazonaws.com"
                }
            }
        }
    ]
}</code></pre>
			 
			 
				<h3 id="managed-read-only-access">AmazonCodeGuruReviewerReadOnlyAccess</h3>
				<p><code class="code">AmazonCodeGuruReviewerReadOnlyAccess</code> – Grants read-only access to
					CodeGuru Reviewer and related resources in other AWS services. Apply this policy to users
					who you want to grant the ability to view code reviews, but not to create or
					make any changes to them. </p>
				<p>The <code class="code">AmazonCodeGuruReviewerReadOnlyAccess</code> policy contains the following
					statement.</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AmazonCodeGuruReviewerReadOnlyAccess",
            "Effect": "Allow",
            "Action": [
                "codeguru-reviewer:List*",
                "codeguru-reviewer:Describe*",
                "codeguru-reviewer:Get*"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
			 
			 
				<h3 id="managed-policy-for-codecommit-and-codestar-connections">AmazonCodeGuruReviewerServiceRolePolicy</h3>
				<p><code class="code">AmazonCodeGuruReviewerServiceRolePolicy</code> – Grants permission to
					related resources in CodeCommit, AWS CodeStar connections, Amazon S3, and CloudWatch that are required to create
					repository associations. </p>
				<p>For CodeCommit repository associations, the CodeCommit and CloudWatch permissions in this
					policy are required. For associations with repositories that are managed by an
					AWS CodeStar connection, such as Bitbucket, the AWS CodeStar connections permissions are required. For
					code reviews with security analysis, the Amazon S3 permissions are required.</p>

				<p>When you create your first association with a CodeCommit, Amazon S3, or AWS CodeStar connections managed
					repository, CodeGuru Reviewer adds the <code class="code">AmazonCodeGuruReviewerServiceRolePolicy</code>
					policy to your AWS account. This policy grants CodeGuru Reviewer access to CodeCommit
					repositories, AWS CodeStar connections resources in your account that have an
						<code class="code">aws:ResourceTag/codeguru-reviewer</code> tag. It also grants access to Amazon S3
					buckets that have a prefix that begins with <code class="code">codeguru-reviewer-</code>. When you
					associate a CodeCommit repository, CodeGuru Reviewer adds this tag to the repository. When you
					associate an AWS CodeStar connections managed repository, CodeGuru Reviewer adds this tag to the AWS CodeStar connections
					resource, if it doesn't already exist. </p>
				<p>The <code class="code">AmazonCodeGuruReviewerServiceRolePolicy</code> policy contains the
					following statement.</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AccessCodeGuruReviewerEnabledRepositories",
            "Effect": "Allow",
            "Action": [
                "codecommit:GetRepository",
                "codecommit:GetBranch",
                "codecommit:DescribePullRequestEvents",
                "codecommit:GetCommentsForPullRequest",
                "codecommit:GetDifferences",
                "codecommit:GetPullRequest",
                "codecommit:ListPullRequests",
                "codecommit:PostCommentForPullRequest",
                "codecommit:GitPull",
                "codecommit:UntagResource"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "aws:ResourceTag/codeguru-reviewer": "enabled"
                }
            }
        },
        <span>{</span>
            "Sid": "AccessCodeGuruReviewerEnabledConnections",
            "Effect": "Allow",
            "Action": [
                "codestar-connections:UseConnection"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "ForAllValues:StringEquals": <span>{</span>
                    "codestar-connections:ProviderAction": [
                        "ListBranches",
                        "GetBranch",
                        "ListRepositories",
                        "ListOwners",
                        "ListPullRequests",
                        "GetPullRequest",
                        "ListPullRequestComments",
                        "ListPullRequestCommits",
                        "ListCommitFiles",
                        "ListBranchCommits",
                        "CreatePullRequestDiffComment",
                        "GitPull"
                    ]
                },
                "Null": <span>{</span>
                    "aws:ResourceTag/codeguru-reviewer": "false"
                }
            }
        },
        <span>{</span>
            "Sid": "CloudWatchEventsResourceCleanup",
            "Effect": "Allow",
            "Action": [
                "events:DeleteRule",
                "events:RemoveTargets"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "events:ManagedBy": "codeguru-reviewer.amazonaws.com"
                }
            }
        },
        <span>{</span>
            "Sid": "AccessCodeGuruReviewerCreatedS3Bucket",
            "Effect": "Allow",
            "Action": [    
                "s3:GetObject",
                "s3:CreateBucket",
                "s3:ListBucket",
                "s3:PutBucketPolicy",
                "s3:PutLifecycleConfiguration"
            ],
            "Resource": [
                "arn:aws:s3:::codeguru-reviewer-*",
                "arn:aws:s3:::codeguru-reviewer-*/*"
            ]
        }
    ]
}</code></pre>
			 
		 
			<h2 id="security-iam-awsmanpol-updates">CodeGuru Reviewer updates to AWS managed
					policies</h2>
			<p></p>
			<p>View details about updates to AWS managed policies for CodeGuru Reviewer since this service
				began tracking these changes. For automatic alerts about changes to this page,
				subscribe to the RSS feed on the CodeGuru Reviewer <a href="./doc-history.html">Amazon CodeGuru Reviewer User Guide document history</a>.</p>
			<p></p>
			<div class="table-container"><div class="table-contents"><table id="w440aac25c15c19c15b9"><thead>
						<tr>
							<th>Change</th>
							<th>Description</th>
							<th>Date</th>
						</tr>
					</thead>
						
						<tr>
							<td>
								<p><a href="#managed-policy-for-codecommit-and-codestar-connections">AmazonCodeGuruReviewerServiceRolePolicy</a> – Update to an existing policy</p>
							</td>
							<td>
								<p>CodeGuru Reviewer added new permissions to allow access to the
										<code class="code">CreateBucket</code>, <code class="code">ListBucket</code>,
										<code class="code">PutBucketPolicy</code>, and
										<code class="code">PutLifecycleConfiguration</code> actions on an Amazon S3
									bucket resource.</p>
							</td>
							<td>April 28, 2021</td>
						</tr>
						<tr>
							<td>
								<p>CodeGuru Reviewer started tracking changes</p>
							</td>
							<td>
								<p>CodeGuru Reviewer started tracking changes for its AWS managed
									policies.</p>
							</td>
							<td>July 2, 2020</td>
						</tr>
					</table></div></div>
		 
			<h2 id="security_iam_id-based-policy-examples">Customer managed policy
					examples</h2>
			<p>You can create your own custom IAM policies to allow permissions for CodeGuru Reviewer
				actions and resources. You can attach these custom policies to the roles or groups that require those permissions.
				You can also create your own custom
				IAM policies for integration between CodeGuru Reviewer and other AWS services. </p>
			<p>The following example IAM policies grant permissions for various CodeGuru Reviewer
				actions. Use them to limit CodeGuru Reviewer access for your users and roles. These
				policies control the ability to perform actions with the CodeGuru Reviewer console, API, AWS
				SDKs, or the AWS CLI. </p>
			<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>All examples use the US East (Ohio) Region (us-east-2) and contain fictitious
					account IDs.</p></div></div>
			<p>
				<b>Examples</b></p>
			<div class="itemizedlist">
				 
				 
				 
				 
			<ul class="itemizedlist"><li class="listitem">
					<p><a href="#identity-based-policies-example-1">Example 1: Allow a user to
						see all recommendations created in an associated repository</a></p>
				</li><li class="listitem">
					<p><a href="#identity-based-policies-example-2">Example 2: Allow a user to
						view code reviews in an associated repository in a single Region</a></p>
				</li><li class="listitem">
					<p><a href="#identity-based-policies-example-3">Example 3: Allow a user to
						perform CodeGuru Reviewer operations in a single Region</a></p>
				</li><li class="listitem">
					<p><a href="#identity-based-policies-example-4">Example 4: Allow read-only
						access to CodeGuru Reviewer operations for a user connecting from a specified IP
						address range </a></p>
				</li></ul></div>
			 
				<h3 id="identity-based-policies-example-1">Example 1: Allow a user to
						see all recommendations created in an associated repository</h3>
				<p> The following example policy grants permissions for the AWS user with
					account ID <code class="code">123456789012</code> to see a list of all
					recommendations in their AWS account and Region in the repository association
					with ID <code class="code">association-uuid</code>. </p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
   "Version": "2012-10-17",
   "Statement": [
      <span>{</span>
         "Effect": "Allow",
         "Action": [
            "codeguru-reviewer:ListRecommendations"
         ],
         "Resource": "arn:aws:codeguru-reviewer:<code class="replaceable">us-east-2</code>:<code class="replaceable">123456789012</code>:association:<code class="replaceable">association-uuid</code>"
      }
   ]
}</code></pre>
			 
			 
				<h3 id="identity-based-policies-example-2">Example 2: Allow a user to
						view code reviews in an associated repository in a single Region</h3>
				<p>The following shows an example of a permissions policy that allows a user with
					account ID <code class="code">123456789012</code> to get information about code
					reviews in Region <code class="code">us-east-2</code> in an associated repository with ID
						<code class="code">association-uuid</code>.</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "codeguru-reviewer:DescribeCodeReview",
      "Resource": "arn:aws:codeguru-reviewer:<code class="replaceable">us-east-2</code>:<code class="replaceable">123456789012</code>:association:<code class="replaceable">association-uuid</code>"      
    }
  ]
}</code></pre>
			 
			 
				<h3 id="identity-based-policies-example-3">Example 3: Allow a user to
						perform CodeGuru Reviewer operations in a single Region</h3>
				<p>The following permissions policy uses a wildcard character
						(<code class="code">"codeguru-reviewer:*"</code>) to allow users to perform all CodeGuru Reviewer actions
					in the us-east-2 Region and not from other AWS Regions.</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
    <span>{</span>
            "Effect": "Allow",
            "Action": "codeguru-reviewer:*",
            "Resource": "arn:aws:codeguru-reviewer:us-east-2:123456789012:*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:RequestedRegion": "us-east-2"
                }
            }
        }
    ]
}</code></pre>
			 
			 
				<h3 id="identity-based-policies-example-4">Example 4: Allow read-only
						access to CodeGuru Reviewer operations for a user connecting from a specified IP
						address range </h3>
				<p>You can create a policy that only allows users CodeGuru Reviewer read-only access if
					their IP address is within a certain IP address range. The following example
					grants read-only CodeGuru Reviewer permissions to users whose IP addresses are within the
					specified IP address block of 203.0.113.0/24.</p>
				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
          "codeguru-reviewer:List*",
          "codeguru-reviewer:Describe*"
      ],
      "Resource": "*",
      "Condition": <span>{</span>
        "IpAddress": <span>{</span>
          "aws:SourceIp": "203.0.113.0/24"
        }
      }
    }
  ]
}</code></pre>
			 
		<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security_iam_service-with-iam.html">Overview of managing
				access</div><div id="next" class="next-link" accesskey="n" href="./auth-and-access-control-using-tags.html">Using tags to control
				access to associated repositories</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Guru&amp;topic_url=https://docs.aws.amazon.com/en_us/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Guru&amp;topic_url=https://docs.aws.amazon.com/en_us/codeguru/latest/reviewer-ug/auth-and-access-control-iam-identity-based-access-control.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>