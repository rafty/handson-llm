<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Utilizzo di un TokSON Web JSON (JSON Web JSON (JSON Web JSON (JSON Web JSON (JW - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="create-index-access-control-tokens-jwtpublic" /><meta name="default_state" content="create-index-access-control-tokens-jwtpublic" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" /><meta name="description" content="Come usare JWT con una chiave pubblica con controllo degli accessi perAmazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Guida per gli sviluppatori" /><meta name="abstract" content="Fornisce una panoramica concettuale di Amazon Kendra. ScopriAmazon Kendra le funzionalità e inizia a indicizzare i tuoi documenti utilizzando la console, l'interfaccia a riga di comando e l'API." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Guida per gli sviluppatori" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Guida per gli sviluppatori" /><meta id="panorama-serviceConsolePage" value="Utilizzo di un TokSON Web JSON (JSON Web JSON (JSON Web JSON (JSON Web JSON (JW" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Utilizzo di un TokSON Web JSON (JSON Web JSON (JSON Web JSON (JSON Web JSON (JW - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#create-index-access-control-tokens-jwtpublic" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html" /><meta name="keywords" content="Kendra,Amazon Kendra,cerca,ricerca intelligente,linguaggio naturale,index,question,parola chiave,origine dati,connettore,Domande frequenti,domande frequenti" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per gli sviluppatori",
        "item" : "https://docs.aws.amazon.com/it_it/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Creazione di un indice",
        "item" : "https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Controllo dell'accesso ai documenti in un indice",
        "item" : "https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Utilizzo di un TokSON Web JSON (JSON Web JSON (JSON Web JSON (JSON Web JSON (JW",
        "item" : "https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#create-index-access-control-tokens-jwtpublic" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Guida per gli sviluppatori</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="create-index-access-control-tokens-jwtpublic">Utilizzo di un TokSON Web JSON (JSON Web JSON (JSON Web JSON (JSON Web JSON (JW</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Gli esempi seguenti mostrano come utilizzare un JSON Web Token (JWT) con un token di certificato per il controllo dell'accesso degli utenti quando si crea un indice. Per ulteriori informazioni su JWT, consulta <a href="http://jwt.io" rel="noopener noreferrer" target="_blank"><span>jwt.io</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p><awsdocs-tabs><dl style="display: none">
    <dt>Console</dt><dd tab-id="console">
        
        <div class="procedure"><ol><li>
            <p>Scegli <b>Crea indice</b> per iniziare a creare un nuovo indice.</p>
          </li><li>
            <p>Nella pagina <b>Specifica i dettagli dell'indice</b>, assegna un nome e una descrizione all'indice. </p>
          </li><li>
            <p>Per il <b>ruolo IAM</b>, seleziona un ruolo o seleziona <b>Crea un nuovo ruolo</b> e specifica un nome per creare un nuovo ruolo. Il ruolo IAM avrà il prefisso "AmazonKendra-». </p>
          </li><li>
            <p>Lascia tutti gli altri campi ai valori predefiniti. Seleziona <b>Successivo</b>.</p>
          </li><li>
            <p>Nella pagina <b>Configura il controllo degli accessi degli utenti</b>, in <b>Impostazioni di controllo degli accessi</b>, scegli <b>Sì</b> per utilizzare i token per il controllo degli accessi. </p>
          </li><li>
            <p>In <b>Configurazione token</b>, seleziona <b>JWT con chiave pubblica</b> come <b>tipo di token</b>. </p>
          </li><li>
            <p>In <b>Parametri per la firma della chiave pubblica</b>, scegli il <b>tipo di segreto</b>. Puoi usare unAWS Secrets Manager segreto esistente o crearne uno nuovo. </p>
            <p>Per creare un nuovo segreto, scegli <b>Nuovo</b> e segui questi passaggi:</p>
            <ol><li>
                <p>In <b>NuovoAWS Secrets Manager segreto</b>, specifica un <b>nome segreto</b>. Il prefisso<code class="code">AmazonKendra-</code> verrà aggiunto quando si salva la chiave pubblica. </p>
              </li><li>
                <p>Specifica un <b>ID chiave</b>. L'ID è un suggerimento che indica quale chiave è stata utilizzata per proteggere la firma Web JSON del token. </p>
              </li><li>
                <p>Scegli l'<b>algoritmo</b> di firma per il token. Questo è l'algoritmo di crittografia utilizzato per proteggere il token ID. Per ulteriori informazioni su RSA, consulta <a href="https://tools.ietf.org/html/rfc3447" rel="noopener noreferrer" target="_blank"><span>Crittografia RSA</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p>
              </li><li>
                <p>In <b>Attributi del certificato</b>, specifica una <b>catena di certificati</b> <em>opzionale</em>. La catena di certificati è composta da un elenco di certificati. Inizia con il certificato del server e termina con il certificato root. </p>
              </li><li>
                <p><em>Facoltativo</em> Specificare l'<b>impronta digitale o l'impronta digitale</b>. Dovrebbe essere un hash di un certificato, calcolato su tutti i dati del certificato e sulla sua firma. </p>
              </li><li>
                <p>Specifica l'<b>esponente</b>. Questo è il valore esponenziale della chiave pubblica RSA. È rappresentato come valore con codifica Base64urlUInt. </p>
              </li><li>
                <p>Specificate il <b>modulo</b>. Questo è il valore esponenziale della chiave pubblica RSA. È rappresentato come valore con codifica Base64urlUInt. </p>
              </li><li>
                <p>Seleziona <b>Salva chiave</b> per salvare la nuova chiave. </p>
              </li></ol>
          </li><li>
            <p><em>Facoltativo</em> in <b>configurazione avanzata</b>: </p>
            <ol><li>
                <p>Specificare un <b>nome utente</b> da utilizzare nel controllo ACL. </p>
              </li><li>
                <p>Specificare uno o più <b>gruppi</b> da utilizzare nel controllo ACL. </p>
              </li><li>
                <p>Specifica l'<b>emittente</b> che convaliderà l'emittente del token. </p>
              </li><li>
                <p>Specificare l'<b>ID o gli ID del client</b>. È necessario specificare un'espressione regolare che corrisponda al pubblico nel JWT. </p>
              </li></ol>
          </li><li>
            <p>Nella pagina dei <b>dettagli del provisioning</b>, scegli <b>Developer edition</b>.</p>
          </li><li>
            <p>Scegli <b>Crea</b> per creare il tuo indice.</p>
          </li><li>
            <p>Attendi la creazione dell'indice. Amazon Kendrafornisce l'hardware per il tuo indice. Questa operazione può richiedere del tempo.</p>
          </li></ol></div>
      </dd>
    <dt>CLI</dt><dd tab-id="cli">
        <p>Puoi usare JWT con una chiave pubblica all'interno di unAWS Secrets Manager. Hai bisogno dell'Secrets ManagerARN e il tuoAmazon Kendra ruolo deve avere accesso<code class="code">GetSecretValue</code> allaSecrets Manager risorsa. Se stai crittografando laSecrets Manager risorsa conAWS KMS, il ruolo deve avere accesso anche all'azione di decrittografia. </p>
        <p>Per creare un indiceAWS CLI utilizzando un file di input JSON, crea prima un file JSON con i parametri desiderati: </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Name": "<code class="replaceable">user-context</code>",
    "Edition": "<code class="replaceable">ENTERPRISE_EDITION</code>",
    "RoleArn": "arn:aws:iam::<code class="replaceable">account id</code>:role:/<code class="replaceable">my-role</code>",
    "UserTokenConfigurationList": [
        <span>{</span>
            "JwtTokenTypeConfiguration": <span>{</span>
                "KeyLocation": "SECRET_MANAGER",
                "Issuer": "<code class="replaceable">optional: specify the issuer url</code>",
                "ClaimRegex": "<code class="replaceable">optional: regex to validate claims in the token</code>",
                "UserNameAttributeField": "<code class="replaceable">optional: user</code>",
                "GroupAttributeField": "<code class="replaceable">optional: group</code>",
                "SecretManagerArn": "arn:aws:secretsmanager:<code class="replaceable">us-west-2</code>:<code class="replaceable">account id</code>:secret:/<code class="replaceable">my-user-context-secret</code>
            }
        }
    ],    "UserContextPolicy": "USER_TOKEN"
}</code></pre>
        <p>È possibile sovrascrivere i nomi predefiniti dei campi utente e gruppo. Il valore predefinito per<code class="code">UserNameAttributeField</code> è «user». Il valore predefinito per<code class="code">GroupAttributeField</code> è «gruppi». </p>
        <p>Quindi, chiama<code class="code">create-index</code> usando il file di input. Ad esempio, se il nome del tuo file JSON è<code>create-index-openid.json</code>, puoi utilizzare quanto segue: </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws kendra create-index --cli-input-json file://create-index-openid.json</code></pre>
        <p>Il segreto deve avere il seguente formato inSecrets Manager:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "keys": [
    <span>{</span>
      "alg": "RS256|RS384|RS512",
      "kty": "RSA", //this can be RSA only for now
      "use": "sig", //this value can be sig only for now
      "n": "<code class="replaceable">modulus of standard pem</code>",
      "e": "<code class="replaceable">exponent of standard pem</code>",
      "kid": "<code class="replaceable">key_id</code>",
      "x5t": "<code class="replaceable">certificate thumprint for x.509 cert</code>",
      "x5c": [
        "<code class="replaceable">certificate chain</code>"
      ]
    }
  ]
}</code></pre>
        <p>Per ulteriori informazioni su JWT, consulta <a href="http://jwt.io" rel="noopener noreferrer" target="_blank"><span>jwt.io</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      </dd>
    <dt>Python</dt><dd tab-id="python">
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="Python ">response = kendra.create_index(
    Name='<code class="replaceable">user-context</code>',
    Edition='<code class="replaceable">ENTERPRISE_EDITION</code>',
    RoleArn='arn:aws:iam::<code class="replaceable">account id</code>:role:/<code class="replaceable">my-role</code>',
    UserTokenConfigurationList=[
        <span>{</span>
            "JwtTokenTypeConfiguration": <span>{</span>
                "KeyLocation": "URL",
                "Issuer": "<code class="replaceable">optional: specify the issuer url</code>",
                "ClaimRegex": "<code class="replaceable">optional: regex to validate claims in the token</code>",
                "UserNameAttributeField": "<code class="replaceable">optional: user</code>",
                "GroupAttributeField": "<code class="replaceable">optional: group</code>",
                "SecretManagerArn": "arn:aws:secretsmanager:<code class="replaceable">us-west-2</code>:<code class="replaceable">account id</code>:secret:/<code class="replaceable">my-user-context-secret</code>"
            }
        }
    ],
    UserContextPolicy='USER_TOKEN'
)</code></pre>
      </dd>
  </dl></awsdocs-tabs><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./create-index-access-control-tokens-jwtshared.html">Token Web JSON (JW)</div><div id="next" class="next-link" accesskey="n" href="./create-index-access-control-tokens-json.html">Utilizzo di JSON</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/it_it/kendra/latest/dg/create-index-access-control-tokens-jwtpublic.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>