<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>IAMruoli di accesso perAmazon Kendra - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="iam-roles" /><meta name="default_state" content="iam-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" /><meta name="description" content="Le autorizzazioni di accesso richieste perAmazon Kendra." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Guida per gli sviluppatori" /><meta name="abstract" content="Fornisce una panoramica concettuale di Amazon Kendra. ScopriAmazon Kendra le funzionalità e inizia a indicizzare i tuoi documenti utilizzando la console, l'interfaccia a riga di comando e l'API." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/iam-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/iam-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/iam-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/iam-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/iam-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/iam-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/iam-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/iam-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/iam-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/iam-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/iam-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/iam-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/iam-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/iam-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Guida per gli sviluppatori" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Guida per gli sviluppatori" /><meta id="panorama-serviceConsolePage" value="IAMruoli di accesso perAmazon Kendra" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>IAMruoli di accesso perAmazon Kendra - Amazon Kendra</title><meta name="pdf" content="kendra-dg.pdf#iam-roles" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html" /><meta name="keywords" content="Kendra,Amazon Kendra,cerca,ricerca intelligente,linguaggio naturale,index,question,parola chiave,origine dati,connettore,Domande frequenti,domande frequenti" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per gli sviluppatori",
        "item" : "https://docs.aws.amazon.com/it_it/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IAMruoli di accesso perAmazon Kendra",
        "item" : "https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="kendra-dg.pdf#iam-roles" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Guida per gli sviluppatori</a></div><div id="page-toc-src"><a href="#iam-roles-index">IAMruoli per gli indici</a><a href="#iam-roles-batch">IAMruoli per l' BatchPutDocumentAPI</a><a href="#iam-roles-ds">IAMruoli per le fonti di dati</a><a href="#iam-roles-ds-faq">IAMruoli per le domande più frequenti (FAQ)</a><a href="#iam-roles-query-suggestions">IAMruoli per i suggerimenti di interrogazione</a><a href="#iam-roles-principal-mapping">IAMruoli per la mappatura principale di utenti e gruppi</a><a href="#iam-roles-aws-sso">Ruoli IAM per AWS IAM Identity Center (successor to AWS Single Sign-On)</a><a href="#iam-roles-amazon-kendra-experiences">IAMruoli perAmazon Kendra esperienze</a><a href="#iam-roles-custom-document-enrichment">IAMruoli per l'arricchimento personalizzato dei documenti</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="iam-roles">IAMruoli di accesso perAmazon Kendra</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Quando si crea un indice, una fonte di dati o una domanda frequente,Amazon Kendra deve accedere alleAWS risorse necessarie per creare laAmazon Kendra risorsa. È necessario creare unaAWS Identity and Access Management (IAM) policy prima di creare laAmazon Kendra risorsa. Quando si chiama l'operazione, è necessario fornire l'Amazon Resource Name (ARN) del ruolo con la policy allegata. Ad esempio, se stai chiamando l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API per aggiungere documenti da unAmazon S3 bucket,Amazon Kendra fornisci un ruolo con una policy che ha accesso al bucket.</p><p>Puoi creare un nuovoIAM ruolo nellaAmazon Kendra console o scegliere un ruoloIAM esistente da utilizzare. La console mostra i ruoli che hanno la stringa «kendra» o «Kendra» nel nome del ruolo. </p><p>I seguenti argomenti forniscono dettagli sulle politiche richieste. SeIAM crei ruoli utilizzando laAmazon Kendra console, queste policy vengono create automaticamente.</p><div class="highlights" id="inline-topiclist"><h6>Argomenti</h6><ul><li><a href="#iam-roles-index">IAMruoli per gli indici</a></li><li><a href="#iam-roles-batch">IAMruoli per l' BatchPutDocumentAPI</a></li><li><a href="#iam-roles-ds">IAMruoli per le fonti di dati</a></li><li><a href="#iam-roles-ds-faq">IAMruoli per le domande più frequenti (FAQ)</a></li><li><a href="#iam-roles-query-suggestions">IAMruoli per i suggerimenti di interrogazione</a></li><li><a href="#iam-roles-principal-mapping">IAMruoli per la mappatura principale di utenti e gruppi</a></li><li><a href="#iam-roles-aws-sso">Ruoli IAM per AWS IAM Identity Center (successor to AWS Single Sign-On)</a></li><li><a href="#iam-roles-amazon-kendra-experiences">IAMruoli perAmazon Kendra esperienze</a></li><li><a href="#iam-roles-custom-document-enrichment">IAMruoli per l'arricchimento personalizzato dei documenti</a></li></ul></div>
        <h2 id="iam-roles-index">IAMruoli per gli indici</h2>
        <p>Quando si crea un indice, è necessario fornire unIAM ruolo con il permesso di scrivere su unAmazon CloudWatch. È inoltre necessario fornire una policy di attendibilità cheAmazon Kendra consenta a di assumere tale ruolo. Di seguito sono riportate le politiche che devono essere fornite.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per gli indici" id="permissions-policy" expanded="false"><p>Una politica di ruolo per consentire l'accessoAmazon Kendra a unCloudWatch registro.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": "cloudwatch:PutMetricData",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "cloudwatch:namespace": "AWS/Kendra"
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": "logs:DescribeLogGroups",
            "Resource": "*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": "logs:CreateLogGroup",
            "Resource": "arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "logs:DescribeLogStreams",
                "logs:CreateLogStream",
                "logs:PutLogEvents"
            ],
            "Resource": "arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*:log-stream:*"
        }
    ]
}</code></pre><p>Una politica dei ruoli per consentire l'Amazon KendraaccessoAWS Secrets Manager. Se si utilizza il contesto utente conSecrets Manager come posizione chiave, è possibile utilizzare la seguente policy. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Action":"cloudwatch:PutMetricData",
         "Resource":"*",
         "Condition":<span>{</span>
            "StringEquals":<span>{</span>
               "cloudwatch:namespace":"AWS/Kendra"
            }
         }
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":"logs:DescribeLogGroups",
         "Resource":"*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":"logs:CreateLogGroup",
         "Resource":"arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "logs:DescribeLogStreams",
            "logs:CreateLogStream",
            "logs:PutLogEvents"
         ],
         "Resource":"arn:aws:logs:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:log-group:/aws/kendra/*:log-stream:*"
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "secretsmanager:GetSecretValue"
         ],
         "Resource":[
            "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret_id</code>"
         ]
      },
      <span>{</span>
         "Effect":"Allow",
         "Action":[
            "kms:Decrypt"
         ],
         "Resource":[
            "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key_id</code>"
         ],
         "Condition":<span>{</span>
            "StringLike":<span>{</span>
               "kms:ViaService":[
                  "secretsmanager.*.amazonaws.com"
               ]
            }
         }
      }
   ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-batch">IAMruoli per l' BatchPutDocumentAPI</h2>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>avvertimento</h6></div><div class="awsdocs-note-text"><p>Amazon Kendranon utilizza una politica dei bucket che concede a unAmazon Kendra committente le autorizzazioni per interagire con un bucket S3. Utilizza invece iIAM ruoli. Assicurati cheAmazon Kendra non sia incluso come membro di fiducia nella tua policy per evitare problemi di sicurezza dei dati nel concedere accidentalmente autorizzazioni a committenti arbitrari. Tuttavia, puoi aggiungere una policy per utilizzare unAmazon S3 bucket su diversi account. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds-s3-cross-accounts">Criteri da utilizzareAmazon S3 tra account</a>. Per informazioni suiIAM ruoli per le fonti di dati S3, consulta <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds-s3">IAMruoli</a>.</p></div></div>
        <p>Quando si utilizza l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>API per indicizzare i documenti in unAmazon S3 bucket, è necessario fornireAmazon Kendra unIAM ruolo con accesso al bucket. È inoltre necessario fornire una policy di attendibilità cheAmazon Kendra consenta a di assumere tale ruolo. Se i documenti nel bucket sono crittografati, è necessario fornire l'autorizzazione a utilizzare la chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per l' BatchPutDocument API" id="iam-roles-batch-json" expanded="false"><p>Una politica di ruolo obbligatoria per consentire l'accessoAmazon Kendra a unAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Si consiglia di includere<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> nella politica di fiducia. Ciò limita le autorizzazioni e verifica in modo sicuro se<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> sono uguali a quelli previsti nella politica deiIAM ruoli per l'<code class="code">sts:AssumeRole</code>azione. Ciò impedisce a entità non autorizzate di accedere ai tuoiIAM ruoli e alle relative autorizzazioni. Per ulteriori informazioni, consulta laAWS Identity and Access Management guida sul <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">problema del «confuso</a>».</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre><p>Una politica di ruolo opzionale che consente diAmazon Kendra utilizzare una chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti in unAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-ds">IAMruoli per le fonti di dati</h2>
        <p>Quando si utilizza l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateDataSource.html">CreateDataSource</a>API, è necessario assegnareAmazon Kendra unIAM ruolo autorizzato ad accedere alle risorse del database. Le autorizzazioni specifiche necessarie dipendono dall'origine dati.</p>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Alfresco" id="iam-roles-ds-alfresco" expanded="false"><p>Quando usi Alfresco, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare Alfresco.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il connettore Alfresco.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti diAmazon S3 dati" id="iam-roles-ds-s3" expanded="false"><div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>avvertimento</h6></div><div class="awsdocs-note-text"><p>Amazon Kendranon utilizza una politica dei bucket che concede a unAmazon Kendra committente le autorizzazioni per interagire con un bucket S3. Utilizza invece iIAM ruoli. Assicurati cheAmazon Kendra non sia incluso come membro di fiducia nella tua policy per evitare problemi di sicurezza dei dati nel concedere accidentalmente autorizzazioni a committenti arbitrari. Tuttavia, puoi aggiungere una policy per utilizzare unAmazon S3 bucket su diversi account. Per ulteriori informazioni, consulta<a href="#iam-roles-ds-s3-cross-accounts">Criteri da utilizzareAmazon S3 su più account</a> (scorri verso il basso).</p></div></div><p>Quando si utilizza unAmazon S3 bucket come origine dati, si fornisce un ruolo autorizzato ad accedere al bucket e a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and. Se i documenti nelAmazon S3 bucket sono crittografati, è necessario fornire l'autorizzazione a utilizzare la chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti.</p><p>Una politica di ruolo obbligatoriaAmazon Kendra per consentire l'utilizzo di unAmazon S3 bucket come fonte di dati.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
         <span>{</span>
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            ]
        }
    ]
}</code></pre><p>Una politica di ruolo opzionale che consente diAmazon Kendra utilizzare una chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti in unAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre><p>Una politica di ruolo opzionale per consentire l'accessoAmazon Kendra a unAmazon S3 bucket, mentre si utilizza unAmazon VPC e senza attivareAWS KMS o condividereAWS KMS le autorizzazioni.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}/*"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Action": [
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]",
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:security-group/[[security_group]]"
      ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateNetworkInterface"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringLike": <span>{</span>
                "aws:RequestTag/AWS_KENDRA": "kendra_<span>{</span><span>{</span>account_id}}_<span>{</span><span>{</span>index_id}}_<span>{</span>datasource_id}}_*"
            }
        }
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateTags"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringEquals": <span>{</span>
                "ec2:CreateAction": "CreateNetworkInterface"
            }
        }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": ["arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}",
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
    }
  ]
}
<span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "kendra.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre><p>Una politica di ruolo opzionale per consentire l'accessoAmazon Kendra a unAmazon S3 bucket durante l'utilizzo di unAmazon VPC e conAWS KMS le autorizzazioni attivate.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}/*"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Action": [
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::<span>{</span><span>{</span>input_bucket_name}}"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/<span>{</span><span>{</span>key_id}}"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "s3.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]",
        "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:security-group/[[security_group]]"
      ]
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateNetworkInterface"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringLike": <span>{</span>
                "aws:RequestTag/AWS_KENDRA": "kendra_<span>{</span><span>{</span>account_id}}_<span>{</span><span>{</span>index_id}}_<span>{</span>datasource_id}}_*"
            }
        }
    },
    <span>{</span>
        "Effect": "Allow",
        "Action": [
            "ec2:CreateTags"
        ],
        "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
        "Condition": <span>{</span>
            "StringEquals": <span>{</span>
                "ec2:CreateAction": "CreateNetworkInterface"
            }
        }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": ["arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}",
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
    }
  ]
}

<span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "kendra.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                    <h4 id="iam-roles-ds-s3-cross-accounts">Criteri da utilizzareAmazon S3 su più account</h4>
                    <p>Se ilAmazon S3 bucket si trova in un account diverso da quello utilizzato per l'Amazon Kendraindice, puoi creare politiche per utilizzarlo su più account.</p>
                    <p>Una politica di ruolo per utilizzare ilAmazon S3 bucket come fonte di dati quando il bucket si trova in un account diverso dall'Amazon Kendraindice.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
         <span>{</span>
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:$KENDRA_REGION:$KENDRA_ACCOUNT_ID:index/$KENDRA_INDEX_ID"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:PutObjectAcl"
            ],
            "Resource": "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
        }
    ]
}</code></pre>
                    <p>Una politica dei bucket per consentire al ruolo di origineAmazon S3 dei dati di accedere alAmazon S3 bucket tra account.</p>
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "$KENDRA_S3_CONNECTOR_ROLE_ARN"
            },
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:PutObjectAcl"
            ],
            "Resource": [
                "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT/*"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "AWS": "$KENDRA_S3_CONNECTOR_ROLE_ARN"
            },
            "Action": "s3:ListBucket",
            "Resource": "arn:aws:s3:::$BUCKET_IN_OTHER_ACCOUNT"
        }
    ]
}</code></pre>
                     
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                </awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati del database" id="iam-roles-ds-jdbc" expanded="false"><p>Quando si utilizza un database come origine dati, si fornisce un ruoloAmazon Kendra con le autorizzazioni necessarie per la connessione al database. Eccone alcuni:</p><div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere alAWS Secrets Manager segreto che contiene il nome utente e la password per il sito del database. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-database.html">Amazon RDS/Aurora</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daSecrets Manager.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione ad accedere alAmazon S3 bucket che contiene il certificato SSL utilizzato per comunicare con il sito del database.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>Esistono due politiche opzionali che è possibile utilizzare con un'origine dati del database.</p><p>Se hai crittografato ilAmazon S3 bucket che contiene il certificato SSL utilizzato per comunicare con il database, fornisci una politica perAmazon Kendra consentire l'accesso alla chiave. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre><p>Se utilizzi un cloud privato VPC, fornisci una policy che consentaAmazon Kendra l'accesso alle risorse richieste. <a href="#iam-roles-vpc">IAMRuolo Virtual (VPC)</a>Consulta la politica richiesta.</p>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti diAmazon FSx dati" id="iam-roles-ds-fsx" expanded="false"><p>Quando lo usiAmazon FSx, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare il tuoAmazon FSx.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione di accessoAmazon Virtual Private Cloud (VPC) doveAmazon FSx risiedi.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a ottenere il nome di dominio di Active Directory per il file system diAmazon FSx Windows.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per ilAmazon FSx connettore.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchDeleteDocument</code> API<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
        "Statement": [
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "secretsmanager:GetSecretValue"
          ],
          "Resource": [
            "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:<span>{</span><span>{</span>secret_id}}"
          ]
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "kms:Decrypt"
          ],
          "Resource": [
            "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/<span>{</span><span>{</span>key_id}}"
          ],
          "Condition": <span>{</span>
            "StringLike": <span>{</span>
              "kms:ViaService": [
                "secretsmanager.<span>{</span><span>{</span>region}}.amazonaws.com"
              ]
            }
          }
        },
        <span>{</span>
          "Effect": "Allow",
          "Action":[
            "ec2:CreateNetworkInterface",
            "ec2:DeleteNetworkInterface"
          ],
          "Resource": [
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
          ]   
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "ec2:DescribeSubnets",
            "ec2:DescribeNetworkInterfaces"
          ],
          "Resource": "*"
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "ec2:CreateNetworkInterfacePermission"
          ],
          "Resource": "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:network-interface/*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "ec2:AuthorizedService": "kendra.*.amazonaws.com"
            },
            "ArnEquals": <span>{</span>
              "ec2:Subnet": [
                "arn:aws:ec2:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:subnet/[[subnet_ids]]"
              ]
            }
          }
        },
        <span>{</span>
          "Sid": "AllowsKendraToGetDomainNameOfActiveDirectory",
          "Effect": "Allow",
          "Action": "ds:DescribeDirectories",
          "Resource": "*"
        },
        <span>{</span>
          "Sid": "AllowsKendraToCallRequiredFsxAPIs",
          "Effect": "Allow",
          "Action": [
              "fsx:DescribeFileSystems"
          ],
          "Resource": "*"
        },
        <span>{</span>
          "Sid": "iamPassRole",
          "Effect": "Allow",
          "Action": "iam:PassRole",
          "Resource": "*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "iam:PassedToService": [
                "kendra.*.amazonaws.com"
              ]
            }
          }
        },
        <span>{</span>
          "Effect": "Allow",
          "Action": [
            "kendra:BatchPutDocument",
            "kendra:BatchDeleteDocument"
          ],
          "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
        }
        ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati del web crawler" id="iam-roles-ds-webcrawler" expanded="false"><p>Quando usiAmazon Kendra Web Crawler, fornisci un ruolo con le seguenti politiche:</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione per accedere alAWS Secrets Manager segreto che contiene il nome utente e la password per connettersi a siti Web o a un server proxy Web con autenticazione di base. Per ulteriori informazioni sul contenuto del segreto, consulta <a href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-web-crawler.html">Utilizzo di una fonte dati del web crawler</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daSecrets Manager.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti diAmazon WorkDocs dati" id="iam-roles-workdocs" expanded="false"><p>Quando lo usiAmazon WorkDocs, fornisci un ruolo con le seguenti politiche</p><div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione a verificare l'ID della directory (ID dell'organizzazione) che corrisponde all'archivioAmazon WorkDocs del sito.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a ottenere il nome di dominio dell'Active Directory che contiene la directoryAmazon WorkDocs del sito.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per ilAmazon WorkDocs connettore.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchDeleteDocument</code> API<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "AllowsKendraToGetDomainNameOfActiveDirectory",
      "Effect": "Allow",
      "Action": "ds:DescribeDirectories",
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "AllowsKendraToCallRequiredWorkDocsAPIs",
      "Effect": "Allow",
      "Action": [
        "workdocs:GetDocumentPath",
        "workdocs:GetGroup",
        "workdocs:GetDocument",
        "workdocs:DownloadDocumentVersions",
        "workdocs:DescribeUsers",
        "workdocs:DescribeFolderContents",
        "workdocs:DescribeActivities",
        "workdocs:DescribeComments",
        "workdocs:GetFolder",
        "workdocs:DescribeResourcePermissions",
        "workdocs:GetFolderPath",
        "workdocs:DescribeInstances"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "iamPassRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "iam:PassedToService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Sid": "AllowsKendraToCallBatchPutDeleteAPIs",
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/$<span>{</span><code class="replaceable">IndexId</code>}"
      ]
    }
  ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Box" id="iam-roles-ds-box" expanded="false"><p>Quando usi Box, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare il tuo Slack.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il connettore Box.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Confluence" id="iam-roles-ds-cnf" expanded="false"><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per Confluence Connector Confluence" id="iam-roles-confluence-v1" expanded="false"><p>Quando utilizzi un server Confluence come origine dati, fornisci un ruolo con le seguenti politiche:</p><div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Autorizzazione ad accedere alAWS Secrets Manager segreto che contiene le credenziali necessarie per connettersi a Confluence. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-confluence.html">Confluence</a>.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daSecrets Manager.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                            </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre><p>Se utilizzi un cloud privato VPC, fornisci una policy che consentaAmazon Kendra l'accesso alle risorse richieste. <a href="#iam-roles-vpc">IAMRuolo Virtual (VPC)</a>Consulta la politica richiesta.</p>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per Confluence Connector v2.0" id="iam-roles-confluence-v2" expanded="false"><p>Per un'origine dati del connettore Confluence v2.0, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Autorizzazione ad accedere alAWS Secrets Manager segreto che contiene le credenziali di autenticazione per Confluence. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-confluence.html">Confluence</a>.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daAWS Secrets Manager.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                            </li></ul></div><p>È inoltre necessario allegare una policy di attendibilità cheAmazon Kendra consenta a di assumere tale ruolo.</p><p>Una politica dei ruoliAmazon Kendra per consentire la connessione a Confluence.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:region:account_id:secret:secret_id"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:region:account_id:key/key_id"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:region:account_id:index/index_id",
        "arn:aws:kendra:region:account_id:index/index_id/data-source/*"
      ]
    }
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:region:account_id:index/index_id"
    }
  ]
}</code></pre><p>Una politica di ruolo per consentireAmazon Kendra la connessione a Confluence con la configurazione VPC.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:region:account_id:secret:secret_id"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:region:account_id:key/key_id"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:region:account_id:index/index_id",
        "arn:aws:kendra:region:account_id:index/index_id/data-source/*"
      ]
    }
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:region:account_id:index/index_id"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:region:account_id:subnet/subnet_ids",
        "arn:aws:ec2:region:account_id:security-group/security_group"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:RequestTag/AWS_KENDRA": "kendra_account_id_index_id_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateTags"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:CreateAction": "CreateNetworkInterface"
        }
      }
    },
    
<span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:region:account_id:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:ResourceTag/AWS_KENDRA": "kendra_account_id_index_id_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeNetworkInterfaceAttribute",
        "ec2:DescribeVpcs",
        "ec2:DescribeRegions",
        "ec2:DescribeNetworkInterfacePermissions",
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    }
  ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div></awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati di Dropbox" id="iam-roles-ds-dropbox" expanded="false"><p>Quando usi Dropbox, fornisci un ruolo con le seguenti norme.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare il tuo Dropbox.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il connettore Dropbox.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
"Version": "2012-10-17",
  "Statement": [
  <span>{</span>"Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>"StringLike": <span>{</span>"kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di GitHub  dati" id="iam-roles-ds-github" expanded="false"><p>Quando lo usi GitHub, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare il tuo GitHub.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il GitHub connettore.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>


        
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati di Gmail" id="iam-roles-ds-gmail" expanded="false"><p>Quando usi Gmail, fornisci un ruolo con le seguenti norme.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare Gmail.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per Gmailconnector.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
"Version": "2012-10-17",
  "Statement": [
  <span>{</span>"Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>"StringLike": <span>{</span>"kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>"Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati di Google Drive" id="iam-roles-ds-gd" expanded="false"><p>Quando utilizzi una fonte di dati di Google Workspace Drive, fornisci un ruoloAmazon Kendra con le autorizzazioni necessarie per connetterti al sito. Eccone alcuni: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione a ottenere e decrittografare ilAWS Secrets Manager segreto che contiene l'email dell'account cliente, l'email dell'account amministratore e la chiave privata necessari per connettersi al sito di Google Drive. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-google-drive.html">Google Drive</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>and.</p>
                    </li></ul></div><p>La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Jira" id="iam-roles-ds-jira" expanded="false"><p>Quando usi Jira, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare il tuo Jira.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il connettore Jira.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le origini dati di Microsoft Exchange" id="iam-roles-ds-exchange" expanded="false"><p>Quando si utilizza un'origine dati di Microsoft Exchange, si fornisce un ruoloAmazon Kendra con le autorizzazioni necessarie per la connessione al sito. Eccone alcuni: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione a ottenere e decrittografare ilAWS Secrets Manager segreto che contiene l'ID dell'applicazione e la chiave segreta necessari per connettersi al sito Microsoft Exchange. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-yammer.html">Microsoft Yammer</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>and.</p>
                    </li></ul></div><p>La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>Se si archivia l'elenco di utenti da indicizzare in unAmazon S3 bucket, è necessario fornire anche l'autorizzazione per utilizzare l'<code class="code">GetObject</code>operazione S3. La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le sorgenti OneDrive  dati Microsoft" id="iam-roles-ds-on" expanded="false"><p>Quando si utilizza un'origine OneDrive  dati Microsoft, si fornisce un ruoloAmazon Kendra con le autorizzazioni necessarie per la connessione al sito. Eccone alcuni: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione a ottenere e decrittografare ilAWS Secrets Manager segreto che contiene l'ID dell'applicazione e la chiave segreta necessari per connettersi al OneDrive  sito. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-onedrive.html">Microsoft OneDrive</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>and.</p>
                    </li></ul></div><p>La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>Se si archivia l'elenco di utenti da indicizzare in unAmazon S3 bucket, è necessario fornire anche l'autorizzazione per utilizzare l'<code class="code">GetObject</code>operazione S3. La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le sorgenti SharePoint  dati Microsoft" id="iam-roles-ds-spo" expanded="false"><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per SharePoint  Connector Connector per Connector Connector" id="iam-roles-sharepoint-v1" expanded="false"><p>Per un'origine dati Microsoft SharePoint  Connector v1.0, si fornisce un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Autorizzazione ad accedere alAWS Secrets Manager segreto che contiene il nome utente e la password per il SharePoint  sito. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-sharepoint.html">Microsoft SharePoint</a>.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daAWS Secrets Manager.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione ad accedere alAmazon S3 bucket che contiene il certificato SSL utilizzato per comunicare con il SharePoint  sito.</p>
                            </li></ul></div><p>È inoltre necessario allegare una policy di attendibilità cheAmazon Kendra consenta a di assumere tale ruolo.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "secretsmanager:GetSecretValue"
            ],
            "Resource": [
                "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kendra:BatchPutDocument",
                "kendra:BatchDeleteDocument"
            ],
            "Resource": [
                "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>Se hai crittografato ilAmazon S3 bucket che contiene il certificato SSL utilizzato per comunicare con il SharePoint  sito, fornisci una politica perAmazon Kendra consentire l'accesso alla chiave. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div><div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per SharePoint  Connector v2.0" id="iam-roles-sharepoint-v2" expanded="false"><p>Per un'origine dati Microsoft SharePoint  Connector v2.0, si fornisce un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p>Autorizzazione ad accedere alAWS Secrets Manager segreto che contiene le credenziali di autenticazione per il SharePoint  sito. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-sharepoint.html">Microsoft SharePoint</a>.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daAWS Secrets Manager.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                            </li><li class="listitem">
                                <p>Autorizzazione ad accedere alAmazon S3 bucket che contiene il certificato SSL utilizzato per comunicare con il SharePoint  sito.</p>
                            </li></ul></div><p>È inoltre necessario allegare una policy di attendibilità cheAmazon Kendra consenta a di assumere tale ruolo.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "secretsmanager:GetSecretValue"
      ],
      "Resource": [
        "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:secret:<code class="replaceable">secret_id</code>"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kms:Decrypt"
      ],
      "Resource": [
        "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:key/<code class="replaceable">key_id</code>"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "secretsmanager.*.amazonaws.com"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
      ],
      "Resource": [
        "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>",
        "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>/data-source/*"
      ]
    },
    <span>{</span>
      "Action": [
        "s3:GetObject"
      ],
      "Resource": [
        "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/<code class="replaceable">input_key_name</code>"
      ],
      "Effect": "Allow"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "kendra:BatchPutDocument",
        "kendra:BatchDeleteDocument"
      ],
      "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:index/<code class="replaceable">index_id</code>"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": [
        "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:subnet/<code class="replaceable">subnet_ids</code>",
        "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:security-group/<code class="replaceable">security_group</code>"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:RequestTag/AWS_KENDRA": "kendra_<code class="replaceable">account_id</code>_<code class="replaceable">index_id</code>_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateTags"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:CreateAction": "CreateNetworkInterface"
        }
      }
    },
    
<span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account_id</code>:network-interface/*",
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "aws:ResourceTag/AWS_KENDRA": "kendra_<code class="replaceable">account_id</code>_<code class="replaceable">index_id</code>_*"
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeNetworkInterfaceAttribute",
        "ec2:DescribeVpcs",
        "ec2:DescribeRegions",
        "ec2:DescribeNetworkInterfacePermissions",
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    }
  ]
}</code></pre><p>Se hai crittografato ilAmazon S3 bucket che contiene il certificato SSL utilizzato per comunicare con il SharePoint  sito, fornisci una politica perAmazon Kendra consentire l'accesso alla chiave. </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ]
        }
    ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div></awsui-expandable-section></div>

        

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati di Microsoft Teams" id="iam-roles-ds-teams" expanded="false"><p>Quando si utilizza un'origine dati Microsoft Teams, si fornisce un ruoloAmazon Kendra con le autorizzazioni necessarie per connettersi al sito. Eccone alcuni: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione a ottenere e decrittografare ilAWS Secrets Manager segreto che contiene l'ID client e il segreto del client necessari per connettersi a Microsoft Teams. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-teams.html">Microsoft Teams.</a>.</p>
                    </li><li class="listitem">
                         
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
 
                    </li></ul></div><p>La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">client ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
        </code></pre></awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le sorgenti dati di Microsoft Yammer" id="iam-roles-ds-yammer" expanded="false"><p>Quando si utilizza un'origine dati di Microsoft Yammer, si fornisce un ruoloAmazon Kendra con le autorizzazioni necessarie per la connessione al sito. Eccone alcuni: </p><div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione a ottenere e decrittografare ilAWS Secrets Manager segreto che contiene l'ID dell'applicazione e la chiave segreta necessari per connettersi al sito Microsoft Yammer. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-yammer.html">Microsoft Yammer</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchDeleteDocument.html">BatchDeleteDocument</a>API <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_BatchPutDocument.html">BatchPutDocument</a>and.</p>
                    </li></ul></div><p>La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre><p>Se si archivia l'elenco di utenti da indicizzare in unAmazon S3 bucket, è necessario fornire anche l'autorizzazione per utilizzare l'<code class="code">GetObject</code>operazione S3. La seguenteIAM policy fornisce le autorizzazioni necessarie:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Action": [
      "s3:GetObject"
    ],
    "Resource": [
      "arn:aws:s3:::<code class="replaceable">input_bucket_name</code>/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/[[key IDs]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com",
          "s3.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}
</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Quip" id="iam-roles-ds-quip" expanded="false"><p>Quando usi Quip, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare il tuo Quip.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il connettore Quip.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Salesforce" id="iam-roles-ds-sf" expanded="false"><p>Quando utilizzi Salesforce come fonte di dati, fornisci un ruolo con le seguenti politiche:</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere alAWS Secrets Manager segreto che contiene il nome utente e la password per il sito Salesforce. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-salesforce.html">Salesforce</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daSecrets Manager.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>


        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di ServiceNow  dati" id="iam-roles-ds-sn" expanded="false"><p>Quando utilizzi a ServiceNow  come origine dati, fornisci un ruolo con le seguenti politiche:</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere alSecrets Manager segreto che contiene il nome utente e la password per il ServiceNow  sito. Per ulteriori informazioni sul contenuto del segreto, consulta<a href="./data-source-servicenow.html">ServiceNow</a>.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare il segreto del nome utente e della password memorizzato daSecrets Manager.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a utilizzare le<code class="code">BatchDeleteDocument</code> operazioni<code class="code">BatchPutDocument</code> and per aggiornare l'indice.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:secret:<code class="replaceable">secret ID</code>"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:index/<code class="replaceable">index ID</code>"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Slack" id="iam-roles-ds-slack" expanded="false"><p>Quando usi Slack, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare il tuo Slack.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il connettore Slack.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le fonti di dati Zendesk" id="iam-roles-ds-zendesk" expanded="false"><p>Quando usi Zendesk, fornisci un ruolo con le seguenti politiche.</p><div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Autorizzazione ad accedere al tuoAWS Secrets Manager segreto per autenticare la tua suite Zendesk.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le API pubbliche richieste per il connettore Zendesk.</p>
                    </li><li class="listitem">
                        <p>Autorizzazione a chiamare le<code class="code">BatchPutDocument</code><code class="code">BatchDeleteDocument</code><code class="code">PutPrincipalMapping</code>,<code class="code">DeletePrincipalMapping</code>,<code class="code">DescribePrincipalMapping</code>, e le<code class="code">ListGroupsOlderThanOrderingId</code> API.</p>
                    </li></ul></div><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "secretsmanager:GetSecretValue"
    ],
    "Resource": [
      "arn:aws:secretsmanager:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:secret:[[secret_id]]"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:key/[[key_id]]"
    ],
    "Condition": <span>{</span>
      "StringLike": <span>{</span>
        "kms:ViaService": [
          "secretsmanager.*.amazonaws.com"
        ]
      }
    }
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
        "kendra:PutPrincipalMapping",
        "kendra:DeletePrincipalMapping",
        "kendra:ListGroupsOlderThanOrderingId",
        "kendra:DescribePrincipalMapping"
    ],
    "Resource": ["arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}", "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}/data-source/*"]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kendra:BatchPutDocument",
      "kendra:BatchDeleteDocument"
    ],
    "Resource": "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>index_id}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>

        

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMRuolo Virtual (VPC)" id="iam-roles-vpc" expanded="false"><p>Se si utilizza un cloud privato virtuale (VPC) per connettersi alla sorgente dati, è necessario fornire le seguenti autorizzazioni.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterface",
        "ec2:DescribeNetworkInterfaces",
        "ec2:DeleteNetworkInterface"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:CreateNetworkInterfacePermission"
      ],
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "ec2:AuthorizedService": "kendra.*.amazonaws.com"
        },
        "ArnEquals": <span>{</span>
          "ec2:Subnet": [
            "arn:aws:ec2:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:subnet/<code class="replaceable">subnet IDs</code>"
          ]
        }
      }
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "ec2:DescribeSubnets"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Sid": "iamPassRole",
      "Effect": "Allow",
      "Action": "iam:PassRole",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "iam:PassedToService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    }
  ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-ds-faq">IAMruoli per le domande più frequenti (FAQ)</h2>
        <p>Quando si utilizza l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateFaq.html">CreateFaq</a>API per caricare domande e risposte in un indice, è necessario fornireAmazon Kendra unIAM ruolo con accesso alAmazon S3 bucket che contiene i file sorgente. Se i file di origine sono crittografati, è necessario fornire l'autorizzazione necessaria per utilizzare la chiave masterAWS KMS cliente (CMK) per decrittografare i file.</p>

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per le domande frequenti" id="iam-roles-faq" expanded="false"><p>Una politica di ruolo obbligatoria per consentire l'accessoAmazon Kendra a unAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">bucket name</code>/*"
            ]
        }
    ]
}</code></pre><p>Una politica di ruolo opzionale che consente diAmazon Kendra utilizzare una chiave masterAWS KMS del cliente (CMK) per decrittografare i file in unAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">account ID</code>:key/<code class="replaceable">key ID</code>"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "kms:ViaService": [
                        "kendra.*.amazonaws.com"
                    ]
                }
            }
        }
    ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-query-suggestions">IAMruoli per i suggerimenti di interrogazione</h2>
        <p>Quando si utilizza unAmazon S3 file come elenco di blocco dei suggerimenti di query, si fornisce un ruolo autorizzato ad accedere alAmazon S3 file e alAmazon S3 bucket. Se il file di testo dell'elenco di blocchi (ilAmazon S3 file) nelAmazon S3 bucket è crittografato, è necessario fornire l'autorizzazione a utilizzare la chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per i suggerimenti di interrogazione" id="iam-roles-query-sugestions-json" expanded="false"><p>Una politica di ruolo obbligatoriaAmazon Kendra per consentire l'utilizzo delAmazon S3 file come elenco di blocco dei suggerimenti di interrogazione.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::bucket name/*"
            ]
        }
    ]
}
</code></pre><p>Una politica di ruolo opzionale che consente diAmazon Kendra utilizzare una chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti in unAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:region:account ID:key/key ID"
            ]
        }
    ]
}
</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-principal-mapping">IAMruoli per la mappatura principale di utenti e gruppi</h2>
        <p>Quando si utilizza l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_PutPrincipalMapping.html">PutPrincipalMapping</a>API per mappare gli utenti ai loro gruppi per filtrare i risultati della ricerca in base al contesto utente, è necessario fornire un elenco di utenti o sottogruppi che appartengono a un gruppo. Se l'elenco contiene più di 1000 utenti o sottogruppi per un gruppo, devi fornire un ruolo autorizzato ad accedere alAmazon S3 file dell'elenco e alAmazon S3 bucket. Se il file di testo (ilAmazon S3 file) dell'elenco nelAmazon S3 bucket è crittografato, è necessario fornire l'autorizzazione a utilizzare la chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti.</p>

        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per la mappatura principale" id="iam-roles-principal-mapping-json" expanded="false"><p>Una politica di ruolo obbligatoriaAmazon Kendra per consentire l'utilizzo delAmazon S3 file come elenco di utenti e sottogruppi che appartengono a un gruppo.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::bucket name/*"
            ]
        }
    ]
}
</code></pre><p>Una politica di ruolo opzionale che consente diAmazon Kendra utilizzare una chiave masterAWS KMS del cliente (CMK) per decrittografare i documenti in unAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>"Effect": "Allow",
            "Action": [
                "kms:Decrypt"
            ],
            "Resource": [
                "arn:aws:kms:region:account ID:key/key ID"
            ]
        }
    ]
}
</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Si consiglia di includere<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> nella politica di fiducia. Ciò limita le autorizzazioni e verifica in modo sicuro se<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> sono uguali a quelli previsti nella politica deiIAM ruoli per l'<code class="code">sts:AssumeRole</code>azione. Ciò impedisce a entità non autorizzate di accedere ai tuoiIAM ruoli e alle relative autorizzazioni. Per ulteriori informazioni, consulta laAWS Identity and Access Management guida sul <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">problema del «confuso</a>».</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-aws-sso">Ruoli IAM per AWS IAM Identity Center (successor to AWS Single Sign-On)</h2>
        <p>Quando si utilizza l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UserGroupResolutionConfiguration.html">UserGroupResolutionConfiguration</a>oggetto per recuperare i livelli di accesso di gruppi e utenti da un'origine diAWS IAM Identity Center (successor to AWS Single Sign-On) identità, è necessario fornire un ruolo con l'autorizzazione all'accessoIAM Identity Center.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="Ruoli IAM per AWS IAM Identity Center (successor to AWS Single Sign-On)" id="iam-roles-aws-sso-json" expanded="false"><p>Una politica di ruolo obbligatoria per consentire l'Amazon KendraaccessoIAM Identity Center.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "sso-directory:SearchUsers",
                "sso-directory:ListGroupsForUser",
                "sso-directory:DescribeGroups",
                "sso:ListDirectoryAssociations"
            ],
            "Resource": [
                 "*"
            ]
        },
        <span>{</span>
          "Sid": "iamPassRole",
          "Effect": "Allow",
          "Action": "iam:PassRole",
          "Resource": "*",
          "Condition": <span>{</span>
            "StringEquals": <span>{</span>
              "iam:PassedToService": [
                "kendra.*.amazonaws.com"
              ]
            }
          }
        }
     ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
</awsui-expandable-section></div>
     
        <h2 id="iam-roles-amazon-kendra-experiences">IAMruoli perAmazon Kendra esperienze</h2>
        <p>Quando si utilizzano le <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_UpdateExperience.html">UpdateExperience</a>API <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CreateExperience.html">CreateExperience</a>or per creare o aggiornare un'applicazione di ricerca, è necessario fornire un ruolo autorizzato ad accedere alle operazioni necessarie e a IAM Identity Center.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per l'esperienzaAmazon Kendra di ricerca" id="iam-roles-search-app-experience" expanded="false"><p>Una politica di ruolo obbligatoria per consentire l'accessoAmazon Kendra a<code class="code">Query</code> operazioni,<code class="code">QuerySuggestions</code> operazioni e<code class="code">SubmitFeedback</code> operazioni e a IAM Identity Center che archivia le informazioni su utenti e gruppi.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "AllowsKendraSearchAppToCallKendraApi",
      "Effect": "Allow",
      "Action": [
        "kendra:GetQuerySuggestions",
        "kendra:Query",
        "kendra:DescribeIndex",
        "kendra:ListFaqs",
        "kendra:DescribeDataSource",
        "kendra:ListDataSources",
        "kendra:DescribeFaq",
        "kendra:SubmitFeedback"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span>region}}:<span>{</span><span>{</span>account_id}}:index/<span>{</span><span>{</span>IndexId}}"
      ]
    },
    <span>{</span>
      "Sid": "AllowKendraSearchAppToDescribeDataSourcesAndFaq",
      "Effect": "Allow",
      "Action": [
        "kendra:DescribeDataSource",
        "kendra:DescribeFaq"
      ],
      "Resource": [
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/<span>{</span><span>{</span><code class="replaceable">IndexId</code>}}/data-source/<span>{</span><span>{</span><code class="replaceable">DataSourceId</code>}}",
        "arn:aws:kendra:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:index/<span>{</span><span>{</span><code class="replaceable">IndexId</code>}}/faq/<span>{</span><span>{</span><code class="replaceable">FaqId</code>}}"
      ]
    },
    <span>{</span>
      "Sid": "AllowKendraSearchAppToCallSSODescribeUsersAndGroups",
      "Effect": "Allow",
      "Action": [
        "sso-directory:ListGroupsForUser",
        "sso-directory:SearchGroups",
        "sso-directory:SearchUsers",
        "sso-directory:DescribeUser",
        "sso-directory:DescribeGroup",
        "sso-directory:DescribeGroups",
        "sso-directory:DescribeUsers"
      ],
      "Resource": [
        "*"
      ],
      "Condition": <span>{</span>
        "StringLike": <span>{</span>
          "kms:ViaService": [
            "kendra.*.amazonaws.com"
          ]
        }
      }
    }
  ]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Si consiglia di includere<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> nella politica di fiducia. Ciò limita le autorizzazioni e verifica in modo sicuro se<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> sono uguali a quelli previsti nella politica deiIAM ruoli per l'<code class="code">sts:AssumeRole</code>azione. Ciò impedisce a entità non autorizzate di accedere ai tuoiIAM ruoli e alle relative autorizzazioni. Per ulteriori informazioni, consulta laAWS Identity and Access Management guida sul <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">problema del «confuso</a>».</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
     
        <h2 id="iam-roles-custom-document-enrichment">IAMruoli per l'arricchimento personalizzato dei documenti</h2>
        <p>Quando si utilizza l'<a href="https://docs.aws.amazon.com/kendra/latest/dg/API_CustomDocumentEnrichmentConfiguration.html">CustomDocumentEnrichmentConfiguration</a>oggetto per applicare modifiche avanzate ai metadati e al contenuto del documento, è necessario fornire un ruolo con le autorizzazioni necessarie per l'esecuzione<code class="code">PreExtractionHookConfiguration</code> e/o<code class="code">PostExtractionHookConfiguration</code>. È possibile configurare una funzione Lambda<code class="code">PostExtractionHookConfiguration</code> per<code class="code">PreExtractionHookConfiguration</code> e/o applicare modifiche avanzate ai metadati e al contenuto del documento durante il processo di inserimento. Se si sceglie di attivare la crittografia lato server per ilAmazon S3 bucket, è necessario fornire l'autorizzazione all'uso della chiave masterAWS KMS del cliente (CMK) per crittografare e decrittografare gli oggetti archiviati nelAmazon S3 bucket.</p>
        <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="IAMruoli per l'arricchimento personalizzato dei documenti" id="iam-roles-custom-document-enrichment-json" expanded="false"><p>Una politica di ruolo obbligatoria perAmazon Kendra consentirne l'esecuzione<code class="code">PreExtractionHookConfiguration</code> e<code class="code">PostExtractionHookConfiguration</code> con crittografia per ilAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Action": [
      "s3:GetObject",
      "s3:PutObject"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Action": [
      "s3:ListBucket"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "kms:Decrypt",
      "kms:GenerateDataKey"
    ],
    "Resource": [
      "arn:aws:kms:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:key/<span>{</span><span>{</span><code class="replaceable">key_id</code>}}"
    ]
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "lambda:InvokeFunction"
    ],
    "Resource": "arn:aws:lambda:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:function:<span>{</span><span>{</span><code class="replaceable">lambda_function</code>}}"
  }]
}</code></pre><p>Una politica di ruolo opzionaleAmazon Kendra per consentire l'esecuzione<code class="code">PreExtractionHookConfiguration</code> e<code class="code">PostExtractionHookConfiguration</code> senza crittografia delAmazon S3 bucket.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [<span>{</span>
    "Action": [
      "s3:GetObject",
      "s3:PutObject"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}/*"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Action": [
      "s3:ListBucket"
    ],
    "Resource": [
      "arn:aws:s3:::<span>{</span><span>{</span><code class="replaceable">input_bucket_name</code>}}"
    ],
    "Effect": "Allow"
  },
  <span>{</span>
    "Effect": "Allow",
    "Action": [
      "lambda:InvokeFunction"
    ],
    "Resource": "arn:aws:lambda:<span>{</span><span>{</span><code class="replaceable">region</code>}}:<span>{</span><span>{</span><code class="replaceable">account_id</code>}}:function:<span>{</span><span>{</span><code class="replaceable">lambda_function</code>}}"
  }]
}</code></pre>
   <p>Una politica fiduciaria cheAmazon Kendra consenta di assumere un ruolo.</p>
   <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "Version":"2012-10-17",
   "Statement":[
      <span>{</span>
         "Effect":"Allow",
         "Principal":<span>{</span>
            "Service":"kendra.amazonaws.com"
         },
         "Action":"sts:AssumeRole"
      }
   ]
}</code></pre>
<p>Si consiglia di includere<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> nella politica di fiducia. Ciò limita le autorizzazioni e verifica in modo sicuro se<code class="code">aws:sourceAccount</code> e<code class="code">aws:sourceArn</code> sono uguali a quelli previsti nella politica deiIAM ruoli per l'<code class="code">sts:AssumeRole</code>azione. Ciò impedisce a entità non autorizzate di accedere ai tuoiIAM ruoli e alle relative autorizzazioni. Per ulteriori informazioni, consulta laAWS Identity and Access Management guida sul <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">problema del «confuso</a>».</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Principal": <span>{</span>
                "Service": [
                    "kendra.*.amazonaws.com"
                ]
            },
            "Action": "sts:AssumeRole",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:SourceAccount": "account ID"
                },
                "StringLike": <span>{</span>
                    "aws:SourceArn": "arn:aws:kendra:region:accountId:index/*"
                }
            }
        }
    ]
}</code></pre></awsui-expandable-section></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-kendra-set-up-sdks.html">Configurazione degliAWS SDK</div><div id="next" class="next-link" accesskey="n" href="./deploying.html">Distribuzione di Amazon Kendra</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/it_it/kendra/latest/dg/iam-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>