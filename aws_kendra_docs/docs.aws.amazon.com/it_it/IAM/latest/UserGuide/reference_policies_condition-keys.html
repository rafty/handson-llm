<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chiavi di contesto delle condizioni globali AWS - AWS Identity and Access Management</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="reference_policies_condition-keys" /><meta name="default_state" content="reference_policies_condition-keys" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="description" content="Descrive ciascuna delle chiavi di condizione globali di AWS disponibili per l'utilizzo nelle policy IAM." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Identity and Access Management" /><meta name="guide" content="Guida per l'utente" /><meta name="abstract" content="Controlla l'accesso alle risorse AWS con identità utente (autenticazione) e con policy che definiscono autorizzazioni specifiche (autorizzazione)." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html" hreflang="x-default" /><meta name="feedback-item" content="IAM" /><meta name="this_doc_product" content="AWS Identity and Access Management" /><meta name="this_doc_guide" content="Guida per l'utente" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'iam'}"></script><meta id="panorama-serviceSubSection" value="Guida per l'utente" /><meta id="panorama-serviceConsolePage" value="Chiavi di contesto delle condizioni globali AWS" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Chiavi di contesto delle condizioni globali AWS - AWS Identity and Access Management</title><meta name="pdf" content="iam-ug.pdf#reference_policies_condition-keys" /><meta name="rss" content="aws-iam-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=76" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=http://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html" /><meta name="keywords" content="IAM,AWS Identity and Access Management,Utente IAM,user,Gruppo IAM,gruppo,Ruolo IAM,ruolo,policy di autorizzazione,policy di attendibilità,policy,chiave di accesso,password,ID unità organizzativa della risorsa" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Identity and Access Management",
        "item" : "https://docs.aws.amazon.com/iam/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per l'utente",
        "item" : "https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Informazioni di riferimento per AWS Identity and Access Management.",
        "item" : "https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Riferimento alla policy JSON IAM",
        "item" : "https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Chiavi di contesto delle condizioni globali AWS",
        "item" : "https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="iam-ug.pdf#reference_policies_condition-keys" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/iam/index.html">AWS Identity and Access Management</a><a href="introduction.html">Guida per l'utente</a></div><div id="page-toc-src"><a href="#condition-keys-calledvia">CalledVia</a><a href="#condition-keys-calledviafirst">CalledViaFirst</a><a href="#condition-keys-calledvialast">CalledViaLast</a><a href="#condition-keys-currenttime">CurrentTime</a><a href="#condition-keys-ec2instancesourcevpc">Ec2InstanceSourceVpc</a><a href="#condition-keys-ec2instancesourceprivateip4">Ec2InstanceSourcePrivateIPv4</a><a href="#condition-keys-epochtime">EpochTime</a><a href="#condition-keys-federatedprovider">FederatedProvider</a><a href="#condition-keys-multifactorauthage">MultiFactorAuthAge</a><a href="#condition-keys-multifactorauthpresent">MultiFactorAuthPresent</a><a href="#condition-keys-principalaccount">PrincipalAccount</a><a href="#condition-keys-principalarn">PrincipalArn</a><a href="#condition-keys-principalisawsservice">PrincipalIsAWSService</a><a href="#condition-keys-principalorgid">PrincipalOrgID</a><a href="#condition-keys-principalorgpaths">PrincipalOrgPaths</a><a href="#condition-keys-principalservicename">PrincipalServiceName</a><a href="#condition-keys-principalservicenameslist">PrincipalServiceNamesList</a><a href="#condition-keys-principaltag">PrincipalTag</a><a href="#condition-keys-principaltype">PrincipalType</a><a href="#condition-keys-referer">Referer</a><a href="#condition-keys-requestedregion">RequestedRegion</a><a href="#condition-keys-requesttag">RequestTag</a><a href="#condition-keys-resourceaccount">ResourceAccount</a><a href="#condition-keys-resourceorgid">ResourceOrgID</a><a href="#condition-keys-resourceorgpaths">ResourceOrgPaths</a><a href="#condition-keys-resourcetag">ResourceTag</a><a href="#condition-keys-securetransport">SecureTransport</a><a href="#condition-keys-sourceaccount">SourceAccount</a><a href="#condition-keys-sourcearn">SourceArn</a><a href="#condition-keys-sourceidentity">SourceIdentity</a><a href="#condition-keys-sourceip">SourceIp</a><a href="#condition-keys-sourcevpc">SourceVpc</a><a href="#condition-keys-sourcevpce">SourceVpce</a><a href="#condition-keys-tagkeys">TagKeys</a><a href="#condition-keys-tokenissuetime">TokenIssueTime</a><a href="#condition-keys-useragent">UserAgent</a><a href="#condition-keys-userid">userid</a><a href="#condition-keys-username">Nome utente</a><a href="#condition-keys-viaawsservice">ViaAWSService</a><a href="#condition-keys-vpcsourceip">VpcSourceIp</a><a href="#condition-keys-other">Altre chiavi cross-service</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="reference_policies_condition-keys">Chiavi di contesto delle condizioni globali AWS</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Quando un'<a href="./intro-structure.html#intro-structure-principal">entità</a> effettua una <a href="./intro-structure.html#intro-structure-request">richiesta</a> a AWS, AWS raccoglie le informazioni di richiesta in un <a href="./intro-structure.html#intro-structure-request">contesto di richiesta</a>. È possibile utilizzare l'elemento <code class="code">Condition</code> di una policy JSON per confrontare le chiavi della richiesta con i valori chiave specificati nella policy. Per ulteriori informazioni sulle circostanze in cui una chiave globale è inclusa nel contesto della richiesta, consultare le informazioni sulla <b>disponibilità</b> di ogni chiave di condizione globale. Per informazioni su come utilizzare l'elemento <code class="code">Condition</code> in una policy JSON, consulta <a href="./reference_policies_elements_condition.html">Elementi delle policy JSON IAM: Condition</a>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Se si utilizzano chiavi di condizione che sono disponibili solo in alcuni scenari, è possibile utilizzare le versioni <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">IfExists</a> degli operatori condizionali. Se le chiavi di condizione sono assenti da un contesto di richiesta, la policy può non riuscire a effettuare la valutazione. Ad esempio, utilizzare il seguente blocco condizionale con gli operatori <code class="code">...IfExists</code> per verificare se una richiesta proviene da uno specifico intervallo IP o da un determinato VPC. Se una o entrambe le chiavi non sono incluse nel contesto della richiesta, la condizione restituisce comunque <code class="code">true</code>. I valori vengono controllati solo se la chiave specificata è inclusa nel contesto della richiesta. </p><pre class="programlisting"><div class="code-btn-container"></div><code class="json ">"Condition": <span>{</span>
    "IpAddressIfExists": <span>{</span>"aws:SourceIp" : ["xxx"] },
    "StringEqualsIfExists" : <span>{</span>"aws:SourceVpc" : ["yyy"]} 
}</code></pre></div></div><p>Le chiavi di condizione globali sono chiavi di condizione con un prefisso <code class="code">aws:</code>. I servizi AWS possono supportare chiavi di condizione globali o fornire chiavi specifiche del servizio che includono il prefisso del servizio. Ad esempio, le chiavi di condizione IAM includono il prefisso <code class="code">iam:</code>. Per ulteriori informazioni, consulta <a href="reference_policies_actions-resources-contextkeys.html" rel="noopener noreferrer" target="_blank">Operazioni, risorse e chiavi di condizione per i servizi AWS</a> e scegli il servizio di cui vuoi visualizzare le chiavi.</p><div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Per confrontare la condizione con un contesto di richiesta con più valori chiave, devi utilizzare gli operatori su set <code class="code">ForAllValues</code> o <code class="code">ForAnyValue</code>. Utilizza gli operatori di insieme solo con le chiavi della condizione multivalore. Non utilizzare operatori con chiavi di condizione a valore singolo. Per ulteriori informazioni, consulta <a href="./reference_policies_multi-value-conditions.html">Creazione di una condizione con più chiavi o valori</a>.</p></div></div>
        <h2 id="condition-keys-calledvia">aws:CalledVia</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare i servizi nella policy con i servizi che hanno effettuato richieste per conto del principale IAM (utente o ruolo). Quando un'entità effettua una richiesta a un servizio AWS, tale servizio potrebbe utilizzare le credenziali dell'entità per effettuare richieste successive ad altri servizi. La chiave <code class="code">aws:CalledVia</code> contiene un elenco ordinato di ciascun servizio nella catena che ha effettuato le richieste per conto dell'entità principale.</p>
        <p>Ad esempio, puoi utilizzare AWS CloudFormation per leggere e scrivere da una tabella Amazon DynamoDB. DynamoDB utilizza quindi la crittografia fornita da AWS Key Management Service (AWS KMS).</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è presente nella richiesta quando un servizio che supporta <code class="code">aws:CalledVia</code> utilizza le credenziali di un principale IAM per effettuare una richiesta a un altro servizio. Questa chiave non è presente se il servizio utilizza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">ruolo di servizio</a> oppure un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role"> ruolo collegato al servizio</a> per effettuare una chiamata per conto dell'entità. Questa chiave non è presente anche quando il principale effettua la chiamata direttamente.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: multivalore</p>
            </li></ul></div>
        <a id="calledvia-services"></a>
        <p>Per utilizzare la chiave di condizione <code class="code">aws:CalledVia</code> in una policy, è necessario fornire le entità del servizio per consentire o negare le richieste del servizio AWS. AWS supporta l'utilizzo dei seguenti servizi con <code class="code">aws:CalledVia</code>.</p>
        <div class="table-container"><div class="table-contents"><table id="w339aac25c19c19c13c15"><thead>
                    <tr>
                        <th>Principale del servizio</th>
                    </tr>
                </thead>
                    <tr>
                        <td>athena.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>cloud9.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>cloudformation.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>databrew.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>dataexchange.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>dynamodb.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>kms.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>servicecatalog-appregistry.amazonaws.com</td>
                    </tr>
                    <tr>
                        <td>sqlworkbench.amazonaws.com</td>
                    </tr>
                </table></div></div>
        <p>Per consentire o negare l'accesso quando <em>qualsiasi</em> servizio effettua una richiesta utilizzando le credenziali dell'entità, utilizzare la chiave di condizione<code class="code"><a href="#condition-keys-viaawsservice">aws:ViaAWSService</a></code>.  Questa chiave di condizione supporta i servizi AWS.</p>
        <p>La chiave <code class="code">aws:CalledVia</code>è una <a href="./reference_policies_multi-value-conditions.html">chiave multivalore</a>. Tuttavia, non è possibile applicare l'ordine utilizzando questa chiave in una condizione. Usando l'esempio precedente, l'<b>utente 1</b> effettua una richiesta a AWS CloudFormation, che chiama DynamoDB, che a sua volta chiama AWS KMS. Si tratta di tre richieste distinte. La chiamata finale a AWS KMS viene eseguita dall'utente 1 <em>tramite</em> AWS CloudFormation e poi DynamoDB. </p>
        <div class="mediaobject">
             
                <img src="images/condition-key-calledvia-example-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                Esempio utilizzando aws:CalledVia&#xA;            " style="max-width:100%" />
             
             
        </div>
        <p>In questo caso, la chiave <code class="code">aws:CalledVia</code> nel contesto della richiesta include <code class="code">cloudformation.amazonaws.com</code> e <code class="code">dynamodb.amazonaws.com</code>, in tale ordine. Se sei interessato al solo fatto che la chiamata sia stata effettuata tramite DynamoDB in qualche punto nella catena di richieste, puoi utilizzare questa chiave di condizione nella policy. </p>
        <p>Ad esempio, la policy seguente consente di gestire la chiave AWS KMS denominata <code class="code">my-example-key</code>, ma solo se DynamoDB è uno dei servizi richiedenti. L'operatore di condizione <code class="code"><a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">ForAnyValue:StringEquals</a></code> assicura che DynamoDB sia uno dei servizi a effettuare chiamate. Se l'entità effettua la chiamata AWS KMS direttamente, la condizione restituisce <code class="code">false</code> e la richiesta non è consentita da questa policy.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "KmsActionsIfCalledViaDynamodb",
            "Effect": "Allow",
            "Action": [
                "kms:Encrypt",
                "kms:Decrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey",
                "kms:DescribeKey"
            ],
            "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">111122223333</code>:key/<code class="replaceable">my-example-key</code>",
            "Condition": <span>{</span>
                "ForAnyValue:StringEquals": <span>{</span>
                    "aws:CalledVia": ["dynamodb.amazonaws.com"]
                }
            }
        }
    ]
}</code></pre>
        <p>Se si desidera stabilire quale servizio effettua la prima o l'ultima chiamata nella catena, è possibile utilizzare le chiavi <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaFirst</a></code> e <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaLast</a></code>. Ad esempio, il criterio seguente consente di gestire la chiave denominata <code class="code">my-example-key</code> in AWS KMS. Queste operazioni AWS KMS sono consentite solo se più richieste sono state incluse nella catena. La prima richiesta deve essere fatta via AWS CloudFormation e l'ultima via DynamoDB. Se altri servizi fanno richieste nel mezzo della catena, l'operazione è ancora consentita.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "KmsActionsIfCalledViaChain",
            "Effect": "Allow",
            "Action": [
                "kms:Encrypt",
                "kms:Decrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey",
                "kms:DescribeKey"
            ],
            "Resource": "arn:aws:kms:<code class="replaceable">region</code>:<code class="replaceable">111122223333</code>:key/<code class="replaceable">my-example-key</code>",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:CalledViaFirst": "cloudformation.amazonaws.com",
                    "aws:CalledViaLast": "dynamodb.amazonaws.com"
                }
            }
        }
    ]
}</code></pre>
        <p>Le chiavi <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaFirst</a></code> e <code class="code"><a href="#condition-keys-calledviafirst">aws:CalledViaLast</a></code> sono presenti nella richiesta quando un servizio utilizza le credenziali di un'entità IAM per chiamare un altro servizio. Indicano il primo e l'ultimo servizio che ha effettuato chiamate nella catena di richieste. Ad esempio, supponiamo che AWS CloudFormation chiami un altro servizio denominato <code class="code">X
                Service</code>, che chiama DynamoDB, che a sua volta chiama AWS KMS. La chiamata finale a AWS KMS viene effettuata da <code class="code">User 1</code> <em>tramite</em> AWS CloudFormation, quindi <code class="code">X Service</code> e poi DynamoDB. La prima chiamata è stata effettuata tramite AWS CloudFormation e l'ultima tramite DynamoDB. </p>
        <div class="mediaobject">
             
                <img src="images/condition-key-calledviafirstlast-example-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                Esempio utilizzando aws:CalledViaFirst e aws:CalledViaLast&#xA;            " style="max-width:100%" />
             
             
        </div>
        
     
        <h2 id="condition-keys-calledviafirst">aws:CalledViaFirst</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare i servizi nella policy con il <em><b>primo servizio</b></em> che ha effettuato una richiesta per conto del principale IAM (utente o ruolo). Per ulteriori informazioni, consulta <code class="code"><a href="#condition-keys-calledvia">aws:CalledVia</a></code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è presente nella richiesta quando un servizio utilizza le credenziali di un principale IAM per effettuare almeno un'altra richiesta a un servizio diverso. Questa chiave non è presente se il servizio utilizza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">ruolo di servizio</a> oppure un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role"> ruolo collegato al servizio</a> per effettuare una chiamata per conto dell'entità. Questa chiave non è presente anche quando il principale effettua la chiamata direttamente.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-calledvialast">aws:CalledViaLast</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare i servizi nella policy con l'<em>ultimo servizio</em> che ha effettuato una richiesta per conto del principale IAM (utente o ruolo). Per ulteriori informazioni, consulta <code class="code"><a href="#condition-keys-calledvia">aws:CalledVia</a></code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è presente nella richiesta quando un servizio utilizza le credenziali di un principale IAM per effettuare almeno un'altra richiesta a un servizio diverso. Questa chiave non è presente se il servizio utilizza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">ruolo di servizio</a> oppure un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role"> ruolo collegato al servizio</a> per effettuare una chiamata per conto dell'entità. Questa chiave non è presente anche quando il principale effettua la chiamata direttamente.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-currenttime">aws:CurrentTime</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">operatori date</a>.</p>
        <p>Utilizzare questa chiave per confrontare la data e l'ora della richiesta con la data e l'ora specificate nella policy. Per visualizzare una policy di esempio che utilizza la chiave di condizione, consulta <a href="./reference_policies_examples_aws-dates.html">AWS: consente l'accesso in base alla data e all'ora</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-ec2instancesourcevpc">aws:Ec2InstanceSourceVpc</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Questa chiave identifica il VPC al quale sono state consegnate le credenziali del ruolo IAM di Amazon EC2. È possibile utilizzare questa chiave in una policy con la chiave globale <a href="#condition-keys-sourcevpc">aws:SourceVPC</a> per verificare se da un VPC (<code class="code">aws:SourceVPC</code>) viene effettuata una chiamata che corrisponde al VPC al quale è stata consegnata una credenziale (<code class="code">aws:Ec2InstanceSourceVpc</code>).</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave viene inclusa nel contesto della richiesta ogni volta che il richiedente firma le richieste con una credenziale di ruolo Amazon EC2. Può essere utilizzata nelle policy IAM, nelle policy di controllo dei servizi, nelle policy degli endpoint VPC e nelle policy delle risorse.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Questa chiave può essere utilizzata con i valori identificativi del VPC, ma è particolarmente utile se impiegata come variabile in combinazione con la chiave di contesto <code class="code">aws:SourceVpc</code>. La chiave di contesto <code class="code">aws:SourceVpc</code> viene inclusa nel contesto della richiesta solo se il richiedente utilizza un endpoint VPC per effettuare la richiesta. L'impiego di <code class="code">aws:Ec2InstanceSourceVpc</code> con <code class="code">aws:SourceVpc</code> consente di utilizzare <code class="code">aws:Ec2InstanceSourceVpc</code> in modo più ampio, poiché confronta dei valori che in genere cambiano insieme.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Questa chiave di condizione non è disponibile in EC2-Classic.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "RequireSameVPC",
      "Effect": "Deny",
      "Action": "*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
            "aws:SourceVpc": "$<span>{</span>aws:Ec2InstanceSourceVpc}"
        },
        "Null": <span>{</span>
          "ec2:SourceInstanceARN": "false"
        },
        "BoolIfExists": <span>{</span>
          "aws:ViaAWSService": "false"
        }
      }
    }
  ]
}</code></pre>
        <p>Nell'esempio precedente, l'accesso è negato se il valore di <code class="code">aws:SourceVpc</code> non corrisponde al valore di <code class="code">aws:Ec2InstanceSourceVpc</code>. L'istruzione della policy è limitata ai soli ruoli utilizzati come ruoli dell'istanza Amazon EC2 verificando l'esistenza della chiave di condizione <code class="code">ec2:SourceInstanceARN</code>.</p>
        <p>La policy utilizza <code class="code">aws:ViaAWSService</code> per consentire a AWS di autorizzare le richieste quando le richieste vengono effettuate per conto dei ruoli dell'istanza Amazon EC2. Ad esempio, quando effettui una richiesta da un'istanza Amazon EC2 a un bucket Amazon S3 crittografato, Amazon S3 effettua una chiamata a AWS KMS per tuo conto. Alcune chiavi non sono presenti quando la richiesta viene effettuata a AWS KMS.</p>
     
        <h2 id="condition-keys-ec2instancesourceprivateip4">aws:Ec2InstanceSourcePrivateIPv4</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">operatori indirizzo IP</a>.</p>
        <p>Questa chiave identifica l'indirizzo IPv4 privato dell'interfaccia di rete elastica primaria a cui sono state consegnate le credenziali del ruolo IAM di Amazon EC2. Per assicurarti di disporre di una combinazione unica a livello globale di ID VPC e IP privato di origine, devi utilizzare questa chiave di condizione con la relativa chiave complementare <code class="code">aws:Ec2InstanceSourceVpc</code>. Utilizza questa chiave con <code class="code">aws:Ec2InstanceSourceVpc</code> per assicurarti che la richiesta sia stata effettuata dallo stesso indirizzo IP privato a cui sono state consegnate le credenziali.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave viene inclusa nel contesto della richiesta ogni volta che il richiedente firma le richieste con una credenziale di ruolo Amazon EC2. Può essere utilizzata nelle policy IAM, nelle policy di controllo dei servizi, nelle policy degli endpoint VPC e nelle policy delle risorse.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Questa chiave non deve essere utilizzata da sola in un'istruzione <code class="code">Allow</code>. Per definizione, gli indirizzi IP privati non sono univoci a livello globale. Dovresti usare la chiave <code class="code">aws:Ec2InstanceSourceVpc</code> ogni volta che utilizzi la chiave <code class="code">aws:Ec2InstanceSourcePrivateIPv4</code> per specificare il VPC dal quale possono essere utilizzate le credenziali dell'istanza Amazon EC2.</p></div></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Questa chiave di condizione non è disponibile in EC2-Classic.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Deny",
            "Action":  "*",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringNotEquals": <span>{</span>
                    "aws:Ec2InstanceSourceVpc": "$<span>{</span>aws:SourceVpc}"
                },                
                "Null": <span>{</span>
                    "ec2:SourceInstanceARN": "false"
                },
                "BoolIfExists": <span>{</span>
                    "aws:ViaAWSService": "false"
                }
            }
        },
        <span>{</span>
            "Effect": "Deny",
            "Action":  "*",
            "Resource": "*",
            "Condition": <span>{</span>
                "StringNotEquals": <span>{</span>
                    "aws:Ec2InstanceSourcePrivateIPv4": "$<span>{</span>aws:VpcSourceIp}"
                },                               
                "Null": <span>{</span>
                    "ec2:SourceInstanceARN": "false"
                },
                "BoolIfExists": <span>{</span>
                    "aws:ViaAWSService": "false"
                }
            }
        }
    ]
}</code></pre>
     
        <h2 id="condition-keys-epochtime">aws:EpochTime</h2>
        <p>Funziona con gli <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">operatori di data</a> o gli <a href="./reference_policies_elements_condition_operators.html#Conditions_Numeric">operatori numerici</a>.</p>
        <p>Utilizzare questa chiave per confrontare la data e l'ora della richiesta in formato epoch o ora Unix con il valore specificato nella policy. Questa chiave accetta anche il numero di secondi dal 1 gennaio 1970. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-federatedprovider">aws:FederatedProvider</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare il provider dell'identità di emissione (IdP) del principale con l'IdP specificato nella policy. Ciò significa che è stato assunto un ruolo IAM utilizzando le operazioni AWS STS <code class="code">AssumeRoleWithWebIdentity</code> o <code class="code">AssumeRoleWithSAML</code>. Quando le credenziali temporanee della sessione come ruolo risultante vengono utilizzate per effettuare una richiesta, il contesto della richiesta identifica l'IdP che ha autenticato l'identità federata originale.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è presente quando il principale è un principale della sessione come ruolo e quella sessione è stata emessa utilizzando un provider di identità di terza parte. </p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Ad esempio, se l'utente è stato autenticato tramite Amazon Cognito, il contesto delle richiesta include il valore <code class="code">cognito-identity.amazonaws.com</code>. Analogamente, se l'utente è stato autenticato tramite Login with Amazon, il contesto della richiesta contiene il valore <code class="code">www.amazon.com</code>.</p>
        <p>È possibile utilizzare qualsiasi chiave di condizione a valore singolo come <a href="./reference_policies_variables.html">variabile</a>. L'esempio seguente di politica basata sulle risorse utilizza la chiave <code class="code">aws:FederatedProvider</code> come variabile di policy nell'ARN di una risorsa. Questa policy consente a qualsiasi principale che ha effettuato l'autenticazione tramite un IdP di estrarre oggetti da un bucket Amazon S3 con un percorso specifico per il provider di identità di emissione.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:GetObject",
    "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET</code></code>/$<span>{</span>aws:FederatedProvider}/*"
  }
}</code></pre>
     
        <h2 id="condition-keys-multifactorauthage">aws:MultiFactorAuthAge</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_Numeric">operatori numerici</a>.</p>
        <p>Utilizzare questa chiave per confrontare il numero di secondi da quando l'entità richiedente è stata autorizzata utilizzando MFA con il numero specificato nella policy. Per ulteriori informazioni sulla funzionalità MFA, consultare <a href="./id_credentials_mfa.html">Utilizzo dell'autenticazione a più fattori (MFA) in AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo se il principale che effettua la chiamata è stato autenticato tramite MFA. Se l'MFA non è stata utilizzata, questa chiave non è presente.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-multifactorauthpresent">aws:MultiFactorAuthPresent</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operatori booleani</a>.</p>
        <p>Utilizzare questa chiave per verificare se la Multi-Factor Authentication (MFA) è stata utilizzata per convalidare le credenziali di sicurezza temporanee con le quali è stata effettuata la richiesta attuale.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo quando il principale utilizza credenziali temporanee per effettuare la richiesta. La chiave non è presente nelle richieste di AWS CLI, API AWS o SDK AWS effettuate utilizzando credenziali a lungo termine. </p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Le credenziali temporanee vengono utilizzate per autenticare i ruoli <code class="code">sts:GetSessionToken</code>, gli utenti federati, gli utenti IAM con token temporanei da  e gli utenti della AWS Management Console. Le chiavi di accesso dell'utente IAM sono credenziali a lungo termine, ma in alcuni casi, AWS crea credenziali temporanee per conto degli utenti IAM per eseguire operazioni. In questi casi, la chiave <code class="code">aws:MultiFactorAuthPresent</code> è presente nella richiesta ed è impostata su un valore <code class="code">false</code>. Esistono due casi comuni in cui ciò può accadere:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Gli utenti IAM nella AWS Management Console utilizzano inconsapevolmente credenziali temporanee. Gli utenti accedono alla console utilizzando il nome utente e la password, che sono credenziali a lungo termine. Tuttavia, in background, la console genera credenziali temporanee per conto dell'utente. </p>
            </li><li class="listitem">
                <p>Se un utente IAM effettua una chiamata a un servizio AWS, il servizio riutilizza le credenziali dell'utente per effettuare un'altra richiesta a un servizio diverso. Ad esempio, quando chiami Athena per accedere a un bucket Amazon S3 o quando usi AWS CloudFormation per creare un'istanza Amazon EC2. Per la richiesta successiva, AWS utilizza credenziali temporanee.</p>
            </li></ul></div>
        <p>Per sapere quali servizi supportano l'utilizzo di credenziali temporanee, consulta <a href="./reference_aws-services-that-work-with-iam.html">Servizi AWS che funzionano con IAM</a>.</p>
        <p>La chiave <code class="code">aws:MultiFactorAuthPresent</code> non è presente quando vengono lanciati un'API o un comando della CLI con credenziali a lungo termine, ad esempio coppie di chiavi di accesso. Pertanto, si consiglia, quando si controlla questa chiave, di utilizzare le versioni <code class="code"><a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">...IfExists</a></code> degli operatori di condizione.</p>
        <p>È importante capire che il seguente elemento <code class="code">Condition</code> <em><b>non</b></em> è un modo affidabile per controllare se una richiesta è autenticata utilizzando MFA.</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">#####   WARNING: NOT RECOMMENDED   #####
"Effect" : "Deny",
"Condition" : <span>{</span> "Bool" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Questa combinazione di effetto <code class="code">Deny</code>, elemento <code class="code">Bool</code> e valore <code class="code">false</code> nega le richieste che possono essere autenticate utilizzando MFA, ma che non lo sono. Ciò è valido solo per le credenziali temporanee che supportano l'uso di MFA. Questa istruzione non nega l'accesso alle richieste effettuate utilizzando le credenziali a lungo termine oppure alle richieste autenticate utilizzando MFA. Utilizza questo esempio con cautela in quanto la relativa logica è complessa e non verifica se l'autenticazione MFA è stata effettivamente utilizzata. </p>
        <p>Inoltre, non utilizzare la combinazione di effetto <code class="code">Deny</code>, elemento <code class="code">Null</code> e <code class="code">true</code> perché ha lo stesso comportamento e la logica è ancora più complessa.</p>
         
            <h6>Combinazione consigliata</h6>
            <p>Consigliamo di utilizzare l'operatore <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">BoolIfExists</a> per verificare se una richiesta viene autenticata con MFA.</p>
         
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Effect" : "Deny",
"Condition" : <span>{</span> "BoolIfExists" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Questa combinazione di <code class="code">Deny</code>, <code class="code">BoolIfExists</code> e <code class="code">false</code> nega le richieste che non vengono autenticate con MFA. Nello specifico, nega le richieste da credenziali temporanee che non includono MFA. Inoltre, nega le richieste effettuate utilizzando credenziali a lungo termine, ad esempio le operazioni AWS CLI o API AWS effettuate utilizzando le chiavi di accesso. L'operatore <code class="code">*IfExists</code> verifica la presenza della chiave <code class="code">aws:MultiFactorAuthPresent</code> e se potrebbe essere presente o meno, come indicato dalla relativa esistenza. Utilizzalo quando intendi negare qualsiasi richiesta non autenticata con MFA. Questa operazione è più sicura, ma può interrompere qualsiasi codice o script che utilizza le chiavi di accesso per accedere alla AWS CLI o all'API AWS. </p>
         
            <h6>Combinazioni alternative</h6>
            <p>È anche possibile utilizzare l'operatore <a href="./reference_policies_elements_condition_operators.html#Conditions_IfExists">BoolIfExists</a> per consentire le richieste autenticate con MFA e le richieste AWS CLI o API AWS effettuate utilizzando credenziali a lungo termine.</p>
         
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Effect" : "Allow",
"Condition" : <span>{</span> "BoolIfExists" : <span>{</span> "aws:MultiFactorAuthPresent" : "true" } }</code></pre>
        <p>Questa condizione è corrispondente se la chiave esiste ed è presente <b>o</b> se la chiave non esiste. Questa combinazione di <code class="code">Allow</code>, <code class="code">BoolIfExists</code> e <code class="code">true</code> consente le richieste autenticate con MFA o le richieste che non possono essere autenticate con MFA. Ciò significa che le operazioni AWS CLI, API AWS e SDK AWS sono consentite quando il richiedente utilizza le proprie chiavi di accesso a lungo termine. Questa combinazione non consente le richieste da credenziali temporanee che potrebbero ma non includono MFA. </p>
        <p>Quando crei una policy utilizzando l'editor visivo della console IAM e scegli <b>MFA obbligatoria</b>, questa combinazione viene applicata. Questa impostazione richiede MFA per l'accesso alla console, ma consente l'accesso programmatico senza MFA. </p>
        <p>In alternativa, puoi utilizzare l'operatore <code class="code">Bool</code> per consentire le richieste programmatiche e della console solo quando autenticate tramite MFA.</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">"Effect" : "Allow",
"Condition" : <span>{</span> "Bool" : <span>{</span> "aws:MultiFactorAuthPresent" : "true" } }</code></pre>
        <p>Questa combinazione di <code class="code">Allow</code>, <code class="code">Bool</code> e <code class="code">true</code> consente solo le richieste autenticate mediante MFA. Ciò è valido solo per le credenziali temporanee che supportano l'uso di MFA. Questa istruzione non consente l'accesso alle richieste eseguite utilizzando chiavi di accesso a lungo termine oppure alle richieste eseguite utilizzando credenziali temporanee senza MFA. </p>
        <p><b><em>Non</em></b> utilizzare una struttura di policy simile alle seguenti per controllare se la chiave MFA è presente:</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class="json ">#####   WARNING: USE WITH CAUTION   #####

"Effect" : "Allow",
"Condition" : <span>{</span> "Null" : <span>{</span> "aws:MultiFactorAuthPresent" : "false" } }</code></pre>
        <p>Questa combinazione di effetto <code class="code">Allow</code>, elemento <code class="code">Null</code> e valore <code class="code">false</code> consente solo le richieste che possono essere autenticate mediante MFA, indipendentemente dall'autenticazione o meno della richiesta. Ciò consente tutte le richieste eseguite utilizzando credenziali temporanee e nega l'accesso alle credenziali a lungo termine. Utilizza questo esempio con cautela in quanto non verifica se l'autenticazione MFA è stata effettivamente utilizzata. </p>
     
        <h2 id="condition-keys-principalaccount">aws:PrincipalAccount</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'account a cui appartiene l'entità richiedente con l'identificatore dell'account specificato nella policy. Per le richieste anonime, il contesto della richiesta restituisce <code class="code">anonymous</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta per tutte le richieste, incluse le richieste anonime.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Nell'esempio seguente, l'accesso è negato tranne che ai principali con il numero di account <code class="code">123456789012</code>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "DenyAccessFromPrincipalNotInSpecificAccount",
      "Action": "<code class="replaceable">service</code>:*",
      "Effect": "Deny",
      "Resource": [
        "arn:aws:<code class="replaceable">service:region:accountID:resource</code>"
      ],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:PrincipalAccount": [
            "123456789012"
          ]
        }
      }
    }
  ]
}
        </code></pre>

     
        <h2 id="condition-keys-principalarn">aws:PrincipalArn</h2>
        <p>Funziona con <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">operatori ARN</a> e <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'<a href="./reference_identifiers.html#identifiers-arns">Amazon Resource Name (ARN)</a> dell'entità che ha effettuato la richiesta con l'ARN specificato nella policy. Per i ruoli IAM, il contesto della richiesta restituisce l'ARN del ruolo, non l'ARN dell'utente che ha assunto il ruolo. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta per tutte le richieste firmate. Le richieste anonime non includono questa chiave. È possibile specificare i seguenti tipi di principali in questa chiave di condizione: </p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Ruolo IAM</p>
                    </li><li class="listitem">
                        <p>Utente IAM</p>
                    </li><li class="listitem">
                        <p>AWS STS sessioni come utente federato</p>
                    </li><li class="listitem">
                        <p>Utente root di un Account AWS</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>L'elenco seguente mostra il valore del contesto della richiesta restituito per diversi tipi di principali che è possibile specificare nella chiave di condizione <code class="code">aws:PrincipalArn</code>:</p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Ruolo IAM</b>- Il contesto della richiesta contiene il seguente valore per la chiave di condizione <code class="code">aws:PrincipalArn</code>. Non specificare l'ARN della sessione del ruolo assunto come valore per questa chiave di condizione. Per ulteriori informazioni sul principale della sessione del ruolo assunto, consulta <a href="./reference_policies_elements_principal.html#principal-role-session">Principali della sessione come ruolo</a>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:role/role-name</code></code></pre>
            </li><li class="listitem">
                <p><b>Utente IAM</b>- Il contesto della richiesta contiene il seguente valore per la chiave di condizione <code class="code">aws:PrincipalArn</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:user/<code class="replaceable">user-name</code></code></code></pre>
            </li><li class="listitem">
                <p><b>Sessioni dell'utente federato AWS STS</b>- Il contesto della richiesta contiene il seguente valore per la chiave di condizione <code class="code">aws:PrincipalArn</code>.</p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:sts::123456789012:federated-user/<code class="replaceable">user-name</code></code></code></pre>
            </li><li class="listitem">
                <p><b>Utente root Account AWS</b>- Il contesto della richiesta contiene il seguente valore per la chiave di condizione <code class="code">aws:PrincipalArn</code>. Quando si specifica l'ARN dell'utente root come valore per la chiave di condizione <code class="code">aws:PrincipalArn</code>, limita le autorizzazioni solo per l'utente root del Account AWS. Questo è diverso dallo specificare l'ARN dell'utente root nell'elemento principale di una policy basata sulle risorse, che delega l'autorità al Account AWS. Per ulteriori informazioni sulla specifica dell'ARN dell'utente root nell'elemento principale di una policy basata sulle risorse, consulta <a href="./reference_policies_elements_principal.html#principal-accounts">Principali dell'Account AWS</a>. </p>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="code" copy="true">arn:aws:iam::123456789012:root</code></code></pre>
                <p>È possibile specificare l'ARN dell'utente root come valore per la chiave di condizione <code class="code">aws:PrincipalArn</code> nella policy di controllo dei servizi (SCP) AWS Organizations. Le SPC sono un tipo di policy dell'organizzazione utilizzate per gestire le autorizzazioni nell'organizzazione e riguardano solo gli account dei membri nell'organizzazione. Una SCP limita le autorizzazioni per i ruoli e gli utenti IAM e negli account membri, compreso l'utente root dell'account membro. Per ulteriori informazioni sull'effetto delle SCP sulle autorizzazioni, consulta <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scps.html#scp-effects-on-permissions">Effetti delle SCP sulle autorizzazioni</a> nella <em>Guida per l'utente di Organizations</em>.</p>
            </li></ul></div>
        
     
        <h2 id="condition-keys-principalisawsservice">aws:PrincipalIsAWSService</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operatori booleani</a>.</p>
        <p>Utilizza questa chiave per verificare se la chiamata alla risorsa viene effettuata direttamente da un <a href="./reference_policies_elements_principal.html#principal-services">principale del servizio</a> AWS. Ad esempio, AWS CloudTrail utilizza il principale del servizio <code class="code">cloudtrail.amazonaws.com</code> per scrivere log nel bucket Amazon S3. La chiave di contesto della richiesta è impostata su true (VERO) quando un servizio utilizza un principale del servizio per eseguire un'operazione diretta sulle risorse. La chiave di contesto è impostata su false se il servizio utilizza le credenziali di un principale IAM per effettuare una richiesta per conto del principale. Viene impostata su false anche se il servizio utilizza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">ruolo di servizio</a> oppure un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">ruolo collegato ai servizi</a> per effettuare una chiamata per conto del principale.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è presente nel contesto della richiesta per tutte le richieste di API firmate che utilizzano le credenziali AWS. Le richieste anonime non includono questa chiave.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>È possibile utilizzare questa chiave di condizione per limitare l'accesso alle identità attendibili e ai percorsi di rete previsti, garantendo al contempo l'accesso ai servizi AWS.</p>
        <p>Nel seguente esempio di policy di bucket di Amazon S3, l'accesso al bucket è limitato a meno che la richiesta non abbia origine da <code class="code">vpc-111bbb22</code> o proviene da un principale del servizio, ad esempio CloudTrail.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "Expected-network+service-principal",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:PutObject",
      "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET1</code></code>/AWSLogs/<code class="replaceable">AccountNumber</code>/*",
      "Condition": <span>{</span>
        "StringNotEqualsIfExists": <span>{</span>
          "aws:SourceVpc": "vpc-111bbb22"
        },
        "BoolIfExists": <span>{</span>
          "aws:PrincipalIsAWSService": "false"
        }
      }
    }
  ]
}</code></pre>
        
        <p>Nel seguente video, scopri ulteriori informazioni su come utilizzare la chiave di condizione <code class="code">aws:PrincipalIsAWSService</code> in una policy.</p>
        <div class="mediaobject">
             
                <iframe width="720" height="330" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/gv-_H8a42G4"></iframe>
             
             
        </div>
        
        
        
     
        <h2 id="condition-keys-principalorgid">aws:PrincipalOrgID</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'identificatore dell'organizzazione AWS Organizations a cui appartiene l'entità richiedente con l'identificatore specificato nella policy.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave viene inclusa nel contesto della richiesta solo se il principale è membro di un'organizzazione. Le richieste anonime non includono questa chiave.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Questa chiave globale fornisce un'alternativa per elencare tutti gli ID account per tutti gli account AWS all'interno di un'organizzazione. È possibile utilizzare questa chiave di condizione per specificare semplicemente l'elemento <code class="code">Principal</code> in una <a href="./access_policies_identity-vs-resource.html">policy basata sulle risorse</a>. È possibile specificare l'<a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_org_details.html">ID organizzazione</a> nell'elemento condizionale. Quando si aggiunge e si rimuove un account, le policy che includono la chiave <code class="code">aws:PrincipalOrgID</code> includono automaticamente anche gli account corretti e non necessitano di aggiornamento manuale.</p>
        <p>Ad esempio, la seguente policy del bucket Amazon S3 consente ai membri di qualsiasi account nell'organizzazione <code class="code">o-xxxxxxxxxxx</code> di aggiungere un oggetto al bucket <code class="code">policy-ninja-dev</code>. </p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="JSON "> <span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Sid": "AllowPutObject",
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:PutObject",
    "Resource": "arn:aws:s3:::policy-ninja-dev/*",
    "Condition": <span>{</span>"StringEquals":
      <span>{</span>"aws:PrincipalOrgID":"o-xxxxxxxxxxx"}
    }
  }
}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Questa condizione globale vale anche per l'account di gestione di un'organizzazione AWS. Questa policy impedisce a tutti principali esterni all'organizzazione specificata di accedere al bucket Amazon S3. Questo include qualsiasi servizio AWS che interagisca con le risorse interne, come ad esempio AWS CloudTrail che invia i dati di log ai bucket Amazon S3. Per informazioni su come concedere l'accesso in modo sicuro ai servizi AWS, vedi <a href="#condition-keys-principalisawsservice">aws:PrincipalIsAWSService</a>.</p></div></div>
        <p>Per ulteriori informazioni su AWS Organizations, consultare <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html">Che cos'è AWS Organizations?</a> nella <em>Guida per l'utente di AWS Organizations</em>.</p>
     
        <h2 id="condition-keys-principalorgpaths">aws:PrincipalOrgPaths</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare il percorso AWS Organizations dell'entità che effettua la richiesta con il percorso nella policy. Tale principale può essere un utente IAM, un ruolo IAM, un utente federato o un Utente root dell'account AWS. In una policy, questa chiave di condizione garantisce che il richiedente sia un membro dell'account all'interno della radice dell'organizzazione specificata o delle unità organizzative (OU) in AWS Organizations. Un percorso AWS Organizations è una rappresentazione testuale della struttura di un'entità Organizations. Per ulteriori informazioni sull'utilizzo e la comprensione dei percorsi, consultare <a href="./access_policies_access-advisor-view-data-orgs.html#access_policies_access-advisor-viewing-orgs-entity-path">Informazioni sul percorso dell'entità AWS Organizations</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave viene inclusa nel contesto della richiesta solo se il principale è membro di un'organizzazione. Le richieste anonime non includono questa chiave.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: multivalore</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Gli ID organizzazione sono univoci a livello globale, ma gli ID delle unità organizzative e gli ID root sono univoci solo all'interno di un'organizzazione. Ciò significa che non ci sono due organizzazioni che condividono lo stesso ID organizzazione. Tuttavia, un'altra organizzazione potrebbe avere un'unità organizzativa o un root con il tuo stesso ID. Si consiglia di includere sempre l'ID organizzazione quando si specifica un'unità organizzativa o un root.</p></div></div>
        
        <p>Ad esempio, la seguente condizione restituisce <code class="code">true</code> per le entità negli account collegati direttamente all'unità organizzativa <code class="code">ou-ab12-22222222</code>, ma non nelle unità organizzative figlie.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringEquals" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/"]
}}</code></pre>
        
        <p>La seguente condizione restituisce <code class="code">true</code> per i principali in un account collegato direttamente all'unità organizzativa o a una delle sue unità organizzative figlie. Quando si include un carattere jolly, è necessario utilizzare l'operatore condizionale <code class="code">StringLike</code>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/*"]
}}</code></pre>
        <p>La seguente condizione restituisce <code class="code">true</code> per i principali in un account collegato direttamente a una delle unità organizzative figlie ma non all'unità organizzativa padre. La condizione precedente è per l'unità organizzativa o per qualsiasi figlio. La condizione seguente è solo per i figli (e tutti i figli di quei figli).</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/ou-*"]
}}</code></pre>
        <p>La condizione seguente consente l'accesso per ogni entità nell'organizzazione <code class="code">o-a1b2c3d4e5</code>, indipendentemente dalla propria unità organizzativa padre.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition" : <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:PrincipalOrgPaths":["o-a1b2c3d4e5/*"]
}}</code></pre>
        <p><code class="code">aws:PrincipalOrgPaths</code> è una chiave di condizione multivalore. Le chiavi multivalore possono avere più di un valore nel contesto della richiesta. Quando si utilizzano più valori con l'operatore condizionale <code class="code">ForAnyValue</code>, il percorso del principale deve corrispondere a uno dei percorsi elencati nella policy. Per ulteriori informazioni sulle chiavi di condizione multivalore, consultare <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilizzo di più chiavi e valori</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">    "Condition": <span>{</span>
        "ForAnyValue:StringLike": <span>{</span>
            "aws:PrincipalOrgPaths": [
                "o-a1b2c3d4e5/r-ab12/ou-ab12-33333333/*",
                "o-a1b2c3d4e5/r-ab12/ou-ab12-22222222/*"
            ]
        }
    }</code></pre>
     
        <h2 id="condition-keys-principalservicename">aws:PrincipalServiceName</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare il nome del <a href="./reference_policies_elements_principal.html#principal-services">principale del servizio</a> nella policy con il prinicpale del servizio che effettua richieste alle risorse. È possibile utilizzare questa chiave per verificare se la chiamata viene effettuata da un principale del servizio specifico. Quando un principale del servizio effettua una richiesta diretta alla risorsa, la chiave <code class="code">aws:PrincipalServiceName</code> contiene il nome del principale del servizio. Ad esempio, il nome del principale di servizio AWS CloudTrail è <code class="code">cloudtrail.amazonaws.com</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è presente nella richiesta quando la chiamata viene effettuata da un principale del servizio AWS. Questa chiave non è presente in alcun'altra situazione, tra cui:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Se il servizio utilizza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">ruolo di servizio</a> oppure un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">ruolo collegato ai servizi</a> per effettuare una chiamata per conto del principale.</p>
                    </li><li class="listitem">
                        <p>Se il servizio utilizza le credenziali di un principale IAM per effettuare una richiesta per conto del principale.</p>
                    </li><li class="listitem">
                        <p>Se la chiamata viene effettuata direttamente da un principale IAM.</p>
                    </li><li class="listitem">
                        <p>Se la chiamata viene effettuata da un richiedente anonimo.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>È possibile utilizzare questa chiave di condizione per limitare l'accesso alle identità attendibili e alle posizioni di rete previste, garantendo al contempo l'accesso a un servizio AWS.</p>
        <p>Nel seguente esempio di policy di bucket di Amazon S3, l'accesso al bucket è limitato a meno che la richiesta non abbia origine da <code class="code">vpc-111bbb22</code> o proviene da un principale del servizio, ad esempio CloudTrail.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "expected-network+service-principal",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:PutObject",
      "Resource": "arn:aws:s3:::<code class="replaceable"><code class="replaceable">DOC-EXAMPLE-BUCKET1</code></code>/AWSLogs/<code class="replaceable">AccountNumber</code>/*",
      "Condition": <span>{</span>
        "StringNotEqualsIfExists": <span>{</span>
          "aws:SourceVpc": "vpc-111bbb22",
          "aws:PrincipalServiceName": "cloudtrail.amazonaws.com"
        }
      }
    }
  ]
}
        </code></pre>
     
        <h2 id="condition-keys-principalservicenameslist">aws:PrincipalServiceNamesList</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Questa chiave fornisce un elenco di tutti i nomi dei <a href="./reference_policies_elements_principal.html#principal-services">principali del servizio</a> che appartengono al servizio. Questa è una chiave di condizione avanzata. È possibile utilizzarlo per impedire al servizio di accedere alla risorsa solo da una regione specifica. Alcuni servizi possono creare entità di servizio regionali per indicare una particolare istanza del servizio all'interno di una regione specifica. È possibile limitare l'accesso a una risorsa a una particolare istanza del servizio. Quando un principale del servizio effettua una richiesta diretta alla risorsa, <code class="code">aws:PrincipalServiceNamesList</code> contiene un elenco non ordinato di tutti i nomi di principali del servizio associati all'istanza regionale del servizio.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è presente nella richiesta quando la chiamata viene effettuata da un principale del servizio AWS. Questa chiave non è presente in alcun'altra situazione, tra cui:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Se il servizio utilizza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">ruolo di servizio</a> oppure un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">ruolo collegato ai servizi</a> per effettuare una chiamata per conto del principale.</p>
                    </li><li class="listitem">
                        <p>Se il servizio utilizza le credenziali di un principale IAM per effettuare una richiesta per conto del principale.</p>
                    </li><li class="listitem">
                        <p>Se la chiamata viene effettuata direttamente da un principale IAM.</p>
                    </li><li class="listitem">
                        <p>Se la chiamata viene effettuata da un richiedente anonimo.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: multivalore</p>
            </li></ul></div>
        <p><code class="code">aws:PrincipalServiceNamesList</code> è una chiave di condizione multivalore. Le chiavi multivalore possono avere più di un valore nel contesto della richiesta. È necessario utilizzare gli operatori di insieme <code class="code">ForAnyValue</code> o <code class="code">ForAllValues</code> con gli <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori di condizione di stringa</a> quando si utilizza questa chiave. Per ulteriori informazioni sulle chiavi di condizione multivalore, consultare <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilizzo di più chiavi e valori</a>.</p>
     
        <h2 id="condition-keys-principaltag">aws:PrincipalTag/<em>tag-key</em></h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare il tag collegato all'entità che effettua la richiesta con il tag specificato nella policy. Se l'entità ha più di un tag collegato, il contesto della richiesta include una chiave <code class="code">aws:PrincipalTag</code> per ogni chiave tag collegata.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta se il principale utilizza un utente IAM con tag collegati. È inclusa per un'entità che utilizza un ruolo IAM con tag collegati o<a href="./id_session-tags.html"> tag di sessione</a>. Le richieste anonime non includono questa chiave.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>È possibile aggiungere attributi personalizzati a un utente o a un ruolo sotto forma di coppia chiave-valore. Per ulteriori informazioni sui tag in IAM, consulta <a href="./id_tags.html">Tagging delle risorse IAM</a>. Puoi utilizzare <code class="code">aws:PrincipalTag</code> per <a href="./access_iam-tags.html#access_iam-tags_control-principals">controllare l'accesso</a> per i principali AWS.</p>
        <p>Questo esempio mostra come creare una policy basata sull'identità che consenta agli utenti con il tag <code class="userinput">department=hr</code> per gestire utenti, gruppi o ruoli IAM. Per utilizzare questa policy, sostituisci il <code class="replaceable">testo segnaposto in corsivo</code> nella policy di esempio con le tue informazioni. Quindi, segui le indicazioni fornite in <a href="./access_policies_create.html">Creazione di una policy</a> o <a href="./access_policies_manage-edit.html">Modifica di una policy</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "iam:*",
      "Resource": "*",
      "Condition": <span>{</span>
        "StringEquals": <span>{</span>
          "aws:PrincipalTag/<code class="replaceable">department</code>": "<code class="replaceable">hr</code>"
        }
      }
    }
  ]
}</code></pre>
        <p>Questo esempio mostra come creare una policy basata sulle risorse con la chiave <code class="code">aws:PrincipalTag</code> nell'ARN della risorsa. La policy consente l'operazione <code class="code">s3:GetObject</code> solo se il nome del bucket termina con il nome del team dal tag del principale <code class="code"><code class="replaceable">team</code></code>. Per utilizzare questa policy, sostituisci il <code class="replaceable">testo segnaposto in corsivo</code> nella policy di esempio con le tue informazioni. Quindi, segui le indicazioni fornite in <a href="./access_policies_create.html">Creazione di una policy</a> o <a href="./access_policies_manage-edit.html">Modifica di una policy</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Principal": "*",
    "Action": "s3:GetObject",
    "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>-$<span>{</span>aws:PrincipalTag/<code class="replaceable">team</code>}/"
  }
}</code></pre>
     
        <h2 id="condition-keys-principaltype">aws:PrincipalType</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare il tipo di entità che effettua la richiesta con il tipo di entità specificato nella policy. Per ulteriori informazioni, consulta <a href="./reference_policies_elements_principal.html#Principal_specifying">Specifica di un'entità principale</a>. Per esempi specifici di valori chiave <code class="code">principal</code>, vedi <a href="./reference_policies_variables.html#principaltable">Valori della chiave dell'entità principale</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta per tutte le richieste, incluse le richieste anonime.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-referer">aws:Referer</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare il referrer della richiesta nel browser client con il referrer specificato nella policy. Il valore del contesto della richiesta <code class="code">aws:referer</code> viene fornito dal chiamante in un'intestazione HTTP. L'intestazione <code class="code">Referer</code> viene inclusa in una richiesta del browser Web quando si seleziona un link in una pagina Web. L'intestazione <code class="code">Referer</code> contiene l'URL della pagina Web in cui è stato selezionato il link.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave viene inclusa nel contesto della richiesta solo se la richiesta alla risorsa AWS è stata richiamata tramite il link da un URL di una pagina Web nel browser. Questa chiave non è inclusa per le richieste a livello di programmazione perché non utilizza un link del browser per accedere alla risorsa AWS.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Ad esempio, è possibile accedere a un oggetto Amazon S3 direttamente utilizzando un URL o utilizzando la chiamata API diretta. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html#example-bucket-policies-use-case-4">Operazioni delle API Amazon S3 direttamente tramite un browser Web</a>. Quando si accede a un oggetto Amazon S3 da un URL presente in una pagina Web, l'URL della pagina Web di origine viene utilizzato in <code class="code">aws:referer</code>. Quando si accede a un oggetto Amazon S3 digitando l'URL nel browser, <code class="code">aws:referer</code> non è presente. Quando si richiama direttamente l'API, <code class="code">aws:referer</code> non è presente. È possibile utilizzare la chiave di condizione <code class="code">aws:referer</code> in una policy per autorizzare le richieste effettuate da un referente specifico, ad esempio un link su una pagina Web nel dominio dell'azienda. </p>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>avvertimento</h6></div><div class="awsdocs-note-text"><p>Questa chiave deve essere utilizzata con attenzione. È pericoloso includere un valore dell'intestazione del referrer pubblicamente noto. Parti non autorizzate possono utilizzare browser modificati o personalizzati per fornire qualsiasi valore <code class="code">aws:referer</code> scelto. Di conseguenza, non si dovrebbe utilizzare <code class="code">aws:referer</code> per evitare che parti non autorizzate effettuino richieste AWS dirette. È disponibile solo per consentire ai clienti di proteggere i propri contenuti digitali, come i contenuti memorizzati su Amazon S3, da riferimenti su siti di terze parti non autorizzate.</p></div></div>
     
        <h2 id="condition-keys-requestedregion">aws:RequestedRegion</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare la regione AWS richiamata nella richiesta con la regione specificata nella policy. È possibile utilizzare questa chiave di condizione globale per controllare quali regioni possono essere richieste. Per visualizzare le regioni AWS per ogni servizio, consulta <a href="https://docs.aws.amazon.com/general/latest/gr/aws-service-information.html">Endpoint e quote del servizio</a> nella <em>Riferimenti generali di Amazon Web Services</em>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>I servizi globali, ad esempio IAM, dispongono di un unico endpoint. Poiché questo endpoint si trova fisicamente nella regione Stati Uniti orientali (Virginia settentrionale), le chiamate IAM vengono sempre effettuate alla regione us-east-1. Ad esempio, se crei una policy che nega l'accesso a tutti i servizi qualora la regione richiesta non fosse us-west-2 allora le chiamate IAM non andranno mai a buon fine. Per visualizzare un esempio sulla risoluzione di questo problema, consulta <a href="./reference_policies_elements_notaction.html">NotAction con Deny</a>. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>La chiave di condizione <code class="code">aws:RequestedRegion</code> consente di controllare quale endpoint di un servizio è richiamato ma non controlla l'impatto dell'operazione. Alcuni servizi hanno impatti su più regioni. Ad esempio, Amazon S3 dispone di operazioni API che controllano le operazioni di replica tra regioni. È possibile richiamare <code class="code">s3:PutBucketReplication</code> in una regione (che è interessata dalla chiave di condizione <code class="code">aws:RequestedRegion</code>) e altre regioni vengono interessate in base alle impostazioni di configurazione delle repliche. </p></div></div>
        <p>Puoi usare questa chiave di contesto per limitare l'accesso ai servizi AWS all'interno di un determinato gruppo di regioni. Ad esempio, la seguente policy consente a un utente di visualizzare tutte le istanze Amazon EC2 nella AWS Management Console. Tuttavia consente loro di modificare solo le istanze in Irlanda (eu-west-1), a Londra (eu-west-2) o Parigi (eu-west-3).</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "InstanceConsoleReadOnly",
            "Effect": "Allow",
            "Action": [
                "ec2:Describe*",
                "ec2:Export*",
                "ec2:Get*",
                "ec2:Search*"
            ],
            "Resource": "*"
        },
        <span>{</span>
            "Sid": "InstanceWriteRegionRestricted",
            "Effect": "Allow",
            "Action": [
                "ec2:Associate*",
                "ec2:Import*",
                "ec2:Modify*",
                "ec2:Monitor*",
                "ec2:Reset*",
                "ec2:Run*",
                "ec2:Start*",
                "ec2:Stop*",
                "ec2:Terminate*"
            ],
            "Resource": "*",
            "Condition": <span>{</span>
                "StringEquals": <span>{</span>
                    "aws:RequestedRegion": [
                        "eu-west-1",
                        "eu-west-2",
                        "eu-west-3"
                    ]
                }
            }
        }
    ]
}       </code></pre>
     
        <h2 id="condition-keys-requesttag">aws:RequestTag/<em>tag-key</em></h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare la coppia chiave-valore del tag passata nella richiesta con la coppia del tag specificata nella policy. Ad esempio, è possibile controllare che la richiesta includa la chiave del tag <code class="code">"Dept"</code> e che abbia il valore <code class="code">"Accounting"</code>. Per ulteriori informazioni, consulta <a href="./access_tags.html#access_tags_control-requests">Controllo dell'accesso durante le richieste AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta quando le coppie chiave-valore dei tag vengono passate nella richiesta. Quando più tag vengono passati nella richiesta, è presente una chiave di contesto per ogni coppia chiave-valore dei tag.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Questa chiave di contesto è formattata <code class="code">"aws:RequestTag/<code class="replaceable">tag-key</code>":"<code class="replaceable">tag-value</code>"</code> laddove <code class="replaceable">tag-key</code> e <code class="replaceable">tag-value</code> sono una coppia chiave e valore di tag. Per le chiavi e i valori dei tag non viene fatta la distinzione tra maiuscole e minuscole. Questo significa che se specifichi <code class="code">"aws:RequestTag/TagKey1": "Value1"</code> nell'elemento condizione della policy, la condizione corrisponderà a una chiave di tag della richiesta denominata <code class="code">TagKey1</code> o <code class="code">tagkey1</code>, ma non a entrambi.</p>
        <p>Questo esempio mostra che, sebbene la chiave abbia un singolo valore, è comunque possibile utilizzare più coppie chiave-valore in una richiesta se le chiavi sono diverse.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Effect": "Allow",
    "Action": "ec2:CreateTags",
    "Resource": "arn:aws:ec2:::instance/*",
    "Condition": <span>{</span>
      "StringEquals": <span>{</span>
        "aws:RequestTag/environment": [
          "preprod",
          "production"
        ],
        "aws:RequestTag/team": [
          "engineering"
        ]
      }
    }
  }
}
</code></pre>
     
        <h2 id="condition-keys-resourceaccount">aws:ResourceAccount</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare l'<a href="https://docs.aws.amazon.com/general/latest/gr/acct-identifiers.html">ID Account AWS</a> del proprietario della risorsa richiesta con l'account della risorsa nella policy.  Dopodiché, puoi consentire o negare l'accesso a tale risorsa in base all'account proprietario della stessa.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta per la maggior parte delle operazioni dei servizi. Le seguenti operazioni non supportano questa chiave:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store: tutte le operazioni</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge: tutte le operazioni</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Per ulteriori considerazioni sulle operazioni non supportate di cui sopra, consulta il repository di <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>esempi di policy del perimetro di dati</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
        <p>Questa chiave è uguale all'ID dell'Account AWS per l'account al quale appartengono le risorse valutate nella richiesta.</p>
        <p>Per la maggior parte delle risorse presenti nel tuo account, l'<a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">ARN</a> contiene l'ID account del proprietario della rispettiva risorsa. Per alcune risorse, come i bucket Amazon S3, l'ARN della risorsa non include l'ID account. I due esempi seguenti mostrano la differenza tra una risorsa il cui ARN contiene un ID account e un ARN Amazon S3 privo di un ID account:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">arn:aws:iam::123456789012:role/AWSExampleRole</code>: ruolo IAM creato e di proprietà all'interno dell'account 123456789012. </p>
            </li><li class="listitem">
                <p><code class="code">arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET2</code></code>: bucket Amazon S3 creato e posseduto all'interno dell'account <code class="code">111122223333</code>, non visualizzato nell'ARN.</p>
            </li></ul></div>
        <p>Utilizza la console AWS, l'API o la CLI per trovare tutte le risorse e gli ARN corrispondenti.</p>
        <p>Scrivi una policy che nega le autorizzazioni alle risorse in base all'ID account del proprietario della risorsa. Ad esempio, la seguente policy basata sull'identità nega l'accesso alla <em>risorsa specificata</em> se la risorsa non appartiene all'<em>account specificato</em>.</p>
        <p>Per utilizzare questa policy, sostituisci il <em>testo segnaposto in corsivo</em> con le tue informazioni. </p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Questa policy non consente alcuna operazione. Utilizza invece l'effetto <code class="code">Deny</code>, che nega esplicitamente l'accesso a tutte le risorse elencate nell'istruzione che non appartengono all'account elencato. Utilizza questa policy in combinazione con altre policy che consentono l'accesso a risorse specifiche.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Sid": "DenyInteractionWithResourcesNotInSpecificAccount",
      "Action": "<code class="replaceable">service</code>:*",
      "Effect": "Deny",
      "Resource": [
        "arn:aws:<code class="replaceable">service</code>:<code class="replaceable">region</code>:<code class="replaceable">account</code>:<code class="replaceable">*</code>"
      ],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:ResourceAccount": [
            "<code class="replaceable">account</code>"
          ]
        }
      }
    }
  ]
}</code></pre>
        <p>Questa policy nega l'accesso a tutte le risorse per uno specifico servizio AWS, salvo qualora la risorsa appartenga all'Account AWS specificato. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Alcuni Servizi AWS richiedono l'accesso alle risorse di proprietà di AWS che sono ospitate in un altro Account AWS. L'utilizzo di <code class="code">aws:ResourceAccount</code> nelle tue policy basate sull'identità potrebbe influire sulla capacità della tua identità di accedere a queste risorse.</p></div></div>
        <p>Alcuni servizi AWS, come AWS Data Exchange, hanno la necessità di accedere a risorse esterne ai tuoi Account AWS per le normali operazioni. Se usi l'elemento <code class="code">aws:ResourceAccount</code> nelle tue policy, includi istruzioni aggiuntive per creare delle esenzioni per tali servizi. La policy <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: nega l'accesso alle risorse Amazon S3 al di fuori del tuo account, tranne AWS Data Exchange</a> di esempio illustra come negare l'accesso in base all'account della risorsa definendo al contempo delle eccezioni per le risorse di proprietà del servizio.</p>
        <p>Utilizza questo esempio di policy come modello per creare le tue policy personalizzate. Per ulteriori informazioni, consulta la <a href="https://docs.aws.amazon.com/index.html">documentazione</a> del servizio.</p>
     
        <h2 id="condition-keys-resourceorgid">aws:ResourceOrgID</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare l'identificatore dell'organizzazione in AWS Organizations a cui appartiene la risorsa richiesta con l'identificatore specificato nella policy.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave viene inclusa nel contesto della richiesta solo se l'account che possiede la risorsa è membro di un'organizzazione. Questa chiave della condizione globale non supporta le seguenti operazioni:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store: tutte le operazioni</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge: tutte le operazioni</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Per ulteriori considerazioni sulle operazioni non supportate di cui sopra, consulta il repository di <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>esempi di policy del perimetro di dati</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
        <p>Questa chiave globale restituisce l'ID dell'organizzazione della risorsa per una determinata richiesta. Consente di creare regole che si applicano a tutte le risorse di un'organizzazione che sono specificate nell'elemento <code class="code">Resource</code> di una <a href="./access_policies_identity-vs-resource.html">policy basata sull'identità</a>. È possibile specificare l'<a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_org_details.html">ID organizzazione</a> nell'elemento condizionale. Quando aggiungi e rimuovi degli account, le policy che includono la chiave <code class="code">aws:ResourceOrgID</code> includono automaticamente anche gli account corretti e non necessitano dell'aggiornamento manuale.</p>
        <p>Ad esempio, la seguente policy impedisce al principale di aggiungere oggetti alla risorsa <code class="code">policy-genius-dev</code>, a meno che la risorsa Amazon S3 non appartenga alla stessa organizzazione del principale che effettua la richiesta.</p>
        <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Importante</h6></div><div class="awsdocs-note-text"><p>Questa policy non consente alcuna operazione. Utilizza invece l'effetto <code class="code">Deny</code>, che nega esplicitamente l'accesso a tutte le risorse elencate nell'istruzione che non appartengono all'account elencato. Utilizza questa policy in combinazione con altre policy che consentono l'accesso a risorse specifiche.</p></div></div>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": <span>{</span>
    "Sid": "DenyPutObjectToS3ResourcesOutsideMyOrganization",
    "Effect": "Deny",
    "Action": "s3:PutObject",
    "Resource": "arn:<code class="replaceable">partition</code>:s3:::policy-genius-dev/*",
    "Condition": <span>{</span>
      "StringNotEquals": <span>{</span>
        "aws:ResourceOrgID": "$<span>{</span>aws:PrincipalOrgID}"
      }
    }
  }
}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Alcuni Servizi AWS richiedono l'accesso alle risorse di proprietà di AWS che sono ospitate in un altro Account AWS. L'utilizzo di <code class="code">aws:ResourceOrgID</code> nelle tue policy basate sull'identità potrebbe influire sulla capacità della tua identità di accedere a queste risorse.</p></div></div>
        
        <p>Alcuni servizi AWS, come AWS Data Exchange, hanno la necessità di accedere a risorse esterne ai tuoi Account AWS per le normali operazioni. Se usi la chiave <code class="code">aws:ResourceOrgID</code> nelle tue policy, includi istruzioni aggiuntive per creare delle esenzioni per tali servizi. La policy <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: nega l'accesso alle risorse Amazon S3 al di fuori del tuo account, tranne AWS Data Exchange</a> di esempio illustra come negare l'accesso in base all'account della risorsa definendo al contempo delle eccezioni per le risorse di proprietà del servizio. Puoi creare una policy simile per limitare l'accesso alle risorse all'interno dell'organizzazione utilizzando la chiave <code class="code">aws:ResourceOrgID</code>, tenendo conto delle risorse di proprietà del servizio.</p>
        <p>Utilizza questo esempio di policy come modello per creare le tue policy personalizzate. Per ulteriori informazioni, consulta la <a href="https://docs.aws.amazon.com/index.html">documentazione</a> del servizio.</p>
        
        <p>Nel seguente video, scopri ulteriori informazioni su come utilizzare la chiave di condizione <code class="code">aws:ResourceOrgID</code> in una policy.</p>
        <div class="mediaobject">
             
                <iframe width="720" height="330" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" sandbox="allow-scripts allow-same-origin allow-popups" src="https://www.youtube-nocookie.com/embed/cWVW0xAiWwc"></iframe>
             
             
        </div>
        
        
        
     
        <h2 id="condition-keys-resourceorgpaths">aws:ResourceOrgPaths</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare il percorso di AWS Organizations della risorsa alla quale si effettua l'accesso con il percorso nella policy. In una policy, questa chiave della condizione garantisce che la risorsa appartenga a un membro dell'account all'interno del root dell'organizzazione o delle unità organizzative (UO) specificate in AWS Organizations. Un percorso AWS Organizations è una rappresentazione testuale della struttura di un'entità Organizations. Per ulteriori informazioni sull'utilizzo e la comprensione dei percorsi, consulta la sezione <a href="./access_policies_access-advisor-view-data-orgs.html#access_policies_access-advisor-viewing-orgs-entity-path">Informazioni sul percorso dell'entità AWS Organizations</a>. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave viene inclusa nel contesto della richiesta solo se l'account che possiede la risorsa è membro di un'organizzazione. Questa chiave della condizione globale non supporta le seguenti operazioni:</p>
                <div class="itemizedlist">
                     
                     
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Amazon Elastic Block Store: tutte le operazioni</p>
                    </li><li class="listitem">
                        <p>Amazon EC2</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">ec2:AcceptTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:AcceptVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CopySnapshot</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVolume</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcEndpoint</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:CreateVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:DeleteVpcPeeringConnection</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectTransitGatewayPeeringAttachment</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcEndpointConnections</code></p>
                            </li><li class="listitem">
                                <p><code class="code">ec2:RejectVpcPeeringConnection</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon EventBridge: tutte le operazioni</p>
                    </li><li class="listitem">
                        <p>Amazon Route 53</p>
                        <div class="itemizedlist">
                             
                             
                             
                             
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">route53:AssociateVpcWithHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:CreateVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DeleteVPCAssociationAuthorization</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:DisassociateVPCFromHostedZone</code></p>
                            </li><li class="listitem">
                                <p><code class="code">route53:ListHostedZonesByVPC</code></p>
                            </li></ul></div>
                    </li><li class="listitem">
                        <p>Amazon WorkSpaces</p>
                        <div class="itemizedlist">
                             
                        <ul class="itemizedlist"><li class="listitem">
                                <p><code class="code">workspaces:DescribeWorkspaceImages</code></p>
                            </li></ul></div>
                    </li></ul></div>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: multivalore</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Per ulteriori considerazioni sulle operazioni non supportate di cui sopra, consulta il repository di <a href="https://github.com/aws-samples/data-perimeter-policy-examples" rel="noopener noreferrer" target="_blank"><span>esempi di policy del perimetro di dati</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></div></div>
        <p><code class="code">aws:ResourceOrgPaths</code> è una chiave di condizione multivalore. Le chiavi multivalore possono avere più di un valore nel contesto della richiesta. È necessario utilizzare gli operatori di insieme <code class="code">ForAnyValue</code> o <code class="code">ForAllValues</code> con gli <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori di condizione di stringa</a> quando si utilizza questa chiave. Per ulteriori informazioni sulle chiavi di condizione multivalore, consultare <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilizzo di più chiavi e valori</a>.</p>
        <p>Ad esempio, la seguente condizione restituisce <code class="code">True</code> per le risorse appartenenti all'organizzazione <code class="code">o-a1b2c3d4e5</code>. Quando includi un carattere jolly, è necessario utilizzare l'operatore di condizione <a href="./reference_policies_elements_condition_operators.html">StringLike</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> 
      "ForAnyValue:StringLike": <span>{</span>
             "aws:ResourceOrgPaths":["o-a1b2c3d4e5/*"]
   }
}</code></pre>
        <p>La condizione seguente restituisce <code class="code">True</code> alle risorse con l'ID dell'unità organizzativa <code class="code">ou-ab12-11111111</code>. Assocerà le risorse di proprietà degli account collegati all'unità organizzativa ou-ab12-11111111 o a qualsiasi unità organizzativa figlia.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> "ForAnyValue:StringLike" : <span>{</span>
     "aws:ResourceOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/*"]
}}</code></pre>
        <p>La seguente condizione restituisce <code class="code">True</code> per le risorse di proprietà degli account collegati direttamente all'ID dell'unità organizzativa <code class="code">ou-ab12-22222222</code>, ma non alle unità figlie. L'esempio seguente utilizza l'operatore di condizione <a href="./reference_policies_elements_condition_operators.html">StringEquals</a> per specificare il requisito di corrispondenza esatta per l'unità organizzativa e non una corrispondenza con caratteri jolly.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Condition": <span>{</span> "ForAnyValue:StringEquals" : <span>{</span>
     "aws:ResourceOrgPaths":["o-a1b2c3d4e5/r-ab12/ou-ab12-11111111/ou-ab12-22222222/"]
}}</code></pre>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p>Alcuni Servizi AWS richiedono l'accesso alle risorse di proprietà di AWS che sono ospitate in un altro Account AWS. L'utilizzo di <code class="code">aws:ResourceOrgPaths</code> nelle tue policy basate sull'identità potrebbe influire sulla capacità della tua identità di accedere a queste risorse.</p></div></div>
        
        <p>Alcuni servizi AWS, come AWS Data Exchange, hanno la necessità di accedere a risorse esterne ai tuoi Account AWS per le normali operazioni. Se usi la chiave <code class="code">aws:ResourceOrgPaths</code> nelle tue policy, includi istruzioni aggiuntive per creare delle esenzioni per tali servizi. La policy <a href="./reference_policies_examples_resource_account_data_exch.html">AWS: nega l'accesso alle risorse Amazon S3 al di fuori del tuo account, tranne AWS Data Exchange</a> di esempio illustra come negare l'accesso in base all'account della risorsa definendo al contempo delle eccezioni per le risorse di proprietà del servizio. Puoi creare una policy simile per limitare l'accesso alle risorse all'interno di un'unita organizzativa (OU) utilizzando la chiave <code class="code">aws:ResourceOrgPaths</code>, tenendo conto delle risorse di proprietà del servizio.</p>
        <p>Utilizza questo esempio di policy come modello per creare le tue policy personalizzate. Per ulteriori informazioni, consulta la <a href="https://docs.aws.amazon.com/index.html">documentazione</a> del servizio.</p>
     
        <h2 id="condition-keys-resourcetag">aws:ResourceTag/<em>tag-key</em></h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare la coppia chiave-valore del tag specificata nella policy con la coppia chiave-valore associata alla risorsa. Ad esempio, puoi richiedere che l'accesso a una risorsa sia consentito solo se la risorsa dispone di una chiave di tag collegata <code class="code">"Dept"</code> con il valore <code class="code">"Marketing"</code>. Per ulteriori informazioni, consulta <a href="./access_tags.html#access_tags_control-resources">Controllo dell'accesso alle risorse AWS</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta quando la risorsa richiesta dispone già di tag collegati o nelle richieste che creano una risorsa con un tag collegato. Questa chiave viene restituita solo per le risorse che <a href="./reference_aws-services-that-work-with-iam.html">supportano l'autorizzazione basata sui tag</a>. È presente una chiave di contesto per ogni coppia chiave-valore del tag.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Questa chiave di contesto è formattata <code class="code">"aws:ResourceTag/<code class="replaceable">tag-key</code>":"<code class="replaceable">tag-value</code>"</code> laddove <code class="replaceable">tag-key</code> e <code class="replaceable">tag-value</code> sono una coppia chiave e valore di tag. Per le chiavi e i valori dei tag non viene fatta la distinzione tra maiuscole e minuscole. Questo significa che se specifichi <code class="code">"aws:ResourceTag/TagKey1": "Value1"</code> nell'elemento condizione della policy, la condizione corrisponderà a una chiave di tag della risorsa denominata <code class="code">TagKey1</code> o <code class="code">tagkey1</code>, ma non a entrambi.</p>
        <p>Per esempi sull'utilizzo della chiave <code class="code">aws:ResourceTag</code> per controllare l'accesso alle risorse IAM, consulta <a href="./access_tags.html#access_tags_control-resources">Controllo dell'accesso alle risorse AWS</a>.</p>
        <p>Per esempi sull'utilizzo della chiave <code class="code">aws:ResourceTag</code> per controllare l'accesso ad altre risorse AWS, consulta <a href="./access_tags.html">Controllo dell'accesso alle risorse AWS mediante i tag</a>.</p>
        <p>Per un'esercitazione sull'utilizzo della chiave di condizione <code class="code">aws:ResourceTag</code> per il controllo dell'accesso basato sugli attributi (ABAC), consulta <a href="./tutorial_attribute-based-access-control.html">Tutorial IAM: Definizione delle autorizzazioni per accedere alle risorse AWS in base ai tag</a>.</p>
     
        <h2 id="condition-keys-securetransport">aws:SecureTransport</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operatori booleani</a>.</p>
        <p>Utilizzare questa chiave per verificare se la richiesta è stata inviata utilizzando SSL. Il contesto della richiesta restituisce <code class="code">true</code> o <code class="code">false</code>. In una policy, è possibile consentire operazioni specifiche solo se la richiesta viene inviata tramite SSL.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-sourceaccount">aws:SourceAccount</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'ID account della risorsa che effettua una richiesta da servizio a servizio con l'ID account specificato nella policy. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo se l'accesso a una risorsa attiva un servizio AWS per chiamare un altro servizio per conto del proprietario della risorsa. Il servizio chiamante deve passare l'ID account della risorsa dell'origine al servizio chiamato. Questo ID account include l'ID account di origine.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>È possibile utilizzare questa chiave di condizione per impedire a un servizio AWS di essere utilizzato come <a href="./confused-deputy.html">confused deputy</a> durante le transazioni tra servizi. Imposta il valore di questa chiave di condizione sull'account della risorsa nella richiesta. Ad esempio, quando un aggiornamento di un bucket Amazon S3 attiva un post sull'argomento Amazon SNS, il servizio Amazon S3 richiama l'operazione API <code class="code">sns:Publish</code>. Nella policy che autorizza l'operazione <code class="code">sns:Publish</code>, imposta il valore della chiave di condizione sull'ID account del bucket Amazon S3. Per informazioni su come e quando queste chiavi di condizione sono consigliate, consulta la documentazione dei servizi AWS che stai utilizzando.</p>
     
        <h2 id="condition-keys-sourcearn">aws:SourceArn</h2>
        <p>Funziona con gli <a href="./reference_policies_elements_condition_operators.html#Conditions_ARN">operatori ARN</a> e gli <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori di stringa</a>. AWSconsiglia di utilizzare operatori ARN anziché gli operatori di stringha quando si confrontano gli ARN.</p>
        <p>Utilizza questa chiave per confrontare l'<a href="./reference_identifiers.html#identifiers-arns">Amazon Resource Name (ARN)</a> della risorsa che effettua una richiesta di servizio con l'ARN specificato nella policy. </p>
        <p>Questa chiave non funziona con l'ARN dell'entità che effettua la richiesta. Utilizza invece <a href="#condition-keys-principalarn">aws:PrincipalArn</a>. L'ARN dell'origine include l'ID account, quindi non è necessario utilizzare <code class="code">aws:SourceAccount</code> con <code class="code">aws:SourceArn</code>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo se l'accesso a una risorsa attiva un servizio AWS per chiamare un altro servizio per conto del proprietario della risorsa. Il servizio chiamante deve passare l'ARN della risorsa originale al servizio chiamato.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>È possibile utilizzare questa chiave di condizione per impedire a un servizio AWS di essere utilizzato come <a href="./confused-deputy.html">confused deputy</a> durante le transazioni tra servizi. Imposta il valore di questa chiave di condizione sull'ARN della risorsa nella richiesta. Ad esempio, quando un aggiornamento di un bucket Amazon S3 attiva un post sull'argomento Amazon SNS, il servizio Amazon S3 richiama l'operazione API <code class="code">sns:Publish</code>. Nella policy che consente l'operazione <code class="code">sns:Publish</code>, imposta il valore della chiave di condizione sull'ARN del bucket Amazon S3. Per informazioni su come e quando queste chiavi di condizione sono consigliate, consulta la documentazione dei servizi AWS che stai utilizzando.</p>
     
        <h2 id="condition-keys-sourceidentity">aws:SourceIdentity</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizza questa chiave per confrontare l'identità di origine impostata dal principale con l'identità di origine specificata nella policy. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta dopo che è stata impostata un'identità di origine quando un ruolo viene assunto tramite qualsiasi comando AWS STS assume-role della CLI o l'operazione API AWS STS <code class="code">AssumeRole</code>.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>È possibile utilizzare questa chiave in una policy per consentire operazioni in AWS da principali che hanno impostato un'identità di origine quando si assume un ruolo. L'attività per l'identità di origine specificata del ruolo viene visualizzata in <a href="./cloudtrail-integration.html#cloudtrail-integration_signin-tempcreds">AWS CloudTrail</a>. In questo modo è più facile per gli amministratori determinare chi o cosa ha eseguito le operazioni con un ruolo in AWS.</p>
        <p>A differenza di <a href="./reference_policies_iam-condition-keys.html#ck_rolesessionname">sts:RoleSessionName</a>, dopo aver impostato l'identità di origine, il valore non può essere modificato. È presente nel contesto della richiesta di tutte le operazioni intraprese dal ruolo. Il valore persiste nelle sessioni di ruolo successive quando si utilizzano le credenziali di sessione per assumere un altro ruolo. L'assunzione di un ruolo partendo da un altro si chiama <a href="./id_roles_terms-and-concepts.html#iam-term-role-chaining">concatenamento del ruolo</a>. </p>
        <p>La chiave <a href="./reference_policies_iam-condition-keys.html#ck_sourceidentity">sts:SourceIdentity</a> è presente nella richiesta quando il principale imposta inizialmente un'identità di origine mentre assume un ruolo utilizzando qualsiasi comando AWS STS assume-role della CLI o l'operazione API AWS STS <code class="code">AssumeRole</code>. La chiave <code class="code">aws:SourceIdentity</code> è presente nella richiesta per tutte le operazioni eseguite con una sessione di ruolo con un set di identità di origine.</p>
        <p>La policy di attendibilità del ruolo riportata di seguito per <code class="code">CriticalRole</code> nell'account <code class="code">111122223333</code> contiene una condizione per <code class="code">aws:SourceIdentity</code>che impedisce a un principale senza un'identità di origine impostata su Saanvi o Diego di assumere il ruolo.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "AssumeRoleIfSourceIdentity",
            "Effect": "Allow",
            "Principal": <span>{</span>"AWS": "arn:aws:iam::123456789012:role/CriticalRole"},
            "Action": [
                "sts:AssumeRole",
                "sts:SetSourceIdentity"
            ],
            "Condition": <span>{</span>
                "StringLike": <span>{</span>
                    "aws:SourceIdentity": ["Saanvi","Diego"]
                }
            }
        }
    ]
}
</code></pre>
        <p>Per ulteriori informazioni sull'utilizzo dell'identità di origine, consulta <a href="./id_credentials_temp_control-access_monitor.html">Monitoraggio e controllo delle operazioni intraprese con i ruoli assunti</a>.</p>
     
        <h2 id="condition-keys-sourceip">aws:SourceIp</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">operatori indirizzo IP</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'indirizzo IP del richiedente con l'indirizzo IP specificato nella policy. La chiave di condizione <code class="code">aws:SourceIp</code> può essere utilizzata solo per intervalli di indirizzi IP pubblici.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta, tranne quando il richiedente utilizza un endpoint VPC per effettuare la richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>La chiave di condizione <code class="code">aws:SourceIp</code> può essere utilizzata in una policy per consentire alle entità di effettuare richieste solo all'interno di un intervallo IP specificato. Tuttavia, questo criterio nega l'accesso se un servizio AWS effettua chiamate per conto dell'entità. In questo caso, puoi utilizzare <code class="code">aws:SourceIp</code> con la chiave <code class="code"><a href="#condition-keys-viaawsservice">aws:ViaAWSService</a></code> per assicurarsi che la restrizione IP di origine si applichi solo alle richieste effettuate direttamente da un'entità. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Nota</h6></div><div class="awsdocs-note-text"><p> <code class="code">aws:SourceIp</code> supporta indirizzi sia IPv4 sia IPv6 e intervalli di indirizzi IP. Per ulteriori dettagli, consulta la pagina <a href="https://docs.aws.amazon.com/marketplace/latest/buyerguide/buyer-security-ipv6-upgrade.html">Aggiornamento delle policy IAM a IPv6</a>.</p></div></div>
        <p>Ad esempio, prova a collegare la policy seguente a un utente IAM. Questa policy consente all'utente di inserire direttamente un oggetto nel bucket <code class="code"><code class="replaceable">DOC-EXAMPLE-BUCKET3</code></code> di Amazon S3 se effettua la chiamata dall'indirizzo IP specificato. Tuttavia, se l'utente effettua un'altra richiesta che causa la chiamata di un servizio ad Amazon S3, la limitazione dell'indirizzo IP non si applica. L'istruzione <code class="code">PrincipalPutObjectIfIpAddress</code> limita l'indirizzo IP solo se la richiesta non viene effettuata da un servizio. L'istruzione <code class="code">ServicePutObject</code> consente l'operazione senza restrizione dell'indirizzo IP se la richiesta viene effettuata da un servizio.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "PrincipalPutObjectIfIpAddress",
            "Effect": "Allow",
            "Action": "s3:PutObject",
            "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET3</code>/*",
            "Condition": <span>{</span>
                "Bool": <span>{</span>"aws:ViaAWSService": "false"},
                "IpAddress": <span>{</span>"aws:SourceIp": "<code class="replaceable">203.0.113.0</code>"}
            }
        },
        <span>{</span>
            "Sid": "ServicePutObject",
            "Effect": "Allow",
            "Action": "s3:PutObject",
            "Resource": "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/*",
            "Condition": <span>{</span>
                "Bool": <span>{</span>"aws:ViaAWSService": "true"}
            }
        }
    ]
}</code></pre>
        <p>Se la richiesta proviene da un host che utilizza un endpoint Amazon VPC, la chiave <code class="code">aws:SourceIp</code> non è disponibile. Si dovrebbe invece usare una chiave specifica per VPC, ad esempio aws:VpcSourceIp. Per ulteriori informazioni sull'utilizzo degli endpoint VPC, consulta la sezione <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-iam.html">Gestione delle identità e degli accessi per endpoint VPC e servizi endpoint VPC</a> nella <em>Guida di AWS PrivateLink</em>.</p>
     
        <h2 id="condition-keys-sourcevpc">aws:SourceVpc</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per verificare se la richiesta proviene dal VPC specificato nella policy. In una policy è possibile utilizzare questa chiave per consentire l'accesso solo a un VPC specifico. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html#example-bucket-policies-restrict-access-vpc">Limitazione dell'accesso a un VPC specifico</a> nella <em>Guida per l'utente di Amazon Simple Storage Service</em>. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo se il richiedente utilizza un endpoint VPC per effettuare la richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-sourcevpce">aws:SourceVpce</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'identificatore dell'endpoint VPC della richiesta con l'ID endpoint specificato nella policy. In una policy è possibile utilizzare questa chiave per limitare l'accesso a un endpoint VPC specifico. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies-vpc-endpoint.html#example-bucket-policies-restrict-access-vpc-endpoint">Limitazione dell'accesso a un endpoint VPC specifico</a> nella <em>Guida per l'utente di Amazon Simple Storage Service</em>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo se il richiedente utilizza un endpoint VPC per effettuare la richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-tagkeys">aws:TagKeys</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare le chiavi dei tag in una richiesta con quelle specificate nella policy. Nell'utilizzo delle policy per controllare gli accessi tramite tag, è consigliabile utilizzare la chiave di condizione <code class="code">aws:TagKeys</code> per definire le chiavi di tag ammesse. Per esempi di policy e ulteriori informazioni, consultare <a href="./access_tags.html#access_tags_control-tag-keys">Controllo dell'accesso in base alle chiavi di tag</a></p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta se l'operazione supporta il passaggio di tag nella richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: multivalore</p>
            </li></ul></div>
        <p>Questa chiave contesto viene formattata <code class="code">"aws:TagKeys":"<code class="replaceable">tag-key</code>"</code> dove <code class="replaceable">tag-key</code> è una lista di chiavi di tag senza valori (ad esempio, <code class="code">["Dept","Cost-Center"]</code>).</p>
        <p>Poiché è possibile includere più coppie chiave-valore dei tag in una richiesta, il contenuto della richiesta potrebbe essere una richiesta <a href="./reference_policies_multi-value-conditions.html">multivalore</a>. In questo caso, devi usare gli operatori su set <code class="code">ForAllValues</code> o <code class="code">ForAnyValue</code>. Per ulteriori informazioni, consulta <a href="./reference_policies_multi-value-conditions.html#reference_policies_multi-key-or-value-conditions">Utilizzo di più chiavi e valori</a>.</p>
        <p>Alcuni servizi supportano il tagging con operazioni sulle risorse, come la creazione, la modifica o l'eliminazione di una risorsa. Per consentire il tagging e le operazioni come chiamata singola, è necessario creare una policy che comprende le operazioni di tagging e di modifica della risorsa. È quindi possibile utilizzare la chiave di condizione <code class="code">aws:TagKeys</code> per implementare nella richiesta specifiche chiavi di tag. Ad esempio, per limitare i tag quando un utente crea uno snapshot Amazon EC2, è necessario includere nella policy l'operazione di creazione <code class="code">ec2:CreateSnapshot</code> <em><b>e</b></em> l'operazione di tagging <code class="code">ec2:CreateTags</code>. Per visualizzare una policy per questo scenario che utilizza <code class="code">aws:TagKeys</code>, consulta <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ExamplePolicies_EC2.html#iam-creating-snapshot-with-tags">Creazione di uno snapshot con tag</a> nella <em>Guida per l'utente di Amazon EC2 per le istanze Linux</em>. </p>
     
        <h2 id="condition-keys-tokenissuetime">aws:TokenIssueTime</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_Date">operatori date</a>.</p>
        <p>Utilizzare questa chiave per confrontare la data e l'ora in cui sono state emesse le credenziali di sicurezza temporanee con la data e l'ora specificate nella policy. </p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo quando il principale utilizza credenziali temporanee per effettuare la richiesta. Questa chiave non è presente nelle richieste della AWS CLI, dell'API AWS o dell'SDK AWS effettuate utilizzando le chiavi di accesso.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Per sapere quali servizi supportano l'utilizzo di credenziali temporanee, consulta <a href="./reference_aws-services-that-work-with-iam.html">Servizi AWS che funzionano con IAM</a>.</p>
     
        <h2 id="condition-keys-useragent">aws:UserAgent</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'applicazione client del richiedente con l'applicazione specificata nella policy.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <div class="awsdocs-note awsdocs-warning"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>avvertimento</h6></div><div class="awsdocs-note-text"><p>Questa chiave deve essere utilizzata con attenzione. Poiché il valore <code class="code">aws:UserAgent</code> viene fornito dall'intermediario in un'intestazione HTTP, le parti non autorizzate possono utilizzare browser modificati o personalizzati per fornire qualsiasi valore <code class="code">aws:UserAgent</code> da essi scelto. Di conseguenza, non si dovrebbe utilizzare <code class="code">aws:UserAgent</code> per evitare che parti non autorizzate effettuino richieste AWS dirette. Puoi utilizzarlo per consentire solo applicazioni client specifiche e solo dopo il test della policy.</p></div></div>
     
        <h2 id="condition-keys-userid">aws:userid</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'identificatore dell'entità richiedente con l'ID specificato nella policy. Per gli utenti IAM, il valore del contesto della richiesta è l'ID utente. Per i ruoli IAM, questo formato di valore può variare. Per informazioni dettagliate su come vengono visualizzate le informazioni per diverse entità, consultare <a href="./reference_policies_elements_principal.html#Principal_specifying">Specifica di un'entità principale</a>. Per esempi specifici di valori chiave <code class="code">principal</code>, vedi <a href="./reference_policies_variables.html#principaltable">Valori della chiave dell'entità principale</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta per tutte le richieste, incluse le richieste anonime.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-username">aws:username</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_String">operatori stringa</a>.</p>
        <p>Utilizzare questa chiave per confrontare il nome utente del richiedente con il nome utente specificato nella policy. Per informazioni dettagliate su come vengono visualizzate le informazioni per diverse entità, consultare <a href="./reference_policies_elements_principal.html#Principal_specifying">Specifica di un'entità principale</a>. Per esempi specifici di valori chiave <code class="code">principal</code>, vedi <a href="./reference_policies_variables.html#principaltable">Valori della chiave dell'entità principale</a>.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta per gli utenti IAM. Le richieste anonime e le richieste effettuate utilizzando i ruoli IAM o dell'Utente root dell'account AWS non includono questa chiave. Le richieste effettuate utilizzando le credenziali di IAM Identity Center non includono questa chiave nel contesto. Per informazioni su come controllare l'accesso agli utenti in IAM Identity Center, consulta <code class="code">identitystore:UserId</code> in <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/using-predefined-attributes.html">Utilizzo degli attributi predefiniti dall'archivio di identità di IAM Identity Center per il controllo degli accessi in AWS</a>. Gli utenti di IAM Identity Center sono le persone della tua forza lavoro che hanno bisogno di accedere ai tuoi Account AWS o alle tue applicazioni cloud.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
     
        <h2 id="condition-keys-viaawsservice">aws:ViaAWSService</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_Boolean">operatori booleani</a>.</p>
        <p>Utilizzare questa chiave per verificare se un servizio AWS effettua una richiesta a un altro servizio per conto dell'utente.</p>
        <p>La chiave di contesto della richiesta restituisce <code class="code">true</code> quando un servizio utilizza le credenziali di un'entità IAM per effettuare una richiesta per conto del principale. La chiave di contesto restituisce <code class="code">false</code> se il servizio utilizza un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-role">ruolo di servizio</a> oppure un <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">ruolo collegato</a> al servizio per effettuare una chiamata per conto dell'entità. La chiave di contesto della richiesta restituisce anche <code class="code">false</code> quando l'entità effettua direttamente la chiamata.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è sempre inclusa nel contesto della richiesta.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>È possibile utilizzare questa chiave di condizione per consentire o negare l'accesso in base al fatto che una richiesta sia stata effettuata da un servizio. Per un esempio di policy, consultare <a href="./reference_policies_examples_aws_deny-ip.html">AWS: rifiuta l'accesso ad AWS in base all'IP di origine</a>.</p>
     
        <h2 id="condition-keys-vpcsourceip">aws:VpcSourceIp</h2>
        <p>Lavora con <a href="./reference_policies_elements_condition_operators.html#Conditions_IPAddress">operatori indirizzo IP</a>.</p>
        <p>Utilizzare questa chiave per confrontare l'indirizzo IP da cui è stata effettuata una richiesta con l'indirizzo IP specificato nella policy. In una policy, la chiave corrisponde solo se la richiesta proviene dall'indirizzo IP specificato e passa attraverso un endpoint VPC.</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><b>Disponibilità</b>: questa chiave è inclusa nel contesto della richiesta solo se la richiesta viene effettuata utilizzando un endpoint VPC.</p>
            </li><li class="listitem">
                <p><b>Tipo di valore</b>: valore singolo</p>
            </li></ul></div>
        <p>Per ulteriori informazioni, consultare <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-endpoints-access.html">Controllo degli accessi ai servizi con endpoint VPC</a> nella <em>Guida per l'utente di Amazon VPC</em>.</p>
     
        <h2 id="condition-keys-other">Altre chiavi di condizione cross-service</h2>
        <p>Le chiavi di condizione globali sono chiavi di condizione con un prefisso <code class="code">aws:</code>. I singoli servizi possono creare chiavi di condizione specifiche. Queste chiavi di condizione specifiche del servizio includono un prefisso che corrisponde al nome del servizio, ad esempio <code class="code">iam:</code> o <code class="code">sts:</code>.</p>
        <p>I servizi possono creare chiavi specifiche del servizio disponibili nel contesto delle richieste ad altri servizi. Queste chiavi sono disponibili in più servizi, ma non sono chiavi di condizione globali. Ad esempio, AWS STS supporta le <a href="./reference_policies_iam-condition-keys.html#condition-keys-saml">chiavi di condizione di federazione basate su SAML</a>. Queste chiavi sono disponibili quando un utente federato tramite SAML esegue operazioni AWS in altri servizi. Altri esempi includono <code class="code"><a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/using-predefined-attributes.html">identitystore:UserId</a></code> e <code class="code"><a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-policy-structure.html#amazon-ec2-keys">ec2:SourceInstanceArn</a></code>.</p>
        <p>Per visualizzare le chiavi di condizione specifiche del servizio per un servizio, consulta <a href="https://docs.aws.amazon.com/service-authorization/latest/reference/reference_policies_actions-resources-contextkeys.html">Operazioni, risorse e chiavi di condizione per i servizi AWS</a> e scegli il servizio di cui desideri visualizzare le chiavi.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./access_policies_job-functions_create-policies.html">Creazione dei ruoli e collegamento delle policy (console)</div><div id="next" class="next-link" accesskey="n" href="./reference_policies_iam-condition-keys.html">Chiavi di condizione IAM</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=IAM&amp;topic_url=https://docs.aws.amazon.com/it_it/IAM/latest/UserGuide/reference_policies_condition-keys.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>