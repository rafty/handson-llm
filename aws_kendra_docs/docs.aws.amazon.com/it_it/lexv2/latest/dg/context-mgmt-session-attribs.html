<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Impostazione degli attributi della sessione - Amazon Lex</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="context-mgmt-session-attribs" /><meta name="default_state" content="context-mgmt-session-attribs" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html" /><meta name="description" content="Gli attributi di sessione contengono informazioni specifiche dell'applicazione che vengono trasmesse tra un bot e un'applicazione client durante una sessione. Amazon Lex passa gli attributi di sessione a tutte le funzioni Lambda configurate per un bot. Se una funzione Lambda aggiunge o aggiorna gli attributi di sessione, Amazon Lex ritrasmette le nuove informazioni all'applicazione client." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Lex" /><meta name="guide" content="Guida per gli sviluppatori V2" /><meta name="abstract" content="Fornisce una panoramica concettuale di Amazon Lex V2. Include istruzioni dettagliate per l'utilizzo di varie funzionalità, come le conversazioni in streaming, e fornisce un riferimento completo per le API V2." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lexv2/latest/dg/context-mgmt-session-attribs.html" hreflang="x-default" /><meta name="feedback-item" content="Lex" /><meta name="this_doc_product" content="Amazon Lex" /><meta name="this_doc_guide" content="Guida per gli sviluppatori V2" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lex'}"></script><meta id="panorama-serviceSubSection" value="Guida per gli sviluppatori V2" /><meta id="panorama-serviceConsolePage" value="Impostazione degli attributi della sessione" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Impostazione degli attributi della sessione - Amazon Lex</title><meta name="pdf" content="lex2.0.pdf#context-mgmt-session-attribs" /><meta name="rss" content="amazon-lex-v2-document-history.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=251" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=http://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Lex",
        "item" : "https://docs.aws.amazon.com/lex/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Guida per gli sviluppatori V2",
        "item" : "https://docs.aws.amazon.com/it_it/lexv2/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Usare i bot",
        "item" : "https://docs.aws.amazon.com/it_it/lexv2/latest/dg/using-bots.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Gestire il contesto della conversazione",
        "item" : "https://docs.aws.amazon.com/it_it/lexv2/latest/dg/using-contexts.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Impostazione degli attributi della sessione",
        "item" : "https://docs.aws.amazon.com/it_it/lexv2/latest/dg/using-contexts.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="lex2.0.pdf#context-mgmt-session-attribs" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/lex/index.html">Amazon Lex</a><a href="what-is.html">Guida per gli sviluppatori V2</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>Le traduzioni sono generate tramite traduzione automatica. In caso di conflitto tra il contenuto di una traduzione e la versione originale in Inglese, quest'ultima prevarrà.</p></awsui-alert><h1 class="topictitle" id="context-mgmt-session-attribs">Impostazione degli attributi della sessione</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p><em>Gli attributi di sessione</em> contengono informazioni specifiche dell'applicazione che vengono trasmesse tra un bot e un'applicazione client durante una sessione. Amazon Lex passa gli attributi di sessione a tutte le funzioni Lambda configurate per un bot. Se una funzione Lambda aggiunge o aggiorna gli attributi di sessione, Amazon Lex ritrasmette le nuove informazioni all'applicazione client. </p><p>Usa gli attributi di sessione nelle tue funzioni Lambda per inizializzare un bot e personalizzare i prompt e le schede di risposta. Ad esempio:</p><div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Inizializzazione: in un bot per ordinare pizze, l'applicazione client passa la posizione dell'utente come attributo di sessione nella prima chiamata all'<a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_runtime_RecognizeUtterance.html">RecognizeUtterance</a>operazione <a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_runtime_RecognizeText.html">RecognizeText</a>or. Ad esempio, <code class="code">"Location": "111 Maple
                        Street"</code>. La funzione Lambda utilizza queste informazioni per trovare la pizzeria più vicina a cui effettuare l'ordine.</p>
            </li><li class="listitem">
                <p>Personalize i prompt: configura i prompt e le schede di risposta in modo che facciano riferimento agli attributi della sessione. Ad esempio, «Ehi [FirstName], quali condimenti vorresti?» Se passi il nome dell'utente come attributo di sessione (<code class="code"><span>{</span>"FirstName": "Vivian"}</code>), Amazon Lex sostituisce il nome con il segnaposto. Quindi invia un messaggio personalizzato all'utente: «Ehi Vivian, quali condimenti preferisci?»</p>
            </li></ul></div><p>Gli attributi della sessione vengono mantenuti per la durata della sessione. Amazon Lex li archivia in un archivio dati crittografato fino al termine della sessione. Il client può creare attributi di sessione in una richiesta chiamando l'<a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_runtime_RecognizeUtterance.html">RecognizeUtterance</a>operazione <a href="https://docs.aws.amazon.com/lexv2/latest/APIReference/API_runtime_RecognizeText.html">RecognizeText</a>o con il<code class="code">sessionAttributes</code> campo impostato su un valore. Una funzione Lambda può creare un attributo di sessione in una risposta. Dopo che il client o una funzione Lambda hanno creato un attributo di sessione, il valore dell'attributo memorizzato viene utilizzato ogni volta che l'applicazione client non include un<code class="code">sessionAttribute</code> campo in una richiesta ad Amazon Lex.</p><p>Presupponi, ad esempio, di avere due attributi di sessione, <code class="code"><span>{</span>"x":
                "1", "y": "2"}</code>. Se il client chiama l'<code class="code">RecognizeUtterance</code>operazione<code class="code">RecognizeText</code> or senza specificare il<code class="code">sessionAttributes</code> campo, Amazon Lex chiama la funzione Lambda con gli attributi di sessione memorizzati (<code class="code"><span>{</span>"x": 1, "y": 2}</code>). Se la funzione Lambda non restituisce gli attributi di sessione, Amazon Lex restituisce gli attributi di sessione memorizzati all'applicazione client.</p><p>Se l'applicazione client o una funzione Lambda trasmettono gli attributi di sessione, Amazon Lex aggiorna gli attributi della sessione memorizzata. Il trasferimento di un valore esistente, come <code class="code"> <span>{</span>"x": 2}</code>, determina l'aggiornamento del valore archiviato. Se invii un nuovo set di attributi di sessione, ad esempio <code class="code"><span>{</span>"z": 3}</code>, i valori esistenti vengono rimossi e viene mantenuto solo il nuovo valore. Quando viene trasferita una mappa vuota, <code class="code"><span>{</span>}</code>, i valori archiviati vengono cancellati.</p><p>Per inviare gli attributi di sessione ad Amazon Lex, è necessario creare una string-to-string mappa degli attributi. Di seguito viene spiegato come mappare gli attributi di sessione: </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
   "attributeName": "attributeValue",
   "attributeName": "attributeValue"
}</code></pre><p>Per l'<code class="code">RecognizeText</code>operazione, inserisci la mappa nel corpo della richiesta utilizzando il<code class="code">sessionAttributes</code> campo della<code class="code">sessionState</code> struttura, come segue:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"sessionState": <span>{</span>
    "sessionAttributes": <span>{</span>
        "attributeName": "attributeValue",
        "attributeName": "attributeValue"
    }
}</code></pre><p>Per l'<code class="code">RecognizeUtterance</code>operazione, si codifica in base64 la mappa e quindi la si invia come parte dell'<code class="code">x-amz-lex-session-state</code>intestazione.</p><p>Per inviare dati binari o strutturati in un attributo di sessione, devi dapprima trasformarli in una stringa semplice. Per ulteriori informazioni, consulta <a href="./context-mgmt-complex-attributes.html">Impostazione di attributi complessi</a>.</p><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./context-mgmt-default.html">Utilizzo dei valori di slot predefiniti</div><div id="next" class="next-link" accesskey="n" href="./context-mgmt-request-attribs.html">Impostazione degli attributi della richiesta</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=https://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lex&amp;topic_url=https://docs.aws.amazon.com/it_it/lexv2/latest/dg/context-mgmt-session-attribs.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>