<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="it-IT"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Endpoint gateway per Amazon S3 - Amazon Virtual Private Cloud</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="vpc-endpoints-s3" /><meta name="default_state" content="vpc-endpoints-s3" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="description" content="Puoi accedere ad Amazon S3 dal tuo VPC utilizzando gli endpoint VPC del gateway. Dopo aver creato l'endpoint gateway, puoi aggiungerlo come destinazione nella tabella di instradamento per il traffico in transito dal VPC ad Amazon S3." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Virtual Private Cloud" /><meta name="guide" content="AWS PrivateLink" /><meta name="abstract" content="Utilizza AWS PrivateLink per connettere il tuo VPC ai Servizi AWS, servizi ospitati da altri Account AWS e servizi partner AWS Marketplace supportati." /><meta name="guide-locale" content="it_it" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" hreflang="x-default" /><meta name="feedback-item" content="PrivateLink" /><meta name="this_doc_product" content="Amazon Virtual Private Cloud" /><meta name="this_doc_guide" content="AWS PrivateLink" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'vpc'}"></script><meta id="panorama-serviceSubSection" value="AWS PrivateLink" /><meta id="panorama-serviceConsolePage" value="Endpoint gateway per Amazon S3" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Endpoint gateway per Amazon S3 - Amazon Virtual Private Cloud</title><meta name="pdf" content="aws-privatelink.pdf#vpc-endpoints-s3" /><meta name="rss" content="privatelink-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=58" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=http://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html" /><meta name="keywords" content="VPC,Amazon VPC,PrivateLink" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon VPC",
        "item" : "https://docs.aws.amazon.com/vpc/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "AWS PrivateLink",
        "item" : "https://docs.aws.amazon.com/it_it/vpc/latest/privatelink"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Accesso ai Servizi AWS tramite AWS PrivateLink",
        "item" : "https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/privatelink-access-aws-services.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Endpoint gateway",
        "item" : "https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/gateway-endpoints.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Endpoint gateway per Amazon S3",
        "item" : "https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/gateway-endpoints.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="aws-privatelink.pdf#vpc-endpoints-s3" target="_blank" rel="noopener noreferrer" title="Apri PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentazione</a><a href="/vpc/index.html">Amazon VPC</a><a href="what-is-privatelink.html">AWS PrivateLink</a></div><div id="page-toc-src"><a href="#gateway-endpoint-considerations-s3">Considerazioni</a><a href="#private-dns-s3">DNS privato</a><a href="#create-gateway-endpoint-s3">Crea un endpoint gateway</a><a href="#bucket-policies-s3">Controllo dell'accesso tramite le policy di bucket</a><a href="#associate-route-tables-s3">Associazione delle tabelle di instradamento</a><a href="#edit-vpc-endpoint-policy-s3">Modifica della policy di endpoint VPC</a><a href="#delete-gateway-endpoint-s3">Eliminazione di un endpoint gateway</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="vpc-endpoints-s3">Endpoint gateway per Amazon S3</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Puoi accedere ad Amazon S3 dal tuo VPC utilizzando gli endpoint VPC del gateway. Dopo aver creato l'endpoint gateway, puoi aggiungerlo come destinazione nella tabella di instradamento per il traffico in transito dal VPC ad Amazon S3.</p><p>L'utilizzo di endpoint gateway non comporta costi supplementari.</p><p>Amazon S3 supporta sia gli endpoint gateway che gli endpoint di interfaccia. Con un endpoint gateway, puoi accedere ad Amazon S3 dal tuo VPC senza richiedere un gateway Internet o un dispositivo NAT per il tuo VPC e senza costi aggiuntivi. Tuttavia, gli endpoint gateway non consentono l'accesso da reti on-premise, da VPC in peering in altre regioni AWS o tramite un gateway di transito. Per questi casi, è necessario utilizzare un endpoint di interfaccia, disponibile a un costo aggiuntivo. Per ulteriori informazioni, consulta <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/privatelink-interface-endpoints.html#types-of-vpc-endpoints-for-s3">Tipi di endpoint VPC per Amazon S3</a> nella <em>Guida per l'utente di Amazon S3</em>.</p><div class="highlights" id="inline-topiclist"><h6>Indice</h6><ul><li><a href="#gateway-endpoint-considerations-s3">Considerazioni</a></li><li><a href="#private-dns-s3">DNS privato</a></li><li><a href="#create-gateway-endpoint-s3">Crea un endpoint gateway</a></li><li><a href="#bucket-policies-s3">Controllo dell'accesso tramite le policy di bucket</a></li><li><a href="#associate-route-tables-s3">Associazione delle tabelle di instradamento</a></li><li><a href="#edit-vpc-endpoint-policy-s3">Modifica della policy di endpoint VPC</a></li><li><a href="#delete-gateway-endpoint-s3">Eliminazione di un endpoint gateway</a></li></ul></div>
      <h2 id="gateway-endpoint-considerations-s3">Considerazioni</h2>
      <div class="itemizedlist">
         
         
         
         
         
         
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>Un endpoint gateway è disponibile solo nella regione in cui è stato creato. Assicurati di creare l'endpoint gateway nella stessa regione dei bucket S3.</p>
        </li><li class="listitem">
          <p>Se utilizzi i server Amazon DNS, devi abilitare i <a href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html#vpc-dns-updating">nomi host DNS e la risoluzione DNS</a> per il VPC. In alternativa, se utilizzi un server DNS, assicurati che le richieste destinate ad Amazon S3 vengano risolte correttamente negli indirizzi IP gestiti da AWS.</p>
        </li><li class="listitem">
          <p>Verifica di utilizzare un Servizio AWS che richiede l'accesso a un bucket S3. Ad esempio, un servizio potrebbe richiedere l'accesso a bucket che contengono file di log o potrebbe richiedere il download di driver o agenti sulle istanze EC2. In tal caso, assicurati che la tua policy di endpoint consenta al Servizio AWS o alla risorsa di accedere a questi bucket utilizzando l'operazione <code class="code">s3:GetObject</code>.</p>
        </li><li class="listitem">
          <p>Non puoi utilizzare una policy IAM o di bucket per consentire l'accesso da un intervallo CIDR IPv4 del VPC. I blocchi CIDR VPC possono sovrapporsi o essere identici e questa condizione può generare risultati imprevisti. Di conseguenza, non puoi utilizzare la condizione <code class="code">aws:SourceIp</code> nelle policy IAM per le richieste ad Amazon S3 tramite un endpoint VPC. Ciò si applica alle policy basate sull'identità e a qualsiasi policy di bucket. Se un'istruzione include la condizione <code class="code">aws:SourceIp</code>, il valore non corrisponderà ad alcun indirizzo IP o intervallo di indirizzi specificato. Puoi invece procedere come descritto di seguito:</p>
          <div class="itemizedlist">
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p>Utilizza le tabelle di instradamento per determinare quali istanze possono accedere alle risorse in Amazon S3 tramite l'endpoint gateway.</p>
            </li><li class="listitem">
              <p>Utilizza le <a href="#bucket-policies-s3">policy di bucket</a> per limitare l'accesso a uno specifico endpoint, VPC o intervallo di indirizzi IP.</p>
            </li></ul></div>
        </li><li class="listitem">
          <p>Le regole in uscita per il gruppo di sicurezza per le istanze che accedono ad Amazon S3 tramite l'endpoint gateway devono consentire il traffico verso Amazon S3. Puoi utilizzare l'ID dell'elenco di prefissi per Amazon S3 come destinazione nella regola di uscita.</p>
        </li><li class="listitem">
          <p>Gli endpoint gateway supportano solo il traffico IPv4.</p>
        </li><li class="listitem">
          <p>Gli indirizzi IPv4 di origine delle istanze nelle sottoreti interessate, come ricevuti da Amazon S3, passano da indirizzi IPv4 pubblici a indirizzi IPv4 privati nel VPC. Un endpoint cambia i percorsi di rete E disconnette le connessioni TCP aperte. Le connessioni precedenti che utilizzavano indirizzi IPv4 pubblici non vengono ripristinate. Ti consigliamo di non eseguire attività critiche quando crei o modifichi un endpoint; oppure di verificare che il software utilizzato sia in grado di riconnettersi automaticamente ad Amazon S3 dopo l'interruzione della connessione.</p>
        </li><li class="listitem">
          <p>Le connessioni endpoint non possono essere Estese all'esterno di un VPC. Le risorse sull'altro lato di una connessione VPN, connessione peering VPC, gateway di transito o connessione AWS Direct Connect nel VPC non possono usare l'endpoint gateway per comunicare con Amazon S3.</p>
        </li><li class="listitem">
          <p>Il tuo account ha una quota predefinita, ma modificabile, di 20 endpoint gateway per regione. Esiste inoltre un limite di 255 endpoint gateway per VPC.</p>
        </li></ul></div>
     
      <h2 id="private-dns-s3">DNS privato</h2>
      <p>Puoi configurare un DNS privato per ottimizzare i costi quando crei sia un endpoint gateway che un endpoint di interfaccia per Amazon S3.</p>

       
        <h6>Route 53 Resolver</h6>
        <p>Amazon fornisce un server DNS chiamato il <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/resolver.html">Route 53 Resolver</a> per il tuo VPC. Il Route 53 Resolver risolve automaticamente i nomi di dominio VPC locali e i record in zone ospitate private. Tuttavia, non puoi utilizzare il Route 53 Resolver dall'esterno del tuo VPC. Route 53 fornisce gli endpoint e le regole del resolver in modo da poter utilizzare il Route 53 Resolver dall'esterno del VPC. Un <em>endpoint del resolver in entrata</em> inoltra le query DNS dalla rete on-premise al Route 53 Resolver. Un <em>endpoint del resolver in uscita</em> inoltra le query DNS dal Resolver Route 53 alla rete on-premise.</p>
       
      <p>Quando configuri l'endpoint di interfaccia per Amazon S3 per utilizzare il DNS privato solo per l'endpoint del resolver in entrata, creiamo un endpoint del resolver in entrata. L'endpoint del resolver in entrata risolve le query DNS verso Amazon S3 dagli indirizzi IP on-premise a quelli privati dell'endpoint di interfaccia. Aggiungiamo anche i record ALIAS per il Resolver Route 53 alla zona ospitata pubblica per Amazon S3, in modo che le query DNS provenienti dal tuo VPC vengano risolte verso gli indirizzi IP pubblici di Amazon S3, che indirizzano il traffico verso l'endpoint del gateway.</p>
      
       
        <h6>DNS privato</h6>
        <p>Se configuri il DNS privato per l'endpoint di interfaccia per Amazon S3 ma non configuri il DNS privato solo per l'endpoint del resolver in entrata, le richieste provenienti sia dalla rete on-premise che dal VPC utilizzano l'endpoint di interfaccia per accedere ad Amazon S3. Pertanto, paghi per utilizzare l'endpoint dell'interfaccia per il traffico proveniente dal VPC, anziché utilizzare l'endpoint gateway senza costi aggiuntivi.</p>
       
      <div class="mediaobject">
         
          <img src="images/s3-private-dns-default.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;          Grafica concettuale che mostra come le richieste Amazon S3 vengono instradate di default quando si hanno entrambi i tipi di endpoint.&#xA;        " />
         
         
      </div>
      
       
        <h6>DNS privato solo per l'endpoint del resolver in entrata</h6>
        <p>Se configuri il DNS privato solo per l'endpoint del resolver in entrata, le richieste provenienti dalla rete on-premise utilizzano l'endpoint di interfaccia per accedere ad Amazon S3 e le richiese provenienti dal tuo VPC utilizzano l'endpoint del gateway per accedere ad Amazon S3. Pertanto, ottimizzi i costi, perché paghi per utilizzare l'endpoint dell'interfaccia solo per il traffico che non può utilizzare l'endpoint del gateway.</p>
       
      <div class="mediaobject">
         
          <img src="images/s3-private-dns-inbound-endpoint.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;          Grafica concettuale che mostra come vengono indirizzate le richieste di Amazon S3 quando si hanno entrambi i tipi di endpoint e si configura un DNS privato con un endpoint del resolver in entrata.&#xA;        " />
         
         
      </div>
      
       
        <h6>Configura il DNS privato</h6>
        <p>Puoi configurare il DNS privato per un endpoint di interfaccia per Amazon S3 quando lo crei o dopo averlo creato. Per ulteriori informazioni, vedere <a href="./create-interface-endpoint.html#create-interface-endpoint-aws">Creare un endpoint VPC</a> (configurazione durante la creazione) o <a href="./interface-endpoints.html#enable-private-dns-names">Abilitazione dei nomi DNS privati</a> (configurazione dopo la creazione).</p>
       
     
      <h2 id="create-gateway-endpoint-s3">Crea un endpoint gateway</h2>
      <p>Utilizza la procedura seguente per creare un endpoint gateway che si connette ad Amazon S3.</p>
      <div class="procedure"><h6>Per creare un endpoint gateway tramite la console</h6><ol><li><p>Accedere alla console Amazon VPC all'indirizzo <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Nel pannello di navigazione, seleziona <b>Endpoints (Endpoint)</b>.</p>
        </li><li>
          <p>Seleziona <b>Create endpoint</b> (Crea endpoint).</p>
        </li><li>
          <p>Per <b>Service category</b> (Categoria servizio), scegli <b>Servizi AWS</b>.</p>
        </li><li>
          <p>Per <b>Services</b> (Servizi), aggiungi il filtro <b>Type: Gateway</b> (Tipo: Gateway) e seleziona <b>com.amazonaws.</b><code class="replaceable">region</code><b>.s3</b>.</p>
        </li><li>
          <p>In <b>VPC</b>, seleziona un VPC in cui creare l'endpoint.</p>
        </li><li>
          <p>In <b>Route tables</b> (Tabelle di instradamento), seleziona le tabelle di instradamento che devono essere utilizzate dall'endpoint. Viene aggiunta automaticamente una route che indirizza il traffico destinato per il servizio all'interfaccia di rete dell'endpoint.</p>
        </li><li>
          <p>Per <b>Policy</b>, seleziona <b>Full access</b> (Accesso completo) per consentire tutte le operazioni da parte di tutti i principali su tutte le risorse dell'endpoint VPC. In caso contrario, seleziona <b>Custom</b> (Personalizza) per allegare una policy dell'endpoint VPC in grado di verificare le autorizzazioni di cui dispongono i principali per eseguire operazioni sulle risorse dell'endpoint VPC.</p>
        </li><li>
          <p>(Facoltativo) Per aggiungere un tag, scegliere <b>Add new tag (Aggiungi nuovo tag)</b> e immettere la chiave e il valore del tag.</p>
        </li><li>
          <p>Seleziona <b>Create endpoint</b> (Crea endpoint).</p>
        </li></ol></div>
      <div class="itemizedlist">
        <h6>Per creare un endpoint gateway utilizzando la riga di comando</h6>
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/create-vpc-endpoint.html">create-vpc-endpoint</a> (AWS CLI)</p>
        </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/New-EC2VpcEndpoint.html">New-EC2VpcEndpoint</a> (Strumenti per Windows PowerShell)</p>
        </li></ul></div>
     
      <h2 id="bucket-policies-s3">Controllo dell'accesso tramite le policy di bucket</h2>
      <p>Puoi utilizzare le policy di bucket per controllare l'accesso ai bucket da specifici endpoint, VPC, intervalli di indirizzi IP e Account AWS.</p>
      <div class="example"><h6>Esempio: limitazione dell'accesso a uno specifico endpoint</h6><div class="example-contents"><p>Puoi creare una policy di bucket che limita l'accesso a un endpoint specifico utilizzando la chiave di condizione <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourcevpce">aws:sourceVpce</a>. La policy seguente nega l'accesso al bucket specificato a meno che non si utilizzi l'endpoint gateway specificato. Questo esempio presuppone che vi sia anche una dichiarazione di policy che consente l'accesso richiesto per i casi d'uso.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Access-to-bucket-using-specific-endpoint",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-specific-VPCE-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:*",
      "Resource": ["arn:aws:s3:::<code class="replaceable">bucket_name</code>",
                   "arn:aws:s3:::<code class="replaceable">bucket_name</code>/*"],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:sourceVpce": "<code class="replaceable">vpce-1a2b3c4d</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
      <div class="example"><h6>Esempio: limitazione dell'accesso a uno specifico VPC</h6><div class="example-contents"><p>Puoi creare una policy di bucket che limita l'accesso a VPC specifici utilizzando la chiave di condizione <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-sourcevpc">aws:sourceVpc</a>. Questa operazione è utile se si dispone di più endpoint configurati nello stesso VPC. La policy seguente nega l'accesso al bucket specificato e ai relativi oggetti non provenienti dal VPC specificato. Questo esempio presuppone che vi sia anche una dichiarazione di policy che consente l'accesso richiesto per i casi d'uso.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Access-to-bucket-using-specific-VPC",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-specific-VPC-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:*",
      "Resource": ["arn:aws:s3:::<code class="replaceable">example_bucket</code>",
                   "arn:aws:s3:::<code class="replaceable">example_bucket</code>/*"],
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "aws:sourceVpc": "<code class="replaceable">vpc-111bbb22</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
      <div class="example"><h6>Esempio: limitazione dell'accesso a un intervallo di indirizzi IP specifici</h6><div class="example-contents"><p>Puoi creare una policy che limita l'accesso a un intervallo di indirizzi IP specifico utilizzando la chiave di condizione <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html#condition-keys-vpcsourceip">aws:VpcSourceIp</a>. La policy seguente nega l'accesso al bucket specificato e ai relativi oggetti non provenienti dall'indirizzo IP specificato. Questo esempio presuppone che vi sia anche una dichiarazione di policy che consente l'accesso richiesto per i casi d'uso.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Policy1415115909152",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-specific-VPC-CIDR-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": "s3:*",
      "Resource": ["arn:aws:s3:::<code class="replaceable">bucket_name</code>",
                   "arn:aws:s3:::<code class="replaceable">bucket_name</code>/*"],
      "Condition": <span>{</span>
        "NotIpAddress": <span>{</span>
          "aws:VpcSourceIp": "<code class="replaceable">172.31.0.0/16</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
      <div class="example"><h6>Esempio: limitazione dell'accesso ai bucket in un Account AWS specifico</h6><div class="example-contents"><p>Puoi creare una policy che limita l'accesso ai bucket S3 in un Account AWS specifico utilizzando la chiave di condizione <code class="code">s3:ResourceAccount</code>. La policy seguente nega l'accesso alle risorse che non sono di proprietà dell'Account AWS specificato. Questo esempio presuppone che vi sia anche una dichiarazione di policy che consente l'accesso richiesto per i casi d'uso.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Id": "Policy1415115909152",
  "Statement": [
    <span>{</span>
      "Sid": "Access-to-bucket-in-specific-account-only",
      "Effect": "Deny",
      "Principal": "*",
      "Action": [
        "s3:GetObject",
        "s3:PutObject"
      ],
      "Resource": "arn:aws:s3:::*",
      "Condition": <span>{</span>
        "StringNotEquals": <span>{</span>
          "s3:ResourceAccount": "<code class="replaceable">111122223333</code>"
        }
      }
    }
  ]
}</code></pre></div></div>
     
      <h2 id="associate-route-tables-s3">Associazione delle tabelle di instradamento</h2>
      <p>Puoi modificare le tabelle di instradamento associate all'endpoint gateway. Quando associ una tabella di instradamento, viene aggiunta automaticamente una route che indirizza il traffico destinato per il servizio all'interfaccia di rete dell'endpoint. Quando dissoci una tabella di instradamento, la route dell'endpoint viene rimossa automaticamente.</p>
      <div class="procedure"><h6>Per associare le tabelle di instradamento utilizzando la console</h6><ol><li><p>Accedere alla console Amazon VPC all'indirizzo <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Nel pannello di navigazione, seleziona <b>Endpoints</b> (Endpoint).</p>
        </li><li>
          <p>Seleziona l'endpoint gateway.</p>
        </li><li>
          <p>Selezionare <b>Actions (Operazioni)</b>, <b>Manage route tables (Gestisci tabelle di routing)</b>.</p>
        </li><li>
          <p>Seleziona o deseleziona le tabelle di instradamento in base alle esigenze.</p>
        </li><li>
          <p>Scegli <b>Modify route tables</b> (Modifica le tabelle di routing).</p>
        </li></ol></div>
      <div class="itemizedlist">
        <h6>Per associare le tabelle di instradamento utilizzando la riga di comando</h6>
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-vpc-endpoint.html">modify-vpc-endpoint</a> (AWS CLI)</p>
        </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2VpcEndpoint.html">Edit-EC2VpcEndpoint</a> (Strumenti per Windows PowerShell)</p>
        </li></ul></div>
     
      <h2 id="edit-vpc-endpoint-policy-s3">Modifica della policy di endpoint VPC</h2>
      <p>Puoi modificare la policy di endpoint per un endpoint gateway, che controlla l'accesso ad Amazon S3 dal VPC, tramite l'endpoint. La policy predefinita consente l'accesso completo. Per ulteriori informazioni, consulta <a href="./vpc-endpoints-access.html#vpc-endpoint-policies">Policy di endpoint VPC</a>.</p>
      <div class="procedure"><h6>Per modificare la policy di endpoint usando la console</h6><ol><li><p>Accedere alla console Amazon VPC all'indirizzo <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Nel pannello di navigazione, seleziona <b>Endpoints</b> (Endpoint).</p>
        </li><li>
          <p>Seleziona l'endpoint gateway.</p>
        </li><li>
          <p>Scegli <b>Actions</b> (Operazioni), <b>Manage policy</b> (Gestisci policy).</p>
        </li><li>
          <p>Scegli <b>Full Access</b> (Accesso completo) per consentire l'accesso completo al servizio oppure scegli <b>Custom</b> (Personalizzato) e specifica una policy personalizzata.</p>
        </li><li>
          <p>Seleziona <b>Salva</b>.</p>
        </li></ol></div>

      <p>Di seguito sono riportati esempi di policy dell'endpoint per accedere ad Amazon S3.</p>
      <div class="example"><h6>Esempio: limitazione dell'accesso a uno specifico bucket</h6><div class="example-contents"><p>Puoi creare una policy che limita l'accesso solo a specifici bucket S3. Ciò è utile se hai altri Servizi AWS nel VPC che utilizzano bucket S3.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Sid": "AccessToSpecificBucket",
  "Effect": "Allow",
  "Principal": "*",
  "Action": [
     "s3:ListBucket",
     "s3:GetObject",
     "s3:PutObject"
  ],
  "Resource": [
     "arn:aws:s3:::<code class="replaceable">bucket_name</code>",
     "arn:aws:s3:::<code class="replaceable">bucket_name</code>/*"
  ]
}</code></pre></div></div>
      <div class="example"><h6>Esempio: limitazione dell'accesso a un ruolo IAM specifico</h6><div class="example-contents"><p>Puoi creare una policy che limita l'accesso a un ruolo IAM specifico. Devi utilizzare <code class="code">aws:PrincipalArn</code> per concedere l'accesso a un principale.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Sid": "Restrict-access-to-specific-IAM-role",
  "Effect": "Allow",
  "Principal": "*",
  "Action": "*",
  "Resource": "*",
  "Condition": <span>{</span>
    "ArnEquals": <span>{</span>
      "aws:PrincipalArn": "arn:aws:iam::<code class="replaceable">111122223333</code>:role/<code class="replaceable">role_name</code>"
    }
  }
}</code></pre></div></div>
      <div class="example"><h6>Esempio: limitazione dell'accesso agli utenti in un account specifico</h6><div class="example-contents"><p>Puoi creare una policy che limita l'accesso a un account specifico. Devi utilizzare <code class="code">aws:PrincipalArn</code> per concedere l'accesso a un principale.</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copia"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Sid": "AllowCallersFromAccount111122223333",
  "Effect": "Allow",
  "Principal": "*",
  "Action": "*",
  "Resource": "*",
  "Condition": <span>{</span>
    "StringEquals": <span>{</span>
      "aws:PrincipalArn": "<code class="replaceable">111122223333</code>"
    }
  }
}</code></pre></div></div>
     
      <h2 id="delete-gateway-endpoint-s3">Eliminazione di un endpoint gateway</h2>
      <p>Quando un endpoint gateway non è più necessario, è possibile eliminarlo. L'eliminazione di un endpoint gateway comporta la rimozione della route dell'endpoint dalle tabelle di instradamento della sottorete.</p>
      <p>Non è possibile eliminare un endpoint gateway se è abilitato il DNS privato.</p>
      <div class="procedure"><h6>Per eliminare un endpoint gateway usando la console</h6><ol><li><p>Accedere alla console Amazon VPC all'indirizzo <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
          <p>Nel pannello di navigazione, seleziona <b>Endpoints</b> (Endpoint).</p>
        </li><li>
          <p>Seleziona l'endpoint gateway.</p>
        </li><li>
          <p>Seleziona <b>Actions</b> (Operazioni), <b>Delete VPC endpoints</b> (Eliminazione di endpoint VPC). </p>
        </li><li>
          <p>Quando viene richiesta la conferma, immetti <code class="userinput">delete</code>.</p>
        </li><li>
          <p>Scegliere <b>Delete (Elimina)</b>.</p>
        </li></ol></div>
      <div class="itemizedlist">
        <h6>Per eliminare un endpoint gateway usando la riga di comando</h6>
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/delete-vpc-endpoints.html">delete-vpc-endpoints</a> (AWS CLI)</p>
        </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Remove-EC2VpcEndpoint.html">Remove-EC2VpcEndpoint</a> (Strumenti per Windows PowerShell)</p>
        </li></ul></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Avvertimento" /> <strong>JavaScript è disabilitato o non è disponibile nel tuo browser.</strong></p><p>Per usare la documentazione AWS, JavaScript deve essere abilitato. Consulta le pagine della guida del browser per le istruzioni.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Convenzioni dei documenti</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./gateway-endpoints.html">Endpoint gateway</div><div id="next" class="next-link" accesskey="n" href="./vpc-endpoints-ddb.html">Endpoint per DynamoDB</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Questa pagina ti è stata utile? - Sì</div><div class="content"><p>Grazie per averci comunicato che stiamo facendo un buon lavoro!</p><p>Se hai un momento, ti invitiamo a dirci che cosa abbiamo fatto che ti è piaciuto così possiamo offrirti altri contenuti simili.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Questa pagina ti è stata utile? - No</div><div class="content"><p>Grazie per averci comunicato che questa pagina ha bisogno di essere modificata. Siamo spiacenti di non aver soddisfatto le tue esigenze.</p><p>Se hai un momento, ti invitiamo a dirci come possiamo migliorare la documentazione.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/vpc-endpoints-s3.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>