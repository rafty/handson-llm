<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Identity and Access Management for Amazon OpenSearch Serverless - Amazon OpenSearch Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="security-iam-serverless" /><meta name="default_state" content="security-iam-serverless" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/opensearch-service/latest/developerguide/security-iam-serverless.html" /><meta name="description" content="How to authenticate requests and manage access to your OpenSearch Serverless resources." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon OpenSearch Service" /><meta name="guide" content="Developer Guide" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/opensearch-service/latest/developerguide/security-iam-serverless.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/opensearch-service/latest/developerguide/security-iam-serverless.html" hreflang="x-default" /><meta name="feedback-item" content="CloudSearch" /><meta name="this_doc_product" content="Amazon OpenSearch Service" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'opensearch-service'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Identity and Access Management for Amazon OpenSearch Serverless" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Identity and Access Management for Amazon OpenSearch Serverless - Amazon OpenSearch Service</title><meta name="pdf" content="/pdfs/opensearch-service/latest/developerguide/opensearch-service-dg.pdf#security-iam-serverless" /><meta name="github" content="https://github.com/awsdocs/amazon-opensearch-service-developer-guide/tree/master/doc_source/security-iam-serverless.md" /><meta name="rss" content="amazon-opensearch-service-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=200" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudSearch&amp;topic_url=http://docs.aws.amazon.com/en_us/opensearch-service/latest/developerguide/security-iam-serverless.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/opensearch-service/latest/developerguide/security-iam-serverless.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/opensearch-service/latest/developerguide/security-iam-serverless.html" /><meta name="keywords" content="Elasticsearch,Amazon Elasticsearch Service,Amazon ES,Kibana,OpenSearch,Amazon OpenSearch Service,Amazon OpenSearch Serverless,OpenSearch Service,OpenSearch Serverless,OpenSearch Ingestion,Open Distro,OpenSearch Dashboards" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon OpenSearch Service",
        "item" : "https://docs.aws.amazon.com/opensearch-service/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/opensearch-service/latest/developerguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon OpenSearch Serverless",
        "item" : "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Overview of security in Amazon OpenSearch Serverless",
        "item" : "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Identity and Access Management for Amazon OpenSearch Serverless",
        "item" : "https://docs.aws.amazon.com/opensearch-service/latest/developerguide/serverless-security.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/opensearch-service/latest/developerguide/opensearch-service-dg.pdf#security-iam-serverless" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-opensearch-service-developer-guide/tree/master/doc_source/security-iam-serverless.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/opensearch-service/index.html">Amazon OpenSearch Service</a><a href="what-is.html">Developer Guide</a></div><div id="page-toc-src"><a href="#security-iam-serverless-id-based-policies">Identity-based policies</a><a href="#security-iam-serverless-id-based-policies-actions">Policy actions</a><a href="#security-iam-serverless-id-based-policies-resources">Policy resources</a><a href="#security_iam_serverless-conditionkeys">Policy condition keys</a><a href="#security_iam_serverless-with-iam-tags">ABAC</a><a href="#security_iam_serverless-tempcreds">Temporary credentials</a><a href="#security_iam_serverless-slr">Service-linked roles</a><a href="#security_iam_serverless_id-based-policy-examples">Identity-based policy examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="security-iam-serverless">Identity and Access Management for
            Amazon OpenSearch Serverless</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS Identity and Access Management (IAM) is an AWS service that helps an administrator securely control access
      to AWS resources. IAM administrators control who can be <em>authenticated</em> (signed in) and <em>authorized</em>
      (have permissions) to use OpenSearch Serverless resources. IAM is an AWS service that you can
      use with no additional charge.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#security-iam-serverless-id-based-policies">Identity-based policies for
                OpenSearch Serverless</a></li><li><a href="#security-iam-serverless-id-based-policies-actions">Policy actions for
                OpenSearch Serverless</a></li><li><a href="#security-iam-serverless-id-based-policies-resources">Policy resources
                for OpenSearch Serverless</a></li><li><a href="#security_iam_serverless-conditionkeys">Policy condition keys for Amazon OpenSearch Serverless</a></li><li><a href="#security_iam_serverless-with-iam-tags">ABAC with OpenSearch Serverless</a></li><li><a href="#security_iam_serverless-tempcreds">Using temporary
                credentials with OpenSearch Serverless</a></li><li><a href="#security_iam_serverless-slr">Service-linked roles for OpenSearch Serverless</a></li><li><a href="#security_iam_serverless_id-based-policy-examples">Identity-based
                policy examples for OpenSearch Serverless</a></li></ul></div>
        <h2 id="security-iam-serverless-id-based-policies">Identity-based policies for
                OpenSearch Serverless</h2>
        
     
      <div class="table-container"><div class="table-contents"><table id="w365aab7c25c23b9b5">
               <tr>
                  <td>
                     <p>Supports identity-based policies</p>
                  </td>
                  <td>
                     <p>
     
     Yes</p>
                  </td>
               </tr>
            </table></div></div>
  
        
     
         
   
         <p>Identity-based policies are JSON permissions policy documents that you can attach to an identity, such as an IAM user, group of users, or role. These
            policies control what actions users and roles can perform, on which resources, and under what conditions. To learn how to create an identity-based
            policy, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html">Creating IAM policies</a> in the
            <em>IAM User Guide</em>.</p>
  
         <p>With IAM identity-based policies, you can specify allowed or denied actions and
            resources as well as the conditions under which actions are allowed or denied.  You
            can't specify the principal in an identity-based policy because it applies to the user
            or role to which it is attached. To learn about all of the elements that you can use in a
            JSON policy, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements.html">IAM JSON
               policy elements reference</a> in the
            <em>IAM User Guide</em>.</p>
  
         
            <h3 id="security_iam_id-based-policy-examples"> Identity-based policy
                    examples for OpenSearch Serverless</h3>
            <p>To view examples of OpenSearch Serverless identity-based policies, see <a href="#security_iam_serverless_id-based-policy-examples">Identity-based
                policy examples for OpenSearch Serverless</a>.</p>
         
     
        <h2 id="security-iam-serverless-id-based-policies-actions">Policy actions for
                OpenSearch Serverless</h2>
        
     
      <div class="table-container"><div class="table-contents"><table id="w365aab7c25c23c11b5">
               <tr>
                  <td>
                     <p>Supports policy actions</p>
                  </td>
                  <td>
                     <p>
     
     Yes</p>
                  </td>
               </tr>
            </table></div></div>
  
        <p>The <code class="code">Action</code> element of a JSON policy describes the actions that you can
            use to allow or deny access in a policy. Policy actions usually have the same name as
            the associated AWS API operation. There are some exceptions, such as
                <em>permission-only actions</em> that don't have a matching API
            operation. There are also some operations that require multiple actions in a policy.
            These additional actions are called <em>dependent actions</em>.</p>
        <p>Include actions in a policy to grant permissions to perform the associated
            operation.</p>
        <p>Policy actions in OpenSearch Serverless use the following prefix before the action:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">aoss</code></pre>
        <p>To specify multiple actions in a single statement, separate them with commas.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">"Action": [
      "aoss:<code class="replaceable">action1</code>",
      "aoss:<code class="replaceable">action2</code>"
         ]</code></pre>
        <p>You can specify multiple actions using wildcard characters (*). For example, to
            specify all actions that begin with the word <code class="code">Describe</code>, include the
            following action:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Action": "aoss:List*"</code></pre>
        
    
         <p>To view examples of OpenSearch Serverless identity-based policies, see <a href="#security_iam_id-based-policy-examples"> Identity-based policy
                    examples for OpenSearch Serverless</a>.</p>
  
     
        <h2 id="security-iam-serverless-id-based-policies-resources">Policy resources
                for OpenSearch Serverless</h2>
        
     
      <div class="table-container"><div class="table-contents"><table id="w365aab7c25c23c13b5">
               <tr>
                  <td>
                     <p>Supports policy resources</p>
                  </td>
                  <td>
                     <p>
     
     Yes</p>
                  </td>
               </tr>
            </table></div></div>
  
        
   
            
   
      <p>Administrators can use AWS JSON policies to specify who has access to what. That is, which <b>principal</b> can perform 
         <b>actions</b> on what <b>resources</b>, and under what <b>conditions</b>.</p>
  
            <p>The <code class="code">Resource</code> JSON policy element specifies the object or objects to which the action applies. Statements must include either a
                  <code class="code">Resource</code> or a <code class="code">NotResource</code> element. As a best practice, specify a resource using its <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">Amazon Resource Name (ARN)</a>. You can do this for actions that support a 
                  specific resource type, known as <em>resource-level permissions</em>.</p>
            <p>For actions that don't support resource-level permissions, such as listing operations,
                  use a wildcard (*) to indicate that the statement applies to all resources.</p>
         <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"Resource": "*"</code></pre>
  
     
        <h2 id="security_iam_serverless-conditionkeys">Policy condition keys for Amazon OpenSearch Serverless</h2>
        
     
      <div class="table-container"><div class="table-contents"><table id="w365aab7c25c23c15b5">
               <tr>
                  <td>
                     <p>Supports service-specific policy condition keys</p>
                  </td>
                  <td>
                     <p>
     
     Yes</p>
                  </td>
               </tr>
            </table></div></div>
  
        
   
            
   
      <p>Administrators can use AWS JSON policies to specify who has access to what. That is, which <b>principal</b> can perform 
         <b>actions</b> on what <b>resources</b>, and under what <b>conditions</b>.</p>
  
            <p>The <code class="code">Condition</code> element (or <code class="code">Condition</code>
               <em>block</em>) lets you specify conditions in which a
               statement is in effect. The <code class="code">Condition</code> element is optional. You can create
               conditional expressions that use <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html">condition
                  operators</a>, such as equals or less than, to match the condition in the
               policy with values in the request. </p>
            <p>If you specify multiple <code class="code">Condition</code> elements in a statement, or
               multiple keys in a single <code class="code">Condition</code> element, AWS evaluates them using
               a logical <code class="code">AND</code> operation. If you specify multiple values for a single
               condition key, AWS evaluates the condition using a logical <code class="code">OR</code>
               operation. All of the conditions must be met before the statement's permissions are
               granted.</p>
            <p> You can also use placeholder variables when you specify conditions. For example,
               you can grant an IAM user permission to access a resource only if it is tagged with
               their IAM user name. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_variables.html">IAM policy elements:
                  variables and tags</a> in the <em>IAM User Guide</em>. </p>
            <p>AWS supports global condition keys and service-specific condition keys. To see all AWS global
               condition keys, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_condition-keys.html">AWS global condition context keys</a> in the
               <em>IAM User Guide</em>.</p>
  
        <p>In addition to attribute-based access control (ABAC), OpenSearch Serverless supports the following
            condition keys:</p>
        <div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">aoss:collection</code></p>
            </li><li class="listitem">
                <p><code class="code">aoss:CollectionId</code></p>
            </li><li class="listitem">
                <p><code class="code">aoss:index</code></p>
            </li></ul></div>
        <p>You can use these condition keys even when providing permissions for access policies
            and security policies. For example:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">[
   <span>{</span>
      "Effect":"Allow",
      "Action":[
         "aoss:CreateAccessPolicy",
         "aoss:CreateSecurityPolicy"
      ],
      "Resource":"*",
      "Condition":<span>{</span>
         "StringLike":<span>{</span>
            "aoss:collection":"<code class="replaceable">log</code>"
         }
      }
   }
]</code></pre>
        <p>In this example, the condition applies to policies that contain
                <em>rules</em> that match a collection name or pattern. The conditions
            have the following behavior:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">StringEquals</code> - Applies to policies with rules that contain the
                        <em>exact</em> resource string "log" (i.e.
                        <code class="code">collection/log</code>).</p>
            </li><li class="listitem">
                <p><code class="code">StringLike</code> - Applies to policies with rules that contain a
                    resource string that <em>includes</em> the string "log" (i.e.
                        <code class="code">collection/log</code> but also
                        <code class="code">collection/logs-application</code> or
                        <code class="code">collection/applogs123</code>).</p>
            </li></ul></div>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p><em>Collection</em> condition keys don't apply at the index level. For
                example, in the policy above, the condition wouldn't apply to an access or security
                policy containing the resource string <code class="code">index/logs-application/*</code>.</p></div></div>

        <p>To see a list of OpenSearch Serverless condition keys, see <a href="https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazonopensearchserverless.html#amazonopensearchserverless-policy-keys">Condition keys for Amazon OpenSearch Serverless</a> in the <em>Service Authorization Reference</em>.
            To learn with which actions and resources you can use a condition key, see <a href="https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazonopensearchserverless.html#amazonopensearchserverless-actions-as-permissions">Actions defined by Amazon OpenSearch Serverless</a>.</p>
     
        <h2 id="security_iam_serverless-with-iam-tags">ABAC with OpenSearch Serverless</h2>
        
     
      <div class="table-container"><div class="table-contents"><table id="w365aab7c25c23c17b5">
               <tr>
                  <td>
                     <p>Supports ABAC (tags in policies)</p>
                  </td>
                  <td>
                     <p>
     
     Yes</p>
                  </td>
               </tr>
            </table></div></div>
  
        
   
      <p>Attribute-based access control (ABAC) is an authorization strategy that defines permissions
      based on attributes. In AWS, these attributes are called <em>tags</em>. You can attach tags to IAM entities (users
      or roles) and to many AWS resources. Tagging entities and resources is the first step of ABAC. Then you 
      design ABAC policies to allow operations when the principal's tag matches the tag on the resource that they 
      are trying to access.</p>
      <p>ABAC is helpful in environments that are growing rapidly and helps with situations where policy management becomes cumbersome.</p>
      <p>To control access based on tags, you provide tag information in the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html">condition
         element</a> of a policy using the
         <code class="code">aws:ResourceTag/<code class="replaceable">key-name</code></code>,
         <code class="code">aws:RequestTag/<code class="replaceable">key-name</code></code>, or
         <code class="code">aws:TagKeys</code> condition keys.</p>
           <p>If a service supports all three condition keys for every resource type, then the value is <b>Yes</b> for the service. 
  If a service supports all three condition keys for only some resource types, then the value is <b>Partial</b>.</p>
  <p>For more information about ABAC, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction_attribute-based-access-control.html">What is ABAC?</a> in the <em>IAM User Guide</em>. To view a tutorial with steps for setting up ABAC, see 
  <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/tutorial_attribute-based-access-control.html">Use attribute-based access control (ABAC)</a> in the <em>IAM User Guide</em>.</p>
  
        <p>For more information about tagging OpenSearch Serverless resources, see <a href="./tag-collection.html">Tagging Amazon OpenSearch Serverless collections</a>.</p>
     
        <h2 id="security_iam_serverless-tempcreds">Using temporary
                credentials with OpenSearch Serverless</h2> 
        
     
      <div class="table-container"><div class="table-contents"><table id="w365aab7c25c23c19b5">
               <tr>
                  <td>
                     <p>Supports temporary credentials</p>
                  </td>
                  <td>
                     <p>
     
     Yes</p>
                  </td>
               </tr>
            </table></div></div>
   
        
   
         <p>Some AWS services don't work when you sign in using temporary credentials. For additional 
         information, including which AWS services work with temporary credentials, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS services
               that work with IAM</a> in the <em>IAM User Guide</em>.</p>
         <p>You are using temporary credentials if you sign in to the AWS Management Console using any method
            except a user name and password. For example, when you access AWS using your
            company's single sign-on (SSO) link, that process automatically creates temporary credentials.
            You also automatically create temporary credentials when you sign in to the console as a user and
            then switch roles. For more information about switching roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-console.html">Switching to a role
               (console)</a> in the <em>IAM User Guide</em>.</p>
         <p>You can manually create temporary credentials using the AWS CLI or AWS API. You can
            then use those temporary credentials to access AWS. AWS recommends that you
            dynamically generate temporary credentials instead of using long-term access keys. For
            more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp.html">Temporary
               security credentials in IAM</a>.</p>
   
     
        <h2 id="security_iam_serverless-slr">Service-linked roles for OpenSearch Serverless</h2>
        
     
      <div class="table-container"><div class="table-contents"><table id="w365aab7c25c23c21b5">
               <tr>
                  <td>
                     <p>Supports service-linked roles</p>
                  </td>
                  <td>
                     <p>
     
     Yes</p>
                  </td>
               </tr>
            </table></div></div>
  
        
   
         <p>

      A service-linked role is a type of service role that is linked to an AWS service. The service can assume the role to perform an action on your behalf. 
      Service-linked roles appear in your AWS account and are owned by the service. An IAM administrator can view, 
      but not edit the permissions for service-linked roles. 
 </p>
  
         <p>For details about creating and managing OpenSearch Serverless service-linked roles, see <a href="./serverless-service-linked-roles.html">Using service-linked roles to create OpenSearch Serverless
                collections</a>.</p>
     
        <h2 id="security_iam_serverless_id-based-policy-examples">Identity-based
                policy examples for OpenSearch Serverless</h2>
        
   
 <p>By default, users and roles don't have permission to create or modify OpenSearch Serverless
 resources. They also can't perform tasks by using the AWS Management Console, AWS Command Line Interface (AWS CLI), or AWS API. To grant users permission to perform actions on the 
 resources that they need, an IAM administrator can create IAM policies. The administrator can then add the IAM policies to roles, and users can assume the roles.</p>
 <p>To learn how to create an IAM identity-based policy by using these example JSON policy
 documents, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html">Creating IAM policies</a> in the
 <em>IAM User Guide</em>.</p>
 <p>For details about actions and resource types defined by Amazon OpenSearch Serverless, including the format of the ARNs for each of the resource types, see <a href="https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazonopensearchserverless.html">Actions, resources, and condition keys for Amazon OpenSearch Serverless</a> in the <em>Service Authorization Reference</em>.</p>

        <div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#security_iam_serverless-policy-best-practices">Policy best
                    practices</a></li><li><a href="#security_iam_serverless_id-based-policy-examples-console">Using
                    OpenSearch Serverless in the console</a></li><li><a href="#security_iam_id-based-policy-examples-collection-admin">Administering OpenSearch Serverless collections</a></li><li><a href="#security_iam_id-based-policy-examples-view-collections">Viewing
                    OpenSearch Serverless collections</a></li><li><a href="#security_iam_id-based-policy-examples-data-plane">Using
                    data-plane policies</a></li></ul></div>
         
            <h3 id="security_iam_serverless-policy-best-practices">Policy best
                    practices</h3>
            <p>Identity-based policies are very powerful. They determine whether someone can
                create, access, or delete OpenSearch Serverless resources in your account. These actions
                can incur costs for your AWS account. When you create or edit identity-based
                policies, follow these guidelines and recommendations:</p>
            
   
 <p>Identity-based policies determine whether someone can create, access, or delete OpenSearch Serverless resources in your
      account. These actions can incur costs for your AWS account. When you create or edit identity-based policies, follow these guidelines and
      recommendations:</p>
   <div class="itemizedlist">
       
       
       
       
       
   <ul class="itemizedlist"><li class="listitem">
         <p><b>Get started with AWS managed policies and move toward least-privilege permissions</b>
            – To get started granting permissions to your users and workloads, use the <em>AWS
            managed policies</em> that grant permissions for many common use cases. They are
            available in your AWS account. We recommend that you reduce permissions further by
            defining AWS customer managed policies that are specific to your use cases. For more information, see 
            <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html#aws-managed-policies">AWS managed policies</a> or <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_job-functions.html">AWS managed policies for job functions</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Apply least-privilege permissions</b> – 
            When you set permissions with IAM policies, grant only the permissions required to
            perform a task. You do this by defining the actions that can be taken on specific resources
            under specific conditions, also known as <em>least-privilege permissions</em>.
            For more information about using IAM to apply permissions, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html">
            Policies and permissions in IAM</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Use conditions in IAM policies to further restrict access</b>
            – You can add a condition to your policies to limit access to actions and resources. For example, you can write a policy condition to specify that all requests must
            be sent using SSL. You can also use conditions to grant access to service actions
            if they are used through a specific AWS service, such as AWS CloudFormation. For more information, see
            <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition.html">
            IAM JSON policy elements: Condition</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Use IAM Access Analyzer to validate your IAM policies to ensure secure and functional permissions</b>
            – IAM Access Analyzer validates new and existing policies so that the policies adhere to the IAM policy language (JSON) and IAM best practices.
            IAM Access Analyzer provides more than 100 policy checks and actionable recommendations to help
            you author secure and functional policies. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access-analyzer-policy-validation.html">IAM Access Analyzer policy validation</a> in the <em>IAM User Guide</em>.</p>
      </li><li class="listitem">
         <p><b>Require multi-factor authentication (MFA)</b> –
            If you have a scenario that requires IAM users or a root user in your AWS account, turn on MFA for additional security. To require
            MFA when API operations are called, add MFA conditions to your policies. For
            more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_configure-api-require.html">
            Configuring MFA-protected API access</a> in the <em>IAM User Guide</em>.</p>
      </li></ul></div>
 <p>For more information about best practices in IAM, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html">Security best practices in IAM</a> in the <em>IAM User Guide</em>.</p>

         
         
            <h3 id="security_iam_serverless_id-based-policy-examples-console">Using
                    OpenSearch Serverless in the console</h3>
            <p>To access OpenSearch Serverless within the OpenSearch Service console, you must have a minimum set of
                permissions. These permissions must allow you to list and view details about the
                OpenSearch Serverless resources in your AWS account. If you create an identity-based
                policy that is more restrictive than the minimum required permissions, the console
                won't function as intended for entities (such as IAM roles) with that
                policy.</p>
            <p>You don't need to allow minimum console permissions for users that are making
                calls only to the AWS CLI or the AWS API. Instead, allow access to only the actions
                that match the API operation that you're trying to perform.</p>
            <p>The following policy allows a user to access OpenSearch Serverless within the OpenSearch Service
                console:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Resource": "*",
            "Effect": "Allow",
            "Action": [
                "aoss:ListCollections",
                "aoss:BatchGetCollection",
                "aoss:ListAccessPolicies",
                "aoss:ListSecurityConfigs",
                "aoss:ListSecurityPolicies",
                "aoss:ListTagsForResource",
                "aoss:ListVpcEndpoints",
                "aoss:GetAccessPolicy",
                "aoss:GetAccountSettings",
                "aoss:GetSecurityConfig",
                "aoss:GetSecurityPolicy"
            ]
        }
    ]
}</code></pre>
         
         
            <h3 id="security_iam_id-based-policy-examples-collection-admin">Administering OpenSearch Serverless collections</h3>
            <p>This policy is an example of a "collection admin" policy that allows a user to
                manage and administer Amazon OpenSearch Serverless collections. The user can create, view, and delete
                collections.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Resource": "arn:aws:aoss:<code class="replaceable">region</code>:<code class="replaceable">123456789012</code>:collection/*",
            "Action": [
                "aoss:CreateCollection",
                "aoss:DeleteCollection",
                "aoss:UpdateCollection"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Resource": "*",
            "Action": [
                "aoss:BatchGetCollection",
                "aoss:ListCollections",
                "aoss:CreateAccessPolicy",
                "aoss:CreateSecurityPolicy"
            ],
            "Effect": "Allow"
        }
    ]
}</code></pre>
         
         
            <h3 id="security_iam_id-based-policy-examples-view-collections">Viewing
                    OpenSearch Serverless collections</h3>
            <p>This example policy allows a user to view details for all Amazon OpenSearch Serverless collections
                in their account. The user can't modify the collections or any associated security
                policies.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Resource": "*",
            "Action": [
                "aoss:ListAccessPolicies",
                "aoss:ListCollections",
                "aoss:ListSecurityPolicies",
                "aoss:ListTagsForResource",
                "aoss:BatchGetCollection"
            ],
            "Effect": "Allow"
        }
    ]
}</code></pre>
         
         
            <h3 id="security_iam_id-based-policy-examples-data-plane">Using
                    data-plane policies</h3>
            <p>To access Amazon OpenSearch Serverless data-plane APIs and OpenSearch Dashboards from the browser, you
                need to add two IAM permissions for collection resources. These permissions are
                    <code class="code">aoss:APIAccessAll</code> and <code class="code">aoss:DashboardsAccessAll</code>. </p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Starting May 10, 2023, OpenSearch Serverless requires these two new IAM permissions for
                    collection resources. The <code class="code">aoss:APIAccessAll</code> permission allows
                    data-plane access (to be distinguished from control-place access), and the
                        <code class="code">aoss:DashboardsAccessAll</code> permission allows OpenSearch Dashboards
                    from the browser.You must complete this action by May 9, 2023. Failure to add
                    the two new IAM permissions will result in a 403 error starting May 10. </p></div></div>
            <p>This example policy allows a user to access data-plane APIs for a specified
                collection in their account, and access OpenSearch Dashboards for all collections in
                their account.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
         <span>{</span>
            "Sid": "VisualEditor0",
            "Effect": "Allow",
            "Action": "aoss:APIAccessAll",
            "Resource": "arn:aws:aoss:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:collection/<code class="replaceable">collection-id</code>"
        },
        <span>{</span>
            "Sid": "VisualEditor1",
            "Effect": "Allow",
            "Action": "aoss:DashboardsAccessAll",
            "Resource": "arn:aws:aoss:<code class="replaceable">region</code>:<code class="replaceable">account-id</code>:dashboards/default"
        }
    ]
}</code></pre>
            <p>OpenSearch Serverless only supports the source IP address in the condition setting in the
                principal's IAM policy for data-plane calls:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">"Condition": <span>{</span>
    "IpAddress": <span>{</span>
         "aws:SourceIp": "52.95.4.14"
    }
}</code></pre>
         
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./gsg-serverless-cli.html">Tutorial: Getting started with security (CLI)</div><div id="next" class="next-link" accesskey="n" href="./serverless-encryption.html">Encryption</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudSearch&amp;topic_url=https://docs.aws.amazon.com/en_us/opensearch-service/latest/developerguide/security-iam-serverless.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudSearch&amp;topic_url=https://docs.aws.amazon.com/en_us/opensearch-service/latest/developerguide/security-iam-serverless.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>