<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>How to create and configure AWS credentials for Amazon Keyspaces - Amazon Keyspaces (for Apache Cassandra)</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="access.credentials" /><meta name="default_state" content="access.credentials" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/keyspaces/latest/devguide/access.credentials.html" /><meta name="description" content="Learn how to create an IAM user or role and create credentials to connect to Amazon Keyspaces." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Keyspaces (for Apache Cassandra)" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Keyspaces and includes detailed development instructions for using the various features." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/keyspaces/latest/devguide/access.credentials.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/keyspaces/latest/devguide/access.credentials.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/keyspaces/latest/devguide/access.credentials.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/keyspaces/latest/devguide/access.credentials.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/keyspaces/latest/devguide/access.credentials.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/keyspaces/latest/devguide/access.credentials.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/keyspaces/latest/devguide/access.credentials.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/keyspaces/latest/devguide/access.credentials.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/keyspaces/latest/devguide/access.credentials.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/keyspaces/latest/devguide/access.credentials.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/keyspaces/latest/devguide/access.credentials.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/keyspaces/latest/devguide/access.credentials.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/keyspaces/latest/devguide/access.credentials.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/keyspaces/latest/devguide/access.credentials.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/keyspaces/latest/devguide/access.credentials.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/keyspaces/latest/devguide/access.credentials.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/keyspaces/latest/devguide/access.credentials.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/keyspaces/latest/devguide/access.credentials.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/keyspaces/latest/devguide/access.credentials.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/keyspaces/latest/devguide/access.credentials.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/keyspaces/latest/devguide/access.credentials.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/keyspaces/latest/devguide/access.credentials.html" hreflang="x-default" /><meta name="feedback-item" content="Helenus" /><meta name="this_doc_product" content="Amazon Keyspaces (for Apache Cassandra)" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'keyspaces'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="How to create and configure AWS credentials for Amazon Keyspaces" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>How to create and configure AWS credentials for Amazon Keyspaces - Amazon Keyspaces (for Apache Cassandra)</title><meta name="pdf" content="/pdfs/keyspaces/latest/devguide/AmazonKeyspaces.pdf#access.credentials" /><meta name="rss" content="amazon-keyspaces-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Helenus&amp;topic_url=http://docs.aws.amazon.com/en_us/keyspaces/latest/devguide/access.credentials.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/keyspaces/latest/devguide/access.credentials.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/keyspaces/latest/devguide/access.credentials.html" /><meta name="keywords" content="Amazon Keyspaces (for Apache Cassandra),Amazon Keyspaces,Keyspaces,Cassandra,accessing,access,programmatically,AWS,create,credentials,connect,SigV4,temp,auth,IAM" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Keyspaces",
        "item" : "https://docs.aws.amazon.com/keyspaces/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/keyspaces/latest/devguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Accessing Amazon Keyspaces (for Apache Cassandra)",
        "item" : "https://docs.aws.amazon.com/keyspaces/latest/devguide/accessing.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Connecting programmatically to Amazon Keyspaces",
        "item" : "https://docs.aws.amazon.com/keyspaces/latest/devguide/programmatic.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Creating credentials to access Amazon Keyspaces programmatically",
        "item" : "https://docs.aws.amazon.com/keyspaces/latest/devguide/programmatic.credentials.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "How to create and configure AWS credentials for Amazon Keyspaces",
        "item" : "https://docs.aws.amazon.com/keyspaces/latest/devguide/programmatic.credentials.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/keyspaces/latest/devguide/AmazonKeyspaces.pdf#access.credentials" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/keyspaces/index.html">Amazon Keyspaces</a><a href="what-is-keyspaces.html">Developer Guide</a></div><div id="page-toc-src"><a href="#SigV4_credentials">Required credentials for AWS authentication</a><a href="#access.credentials.IAM">Adding an IAM user for programmatic access</a><a href="#create.keypair">Creating new access keys</a><a href="#aws.credentials.manage">How to manage access keys</a><a href="#temporary.credentials.IAM">Using temporary credentials to connect to Amazon Keyspaces</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="access.credentials">How to create and configure AWS credentials for Amazon Keyspaces</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To access Amazon Keyspaces programmatically with the AWS CLI, the AWS SDK, or with Cassandra client drivers and the SigV4 plugin, you need an IAM user or role with access keys.  
        When you use AWS programmatically, you provide your AWS access keys so that AWS can verify your identity in programmatic calls. 
        Your access keys consist of an access key ID (for example, AKIAIOSFODNN7EXAMPLE) and
        a secret access key (for example, wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY). This topic walks you through 
      the required steps in this process. </p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#SigV4_credentials">Credentials required by the AWS CLI, the AWS SDK, or the Amazon Keyspaces SigV4 plugin for Cassandra client drivers</a></li><li><a href="#access.credentials.IAM">Creating an IAM user for programmatic access
                to Amazon Keyspaces in your AWS account</a></li><li><a href="#create.keypair">Creating new access keys for an IAM user</a></li><li><a href="#aws.credentials.manage">How to manage access keys for IAM users</a></li><li><a href="#temporary.credentials.IAM">Using temporary credentials to connect to Amazon Keyspaces using an IAM role and the SigV4 plugin</a></li></ul></div>
            <h2 id="SigV4_credentials">Credentials required by the AWS CLI, the AWS SDK, or the Amazon Keyspaces SigV4 plugin for Cassandra client drivers</h2>
            <p>The following credentials are required to authenticate the IAM user or role:</p>
            <div class="variablelist">
                 
                 
                 
            <dl>
                    <dt><span class="term"><a id="SigV4_credentials-AWS_ACCESS_KEY_ID"></a><code class="code">AWS_ACCESS_KEY_ID</code></span></dt>
                    <dd>
                        <p>Specifies an AWS access key associated with an IAM user or
                            role.</p>
                        <p>The access key <code class="code">aws_access_key_id</code> is required to connect to Amazon Keyspaces programmatically.</p>
                    </dd>
                 
                    <dt><span class="term"><a id="SigV4_credentials-AWS_SECRET_ACCESS_KEY"></a><code class="code">AWS_SECRET_ACCESS_KEY</code></span></dt>
                    <dd>
                        <p>Specifies the secret key associated with the access key. This is
                            essentially the "password" for the access key.</p>
                        <p>The <code class="code">aws_secret_access_key</code> is required to connect to Amazon Keyspaces programmatically. </p>
                    </dd>
                 
                    <dt><span class="term"><a id="SigV4_credentials-AWS_SESSION_TOKEN"></a><code class="code">AWS_SESSION_TOKEN</code> – Optional</span></dt>
                    <dd>
                        <p>Specifies the session token value that is required if you are using
                        temporary security credentials that you retrieved directly from AWS Security Token Service
                        operations. For more information, see <a href="#temporary.credentials.IAM">Using temporary credentials to connect to Amazon Keyspaces using an IAM role and the SigV4 plugin</a>.</p>
                        <p>If you are connecting with an IAM user, the <code class="code">aws_session_token</code> is not required.</p>
                    </dd>
                </dl></div>
         
        <h2 id="access.credentials.IAM">Creating an IAM user for programmatic access
                to Amazon Keyspaces in your AWS account</h2>
        
        <p>To obtain credentials for programmatic access to Amazon Keyspaces with the AWS CLI, the AWS SDK, or the SigV4 plugin, 
            you need to first create an IAM user or role.  
            The process of creating a IAM user and
            configuring that IAM user to have programmatic access to Amazon Keyspaces is shown in the following
            steps:</p>
  <div class="orderedlist">
     
     
     
    
  <ol><li>
      <p>Create the user in the AWS Management Console, the AWS CLI, Tools for Windows PowerShell, or using an AWS API operation. If
        you create the user in the AWS Management Console, then the credentials are created automatically.
        </p>
    </li><li>
        <p>If you create the user programmatically, then you must create an access key
            (access key ID and a secret access key) for that user in an additional step.</p>
    </li><li>
      <p>Give the user permissions to access Amazon Keyspaces. </p>
    </li></ol></div>
            <p>For information about the permissions that you need in order to create a user, see
                <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_permissions-required.html">Permissions required to access IAM resources</a>. </p>
   
   
    <h3 id="id_users_create_console">Creating IAM users (console)</h3>
    <p>You can use the AWS Management Console to create IAM users.</p>
    <div class="procedure"><h6>To create an IAM user with programmatic access (console)</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
        <p>In the navigation pane, choose <b>Users</b> and then choose
            <b>Add users</b>.</p>
      </li><li>
        <p>Type the user name for the new user. This is the sign-in name for AWS. </p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>User names can be a combination of up to 64 letters, digits, and
            these characters: plus (+), equal (=), comma (,), period (.), at sign (@), underscore
            (_), and hyphen (-). Names must be unique within an account. They are not distinguished
            by case. For example, you cannot create two users named <em>TESTUSER</em>
            and <em>testuser</em>.</p></div></div>
      </li><li>
          <p>Select <b>Access key - Programmatic access</b> to
                        create an access key for the new user. You can view or download the access
                        key when you get to the <b>Final</b> page.</p>
          <p>Choose <b>Next: Permissions</b>.</p>
      </li><li>
          <p>On the <b>Set permissions</b> page, choose <b>Attach existing policies directly</b> to assign
          permissions to the new user.</p>
 
            <p>This option displays
                        the list of AWS managed and customer managed policies available in your account.
                        You can enter <code>keyspaces</code> into the search field to
                        display only the policies that are related to Amazon Keyspaces.</p>
                <p>For Amazon Keyspaces, the available managed policies are
                            <code class="code">AmazonKeyspacesFullAccess</code> and
                            <code class="code">AmazonKeyspacesReadOnlyAccess</code>. For more information about
                        each policy, see <a href="./security-iam-awsmanpol.html">AWS managed policies for Amazon Keyspaces</a>. </p>
          
          <p>For testing purposes and to follow the connection tutorials, select the
                            <code class="code">AmazonKeyspacesReadOnlyAccess</code> policy for the new user.
                            <b>Note:</b> As a best practice, we recommend
                        that you follow the principle of least privilege and create custom policies
                        that limit access to specific resources and only allow the required actions.
                        For more information about IAM policies and to view example policies for
                        Amazon Keyspaces, see <a href="./security_iam_service-with-iam.html#security_iam_service-with-iam-id-based-policies">Amazon Keyspaces
               identity-based policies</a>. After you have created custom policies, attach your policies to groups
                        and then make users members of the appropriate groups.</p>
          <p>Choose <b>Next: Tags</b>.</p></li><li>
           <p>On the <b>Add tags (optional)</b> page you can add tags for the user, or choose <b>Next: Review</b>. </p>
      </li><li><p>On the <b>Review</b> page you can see all of the choices you made up to this
            point. When you're ready to proceed, choose <b>Create user</b>.</p></li><li>
        <p>To view the user's access keys (access key IDs and secret access keys), choose
            <b>Show</b> next to the password and access key. To
          save the access keys, choose <b>Download .csv</b> and then save the file to
          a safe location. </p> 
          <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>This is your only opportunity to view or download the secret access keys, and you 
              need this information before they can use the SigV4 plugin. 
              Save the user's new access key ID and secret access key in a safe and secure place. 
              You will not have access to the secret keys again after this step.</p></div></div></li></ol></div>
      
      <p></p>
   
   
    <h3 id="id_users_create_cliwpsapi">Creating IAM users (AWS CLI)</h3>
    <p>You can use the AWS CLI to create an IAM user.</p>
    <div class="procedure"><h6>To create an IAM user with programmatic access (AWS CLI)</h6><ol><li>
        <p>Create a user with the following AWS CLI code.</p>
        <div class="itemizedlist">
           
        <ul class="itemizedlist"><li class="listitem">
              <p><a href="https://docs.aws.amazon.com/cli/latest/reference/iam/create-user.html">aws iam create-user</a></p>
          </li></ul></div>
      </li><li>
        <p>Give the user programmatic access. This requires access keys, that can be generated in the following ways. </p>
        <div class="itemizedlist">
           
           
           
        <ul class="itemizedlist"><li class="listitem">
              <p>AWS CLI: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/create-access-key.html">aws iam
                  create-access-key</a></p>
          </li><li class="listitem">
            <p>Tools for Windows PowerShell: <a href="https://docs.aws.amazon.com/powershell/latest/reference/Index.html?page=New-IAMAccessKey.html&amp;tocid=New-IAMAccessKey">New-IAMAccessKey</a></p>
          </li><li class="listitem">
            <p>IAM API: <a href="https://docs.aws.amazon.com/IAM/latest/APIReference/API_CreateAccessKey.html">CreateAccessKey</a></p> <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>This is your only opportunity to view or download the secret access keys, and you 
                    need this information before they can use the SigV4 plugin. 
                    Save the user's new access key ID and secret access key in a safe and secure place. 
                    You will not have access to the secret keys again after this step.</p></div></div></li></ul></div>
      </li><li>
          <p>Attach the <code class="code">AmazonKeyspacesReadOnlyAccess</code> policy to the user that defines the user's permissions. <b>Note:</b> As a best practice, we recommend that you manage user permissions by adding the
          user to a group and attaching a policy to the group instead of attaching directly to a
          user.</p>
        <div class="itemizedlist">
           
        <ul class="itemizedlist"><li class="listitem">
              <p>AWS CLI: <a href="https://docs.aws.amazon.com/cli/latest/reference/iam/attach-user-policy.html">aws iam
                  attach-user-policy</a></p>
          </li></ul></div>
      </li></ol></div>
  
   
        
     
        <h2 id="create.keypair">Creating new access keys for an IAM user</h2>
        <p>If you already have an IAM user, you can create new access keys at any time. For more information about key management, for example how to rotate access keys, see
            <a href="IAM User Guideid_credentials_access-keys.html" rel="noopener noreferrer" target="_blank">Managing access keys for IAM users</a>. </p>
               
        <div class="procedure"><h6>To create access keys for an IAM user (console)</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                <p>In the navigation pane, choose <b>Users</b>.</p>
            </li><li><p>Choose the name of the user whose access keys you want to create.</p></li><li><p>On the <b>Summary</b> page of the user, choose the <b>Security
                        credentials</b> tab.</p></li><li>
                <p>In the <b>Access keys</b> section, choose <b>Create access key</b>. </p>
                <p>To view the new access key pair, choose <b>Show</b>. Your credentials will look something like this:</p>
                 <div class="itemizedlist">
                      
                      
                 <ul class="itemizedlist"><li class="listitem"><p>Access key ID: AKIAIOSFODNN7EXAMPLE</p></li><li class="listitem"><p>Secret access key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</p></li></ul></div>   
                <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You will not have access to the secret access key again after this dialog box closes.</p></div></div>
            </li><li>
                <p>To download the key pair, choose <b>Download .csv file</b>. Store the keys in a secure location.</p>
            </li><li>
                <p>After you download the .csv file, choose <b>Close</b>.</p>
            </li></ol></div>
            <p>When you create an access key, the key pair is active by default, and you can use the pair right away.</p>
        
        
    
     
        <h2 id="aws.credentials.manage">How to manage access keys for IAM users</h2>
    <p>As a best practice, we recommend that you don't embed access keys directly into code. 
        The AWS SDKs and the AWS Command Line Tools enable you to put access keys in known 
        locations so that you do not have to keep them in code. Put access keys in one of the following locations:</p><div class="itemizedlist">
         
         
         
    <ul class="itemizedlist"><li class="listitem"><p><b>Environment variables </b>– On a multitenant system, choose
                user environment variables, not system environment variables.</p></li><li class="listitem"><p><b>CLI credentials file </b>– The <code class="code">credentials</code> and
                    <code class="code">config</code> file are updated when you run the command <code class="code">aws
                    configure</code>. The <code class="code">credentials</code> file is located at
                <code>~/.aws/credentials</code> on Linux, macOS, or Unix, or at <code>C:\Users\<code class="replaceable">USERNAME</code>\.aws\credentials</code> on Windows.
                This file can contain the credential details for the <code class="code">default</code> profile
                and any named profiles.</p></li><li class="listitem"><p><b>CLI configuration file </b>– The <code class="code">credentials</code>
                and <code class="code">config</code> file are updated when you run the command <code class="code">aws
                    configure</code>. The <code class="code">config</code> file is located at
                <code>~/.aws/config</code> on Linux, macOS, or Unix, or at <code>C:\Users\<code class="replaceable">USERNAME</code>\.aws\config</code> on
                Windows. This file contains the configuration settings for the default profile and
                any named profiles.</p></li></ul></div><p>Storing access keys as environment variables is a pre-requisite for the <a href="./using_java_driver.html#java_tutorial.SigV4">Step-by-step tutorial to connect to Amazon Keyspaces using the 4.x DataStax Java driver for Apache Cassandra
                                 and the SigV4 authentication plugin</a>. The client searches for credentials using the default
        credentials provider chain, and access keys stored as environment variables take precedent
        over all other locations, for example configuration files. For more information, see 
        <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html#cli-configure-quickstart-precedence">Configuration settings and precedence</a>.</p><p>The following examples show how you can configure environment variables for the
                default user.</p><awsdocs-tabs><dl style="display: none">
                <dt>Linux, macOS, or Unix</dt><dd tab-id="linux">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">export AWS_ACCESS_KEY_ID=<code class="replaceable">AKIAIOSFODNN7EXAMPLE</code></code>
<code class="prompt" copy="false">$ </code><code class="userinput">export AWS_SECRET_ACCESS_KEY=<code class="replaceable">wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></code>
<code class="prompt" copy="false">$ </code><code class="userinput">export AWS_SESSION_TOKEN=<code class="replaceable">AQoDYXdzEJr...&lt;remainder of security token&gt;</code></code></code></pre>
                        <p>Setting the environment variable changes the value used until the end of
                            your shell session, or until you set the variable to a different value. You
                            can make the variables persistent across future sessions by setting them in
                            your shell's startup script.</p>
                    </dd>
                <dt>Windows Command Prompt</dt><dd tab-id="windows">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">C:\&gt; </code><code class="userinput">setx AWS_ACCESS_KEY_ID <code class="replaceable">AKIAIOSFODNN7EXAMPLE</code></code>
<code class="prompt" copy="false">C:\&gt; </code><code class="userinput">setx AWS_SECRET_ACCESS_KEY <code class="replaceable">wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></code>
<code class="prompt" copy="false">C:\&gt; </code><code class="userinput">setx AWS_SESSION_TOKEN <code class="replaceable">AQoDYXdzEJr...&lt;remainder of security token&gt;</code></code></code></pre>
                        <p>Using <code class="code"><a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/set_1" rel="noopener noreferrer" target="_blank"><span>set</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></code> to set an environment variable changes the value
                            used until the end of the current command prompt session, or until you set
                            the variable to a different value. Using <a href="https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/setx" rel="noopener noreferrer" target="_blank"><span><code class="code">setx</code></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to set an environment variable changes
                            the value used in both the current command prompt session and all command
                            prompt sessions that you create after running the command. It does <b><em>not</em></b> affect
                            other command shells that are already running at the time you run the
                            command.</p>
                    </dd>
                <dt>PowerShell</dt><dd tab-id="powershell">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">$Env:AWS_ACCESS_KEY_ID="<code class="replaceable">AKIAIOSFODNN7EXAMPLE</code></code>"
<code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">$Env:AWS_SECRET_ACCESS_KEY="<code class="replaceable">wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></code>"
<code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">$Env:AWS_SESSION_TOKEN="<code class="replaceable">AQoDYXdzEJr...&lt;remainder of security token&gt;</code></code>"</code></pre>
                        <p>If you set an environment variable at the PowerShell prompt as shown in
                            the previous examples, it saves the value for only the duration of the
                            current session. To make the environment variable setting persistent across
                            all PowerShell and Command Prompt sessions, store it by using the
                            <b>System</b> application in <b>Control
                                Panel</b>. Alternatively, you can set the variable for all future
                            PowerShell sessions by adding it to your PowerShell profile. See the <a href="https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_environment_variables" rel="noopener noreferrer" target="_blank"><span>PowerShell documentation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for more information about storing
                            environment variables or persisting them across sessions.</p>
                    </dd>
            </dl></awsdocs-tabs>
    <h2 id="temporary.credentials.IAM">Using temporary credentials to connect to Amazon Keyspaces using an IAM role and the SigV4 plugin</h2>
    <p>For enhanced security, you can use <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_use-resources.html">temporary credentials
    </a> to authenticate with the SigV4 plugin. 
        In many scenarios, you don't need long-term access keys that never expire (as you have with an IAM user). Instead, you can create an IAM role and generate 
        temporary security credentials. Temporary security credentials consist of an access key ID and a secret access key, but they also include a security token that
        indicates when the credentials expire. To learn more about how to use IAM roles instead of long-term access keys, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-api.html">
            Switching to an IAM role (AWS API)</a>.</p>
    <p>To get started with temporary credentials, you first need to create an IAM role.</p>
    <div class="procedure"><h6>Create an IAM role that grants read-only access to Amazon Keyspaces</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li><p>In the navigation pane, choose <b>Roles</b>, then <b>Create
                        role</b>.</p></li><li><p>On the <b>Create role</b> page, under <b>Select type of trusted
                        entity</b>, choose <b>AWS service</b>. Under
                        <b>Choose a use case</b>, choose <b>Amazon EC2</b>,
                    then choose <b>Next</b>.</p></li><li><p>On the <b>Add permissions</b> page, under <b>Permissions
                        policies</b>, choose <b>Amazon Keyspaces Read Only
                        Access</b> from the policy list, then choose
                        <b>Next</b>.</p></li><li><p>On the <b>Name, review, and create</b> page, enter a name for the role, and review the <b>Select trusted entities</b> and 
            <b>Add permissions</b> sections.
                    You can also add optional tags for the role on this page. When you are done,
                    select <b>Create role</b>. Remember this name because you’ll need
                    it when you launch your Amazon EC2 instance.</p></li></ol></div>
    
    <p>To use temporary security credentials in code, you programmatically call an AWS Security Token Service API like <code class="code">AssumeRole</code> and extract the resulting credentials 
        and session token from your IAM role that you created in the previous step. You then use those values as credentials for subsequent calls to AWS. 
        The following example shows pseudocode for how to use 
        temporary security credentials:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">assumeRoleResult = AssumeRole(role-arn);
tempCredentials = new SessionAWSCredentials(
   assumeRoleResult.AccessKeyId, 
   assumeRoleResult.SecretAccessKey, 
   assumeRoleResult.SessionToken);
cassandraRequest = CreateAmazoncassandraClient(tempCredentials);</code></pre>
    
     <p>For an example that implements temporary credentials using the Python driver to access
            Amazon Keyspaces, see <a href="./using_python_driver.html#python_SigV4">Connect to Amazon Keyspaces using the DataStax
                    Python driver for Apache Cassandra and the SigV4 authentication plugin</a>.</p>       
    <p>For details about how to call <code class="code">AssumeRole</code>, <code class="code">GetFederationToken</code>,
        and other API operations, see 
        the <a href="https://docs.aws.amazon.com/STS/latest/APIReference/">AWS Security Token Service API Reference</a>.
        For information on getting the temporary security credentials and
        session token from the result, see the documentation for the SDK that you're working with. You
        can find the documentation for all the AWS SDKs on the main <a href="http://aws.amazon.com/documentation" rel="noopener noreferrer" target="_blank"><span>AWS documentation page</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, in the
        <b>SDKs and Toolkits</b> section.</p>
 
<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./programmatic.credentials.ssc.html">Service-specific credentials</div><div id="next" class="next-link" accesskey="n" href="./programmatic.endpoints.html">Service endpoints</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Helenus&amp;topic_url=https://docs.aws.amazon.com/en_us/keyspaces/latest/devguide/access.credentials.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Helenus&amp;topic_url=https://docs.aws.amazon.com/en_us/keyspaces/latest/devguide/access.credentials.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>