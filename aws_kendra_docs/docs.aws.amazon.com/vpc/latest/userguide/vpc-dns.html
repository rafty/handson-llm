<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DNS attributes for your VPC - Amazon Virtual Private Cloud</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="vpc-dns" /><meta name="default_state" content="vpc-dns" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" /><meta name="description" content="Control DNS support for your VPC." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Virtual Private Cloud" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Use Amazon VPC to launch AWS resources into a virtual network that is a logically isolated section of the AWS cloud." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/vpc-dns.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/vpc-dns.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/vpc-dns.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/vpc-dns.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/vpc-dns.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/vpc-dns.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/vpc-dns.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/vpc-dns.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/vpc-dns.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/vpc-dns.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/vpc-dns.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/vpc-dns.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/vpc-dns.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/vpc-dns.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/vpc-dns.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/vpc-dns.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/vpc-dns.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/vpc-dns.html" hreflang="x-default" /><meta name="feedback-item" content="VPC" /><meta name="this_doc_product" content="Amazon Virtual Private Cloud" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'vpc'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="DNS attributes for your VPC" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>DNS attributes for your VPC - Amazon Virtual Private Cloud</title><meta name="pdf" content="/pdfs/vpc/latest/userguide/vpc-ug.pdf#vpc-dns" /><meta name="github" content="https://github.com/awsdocs/amazon-vpc-user-guide/tree/master/doc_source/vpc-dns.md" /><meta name="rss" content="amazon-vpc-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=58" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/userguide/vpc-dns.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/userguide/vpc-dns.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/userguide/vpc-dns.html" /><meta name="keywords" content="VPC,Amazon VPC,network,route table,internet gateway,subnet,NAT" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon VPC",
        "item" : "https://docs.aws.amazon.com/vpc/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/vpc/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Virtual private clouds (VPC)",
        "item" : "https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "DNS attributes for your VPC",
        "item" : "https://docs.aws.amazon.com/vpc/latest/userguide/configure-your-vpc.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/vpc/latest/userguide/vpc-ug.pdf#vpc-dns" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-vpc-user-guide/tree/master/doc_source/vpc-dns.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/vpc/index.html">Amazon VPC</a><a href="what-is-amazon-vpc.html">User Guide</a></div><div id="page-toc-src"><a href="#AmazonDNS">Amazon DNS server</a><a href="#vpc-dns-hostnames">DNS hostnames</a><a href="#vpc-dns-support">DNS attributes in your VPC</a><a href="#vpc-dns-limits">DNS quotas</a><a href="#vpc-dns-viewing">View DNS hostnames for your EC2 instance</a><a href="#vpc-dns-updating">View and update DNS attributes for your VPC</a><a href="#vpc-private-hosted-zones">Private hosted zones</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="vpc-dns">DNS attributes for your VPC</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Domain Name System (DNS) is a standard by which names used on the internet are resolved to
    their corresponding IP addresses. A DNS hostname is a name that uniquely and absolutely names a
    computer; it's composed of a host name and a domain name. DNS servers resolve DNS hostnames to
    their corresponding IP addresses. </p><p>Public IPv4 addresses enable communication over the internet, while private IPv4 addresses
    enable communication within the network of the instance. For more information, see <a href="./vpc-ip-addressing.html">IP addressing for your VPCs and subnets</a>.</p><p>Amazon provides a DNS server (<a href="#AmazonDNS">the Amazon RouteÂ 53 Resolver</a>) for
    your VPC. To use your own DNS server instead, create a new set of DHCP options for your VPC. For
    more information, see <a href="./VPC_DHCP_Options.html">DHCP option sets in Amazon VPC</a>.</p><div class="highlights" id="inline-topiclist"><h6>Contents</h6><ul><li><a href="#AmazonDNS">Amazon DNS server</a></li><li><a href="#vpc-dns-hostnames">DNS hostnames</a></li><li><a href="#vpc-dns-support">DNS attributes in your VPC</a></li><li><a href="#vpc-dns-limits">DNS quotas</a></li><li><a href="#vpc-dns-viewing">View DNS hostnames for your EC2 instance</a></li><li><a href="#vpc-dns-updating">View and update DNS attributes for your VPC</a></li><li><a href="#vpc-private-hosted-zones">Private hosted zones</a></li></ul></div>
    <h2 id="AmazonDNS">Amazon DNS server</h2>
    <p>The Route 53 Resolver (also called "Amazon DNS server" or "AmazonProvidedDNS") is a DNS
      Resolver service which is built into each availability zone within an AWS Region. The Route 53
      Resolver is located at <code class="code">169.254.169.253</code> (IPv4), <code class="code">fd00:ec2::253</code> (IPv6), and at the primary private IPV4 CIDR range provisioned to your VPC plus two. For
      example, if you have a VPC with an IPv4 CIDR of <code class="code">10.0.0.0/16</code> and an IPv6 CIDR of <code class="code">fd00:ec2::253</code>,
      you can reach the Route 53 Resolver at <code class="code">169.254.169.253</code> (IPv4), <code class="code">fd00:ec2::253</code> (IPv6), or
      <code class="code">10.0.0.2</code> (IPv4).</p>
    <p>When you launch an instance into a VPC, we provide the instance with a private DNS
      hostname. We also provide a public DNS hostname if the instance is configured with a public
      IPv4 address and the VPC DNS attributes are enabled.</p>
    <p>The format of the private DNS hostname depends on how you configure the EC2 instance when you launch it. For
      more information on the types of private DNS hostnames, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-naming.html">EC2 instance naming</a>.</p>
    <p>The Amazon DNS server in your VPC is used to resolve the DNS domain names that you specify
      in a private hosted zone in RouteÂ 53. For more information about private hosted zones, see
      <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-private.html">Working with private hosted
        zones</a> in the <em>Amazon RouteÂ 53 Developer Guide</em>.</p>
    
     
      <h3 id="amazon-dns-rules">Rules and considerations</h3>
      <p>When using the Amazon DNS server, the following rules and considerations
        apply.</p>
      <div class="itemizedlist">
         
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>You cannot filter traffic to or from the Amazon DNS server using network
            ACLs or security groups.</p>
        </li><li class="listitem">
          <p>Services that use the Hadoop framework, such as Amazon EMR, require instances
            to resolve their own fully qualified domain names (FQDN). In such cases, DNS
            resolution can fail if the <code class="code">domain-name-servers</code> option is set to
            a custom value. To ensure proper DNS resolution, consider adding a
            conditional forwarder on your DNS server to forward queries for the domain
            <code class="code"><code class="replaceable">region-name</code>.compute.internal</code>
            to the Amazon DNS server. For more information, see <a href="https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-vpc-host-job-flows.html">Setting up a VPC to host
              clusters</a> in the <em>Amazon EMR Management Guide</em>.</p>
        </li><li class="listitem">
          <p>Windows Server 2008 disallows the use of a DNS server located in the link-local
            address range (169.254.0.0/16).</p>
        </li><li class="listitem">
          <p>The Amazon RouteÂ 53 Resolver only supports recursive DNS queries.</p>
        </li></ul></div>
     
   
    <h2 id="vpc-dns-hostnames">DNS hostnames</h2>
    <p>When you launch an instance, it always receives a private IPv4 address and a private
      DNS hostname that corresponds to its private IPv4 address. If your instance has a public IPv4
      address, the DNS attributes for its VPC determines whether it receives a public DNS hostname
      that corresponds to the public IPv4 address. For more information, see <a href="#vpc-dns-support">DNS attributes in your VPC</a>.</p>
    <p>With the Amazon provided DNS server enabled, DNS hostnames are assigned and resolved as
      follows.</p>
       
        <h6>Private IP DNS name (IPv4 only)</h6>   
        <p>You can use the Private IP DNS name (IPv4 only) hostname for communication between instances in the same VPC. You can resolve the Private IP DNS name (IPv4 only) hostnames of other instances in other VPCs as long as the instances are in the same AWS Region and the hostname of the other instance is in the private address space range defined by <a href="https://datatracker.ietf.org/doc/html/rfc1918" rel="noopener noreferrer" target="_blank"><span>RFC 1918</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>: <code class="code">10.0.0.0 - 10.255.255.255 (10/8 prefix)</code>, <code class="code">172.16.0.0 - 172.31.255.255 (172.16/12 prefix)</code>, and <code class="code">192.168.0.0 - 192.168.255.255 (192.168/16 prefix)</code>.</p>
     
     
      <h6>Private resource DNS name</h6>
      <p>The RBN-based DNS name that can resolve to the A and AAAA DNS records selected for this
        instance. This DNS hostname is visible in the instance details for instances in dual-stack
        and IPv6-only subnets. For more information about RBN, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-naming.html">EC2 instance hostname types</a>.</p>
     
       
        <h6>Public IPv4 DNS</h6>
          <p>A public (external) IPv4 DNS hostname takes the form
            <code class="code">ec2-<code class="replaceable">public-ipv4-address</code>.compute-1.amazonaws.com</code>
        for the <code class="code">us-east-1</code> Region, and
            <code class="code">ec2-<code class="replaceable">public-ipv4-address</code>.<code class="replaceable">region</code>.compute.amazonaws.com</code>
        for other Regions. The Amazon DNS server resolves a public DNS hostname to the public IPv4
        address of the instance outside the network of the instance, and to the private IPv4 address
        of the instance from within the network of the instance. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses">Public IPv4
          addresses and external DNS hostnames</a> in the
        <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
       
   
    <h2 id="vpc-dns-support">DNS attributes in your VPC</h2>
    
    <p>The following VPC attributes determine the DNS support provided for your VPC.
      If both attributes are enabled, an instance launched into the VPC receives a public
      DNS hostname if it is assigned a public IPv4 address or an Elastic IP address at 
      creation. If you enable both attributes for a VPC that didn't previously have them 
      both enabled, instances that were already launched into that VPC receive public DNS 
      hostnames if they have a public IPv4 address or an Elastic IP address.</p>
     <p>To check whether these attributes are enabled for your VPC, see <a href="#vpc-dns-updating">View and update DNS attributes for your VPC</a>.</p>
      <div class="table-container"><div class="table-contents"><table id="w284aac13c19c15b7"><thead>
            <tr>
              <th>Attribute</th>
              <th>Description</th>
            </tr>
          </thead>
            <tr>
              <td><code class="code">enableDnsHostnames</code></td>
              <td>
                <p>Determines whether the VPC supports assigning public DNS hostnames to
                instances with public IP addresses.</p>
                <p>The default for this attribute is <code class="code">false</code> unless the VPC is a default VPC.</p>
                
              </td>
            </tr>
            <tr>
              <td><code class="code">enableDnsSupport</code></td>
              <td>
                <p>Determines whether the VPC supports DNS resolution through the Amazon provided
                  DNS server.</p>
                <p>If this attribute is <code class="code">true</code>, queries to the Amazon provided DNS
                  server succeed. For more information, see <a href="#AmazonDNS">Amazon DNS server</a>.</p>
                <p>The default for this attribute is <code class="code">true</code>.</p>
              </td>
            </tr>
          </table></div></div>
    
    <div class="itemizedlist">
          <h6>Rules and considerations</h6>
           
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>If both attributes are set to <code class="code">true</code>, the following occurs:</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Instances with public IP addresses receive corresponding public DNS
              hostnames.</p>
                    </li><li class="listitem">
                        <p>The Amazon RouteÂ 53 Resolver server can resolve Amazon-provided
                            private DNS hostnames.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>If at least one of the attributes is set to <code class="code">false</code>, the
                    following occurs:</p>
                <div class="itemizedlist">
                     
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Instances with public IP addresses do not receive corresponding public
              DNS hostnames.</p>
                    </li><li class="listitem">
                        <p>The Amazon RouteÂ 53 Resolver cannot resolve Amazon-provided
                            private DNS hostnames.</p>
                    </li><li class="listitem">
                        <p>Instances receive custom private DNS hostnames if there is a custom
                            domain name in the <a href="./VPC_DHCP_Options.html">DHCP options
                                set</a>. If you are not using the Amazon RouteÂ 53 Resolver
                            server, your custom domain name servers must resolve the hostname as
                            appropriate.</p>
                    </li></ul></div>
            </li><li class="listitem">
                <p>If you use custom DNS domain names defined in a private hosted zone in
                    Amazon RouteÂ 53, or use private DNS with interface VPC endpoints (AWS PrivateLink),
                    you must set both the <code class="code">enableDnsHostnames</code> and
                        <code class="code">enableDnsSupport</code> attributes to <code class="code">true</code>.</p>
            </li><li class="listitem">
                <p>The Amazon RouteÂ 53 Resolver can resolve private DNS hostnames to
                    private IPv4 addresses for all address spaces, including where the IPv4 address
                    range of your VPC falls outside of the private IPv4 addresses ranges specified
                    by <a href="https://tools.ietf.org/html/rfc1918" rel="noopener noreferrer" target="_blank"><span>RFC 1918</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. However,
                    if you created your VPC before October 2016, the Amazon RouteÂ 53 Resolver
                    does not resolve private DNS hostnames if your VPC's IPv4 address range falls
                    outside of these ranges. To enable support for this, contact <a href="https://aws.amazon.com/contact-us/" rel="noopener noreferrer" target="_blank"><span>AWS Support</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
            </li><li class="listitem">
              <p>If you use VPC peering, you must enable both attributes for both VPCs, and
                 you must enable DNS resolution for the peering connection. For more information,
                 see <a href="https://docs.aws.amazon.com/vpc/latest/peering/modify-peering-connections.html#vpc-peering-dns">Enable DNS resolution for a VPC peering connection</a>.</p>
            </li></ul></div>
   
        <h2 id="vpc-dns-limits">DNS quotas</h2>
         <p>Each EC2 instance can send 1024 packets per second per network interface to RouteÂ 53 Resolver 
            (specifically the .2 address, such as 10.0.0.2 and 169.254.169.253). This quota cannot be increased. 
            The number of DNS queries per second supported by RouteÂ 53 Resolver varies by the type of query, the size of the 
            response, and the protocol in use. For more information and recommendations for a scalable DNS architecture, 
            see the <a href="https://d1.awsstatic.com/whitepapers/aws-hybrid-dns-with-active-directory.pdf" rel="noopener noreferrer" target="_blank"><span>AWS Hybrid DNS with Active Directory</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> Technical Guide.</p> 
    <p>If you reach the quota, the RouteÂ 53 Resolver rejects traffic. Some of the causes for reaching
      the quota might be a DNS throttling issue, or instance metadata queries that use the 
      RouteÂ 53 Resolver network interface. For information about how to solve VPC DNS
      throttling issues, see <a href="http://aws.amazon.com/premiumsupport/knowledge-center/vpc-find-cause-of-failed-dns-queries/" rel="noopener noreferrer" target="_blank"><span>How can I determine whether my DNS queries to the Amazon provided DNS server are failing due
        to VPC DNS throttling</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. For information about instance metadata retrieval, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html">Retrieve
          instance metadata</a> in the <em>Amazon EC2 User Guide for Linux Instances</em>.</p>
   
    <h2 id="vpc-dns-viewing">View DNS hostnames for your EC2 instance</h2>
    
    <p>You can view the DNS hostnames for a running instance or a network interface using the 
        Amazon EC2 console or the command line.</p>
    <p>The <b>Public DNS (IPv4)</b> and <b>Private DNS</b> fields are
            available when the DNS options are enabled for the VPC that is associated with the
            instance. For more information, see <a href="#vpc-dns-support">DNS attributes in your VPC</a>.</p>

     
      <h3 id="instance-dns">Instance</h3>
      
      <div class="procedure"><h6>To view DNS hostnames for an instance using the console</h6><ol><li><p>Open the Amazon EC2 console at
         <a href="https://console.aws.amazon.com/ec2/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/ec2/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li><p>In the navigation pane, choose <b>Instances</b>.</p></li><li><p>Select your instance from the list.</p></li><li>
          <p>In the details pane, the <b>Public DNS (IPv4)</b> and
              <b>Private DNS</b> fields display the DNS hostnames, if
            applicable.</p>
        </li></ol></div>
      
      <div class="itemizedlist">
        <h6>To view DNS hostnames for an instance using the command line</h6>
        <p>You can use one of the following commands. For more information about these command line interfaces,
          see <a href="./what-is-amazon-vpc.html#VPCInterfaces">Working with Amazon VPC</a>.</p>
         
         
      <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html">describe-instances</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2Instance.html">Get-EC2Instance</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
     
    
     
      <h3 id="eni-dns">Network interface</h3>
      
      <div class="procedure"><h6>To view the private DNS hostname for a network interface using the console</h6><ol><li><p>Open the Amazon EC2 console at
         <a href="https://console.aws.amazon.com/ec2/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/ec2/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li><p>In the navigation pane, choose <b>Network Interfaces</b>.</p></li><li><p>Select the network interface from the list.</p></li><li>
          <p>In the details pane, the <b>Private DNS (IPv4)</b> field displays the
            private DNS hostname.</p>
        </li></ol></div>
      
      <div class="itemizedlist">
        <h6>To view DNS hostnames for a network interface using the command line</h6>
        <p>You can use one of the following commands. For more information about these command line interfaces,
          see <a href="./what-is-amazon-vpc.html#VPCInterfaces">Working with Amazon VPC</a>.</p>
         
         
      <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-network-interfaces.html">describe-network-interfaces</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2NetworkInterface.html">Get-EC2NetworkInterface</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
     
            
   
    <h2 id="vpc-dns-updating">View and update DNS attributes for your VPC</h2>
    
    <p>You can view and update the DNS support attributes for your VPC using the Amazon VPC console.</p>
    
    <div class="procedure"><h6>To describe and update DNS support for a VPC using the console</h6><ol><li><p>Open the Amazon VPC console at
         <a href="https://console.aws.amazon.com/vpc/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/vpc/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li><p>In the navigation pane, choose <b>Your VPCs</b>.</p></li><li><p>Select the checkbox for the VPC.</p></li><li>
        <p>Review the information in <b>Details</b>. In this example, both
            <b>DNS hostnames</b> and <b>DNS resolution</b> are
          enabled.</p>
          <div class="mediaobject">
             
              <img src="/images/vpc/latest/userguide/images/dns-settings.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;              The DNS Settings tab&#xA;            " />
             
             
          </div>
      </li><li>
    		<p>To update these settings, choose <b>Actions</b> and then choose
            <b>Edit VPC settings</b>. Select or clear <b>Enable</b> on
          the appropriate DNS attribute and choose <b>Save changes</b>.</p>
    	</li></ol></div>

    <div class="itemizedlist">
      <h6>To describe DNS support for a VPC using the command line</h6>
      <p>You can use one of the following commands. For more information about these command line interfaces,
        see <a href="./what-is-amazon-vpc.html#VPCInterfaces">Working with Amazon VPC</a>.</p>
       
       
    <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/describe-vpc-attribute.html">describe-vpc-attribute</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-EC2VpcAttribute.html">Get-EC2VpcAttribute</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
    
    <div class="itemizedlist">
      <h6>To update DNS support for a VPC using the command line</h6>
      <p>You can use one of the following commands. For more information about these command line interfaces,
        see <a href="./what-is-amazon-vpc.html#VPCInterfaces">Working with Amazon VPC</a>.</p>
       
       
    <ul class="itemizedlist"><li class="listitem"><p><a href="https://docs.aws.amazon.com/cli/latest/reference/ec2/modify-vpc-attribute.html">modify-vpc-attribute</a> (AWS CLI)</p></li><li class="listitem"><p><a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Edit-EC2VpcAttribute.html">Edit-EC2VpcAttribute</a> (AWS Tools for Windows PowerShell)</p></li></ul></div>
        
   
	  <h2 id="vpc-private-hosted-zones">Private hosted zones</h2>
		
		<p>To access the resources in your VPC using custom DNS domain names, such as <code>example.com</code>,
		  instead of using private IPv4 addresses or AWS-provided private DNS
            hostnames, you can create a private hosted zone in RouteÂ 53. A private hosted zone is a
            container that holds information about how you want to route traffic for a domain and
            its subdomains within one or more VPCs without exposing your resources to the internet.
            You can then create RouteÂ 53 resource record sets, which determine how RouteÂ 53 responds to
            queries for your domain and subdomains. For example, if you want browser requests for
            example.com to be routed to a web server in your VPC, you'll create an A record in your
            private hosted zone and specify the IP address of that web server. For more information
            about creating a private hosted zone, see <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/hosted-zones-private.html">Working with private hosted
                zones</a> in the <em>Amazon RouteÂ 53 Developer Guide</em>.</p>
		<p>To access resources using custom DNS domain names, you must be connected to an instance
      within your VPC. From your instance, you can test that your resource in your private hosted
      zone is accessible from its custom DNS name by using the <code class="code">ping</code> command; for
      example, <code class="code">ping mywebserver.example.com</code>. (You must ensure that your instance's
      security group rules allow inbound ICMP traffic for the <code class="code">ping</code> command to
      work.)</p>
    <p>Private hosted zones do not support transitive relationships outside of the VPC;
      for example, you cannot access your resources using their custom private DNS names
      from the other side of a VPN connection.</p>
		<div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>If you use custom DNS domain names defined in a private hosted zone in Amazon RouteÂ 53, 
		    you must set both the <code class="code">enableDnsHostnames</code> and <code class="code">enableDnsSupport</code> 
		    attributes to <code class="code">true</code>.</p></div></div>
	<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./DHCPOptionSet.html">Work with DHCP option sets</div><div id="next" class="next-link" accesskey="n" href="./network-address-usage.html">Network Address Usage</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/en_us/vpc/latest/userguide/vpc-dns.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/en_us/vpc/latest/userguide/vpc-dns.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>