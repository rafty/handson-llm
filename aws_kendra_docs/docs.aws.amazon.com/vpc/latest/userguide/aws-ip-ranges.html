<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS IP address ranges - Amazon Virtual Private Cloud</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-ip-ranges" /><meta name="default_state" content="aws-ip-ranges" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/vpc/latest/userguide/aws-ip-ranges.html" /><meta name="description" content="Lists the IP address ranges for AWS." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Virtual Private Cloud" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Use Amazon VPC to launch AWS resources into a virtual network that is a logically isolated section of the AWS cloud." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/vpc/latest/userguide/aws-ip-ranges.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/aws-ip-ranges.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/userguide/aws-ip-ranges.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/aws-ip-ranges.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/userguide/aws-ip-ranges.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/aws-ip-ranges.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/aws-ip-ranges.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/aws-ip-ranges.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/userguide/aws-ip-ranges.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/aws-ip-ranges.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/userguide/aws-ip-ranges.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/aws-ip-ranges.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/userguide/aws-ip-ranges.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/aws-ip-ranges.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/userguide/aws-ip-ranges.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/aws-ip-ranges.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/aws-ip-ranges.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/aws-ip-ranges.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/userguide/aws-ip-ranges.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/vpc/latest/userguide/aws-ip-ranges.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/userguide/aws-ip-ranges.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/userguide/aws-ip-ranges.html" hreflang="x-default" /><meta name="feedback-item" content="VPC" /><meta name="this_doc_product" content="Amazon Virtual Private Cloud" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'vpc'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="AWS IP address ranges" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS IP address ranges - Amazon Virtual Private Cloud</title><meta name="pdf" content="/pdfs/vpc/latest/userguide/vpc-ug.pdf#aws-ip-ranges" /><meta name="github" content="https://github.com/awsdocs/amazon-vpc-user-guide/tree/master/doc_source/aws-ip-ranges.md" /><meta name="rss" content="amazon-vpc-release-notes.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=58" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/userguide/aws-ip-ranges.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/userguide/aws-ip-ranges.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/userguide/aws-ip-ranges.html" /><meta name="keywords" content="VPC,Amazon VPC,network,route table,internet gateway,subnet,NAT" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon VPC",
        "item" : "https://docs.aws.amazon.com/vpc/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/vpc/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "IP addressing for your VPCs and subnets",
        "item" : "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-ip-addressing.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS IP address ranges",
        "item" : "https://docs.aws.amazon.com/vpc/latest/userguide/vpc-ip-addressing.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/vpc/latest/userguide/vpc-ug.pdf#aws-ip-ranges" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-vpc-user-guide/tree/master/doc_source/aws-ip-ranges.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/vpc/index.html">Amazon VPC</a><a href="what-is-amazon-vpc.html">User Guide</a></div><div id="page-toc-src"><a href="#aws-ip-download">Download</a><a href="#aws-ip-syntax">Syntax</a><a href="#filter-json-file">Filtering the JSON file</a><a href="#aws-ip-egress-control">Implementing egress control</a><a href="#subscribe-notifications">AWS IP address ranges notifications</a><a href="#aws-ip-release-notes">Release notes</a><a href="#aws-ip-learn-more">Learn more</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="aws-ip-ranges">AWS IP address ranges</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>AWS publishes its current IP address ranges in JSON format. With this information, you can
        identify traffic from AWS. You can also allow or deny traffic to or from specific types of
        AWS resources.</p><p>To view the current ranges, download the <code>.json</code> file. To maintain history, 
        save successive versions of the <code>.json</code> file on your system. To determine
        whether there have been changes since the last time that you saved the file, check the
        publication time in the current file and compare it to the publication time in the last file
        that you saved.</p><p>The IP address ranges that you bring to AWS through bring your own IP addresses (BYOIP)
        are not included in the <code>.json</code> file.</p><p>Alternatively, some services publish their address ranges using AWS-managed prefix lists.
        For more information, see <a href="./working-with-aws-managed-prefix-lists.html#available-aws-managed-prefix-lists">Available AWS-managed prefix lists</a>.</p><div class="highlights" id="inline-topiclist"><h6>Contents</h6><ul><li><a href="#aws-ip-download">Download</a></li><li><a href="#aws-ip-syntax">Syntax</a></li><li><a href="#filter-json-file">Filtering the JSON file</a></li><li><a href="#aws-ip-egress-control">Implementing egress control</a></li><li><a href="#subscribe-notifications">AWS IP address ranges notifications</a></li><li><a href="#aws-ip-release-notes">Release notes</a></li><li><a href="#aws-ip-learn-more">Learn more</a></li></ul></div>
        <h2 id="aws-ip-download">Download</h2>

        
        <p>Download <a href="https://ip-ranges.amazonaws.com/ip-ranges.json" rel="noopener noreferrer" target="_blank"><span>ip-ranges.json</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
        <p>If you access this file programmatically, it is your responsibility to ensure that the
            application downloads the file only after successfully verifying the TLS certificate
            presented by the server.</p>

        
     
        <h2 id="aws-ip-syntax">Syntax</h2>

        <p>The syntax of <code>ip-ranges.json</code> is as follows.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "syncToken": "<code class="replaceable">0123456789</code>",
  "createDate": "<code class="replaceable">yyyy</code>-<code class="replaceable">mm</code>-<code class="replaceable">dd</code>-<code class="replaceable">hh</code>-<code class="replaceable">mm</code>-<code class="replaceable">ss</code>",
  "prefixes": [
    <span>{</span>
      "ip_prefix": "<code class="replaceable">cidr</code>",
      "region": "<code class="replaceable">region</code>",
      "network_border_group": "<code class="replaceable">network_border_group</code>",
      "service": "<code class="replaceable">subset</code>"
    }
  ],
  "ipv6_prefixes": [
    <span>{</span>
      "ipv6_prefix": "<code class="replaceable">cidr</code>",
      "region": "<code class="replaceable">region</code>",
      "network_border_group": "<code class="replaceable">network_border_group</code>",
      "service": "<code class="replaceable">subset</code>"
    }
  ]  
}</code></pre>
        <div class="variablelist">
             
             
             
             
             
             
             
             
             
        <dl>
                <dt><b><span class="term">syncToken</span></b></dt>
                <dd>
                    <p>The publication time, in Unix epoch time format.</p>
                    <p>Type: String</p>
                    <p>Example: <code class="code">"syncToken": "1416435608"</code></p>
                </dd>
            
                <dt><b><span class="term">createDate</span></b></dt>
                <dd>
                    <p>The publication date and time, in UTC YY-MM-DD-hh-mm-ss format.</p>
                    <p>Type: String</p>
                    <p>Example: <code class="code">"createDate": "2014-11-19-23-29-02"</code></p>
                </dd>
            
                <dt><b><span class="term">prefixes</span></b></dt>
                <dd>
                    <p>The IP prefixes for the IPv4 address ranges.</p>
                    <p>Type: Array</p>
                </dd>
            
                <dt><b><span class="term">ipv6_prefixes</span></b></dt>
                <dd>
                    <p>The IP prefixes for the IPv6 address ranges.</p>
                    <p>Type: Array</p>
                </dd>
            
                <dt><b><span class="term">ip_prefix</span></b></dt>
                <dd>
                    <p>The public IPv4 address range, in CIDR notation. Note that AWS may
                        advertise a prefix in more specific ranges. For example, prefix
                        96.127.0.0/17 in the file may be advertised as 96.127.0.0/21, 96.127.8.0/21,
                        96.127.32.0/19, and 96.127.64.0/18.</p>
                    <p>Type: String</p>
                    <p>Example: <code class="code">"ip_prefix": "198.51.100.2/24"</code></p>
                </dd>
            
                <dt><b><span class="term">ipv6_prefix</span></b></dt>
                <dd>
                    <p>The public IPv6 address range, in CIDR notation. Note that AWS may
                        advertise a prefix in more specific ranges.</p>
                    <p>Type: String</p>
                    <p>Example: <code class="code">"ipv6_prefix": "2001:db8:1234::/64"</code></p>
                </dd>
            
                <dt><b><span class="term">network_border_group</span></b></dt>
                <dd>
                    <p>The name of the network border group, which is a unique set of Availability
                        Zones or Local Zones from where AWS advertises IP addresses.</p>
                    <p>Type: String</p>
                    <p>Example: <code class="code">"network_border_group": "us-west-2-lax-1"</code></p>
                </dd>
            
                <dt><b><span class="term">region</span></b></dt>
                <dd>
                    <p>The AWS Region or <code class="code">GLOBAL</code> for edge locations. 
                        The <code class="code">CLOUDFRONT</code> and <code class="code">ROUTE53</code> ranges are
                        <code class="code">GLOBAL</code>.</p>
                    <p>Type: String</p>
                    <p>Valid values: <code class="code">af-south-1</code> | <code class="code">ap-east-1</code> | 
                        <code class="code">ap-northeast-1</code> | <code class="code">ap-northeast-2</code> | <code class="code">ap-northeast-3</code> |
                        <code class="code">ap-south-1</code> | <code class="code">ap-south-2</code> | 
                        <code class="code">ap-southeast-1</code> | <code class="code">ap-southeast-2</code> | <code class="code">ap-southeast-3</code> | <code class="code">ap-southeast-4</code> | 
                        <code class="code">ca-central-1</code> | 
                        <code class="code">cn-north-1</code> | <code class="code">cn-northwest-1</code> |
                        <code class="code">eu-central-1</code> | <code class="code">eu-central-2</code> | <code class="code">eu-north-1</code> | 
                        <code class="code">eu-south-1</code> | <code class="code">eu-south-2</code> | 
                        <code class="code">eu-west-1</code> | <code class="code">eu-west-2</code> | <code class="code">eu-west-3</code> | 
                        <code class="code">me-central-1</code> | <code class="code">me-south-1</code> | 
                        <code class="code">sa-east-1</code> | 
                        <code class="code">us-east-1</code> | <code class="code">us-east-2</code> |
                        <code class="code">us-gov-east-1</code> | <code class="code">us-gov-west-1</code> | 
                        <code class="code">us-west-1</code> | <code class="code">us-west-2</code> | 
                        <code class="code">GLOBAL</code></p>
                    <p>Example: <code class="code">"region": "us-east-1"</code></p>
                </dd>
            
                <dt><b><span class="term">service</span></b></dt>
                <dd>
                    <p>The subset of IP address ranges. 
                        The addresses listed for <code class="code">API_GATEWAY</code> are egress only. 
                        Specify <code class="code">AMAZON</code> to get all IP address ranges (meaning 
                        that every subset is also in the <code class="code">AMAZON</code> subset). 
                        However, some IP address ranges are only in the <code class="code">AMAZON</code> 
                        subset (meaning that they are not also available in another subset).</p>
                    <p>Type: String</p>
                    <p>Valid values: <code class="code">AMAZON</code> | <code class="code">AMAZON_APPFLOW</code> | <code class="code">AMAZON_CONNECT</code> | <code class="code">API_GATEWAY</code> | 
                        <code class="code">CHIME_MEETINGS</code> | <code class="code">CHIME_VOICECONNECTOR</code> | <code class="code">CLOUD9</code> | 
                        <code class="code">CLOUDFRONT</code> | <code class="code">CLOUDFRONT_ORIGIN_FACING</code> | <code class="code">CODEBUILD</code> |
                        <code class="code">DYNAMODB</code> | <code class="code">EBS</code> | <code class="code">EC2</code> | <code class="code">EC2_INSTANCE_CONNECT</code> |
                        <code class="code">GLOBALACCELERATOR</code> | <code class="code">KINESIS_VIDEO_STREAMS</code> | <code class="code">MEDIA_PACKAGE_V2</code> | 
                        <code class="code">ROUTE53</code> | <code class="code">ROUTE53_HEALTHCHECKS</code> | <code class="code">ROUTE53_HEALTHCHECKS_PUBLISHING</code> | <code class="code">ROUTE53_RESOLVER</code> | 
                        <code class="code">S3</code> | <code class="code">WORKSPACES_GATEWAYS</code></p>
                    <p>Example: <code class="code">"service": "AMAZON"</code></p>
                </dd>
            </dl></div>
     
        <h2 id="filter-json-file">Filtering the JSON file</h2>

        <p>You can download a command line tool to help you filter the information to just what
            you are looking for.</p>

         
            <h3 id="Get-AWSPublicIpAddressRange-examples">Windows</h3>

            <p>The <a href="https://docs.aws.amazon.com/powershell/latest/userguide/">AWS Tools for Windows PowerShell</a> includes a cmdlet, <code class="code">Get-AWSPublicIpAddressRange</code>, 
                to parse this JSON file. The following examples demonstrate its use. For more information, see <a href="https://aws.amazon.com/blogs/developer/querying-the-public-ip-address-ranges-for-aws/" rel="noopener noreferrer" target="_blank"><span>Querying the Public IP Address Ranges for AWS</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and
                <a href="https://docs.aws.amazon.com/powershell/latest/reference/items/Get-AWSPublicIpAddressRange.html">Get-AWSPublicIpAddressRange</a>.</p>
            <div class="example"><h6>Example 1. Get the creation date</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">Get-AWSPublicIpAddressRange -OutputPublicationDate</code><code class="computeroutput" copy="false">

Wednesday, August 22, 2018 9:22:35 PM</code></code></pre></div></div>
            <div class="example"><h6>Example 2. Get the information for a specific Region</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">Get-AWSPublicIpAddressRange -Region us-east-1</code><code class="computeroutput" copy="false">

IpPrefix        Region      NetworkBorderGroup         Service
--------        ------       -------                   -------
23.20.0.0/14    us-east-1    us-east-1                 AMAZON
50.16.0.0/15    us-east-1    us-east-1                 AMAZON
50.19.0.0/16    us-east-1    us-east-1                 AMAZON
...</code></code></pre></div></div>
            <div class="example"><h6>Example 3. Get all IP addresses</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">(Get-AWSPublicIpAddressRange).IpPrefix</code><code class="computeroutput" copy="false">
23.20.0.0/14
27.0.0.0/22
43.250.192.0/24
...
2406:da00:ff00::/64
2600:1fff:6000::/40
2a01:578:3::/64
2600:9000::/28</code></code></pre></div></div>
            <div class="example"><h6>Example 4. Get all IPv4 addresses</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">Get-AWSPublicIpAddressRange | where <span>{</span>$_.IpAddressFormat -eq "Ipv4"} | select IpPrefix</code><code class="computeroutput" copy="false">

IpPrefix
--------
23.20.0.0/14
27.0.0.0/22
43.250.192.0/24
...</code></code></pre></div></div>
            <div class="example"><h6>Example 5. Get all IPv6 addresses</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">Get-AWSPublicIpAddressRange | where <span>{</span>$_.IpAddressFormat -eq "Ipv6"} | select IpPrefix</code><code class="computeroutput" copy="false">

IpPrefix
--------
2a05:d07c:2000::/40
2a05:d000:8000::/40
2406:dafe:2000::/40
...</code></code></pre></div></div>
            <div class="example"><h6>Example 6. Get all IP addresses for a specific service</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">Get-AWSPublicIpAddressRange -ServiceKey CODEBUILD | select IpPrefix</code><code class="computeroutput" copy="false">

IpPrefix
--------
52.47.73.72/29
13.55.255.216/29
52.15.247.208/29
...</code></code></pre></div></div>
         

         
            <h3 id="jq-examples">Linux</h3>

            <p>The following example commands use <a href="https://stedolan.github.io/jq/" rel="noopener noreferrer" target="_blank"><span>the
                    jq tool</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to parse a local copy of the JSON file.</p>
            <div class="example"><h6>Example 1. Get the creation date</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">jq .createDate &lt; ip-ranges.json</code><code class="computeroutput" copy="false">

"2016-02-18-17-22-15"</code></code></pre></div></div>
            <div class="example"><h6>Example 2. Get the information for a specific Region</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><code class="prompt" copy="false">$ </code><code class="userinput">jq '.prefixes[] | select(.region=="us-east-1")' &lt; ip-ranges.json</code><code class="computeroutput" copy="false">

<span>{</span>
  "ip_prefix": "23.20.0.0/14",
  "region": "us-east-1",
  "network_border_group": "us-east-1",
  "service": "AMAZON"
},
<span>{</span>
  "ip_prefix": "50.16.0.0/15",
  "region": "us-east-1",
  "network_border_group": "us-east-1",
  "service": "AMAZON"
},
<span>{</span>
  "ip_prefix": "50.19.0.0/16",
  "region": "us-east-1",
  "network_border_group": "us-east-1",
  "service": "AMAZON"
},
...</code></code></pre></div></div>
            <div class="example"><h6>Example 3. Get all IPv4 addresses</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">jq -r '.prefixes | .[].ip_prefix' &lt; ip-ranges.json</code><code class="computeroutput" copy="false">

23.20.0.0/14
27.0.0.0/22
43.250.192.0/24
...</code></code></pre></div></div>
            <div class="example"><h6>Example 4. Get all IPv6 addresses</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">jq -r '.ipv6_prefixes | .[].ipv6_prefix' &lt; ip-ranges.json</code><code class="computeroutput" copy="false">

2a05:d07c:2000::/40
2a05:d000:8000::/40
2406:dafe:2000::/40
...</code></code></pre></div></div>
            <div class="example"><h6>Example 5. Get all IPv4 addresses for a specific service</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">jq -r '.prefixes[] | select(.service=="CODEBUILD") | .ip_prefix' &lt; ip-ranges.json</code><code class="computeroutput" copy="false">

52.47.73.72/29
13.55.255.216/29
52.15.247.208/29
...</code></code></pre></div></div>
            <div class="example"><h6>Example 6. Get all IPv4 addresses for a specific service in a specific Region</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">jq -r '.prefixes[] | select(.region=="us-east-1") | select(.service=="CODEBUILD") | .ip_prefix' &lt; ip-ranges.json</code><code class="computeroutput" copy="false">

34.228.4.208/28</code></code></pre></div></div>
            <div class="example"><h6>Example 7. Get information for a certain network border group</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">jq -r '.prefixes[] | select(.region=="us-west-2") | select(.network_border_group=="us-west-2-lax-1") | .ip_prefix' &lt; ip-ranges.json</code><code class="computeroutput" copy="false">
70.224.192.0/18
52.95.230.0/24
15.253.0.0/16
...</code></code></pre></div></div>
         
     
        <h2 id="aws-ip-egress-control">Implementing egress control</h2>

        <p>To allow an instance to access only AWS services, create security groups with rules
            that allow outbound traffic to the CIDR blocks in the <code class="code">AMAZON</code> list, minus
            the CIDR blocks that are also in the <code class="code">EC2</code> list. IP addresses in the
            <code class="code">EC2</code> list can be assigned to EC2 instances.</p>
        <p>There are <a href="./amazon-vpc-limits.html#vpc-limits-security-groups">quotas for security groups</a>.
            Depending on the number of IP address ranges in each Region, you might need multiple
            security groups per Region.</p>

         
            <h3 id="filter-addresses-powershell">Windows PowerShell</h3>

            <p>The following PowerShell example shows you how to get the IP addresses that are in
                the <code class="code">AMAZON</code> list but not the <code class="code">EC2</code> list. Copy the script and 
                save it in a file named <code>Select_address.ps1</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">$amazon_addresses = Get-AWSPublicIpAddressRange -ServiceKey amazon
$ec2_addresses = Get-AWSPublicIpAddressRange -ServiceKey ec2

ForEach ($address in $amazon_addresses)
<span>{</span>
    if( $ec2_addresses.IpPrefix -notcontains $address.IpPrefix)
    <span>{</span>
       ($address).IpPrefix 
    }
}</code></code></pre>
            <p>You can run this script as follows:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">PS C:\&gt; </code><code class="userinput">.\Select_address.ps1</code><code class="computeroutput" copy="false">
13.32.0.0/15
13.35.0.0/16
13.248.0.0/20
13.248.16.0/21
13.248.24.0/22
13.248.28.0/22
27.0.0.0/22
43.250.192.0/24
43.250.193.0/24
...</code></code></pre>
         

         
            <h3 id="filter-addresses-bash-jq">jq</h3>

            <p>The following example shows you how to get the IP addresses that are in the
                    <code class="code">AMAZON</code> list but not the <code class="code">EC2</code> list, for all
                Regions:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">jq -r '[.prefixes[] | select(.service=="AMAZON").ip_prefix] - [.prefixes[] | select(.service=="EC2").ip_prefix] | .[]' &lt; ip-ranges.json</code><code class="computeroutput" copy="false">

52.94.22.0/24
52.94.17.0/24
52.95.154.0/23
52.95.212.0/22
54.239.0.240/28
54.239.54.0/23
52.119.224.0/21
...</code></code></pre>

            <p>The following example shows you how to filter the results to one Region:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">jq -r '[.prefixes[] | select(.region=="us-east-1" and .service=="AMAZON").ip_prefix] - [.prefixes[] | select(.region=="us-east-1" and .service=="EC2").ip_prefix] | .[]' &lt; ip-ranges.json</code></code></pre>
         

         
            <h3 id="filter-addresses-python">Python</h3>

            <p>The following python script shows you how to get the IP addresses that are in
                the <code class="code">AMAZON</code> list but not the <code class="code">EC2</code> list. Copy the script and
                save it in a file named <code>get_ips.py</code>.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">#!/usr/bin/env python
import requests

ip_ranges = requests.get('https://ip-ranges.amazonaws.com/ip-ranges.json').json()['prefixes']
amazon_ips = [item['ip_prefix'] for item in ip_ranges if item["service"] == "AMAZON"]
ec2_ips = [item['ip_prefix'] for item in ip_ranges if item["service"] == "EC2"]

amazon_ips_less_ec2=[]
     
for ip in amazon_ips:
    if ip not in ec2_ips:
        amazon_ips_less_ec2.append(ip)

for ip in amazon_ips_less_ec2: print(str(ip))</code></code></pre>
            <p>You can run this script as follows:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="prompt" copy="false">$ </code><code class="userinput">python ./get_ips.py</code><code class="computeroutput" copy="false">
13.32.0.0/15
13.35.0.0/16
13.248.0.0/20
13.248.16.0/21
13.248.24.0/22
13.248.28.0/22
27.0.0.0/22
43.250.192.0/24
43.250.193.0/24
...</code></code></pre>
         

     
        <h2 id="subscribe-notifications">AWS IP address ranges notifications</h2>

        
        <p>Whenever there is a change to the AWS IP address ranges, we send notifications to
            subscribers of the <code class="code">AmazonIpSpaceChanged</code> topic. The payload contains
            information in the following format:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "create-time":"<code class="replaceable">yyyy</code>-<code class="replaceable">mm</code>-<code class="replaceable">dd</code>T<code class="replaceable">hh</code>:<code class="replaceable">mm</code>:<code class="replaceable">ss</code>+00:00",
  "synctoken":"<code class="replaceable">0123456789</code>",
  "md5":"<code class="replaceable">6a45316e8bc9463c9e926d5d37836d33</code>",
  "url":"https://ip-ranges.amazonaws.com/ip-ranges.json"
}</code></pre>
        
        <div class="variablelist">
             
             
             
             
        <dl>
                <dt><b><span class="term">create-time</span></b></dt>
                <dd>
                    <p>The creation date and time.</p>
                    <p>Notifications could be delivered out of order. Therefore, we recommend
                        that you check the timestamps to ensure the correct order.</p>
                </dd>
            
                <dt><b><span class="term">synctoken</span></b></dt>
                <dd>
                    <p>The publication time, in Unix epoch time format.</p>
                </dd>
            
                <dt><b><span class="term">md5</span></b></dt>
                <dd>
                    <p>The cryptographic hash value of the <code>ip-ranges.json</code>
                        file. You can use this value to check whether the downloaded file is
                        corrupted.</p>
                </dd>
            
                <dt><b><span class="term">url</span></b></dt>
                <dd>
                    <p>The location of the <code>ip-ranges.json</code> file.</p>
                </dd>
            </dl></div>

        <p>If you want to be notified whenever there is a change to the AWS IP address ranges,
            you can subscribe as follows to receive notifications using Amazon SNS.</p>
        <div class="procedure"><h6>To subscribe to AWS IP address range notifications</h6><ol><li><p>Open the Amazon SNS console at
         <a href="https://console.aws.amazon.com/sns/v3/home" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/sns/v3/home</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                <p>In the navigation bar, change the Region to
                        <b>US East (N. Virginia)</b>, if necessary. You must select this
                    Region because the SNS notifications that you are subscribing to were created in
                    this Region.</p>
            </li><li>
                <p>In the navigation pane, choose <b>Subscriptions</b>.</p>
            </li><li>
                <p>Choose <b>Create subscription</b>.</p>
            </li><li>
                <p>In the <b>Create subscription</b> dialog box, do the
                    following:</p>
                <ol><li>
                        <p>For <b>Topic ARN</b>, copy the following Amazon Resource
                            Name (ARN):</p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">arn:aws:sns:us-east-1:806199016981:AmazonIpSpaceChanged</code></pre>
                        
                        
                    </li><li>
                        <p>For <b>Protocol</b>, choose the protocol to use (for
                            example, <code class="code">Email</code>).</p>
                    </li><li>
                        <p>For <b>Endpoint</b>, type the endpoint to receive the
                            notification (for example, your email address).</p>
                    </li><li>
                        <p>Choose <b>Create subscription</b>.</p>
                    </li></ol>
            </li><li>
                <p>You'll be contacted on the endpoint that you specified and asked to confirm
                    your subscription. For example, if you specified an email address, you'll
                    receive an email message with the subject line <code class="code">AWS Notification -
                        Subscription Confirmation</code>. Follow the directions to confirm your
                    subscription.</p>
            </li></ol></div>

        <p>Notifications are subject to the availability of the endpoint. Therefore, you might
            want to check the JSON file periodically to ensure that you've got the latest ranges.
            For more information about Amazon SNS reliability, see <a href="https://aws.amazon.com/sns/faqs/#Reliability" rel="noopener noreferrer" target="_blank"><span>https://aws.amazon.com/sns/faqs/#Reliability</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>

        <p>If you no longer want to receive these notifications, use the following procedure to
            unsubscribe.</p>
        <div class="procedure"><h6>To unsubscribe from AWS IP address ranges notifications</h6><ol><li> <p>Open the Amazon SNS console at
         <a href="https://console.aws.amazon.com/sns/v3/home" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/sns/v3/home</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p> </li><li>
                <p>In the navigation pane, choose <b>Subscriptions</b>.</p>
            </li><li>
                <p>Select the check box for the subscription.</p>
            </li><li>
                <p>Choose <b>Actions</b>, <b>Delete
                    subscriptions</b>.</p>
            </li><li>
                <p>When prompted for confirmation, choose <b>Delete</b>.</p>
            </li></ol></div>

        <p>For more information about Amazon SNS, see the <em><a href="https://docs.aws.amazon.com/sns/latest/dg/">Amazon Simple Notification Service Developer Guide</a></em>.</p>
     
        <h2 id="aws-ip-release-notes">Release notes</h2>

        <p>The following table describes updates to the syntax of <code>ip-ranges.json</code>. 
            We also add new Region codes with each Region launch.</p>
        <div class="table-container"><div class="table-contents"><table id="w284aac11c27c23b5"><thead>
                    <tr>
                        <th>Description</th>
                        <th>Release date</th>
                    </tr>
                </thead>
                    <tr>
                        <td>Added the <code class="code">MEDIA_PACKAGE_V2</code> service code.</td>
                        <td>May 9, 2023</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">CLOUDFRONT_ORIGIN_FACING</code> service code.</td>
                        <td>October 12, 2021</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">ROUTE53_RESOLVER</code> service code.</td>
                        <td>June 24, 2021</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">EBS</code> service code.</td>
                        <td>May 12, 2021</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">KINESIS_VIDEO_STREAMS</code> service code.</td>
                        <td>November 19, 2020</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">CHIME_MEETINGS</code> and <code class="code">CHIME_VOICECONNECTOR</code> service codes.</td>
                        <td>June 19, 2020</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">AMAZON_APPFLOW</code> service code.</td>
                        <td>June 9, 2020</td>
                    </tr>
                    <tr>
                        <td>Add support for the network border group.</td>
                        <td>April 7, 2020</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">WORKSPACES_GATEWAYS</code> service code.</td>
                        <td>March 30, 2020</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">ROUTE53_HEALTHCHECK_PUBLISHING</code> service code.</td>
                        <td>January 30, 2020</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">API_GATEWAY</code> service code.</td>
                        <td>September 26, 2019</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">EC2_INSTANCE_CONNECT</code> service code.</td>
                        <td>June 26, 2019</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">DYNAMODB</code> service code.</td>
                        <td>April 25, 2019</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">GLOBALACCELERATOR</code> service code.</td>
                        <td>December 20, 2018</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">AMAZON_CONNECT</code> service code.</td>
                        <td>June 20, 2018</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">CLOUD9</code> service code.</td>
                        <td>June 20, 2018</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">CODEBUILD</code> service code.</td>
                        <td>April 19, 2018</td>
                    </tr>
                    <tr>
                        <td>Added the <code class="code">S3</code> service code.</td>
                        <td>February 28, 2017</td>
                    </tr>
                    <tr>
                        <td>Added support for IPv6 address ranges.</td>
                        <td>August 22, 2016</td>
                    </tr>
                    <tr>
                        <td>Initial release</td>
                        <td>November 19, 2014</td>
                    </tr>
                </table></div></div>
     
        <h2 id="aws-ip-learn-more">Learn more</h2>
        <div class="itemizedlist">
             
             
             
             
             
             
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p><code class="code">AMAZON_APPFLOW</code> – <a href="https://docs.aws.amazon.com/appflow/latest/userguide/requirements.html#general">IP address ranges</a></p>
            </li><li class="listitem">
                <p><code class="code">AMAZON_CONNECT</code> – <a href="https://docs.aws.amazon.com/connect/latest/adminguide/ccp-networking.html">Set up your network</a></p>
            </li><li class="listitem">
                <p><code class="code">CLOUDFRONT</code> – <a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/LocationsOfEdgeServers.html">Locations and IP address ranges of CloudFront edge servers</a></p>
            </li><li class="listitem">
                <p><code class="code">DYNAMODB</code> – <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Using.IPRanges.html">IP address ranges</a></p>
            </li><li class="listitem">
                <p><code class="code">EC2</code> – <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-instance-addressing.html#concepts-public-addresses">Public IPV4 addresses</a></p>
            </li><li class="listitem">
                <p><code class="code">EC2_INSTANCE_CONNECT</code> – <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-connect-set-up.html">Set up EC2 Instance Connect</a></p>
            </li><li class="listitem">
                <p><code class="code">GLOBALACCELERATOR</code> – <a href="https://docs.aws.amazon.com/global-accelerator/latest/dg/introduction-ip-ranges.html">Location and IP address ranges of Global Accelerator edge servers</a></p>
            </li><li class="listitem">
                <p><code class="code">ROUTE53</code> – <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/route-53-ip-addresses.html">IP address ranges of Amazon Route 53 servers</a></p>
            </li><li class="listitem">
                <p><code class="code">ROUTE53_HEALTHCHECKS</code> – <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/route-53-ip-addresses.html">IP address ranges of Amazon Route 53 servers</a></p>
            </li><li class="listitem">
                <p><code class="code">ROUTE53_HEALTHCHECKS_PUBLISHING</code> – <a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/route-53-ip-addresses.html">IP address ranges of Amazon Route 53 servers</a></p>
            </li><li class="listitem">
                <p><code class="code">WORKSPACES_GATEWAYS</code> – <a href="https://docs.aws.amazon.com/workspaces/latest/adminguide/workspaces-port-requirements.html#gateway_IP">PCoIP gateway servers</a></p>
            </li></ul></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./managed-prefix-lists-referencing.html">Reference prefix lists in your AWS
                resources</div><div id="next" class="next-link" accesskey="n" href="./vpc-migrate-ipv6.html">Migrate from IPv4 to IPv6</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/en_us/vpc/latest/userguide/aws-ip-ranges.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=VPC&amp;topic_url=https://docs.aws.amazon.com/en_us/vpc/latest/userguide/aws-ip-ranges.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>