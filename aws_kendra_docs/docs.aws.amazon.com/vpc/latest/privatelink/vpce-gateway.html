<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Gateway endpoints - Amazon Virtual Private Cloud</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="gateway-endpoints" /><meta name="default_state" content="gateway-endpoints" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/vpc/latest/privatelink/gateway-endpoints.html" /><meta name="description" content="Learn how to use gateway endpoints to connect to Amazon S3 and Amazon DynamoDB." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Virtual Private Cloud" /><meta name="guide" content="AWS PrivateLink" /><meta name="abstract" content="Use AWS PrivateLink to connect your VPC to supported AWS services, services hosted by other AWS accounts, and supported AWS Marketplace partner services." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/vpc/latest/privatelink/gateway-endpoints.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/gateway-endpoints.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/vpc/latest/privatelink/gateway-endpoints.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/privatelink/gateway-endpoints.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/vpc/latest/privatelink/gateway-endpoints.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/gateway-endpoints.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/gateway-endpoints.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/privatelink/gateway-endpoints.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/vpc/latest/privatelink/gateway-endpoints.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/privatelink/gateway-endpoints.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/vpc/latest/privatelink/gateway-endpoints.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/gateway-endpoints.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/vpc/latest/privatelink/gateway-endpoints.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/privatelink/gateway-endpoints.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/vpc/latest/privatelink/gateway-endpoints.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/privatelink/gateway-endpoints.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/vpc/latest/privatelink/gateway-endpoints.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/privatelink/gateway-endpoints.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/vpc/latest/privatelink/gateway-endpoints.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/vpc/latest/privatelink/gateway-endpoints.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/vpc/latest/privatelink/gateway-endpoints.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/vpc/latest/privatelink/gateway-endpoints.html" hreflang="x-default" /><meta name="feedback-item" content="PrivateLink" /><meta name="this_doc_product" content="Amazon Virtual Private Cloud" /><meta name="this_doc_guide" content="AWS PrivateLink" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'vpc'}"></script><meta id="panorama-serviceSubSection" value="AWS PrivateLink" /><meta id="panorama-serviceConsolePage" value="Gateway endpoints" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Gateway endpoints - Amazon Virtual Private Cloud</title><meta name="pdf" content="/pdfs/vpc/latest/privatelink/aws-privatelink.pdf#gateway-endpoints" /><meta name="rss" content="privatelink-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=58" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/privatelink/gateway-endpoints.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/privatelink/gateway-endpoints.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/vpc/latest/privatelink/gateway-endpoints.html" /><meta name="keywords" content="VPC,Amazon VPC,PrivateLink" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon VPC",
        "item" : "https://docs.aws.amazon.com/vpc/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "AWS PrivateLink",
        "item" : "https://docs.aws.amazon.com/vpc/latest/privatelink"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Access AWS services through AWS PrivateLink",
        "item" : "https://docs.aws.amazon.com/vpc/latest/privatelink/privatelink-access-aws-services.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Gateway endpoints",
        "item" : "https://docs.aws.amazon.com/vpc/latest/privatelink/privatelink-access-aws-services.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/vpc/latest/privatelink/aws-privatelink.pdf#gateway-endpoints" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/vpc/index.html">Amazon VPC</a><a href="what-is-privatelink.html">AWS PrivateLink</a></div><div id="page-toc-src"><a href="#gateway-endpoint-overview">Overview</a><a href="#gateway-endpoint-routing">Routing</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="gateway-endpoints">Gateway endpoints</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Gateway VPC endpoints provide reliable connectivity to Amazon S3 and DynamoDB without requiring an
    internet gateway or a NAT device for your VPC. Gateway endpoints do not use AWS PrivateLink,
    unlike other types of VPC endpoints.</p><p>There is no additional charge for using gateway endpoints.</p><p>Amazon S3 supports both gateway endpoints and interface endpoints. For a comparison of the two options, 
    see <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/privatelink-interface-endpoints.html#types-of-vpc-endpoints-for-s3">Types of VPC endpoints for Amazon S3</a> in the <em>Amazon S3 User Guide</em>.</p><div class="highlights"><h6>Contents</h6><ul><li><a href="#gateway-endpoint-overview">Overview</a></li><li><a href="#gateway-endpoint-routing">Routing</a></li><li><a href="./vpc-endpoints-s3.html">Gateway endpoints for Amazon S3</a></li><li><a href="./vpc-endpoints-ddb.html">Gateway endpoints for Amazon DynamoDB</a></li></ul></div>
    <h2 id="gateway-endpoint-overview">Overview</h2>
    <p>You can access Amazon S3 and DynamoDB through their public service endpoints or through 
      gateway endpoints. This overview compares these methods.</p>
     
      <h6>Access through an internet gateway</h6>
      <p>The following diagram shows how instances access Amazon S3 and DynamoDB through their public
        service endpoints. Traffic to Amazon S3 or DynamoDB from an instance in a public subnet is routed to
        the internet gateway for the VPC and then to the service. Instances in a private subnet
        can't send traffic to Amazon S3 or DynamoDB, because by definition private subnets do not have
        routes to an internet gateway. To enable instances in the private subnet to send traffic to
        Amazon S3 or DynamoDB, you would add a NAT device to the public subnet and route traffic in the
        private subnet to the NAT device. While traffic to Amazon S3 or DynamoDB traverses the internet
        gateway, it does not leave the AWS network.</p>
     
    <div class="mediaobject">
       
        <img src="/images/vpc/latest/privatelink/images/without-gateway-endpoints.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;        By default, traffic from your VPC to Amazon S3 or DynamoDB is routed through an internet &#xA;          gateway, but does not leave the AWS network.&#xA;      " />
       
       
    </div>
     
      <h6>Access through a gateway endpoint</h6>
      <p>The following diagram shows how instances access Amazon S3 and DynamoDB through a gateway
        endpoint. Traffic from your VPC to Amazon S3 or DynamoDB is routed to the gateway endpoint. Each
        subnet route table must have a route that sends traffic destined for the service to the
        gateway endpoint using the prefix list for the service.</p>
     
    <div class="mediaobject">
       
        <img src="/images/vpc/latest/privatelink/images/gateway-endpoints.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;        With gateway endpoints, traffic from your VPC to Amazon S3 or DynamoDB is routed to&#xA;          the gateway endpoint.&#xA;      " />
       
       
    </div>
   
    <h2 id="gateway-endpoint-routing">Routing</h2>
    <p>When you create a gateway endpoint, you select the VPC route tables for the subnets
      that you enable. The following route is automatically added to each route table that you
      select. The destination is a prefix list for the service owned by AWS and the target 
      is the gateway endpoint.</p>
    <div class="table-container"><div class="table-contents"><table id="w227aab9c31c13b5"><thead>
          <tr>
            <th>Destination</th>
            <th>Target</th>
          </tr>
        </thead>
          <tr>
            <td><code class="replaceable">prefix_list_id</code></td>
            <td><code class="replaceable">gateway_endpoint_id</code></td>
          </tr>
        </table></div></div>
    <div class="itemizedlist">
      <h6>Considerations</h6>
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>You can review the endpoint routes that we add to your route table, but you
          cannot modify or delete them. To add an endpoint route to a route table, associate 
          it with the gateway endpoint. We delete the endpoint route when you disassociate 
          the route table from the gateway endpoint or when you delete the gateway endpoint.</p>
      </li><li class="listitem">
        <p>All instances in the subnets associated with a route table associated with
          a gateway endpoint automatically use the gateway endpoint to access the service. 
          Instances in subnets that aren't associated with these route tables use the public 
          service endpoint, not the gateway endpoint.</p>
      </li><li class="listitem">
        <p>A route table can have both an endpoint route to Amazon S3 and an endpoint route 
          to DynamoDB. You can have endpoint routes to the same service (Amazon S3 or DynamoDB) in 
          multiple route tables. You can't have multiple endpoint routes to the same 
          service (Amazon S3 or DynamoDB) in a single route table.</p>
      </li><li class="listitem">
        <p>We use the most specific route that matches the traffic to determine how to 
          route the traffic (longest prefix match). For route tables with an endpoint route,
          this means the following:</p>
        <div class="itemizedlist">
           
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>If there is a route that sends all internet traffic (0.0.0.0/0) to an 
              internet gateway, the endpoint route takes precedence for traffic destined for 
              the service (Amazon S3 or DynamoDB) in the current Region. Traffic destined for a
              different AWS service uses the internet gateway.</p>
          </li><li class="listitem">
            <p>Traffic that's destined for the service (Amazon S3 or DynamoDB) in a different Region 
              goes to the internet gateway because prefix lists are specific to a Region.</p>
          </li><li class="listitem">
            <p>If there is a route that specifies the exact IP address range for the service 
              (Amazon S3 or DynamoDB) in the same Region, that route takes precedence over the endpoint 
              route.</p>
          </li></ul></div>
      </li></ul></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./delete-interface-endpoint.html">Delete an interface endpoint</div><div id="next" class="next-link" accesskey="n" href="./vpc-endpoints-s3.html">Endpoints for Amazon S3</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=https://docs.aws.amazon.com/en_us/vpc/latest/privatelink/gateway-endpoints.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=PrivateLink&amp;topic_url=https://docs.aws.amazon.com/en_us/vpc/latest/privatelink/gateway-endpoints.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>