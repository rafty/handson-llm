<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Controlling access with security groups - Amazon Relational Database Service</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="Overview.RDSSecurityGroups" /><meta name="default_state" content="Overview.RDSSecurityGroups" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" /><meta name="description" content="Control the access the traffic in and out of a DB instance with security groups." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Relational Database Service" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Amazon Web Services (AWS) documentation to help you set up, operate, and scale a relational database in the AWS Cloud using Amazon Relational Database Service (Amazon RDS). You can create DB instances that run Amazon Aurora, MariaDB, Microsoft SQL Server, MySQL, Oracle, and PostgreSQL." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" hreflang="x-default" /><meta name="feedback-item" content="RDS" /><meta name="this_doc_product" content="Amazon Relational Database Service" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'rds'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Controlling access with security groups" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Controlling access with security groups - Amazon Relational Database Service</title><meta name="pdf" content="/pdfs/AmazonRDS/latest/UserGuide/rds-ug.pdf#Overview.RDSSecurityGroups" /><meta name="github" content="https://github.com/awsdocs/amazon-rds-user-guide/tree/main/doc_source/Overview.RDSSecurityGroups.md" /><meta name="rss" content="rdsupdates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=60" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=RDS&amp;topic_url=http://docs.aws.amazon.com/en_us/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html" /><meta name="keywords" content="Amazon Relational Database Service,RDS,DB Instance" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon RDS",
        "item" : "https://docs.aws.amazon.com/rds/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Amazon RDS",
        "item" : "https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Controlling access with security groups",
        "item" : "https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/UsingWithRDS.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AmazonRDS/latest/UserGuide/rds-ug.pdf#Overview.RDSSecurityGroups" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/amazon-rds-user-guide/tree/main/doc_source/Overview.RDSSecurityGroups.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/rds/index.html">Amazon RDS</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#Overview.RDSSecurityGroups.VPCSec">Overview of VPC security groups</a><a href="#Overview.RDSSecurityGroups.Scenarios">Security group scenario</a><a href="#Overview.RDSSecurityGroups.Create">Creating a VPC security group</a><a href="#Overview.RDSSecurityGroups.Associate">Associating with a DB instance</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="Overview.RDSSecurityGroups">Controlling access with security groups</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>VPC security groups control the access that traffic has in and out of a DB 
            <span>instance</span>. 
            By default, network access is turned off for a DB <span>instance</span>. 
            You can specify rules in a security group that allow access from an IP address range, port, or security group. 
            After ingress rules are configured, the same rules apply to all DB 
            <span>instances</span> 
            that are associated with that security group. You can specify up to 20 rules in a security group.</p>
            <h2 id="Overview.RDSSecurityGroups.VPCSec">Overview of VPC security groups</h2>
            
            
            <p>Each VPC security group rule makes it possible for a specific source to access a
                DB <span>instance</span> in a VPC that is associated with that VPC security group. The
                source can be a range of addresses (for example, 203.0.113.0/24), or another VPC
                security group. By specifying a VPC security group as the source, you allow incoming
                traffic from all instances (typically application servers) that use the source VPC
                security group. VPC security groups can have rules that govern both inbound and
                outbound traffic. However, the outbound traffic rules typically don't apply to DB
                    <span>instances</span>. Outbound traffic rules apply only if the DB <span>instance</span> acts as a client. <span>For example,
                    outbound traffic rules apply to an Oracle DB instance with outbound database
                    links.</span> You must use the <a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/Welcome.html">Amazon EC2
                    API</a> or the <b>Security Group</b> option on the VPC console
                to create VPC security groups. </p>
            <p>When you create rules for your VPC security group that allow access to the <span>instances</span> in your VPC, you must specify a port for each range of
                addresses that the rule allows access for. For example, if you want to turn on
                Secure Shell (SSH) access for instances in the VPC, create a rule allowing access to
                TCP port 22 for the specified range of addresses.</p>
            <p>You can configure multiple VPC security groups that allow access to different
                ports for different instances in your VPC. For example, you can create a VPC
                security group that allows access to TCP port 80 for web servers in your VPC. You
                can then create another VPC security group that allows access to TCP port 3306 for
                <span>RDS for MySQL</span> 
                DB instances in your VPC.</p>
            
            
            <p>For more information on VPC security groups, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html">Security groups</a> 
                in the <em>Amazon Virtual Private Cloud User Guide</em>.
            </p>
            
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If your DB <span>instance</span> is 
                    in a VPC but isn't publicly accessible, you can also use an AWS Site-to-Site VPN connection or 
                    an AWS Direct Connect connection to access it from a private network. For more information, see  
                    <a href="./inter-network-traffic-privacy.html">Internetwork traffic privacy</a>.</p></div></div>	
            
         
            <h2 id="Overview.RDSSecurityGroups.Scenarios">Security group scenario</h2>
            
            
            <p>A common use of a DB <span>instance</span> 
                in a VPC is to share data with an application
                server running in an Amazon EC2 instance in the same VPC, which is accessed by a client
                application outside the VPC. For this scenario, you use the RDS and VPC pages on the
                AWS Management Console or the RDS and EC2 API operations to create the necessary instances and
                security groups: </p>
            <div class="orderedlist">
                 
                 
                 
                 
            <ol><li><p>Create a VPC security group (for example, <code class="code">sg-0123ec2example</code>) and define inbound rules
                        that use the IP addresses of the client application as the source. This
                        security group allows your client application to connect to EC2 instances in
                        a VPC that uses this security group.</p></li><li><p>Create an EC2 instance for the application and add the EC2 instance to the VPC security group
                            (<code class="code">sg-0123ec2example</code>) that you created in the previous step.</p></li><li><p>Create a second VPC security group (for example, <code class="code">sg-6789rdsexample</code>) and create a new rule
                        by specifying the VPC security group that you created in step 1
                            (<code class="code">sg-0123ec2example</code>) as the source.</p></li><li><p>Create a new DB <span>instance</span> 
                    and add the DB <span>instance</span> 
                    to the VPC security group (<code class="code">sg-6789rdsexample</code>) that you created in the previous step. When you
                    create the DB <span>instance</span>, 
                    use the same port number as the one specified for the VPC security group (<code class="code">sg-6789rdsexample</code>) 
                    rule that you created in step 3.</p></li></ol></div>
            <p>The following diagram shows this scenario.</p>
            <div class="mediaobject">
                
                 
                    <img src="/images/AmazonRDS/latest/UserGuide/images/con-VPC-sec-grp.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;                    DB instance &#xA;                        and EC2 instance in a VPC&#xA;                " />
                 
                
                
                 
            </div>
            <p>For detailed instructions about configuring a VPC for this scenario, see  
                <a href="./CHAP_Tutorials.WebServerDB.CreateVPC.html">Tutorial: Create a VPC for use with a
            DB instance (IPv4 only)</a>. 
                For more information about using a VPC, see <a href="./USER_VPC.html">Amazon VPC VPCs and Amazon RDS</a>.</p>
        <h2 id="Overview.RDSSecurityGroups.Create">Creating a VPC security group</h2>
            
            
            <p>You can create a VPC security group for a DB instance by using the 
                VPC console. For information about creating a security group, see <a href="./CHAP_SettingUp.html#CHAP_SettingUp.SecurityGroup">Provide access to your DB instance in your VPC by
				creating a security group</a> and <a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html">Security groups</a> 
                in the <em>Amazon Virtual Private Cloud User Guide</em>.</p>  
            
            
               
            
         
            <h2 id="Overview.RDSSecurityGroups.Associate">Associating a security group with a DB instance</h2>
            
            <p>You can associate a security group with a DB instance by using
                    <b>Modify</b> on the RDS console, the
                    <code class="code">ModifyDBInstance</code> Amazon RDS API, or the 
                <code class="code">modify-db-instance</code> AWS CLI command.</p>    
            
            <p> For information about modifying a DB
                instance, see <a href="./Overview.DBInstance.Modifying.html">Modifying an Amazon RDS DB instance</a>. For security group considerations
                when you restore a DB instance from a DB snapshot, see <a href="./USER_RestoreFromSnapshot.html#USER_RestoreFromSnapshot.Security">Security group considerations</a>.</p>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The RDS console displays different security group rule names for your database 
                if the Port value is configured to a non-default value.</p></div></div>
            
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./CHAP_BestPractices.Security.html">Security best practices</div><div id="next" class="next-link" accesskey="n" href="./UsingWithRDS.MasterAccounts.html">Master user account privileges</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=RDS&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=RDS&amp;topic_url=https://docs.aws.amazon.com/en_us/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>