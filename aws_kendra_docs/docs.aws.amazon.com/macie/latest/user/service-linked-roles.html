<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Service-linked roles for Amazon Macie - Amazon Macie</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="service-linked-roles" /><meta name="default_state" content="service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/macie/latest/user/service-linked-roles.html" /><meta name="description" content="Learn how to use service-linked roles to give Amazon Macie access to resources in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Macie" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Amazon Macie is a fully managed data security and data privacy service. Macie uses machine learning and pattern matching to help you discover, monitor, and protect your sensitive data in Amazon S3." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/macie/latest/user/service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/macie/latest/user/service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/macie/latest/user/service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/macie/latest/user/service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/macie/latest/user/service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/macie/latest/user/service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/macie/latest/user/service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/macie/latest/user/service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/macie/latest/user/service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/macie/latest/user/service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/macie/latest/user/service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/macie/latest/user/service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/macie/latest/user/service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/macie/latest/user/service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/macie/latest/user/service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/macie/latest/user/service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/macie/latest/user/service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/macie/latest/user/service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/macie/latest/user/service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/macie/latest/user/service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/macie/latest/user/service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/macie/latest/user/service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="Macie" /><meta name="this_doc_product" content="Amazon Macie" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'macie'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Service-linked roles for Amazon Macie" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Service-linked roles for Amazon Macie - Amazon Macie</title><meta name="pdf" content="/pdfs/macie/latest/user/macie-user-guide.pdf#service-linked-roles" /><meta name="rss" content="macie-user-guide.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=258" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Macie&amp;topic_url=http://docs.aws.amazon.com/en_us/macie/latest/user/service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/macie/latest/user/service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/macie/latest/user/service-linked-roles.html" /><meta name="keywords" content="Macie access,Macie authZ,Macie authorization,Macie IAM,Macie permissions,Macie perms,Macie role,Macie service role,Macie SLR" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Macie",
        "item" : "https://docs.aws.amazon.com/macie/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/macie/latest/user"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Amazon Macie",
        "item" : "https://docs.aws.amazon.com/macie/latest/user/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and access management for Amazon Macie",
        "item" : "https://docs.aws.amazon.com/macie/latest/user/security-iam.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Service-linked roles for Amazon Macie",
        "item" : "https://docs.aws.amazon.com/macie/latest/user/security-iam.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/macie/latest/user/macie-user-guide.pdf#service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/macie/index.html">Macie</a><a href="what-is-macie.html">User Guide</a></div><div id="page-toc-src"><a href="#slr-permissions">Service-linked role permissions for Macie</a><a href="#create-slr">Creating the Macie service-linked role</a><a href="#edit-slr">Editing the Macie service-linked role</a><a href="#delete-slr">Deleting the Macie service-linked role</a><a href="#slr-regions">Supported AWS Regions</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="service-linked-roles">Service-linked roles for Amazon Macie</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Amazon Macie uses an AWS Identity and Access Management (IAM) <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">service-linked role</a> named <code class="code">AWSServiceRoleForAmazonMacie</code>. This
        service-linked role is an IAM role that's linked directly to Macie. It's predefined by
        Macie and it includes all the permissions that Macie requires to call other AWS services
        and monitor AWS resources on your behalf. Macie uses this service-linked role in all the
        AWS Regions where Macie is available.</p><p>A service-linked role makes setting up Macie easier because you don't have to manually add
		the necessary permissions. Macie defines the permissions of this service-linked role, and
		unless defined otherwise, only Macie can assume the role. The defined permissions include the
		trust policy and the permissions policy, and that permissions policy can't be attached to any
		other IAM entity.</p><p>You must configure permissions to allow an IAM entity (such as a user or role) to create,
        edit, or delete a service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions">Service-linked role permissions</a> in the <em>IAM User Guide</em>.
        You can delete a service-linked role only after you delete its related resources. This
        protects your resources because you can't inadvertently remove permission to access the
        resources.</p><p>For information about other services that support service-linked roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS services
            that work with IAM</a> and look for the services that have <b>Yes</b> in the <b>Service-linked roles</b> column.
        Choose a <b>Yes</b> with a link to review the service-linked role
        documentation for that service.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#slr-permissions">Service-linked role permissions for Macie</a></li><li><a href="#create-slr">Creating the Macie service-linked role</a></li><li><a href="#edit-slr">Editing the Macie service-linked role</a></li><li><a href="#delete-slr">Deleting the Macie service-linked role</a></li><li><a href="#slr-regions">Supported AWS Regions</a></li></ul></div>
        <h2 id="slr-permissions">Service-linked role permissions for Amazon Macie</h2>
        <p>Amazon Macie uses the service-linked role named
            <code class="code">AWSServiceRoleForAmazonMacie</code>. This service-linked role trusts the
                <code class="code">macie.amazonaws.com</code> service to assume the role.</p>
        <p>The permissions policy for the role, which is named
                <code class="code">AmazonMacieServiceRolePolicy</code>, allows Macie to perform tasks such as the
            following on the specified resources:</p>
        <div class="itemizedlist">
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Use Amazon S3 actions to retrieve information about S3 buckets and objects.</p>
            </li><li class="listitem">
                <p>Use Amazon S3 actions to retrieve S3 objects.</p>
            </li><li class="listitem">
                <p>Use AWS Organizations actions to retrieve information about associated accounts.</p>
            </li><li class="listitem">
                <p>Use Amazon CloudWatch Logs actions to log events for sensitive data discovery jobs.</p>
            </li></ul></div>
        <p>The role is configured with the following permissions policy.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "iam:ListAccountAliases",
        "organizations:DescribeAccount",
        "organizations:ListAccounts",
        "s3:GetAccountPublicAccessBlock",
        "s3:ListAllMyBuckets",
        "s3:GetBucketAcl",
        "s3:GetBucketLocation",
        "s3:GetBucketLogging",
        "s3:GetBucketPolicy",
        "s3:GetBucketPolicyStatus",
        "s3:GetBucketPublicAccessBlock",
        "s3:GetBucketTagging",
        "s3:GetBucketVersioning",
        "s3:GetBucketWebsite",
        "s3:GetEncryptionConfiguration",
        "s3:GetLifecycleConfiguration",
        "s3:GetReplicationConfiguration",
        "s3:ListBucket",
        "s3:GetObject",
        "s3:GetObjectAcl",
        "s3:GetObjectTagging"
      ],
      "Resource": "*"
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "logs:CreateLogGroup"
      ],
      "Resource": [
        "arn:aws:logs:*:*:log-group:/aws/macie/*"
      ]
    },
    <span>{</span>
      "Effect": "Allow",
      "Action": [
        "logs:CreateLogStream",
        "logs:PutLogEvents",
        "logs:DescribeLogStreams"
      ],
      "Resource": [
        "arn:aws:logs:*:*:log-group:/aws/macie/*:log-stream:*"
      ]
    }
  ]
}</code></pre>
        <p>For details about updates to the <code class="code">AmazonMacieServiceRolePolicy</code> policy, see
                <a href="./security-iam-awsmanpol.html#security-iam-awsmanpol-updates">Amazon Macie updates to AWS managed
            policies</a>.</p>
        <p>You must configure permissions to allow an IAM entity (such as a user or role) to
            create, edit, or delete a service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions">Service-linked role permissions</a> in the
                <em>IAM User Guide</em>.</p>
     
		<h2 id="create-slr">Creating the service-linked role for Amazon Macie</h2>
		<p>You don't need to manually create the <code class="code">AWSServiceRoleForAmazonMacie</code>
            service-linked role for Amazon Macie. When you enable Macie for your AWS account, Macie
            automatically creates the service-linked role for you.</p>
		 <p>If you delete the Macie service-linked role and then need to create it again, you can use
			the same process to re-create the role in your account. When you enable Macie again, Macie
			creates the service-linked role again for you.</p>
	 
		<h2 id="edit-slr">Editing the service-linked role for Amazon Macie</h2>
		<p>Amazon Macie doesn't allow you to edit the <code class="code">AWSServiceRoleForAmazonMacie</code>
            service-linked role. After a service-linked role is created, you can't change the name
            of the role because various entities might reference the role. However, you can edit the
            description of the role using IAM. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#edit-service-linked-role">Editing a service-linked role</a> in the
            <em>IAM User Guide</em>.</p>
	 
		<h2 id="delete-slr">Deleting the service-linked role for Amazon Macie</h2>
		<p>If you no longer need to use Amazon Macie, we recommend that you manually delete the
                <code class="code">AWSServiceRoleForAmazonMacie</code> service-linked role. When you disable
            Macie, Macie doesn't delete the role for you.</p>
		<p>Before you delete the role, you must disable Macie in each AWS Region where you
			enabled it. You must also manually clean up the resources for the role. To delete the role,
			you can use the IAM console, the AWS CLI, or the AWS API. For more information, see
				<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role">Deleting a service-linked role</a> in the
			<em>IAM User Guide</em>.</p>
		<div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If Macie is using the <code class="code">AWSServiceRoleForAmazonMacie</code> role when you try to
                delete the resources, the deletion might fail. If that happens, wait a few minutes
                and then try the operation again.</p></div></div>
		<p>If you delete the <code class="code">AWSServiceRoleForAmazonMacie</code> service-linked role and need to
            create it again, you can create it again by enabling Macie for your account. When you
            enable Macie again, Macie creates the service-linked role again for you.</p>
	 
    <h2 id="slr-regions">Supported AWS Regions for the Amazon Macie service-linked role</h2>
	 	<p>Amazon Macie supports using the <code class="code">AWSServiceRoleForAmazonMacie</code> service-linked role
            in all the AWS Regions where Macie is available. For a list of Regions where Macie is
            currently available, see <a href="https://docs.aws.amazon.com/general/latest/gr/macie.html">Amazon Macie endpoints and
                quotas</a> in the <em>AWS General Reference</em>.</p>
	 <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security_iam_id-based-policy-examples.html">Identity-based policy examples</div><div id="next" class="next-link" accesskey="n" href="./security-iam-awsmanpol.html">AWS managed policies</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Macie&amp;topic_url=https://docs.aws.amazon.com/en_us/macie/latest/user/service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Macie&amp;topic_url=https://docs.aws.amazon.com/en_us/macie/latest/user/service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>