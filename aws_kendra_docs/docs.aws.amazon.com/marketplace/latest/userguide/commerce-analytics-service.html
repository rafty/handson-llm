<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS Marketplace Commerce Analytics Service - AWS Marketplace</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="commerce-analytics-service" /><meta name="default_state" content="commerce-analytics-service" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/marketplace/latest/userguide/commerce-analytics-service.html" /><meta name="description" content="Use the AWS Marketplace Commerce Analytics Service to programmatically access product and customer data." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Marketplace" /><meta name="guide" content="Seller Guide" /><meta name="abstract" content="Describes how to use AWS Marketplace to list your products that run on Amazon Web Services products and services." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/marketplace/latest/userguide/commerce-analytics-service.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/marketplace/latest/userguide/commerce-analytics-service.html" hreflang="x-default" /><meta name="feedback-item" content="Marketplace" /><meta name="this_doc_product" content="AWS Marketplace" /><meta name="this_doc_guide" content="Seller Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'marketplace'}"></script><meta id="panorama-serviceSubSection" value="Seller Guide" /><meta id="panorama-serviceConsolePage" value="AWS Marketplace Commerce Analytics Service" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS Marketplace Commerce Analytics Service - AWS Marketplace</title><meta name="pdf" content="/pdfs/marketplace/latest/userguide/aws-marketplace-ug.pdf#commerce-analytics-service" /><meta name="github" content="https://github.com/awsdocs/aws-marketplace-user-guide-for-sellers/tree/master/doc_source/commerce-analytics-service.md" /><meta name="rss" content="document-history.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=337" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Marketplace&amp;topic_url=http://docs.aws.amazon.com/en_us/marketplace/latest/userguide/commerce-analytics-service.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/marketplace/latest/userguide/commerce-analytics-service.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/marketplace/latest/userguide/commerce-analytics-service.html" /><meta name="keywords" content="AWS Marketplace,seller guide,SaaS,server,AMI,CloudFormation,Marketplace sellers,Commerce analytics" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Marketplace",
        "item" : "https://docs.aws.amazon.com/marketplace/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Seller Guide",
        "item" : "https://docs.aws.amazon.com/marketplace/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Getting started as a seller",
        "item" : "https://docs.aws.amazon.com/marketplace/latest/userguide/user-guide-for-sellers.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Seller toolkit",
        "item" : "https://docs.aws.amazon.com/marketplace/latest/userguide/additional-seller-tools.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "AWS Marketplace Commerce Analytics Service",
        "item" : "https://docs.aws.amazon.com/marketplace/latest/userguide/additional-seller-tools.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/marketplace/latest/userguide/aws-marketplace-ug.pdf#commerce-analytics-service" target="_blank" rel="noopener noreferrer" title="Open PDF"></a><a href="https://github.com/awsdocs/aws-marketplace-user-guide-for-sellers/tree/master/doc_source/commerce-analytics-service.md" target="_blank" rel="noopener noreferrer" title="Edit this page on GitHub"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/marketplace/index.html">AWS Marketplace</a><a href="what-is-marketplace.html">Seller Guide</a></div><div id="page-toc-src"><a href="#terms-and-conditions">Terms and conditions</a><a href="#on-boarding-guide">Onboarding guide</a><a href="#technical-implementation-guide">Technical implementation guide</a><a href="#technical-documentation">Technical documentation</a><a href="#troubleshooting">Troubleshooting</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="commerce-analytics-service">AWS Marketplace Commerce Analytics Service</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The AWS Marketplace Commerce Analytics Service lets you programmatically access product and customer data through
    AWS Marketplace. After you enroll in the service, you can access your usage, subscription, and billing
    reports through the AWS SDK.</p><p>
    <span class="inlinemediaobject">
       
        <img src="/images/marketplace/latest/userguide/images/commerce-analytics-service-overview.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" alt="&#xA;        Commerce Analytics Service Overview.&#xA;      " style="max-width:100%" />
       
       
    </span>
  </p><p> The data you request using the SDK tools is delivered to your AWS account as datasets.
    Most of the datasets correspond to the same data as the text-based reports available on the
      <a href="https://aws.amazon.com/marketplace/management/tour" rel="noopener noreferrer" target="_blank"><span>AWS Marketplace Management Portal</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. You can
    request datasets for a specific date, and the data is delivered to the provided Amazon S3 bucket.
    Notification of data delivery is provided by the Amazon Simple Notification Service (Amazon SNS). </p>
    <h2 id="terms-and-conditions">Terms and conditions</h2>
    <p> These AWS Marketplace Commerce Analytics Service Terms and Conditions (these "<strong>CAS
        Terms</strong>”) contain the terms and conditions specific to your use of and access to
      the AWS Marketplace Commerce Analytics Service ("<strong>CA Service</strong>”) and are effective as of
      the date you click an "I Accept” button or check box presented with these CAS Terms or, if
      earlier, when you use any CA Service offerings. These CAS Terms are an addendum to the Terms
      and Conditions for AWS Marketplace Sellers (the "<strong>AWS Marketplace Seller
        Terms</strong>”) between you and Amazon Web Services, Inc. ("<strong>AWS</strong>,” "<strong>we</strong>,” "<strong>us</strong>” or "<strong>our</strong>”), the terms of which are hereby
      incorporated herein. In the event of a conflict between these CAS Terms and the AWS Marketplace
      Seller Terms, the terms and conditions of these CAS Terms apply, but only to the extent of
      such conflict and solely with respect to your use of the CA Service. Capitalized terms used
      herein but not defined herein shall have the meanings set forth in the AWS Marketplace Seller Terms. </p>
    <div class="procedure"><ol><li>
        <p>
          <strong>CA Services and CAS Data.</strong> To qualify for access to the
          CA Service, you must be an AWS Marketplace Seller bound by existing AWS Marketplace Seller Terms.
          Information and data you receive or have access to in connection with the CA Service
            ("<strong>CAS Data</strong>”) constitutes Subscriber Information and
          is subject to the restrictions and obligations set forth in the AWS Marketplace Seller Terms.
          You may use CAS Data on a confidential basis to improve and target marketing and other
          promotional activities related to Your AWS Marketplace Content provided that you do not (a)
          disclose CAS Data to any third party; (b) use any CAS Data in any way inconsistent with
          applicable privacy policies or law; (c) contact a subscriber to influence them to make an
          alternative purchase outside of the AWS Marketplace; (d) disparage us, our affiliates, or any of
          their or our respective products; or (e) target communications of any kind on the basis of
          the intended recipient being an AWS Marketplace subscriber. </p>
      </li><li>
        <p>
          <strong>CA Service Limitations and Security.</strong> You will only
          access (or attempt to access) the CA Service by the means described in the CA Service
          documentation. You will not misrepresent or mask your identity or your client's identity
          when using the CA Service. We reserve the right, in our sole discretion, to set and
          enforce limits on your use of the CA Service, including, without limitation, with respect
          to the number of connections, calls and servers permitted to access the CA Service during
          any period of time. You agree to, and will not attempt to circumvent such limitations. We
          reserve the right to restrict, suspend or terminate your right to access the CA Service if
          we believe that you may be in breach of these CAS Terms or are misusing the CA Service.
        </p>
      </li><li>
        <p>
          <strong>CA Service Credential Confidentiality and Security.</strong> CA
          Service credentials (such as passwords, keys and client IDs) are intended to be used by
          you to identify your API client. You are solely responsible for keeping your credentials
          confidential and will take all reasonable measures to avoid disclosure, dissemination or
          unauthorized use of such credentials, including, at a minimum, those measures you take to
          protect your own confidential information of a similar nature. CA Service credentials may
          not be embedded on open source projects. You are solely responsible for any and all access
          to the CA Service with your credentials. </p>
      </li><li>
        <p>
          <strong>Modification.</strong> We may modify these CAS Terms at any time
          by posting a revised version on the AWS Site or providing you with notice in accordance
          with the AWS Marketplace Seller Terms. The modified terms will become effective upon posting or,
          if we notify you by email, as stated in the email message. By continuing use or access the
          CA Service after the effective date of any modifications to these CAS Terms, you agree to
          be bound by the modified terms. </p>
      </li><li>
        <p>
          <strong>Termination.</strong> These CAS Terms and the rights to use CAS
          Data granted herein will terminate, with or without notice to you upon termination of your
          AWS Marketplace Seller Terms for any reason. In addition, we may stop providing the CA Services
          or terminate your access to the CA Services at any time for any or no reason. </p>
      </li></ol></div>
   
    <h2 id="on-boarding-guide">Onboarding guide</h2>
    <p>You must configure your AWS account and AWS services to use the AWS Marketplace Commerce Analytics Service. </p>
   <div class="procedure"><h6>To use the AWS Marketplace Commerce Analytics Service</h6><ol><li>
      <p><a href="#permissions-for-commerce-analytics">Set up your AWS account with
          permissions</a>.</p>
      </li><li>
        <p><a href="#create-a-destination-amazon-s3-bucket">Create a destination Amazon S3
          bucket</a>.</p>
      </li><li>
        <p><a href="#create-an-amazon-sns-topic-for-response-notifications">Configure an Amazon SNS
          topic for response notifications</a>. </p>
      </li><li>
       <p><a href="#enroll-in-the-commerce-analytics-service-program">Enroll in the Commerce Analytics Service
          program</a>.</p>
     </li><li>
       <p><a href="#verify-your-configuration">Verify your configuration</a>.</p>
     </li></ol></div>
     
      <h3 id="permissions-for-commerce-analytics">Set up your AWS account with
          permissions</h3>
    <p>AWS Marketplace <b>strongly</b> recommends using AWS Identity and Access Management (IAM)
        roles to sign in to the AWS Marketplace Management Portal rather than using your root account credentials. See
        <a href="./detailed-management-portal-permissions.html">Policies and permissions for AWS Marketplace
      sellers</a> for specific IAM permissions for
        AWS Marketplace Commerce Analytics Service permissions. By creating individual users for people accessing your account,
        you can give each user a unique set of security credentials. You can also grant different
        permissions to each user. If necessary, you can change or revoke an user's permissions any
        time.</p>
     
     
      <h3 id="create-a-destination-amazon-s3-bucket">Create a destination Amazon S3
          bucket</h3>
      <p>The Commerce Analytics Service delivers the data you request to an Amazon S3 bucket that you specify. If you
        already have an Amazon S3 bucket to use, proceed to the next step.</p>
      <p>If you don't have an Amazon S3 bucket or you want to create an Amazon S3 bucket specifically
        for this data, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/UG/CreatingaBucket.html">How do I Create
          an S3 Bucket</a>. 
      </p>
     
     
      <h3 id="create-an-amazon-sns-topic-for-response-notifications">Configure an Amazon SNS
          topic for response notifications</h3>
      <p>The Commerce Analytics Service delivers response notifications using Amazon SNS. The service publishes messages to
        this topic to notify you when your datasets are available or if an error occurred. If you
        already have an Amazon SNS topic for this purpose, proceed to the next step.</p>
      <p>If you don't have an Amazon SNS topic configured for this service, configure one
        now. For instructions, see <a href="https://docs.aws.amazon.com/sns/latest/dg/CreateTopic.html">Create a Topic</a>.</p>
      <p>Record the topic Amazon Resource Name (ARN) for the topic you created, because the ARN is required to
        call the service. </p>
     
     
      <h3 id="enroll-in-the-commerce-analytics-service-program">Enroll in the Commerce Analytics Service
          program</h3>
      <p>The Commerce Analytics Service accesses the Amazon S3 bucket and Amazon SNS topic after you configure the service with
        the ARN for the topic and name of the bucket.</p>
      <div class="procedure"><h6>To enable access</h6><ol><li>
          <p>Log in to the <a href="https://aws.amazon.com/marketplace/management/" rel="noopener noreferrer" target="_blank"><span>AWS Marketplace Management Portal</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> with the AWS account you use to manage your AWS Marketplace products. </p>
        </li><li>
          <p>Ensure you have the <a href="https://docs.aws.amazon.com/marketplace/latest/userguide/commerce-analytics-service.html#technical-implementation-guide"> necessary IAM permissions</a> to enroll in the AWS Marketplace
            Commerce Analytics Service.</p>
        </li><li>
          <p>Navigate to the <a href="https://aws.amazon.com/marketplace/management/cas/enroll" rel="noopener noreferrer" target="_blank"><span>Commerce Analytics
              Service enrollment page</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. </p>
        </li><li>
          <p>Enter the Amazon S3 bucket name and Amazon SNS topic ARN, and choose
              <b>Enroll</b>. </p>
        </li><li>
          <p>On the permissions page, choose <b>Allow</b>.</p>
        </li><li>
          <p>On the AWS Marketplace Management Portal, record the <b>Role Name ARN</b> in the success
            message. You need the ARN to call the service. </p>
        </li></ol></div>
      <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Onboarding to the Commerce Analytics Service creates an IAM role in your AWS account. The IAM role
          allows AWS Marketplace to write to the Amazon S3 bucket and publish notifications to the Amazon SNS topic.
          AWS Marketplace uses the account 452565589796 to perform these associated actions with this IAM
          role.</p></div></div>
     
     
      <h3 id="verify-your-configuration">Verify your configuration</h3>
      <p>The last step is to verify that your configuration works as expected.</p>
      <div class="procedure"><h6>To test your configuration</h6><ol><li>
          <p> Download, install, and configure the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-set-up.html">AWS Command Line Interface</a> (AWS CLI). </p>
        </li><li>
          <p> Using the AWS CLI, run this command. </p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
aws marketplacecommerceanalytics generate-data-set \
--data-set-type "customer_subscriber_hourly_monthly_subscriptions" \
--data-set-publication-date "<span>{</span>TODAY'S-DATE}" \
--role-name-arn "<span>{</span>YOUR-ROLE-NAME-ARN}" \
--destination-s3-bucket-name "<span>{</span>YOUR-S3-BUCKET}" \
--destination-s3-prefix "test-prefix" \
--sns-topic-arn "<span>{</span>YOUR-SNS-TOPIC-ARN}"
        </code></pre>
        </li></ol></div>
      <div class="itemizedlist">
         
         
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p> For <code class="code">--data-set-publication-date</code>, replace <code class="code"><span>{</span>TODAY'S DATE}</code>
            with the current date using ISO-8601 format, <code class="code">YYYY-MM-DDT00:00:00Z</code>, where
              <code class="code">YYYY</code> is the four-digit year, <code class="code">MM</code> is the two-digit month, and
              <code class="code">DD</code> is the two-digit day. </p>
        </li><li class="listitem">
          <p> For <code class="code">--role-name-arn</code>, replace <code class="code"><span>{</span>YOUR-ROLE-NAME-ARN}</code> with
            the ARN of the role you received from the enrollment process in 
            <a href="#enroll-in-the-commerce-analytics-service-program">Enroll in the Commerce Analytics Service
          program</a>. </p>
        </li><li class="listitem">
          <p> For <em>--destination-s3-bucket-name</em>, replace
              <em><span>{</span>YOUR-S3-BUCKET}</em> with the Amazon S3 bucket you created
            in <a href="#create-a-destination-amazon-s3-bucket">Create a destination Amazon S3
          bucket</a>. </p>
        </li><li class="listitem">
          <p> For <em>–sns-topic-arn</em>, replace <em><span>{</span>YOUR-SNS-TOPIC-ARN}</em> with the Amazon SNS topic you created in
            <a href="#create-an-amazon-sns-topic-for-response-notifications">Configure an Amazon SNS
          topic for response notifications</a>. </p>
        </li></ul></div>
      <p>If you receive a response including the <em>dataSetRequestId</em> response from the service, you've completed the on-boarding
        process. A successful response looks like this: </p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
<span>{</span>
   "dataSetRequestId": "646dd4ed-6806-11e5-a6d8-fd5dbcaa74ab"
}
      </code></pre>
     
   
    <h2 id="technical-implementation-guide">Technical implementation guide</h2>
    <p> The AWS Marketplace Commerce Analytics Service is provided through the <a href="https://aws.amazon.com/tools/" rel="noopener noreferrer" target="_blank"><span>AWS SDK</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. This guide shows you how to interact with the service using the <a href="https://aws.amazon.com/cli/" rel="noopener noreferrer" target="_blank"><span>AWS CLI</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and the <a href="https://aws.amazon.com/sdk-for-java/" rel="noopener noreferrer" target="_blank"><span>AWS SDK for Java</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
     
      <h3 id="aws-marketplace-commerce-analytics-iam-permissions">IAM policies for
          Commerce Analytics Service</h3>
      <p>To allow your users to use the Commerce Analytics Service, the following permissions are required.</p>
      <p>Use the following IAM permissions policy to enroll in the AWS Marketplace Commerce Analytics Service.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "iam:ListRoles",
                "iam:CreateRole",
                "iam:CreatePolicy",
                "iam:AttachRolePolicy",
                "aws-marketplace-management:viewReports"
            ],
            "Resource": "*"
        }
    ]
}</code></pre>
      <p>Use the following IAM permissions policy to allow an user to make requests to the
        AWS Marketplace Commerce Analytics Service.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Effect": "Allow",
            "Action": "marketplacecommerceanalytics:GenerateDataSet",
            "Resource": "*"
        }
    ]
}</code></pre>
      <p>For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html#access_policies_create-json-editor">Creating Policies in the IAM console</a> in the
          <em>IAM User Guide</em>.</p>
     
     
      <h3 id="making-requests-with-aws-cli">Making Requests with the AWS CLI</h3>
      <p>To get started, download the <a href="https://aws.amazon.com/cli/" rel="noopener noreferrer" target="_blank"><span>AWS CLI</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. The
        following AWS CLI example makes a request for the <strong>Hourly/Monthly
          Subscriptions</strong> dataset for October 1, 2017. This dataset is published to the
          <strong>demo-bucket</strong> Amazon S3 bucket using the prefix <strong>demo-prefix</strong>, and the notification message is delivered to the
          <strong>demo-topic</strong> Amazon SNS topic. </p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
aws marketplacecommerceanalytics generate-data-set \
--data-set-type "customer_subscriber_hourly_monthly_subscriptions" \
--data-set-publication-date "2017-10-01T00:00:00Z" \
--role-name-arn "arn:aws:iam::123412341234:role/MarketplaceCommerceAnalyticsRole" \
--destination-s3-bucket-name "demo-bucket" \
--destination-s3-prefix "demo-prefix" \
--sns-topic-arn "arn:aws:sns:us-west-2:123412341234:demo-topic"
      </code></pre>
      <p> This request returns an identifier that is unique for each request. You can use this
        identifier to correlate requests with notifications published to your Amazon SNS topic. The
        following example is an example of this identifier.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
<span>{</span>
   "dataSetRequestId": "646dd4ed-6806-11e5-a6d8-fd5dbcaa74ab"
}
      </code></pre>
     
     
      <h3 id="making-requests-with-aws-java-sdk">Making requests with the
          AWS SDK for Java</h3>
      <p>To start, download the <a href="https://aws.amazon.com/sdk-for-java/" rel="noopener noreferrer" target="_blank"><span>AWS Java
          SDK</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. The following AWS SDK for Java example makes a request for the <strong>Hourly/Monthly Subscriptions</strong> dataset for October 1, 2015. This
        dataset is published to the <strong>demo-bucket</strong> Amazon S3 bucket using
        the prefix <strong>demo-prefix</strong>, and the notification message is
        delivered to the <strong>demo-topic</strong> Amazon SNS topic. </p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
/*
* Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
*
* Licensed under the Apache License, Version 2.0 (the "License").
* You may not use this file except in compliance with the License.
* A copy of the License is located at
*
* http://aws.amazon.com/apache2.0
*
* or in the "license" file accompanying this file. This file is distributed
* on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either
* express or implied. See the License for the specific language governing
* permissions and limitations under the License.
*/
import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.TimeZone;
import com.amazonaws.AmazonClientException;
import com.amazonaws.AmazonServiceException;
import com.amazonaws.auth.AWSCredentials;
import com.amazonaws.auth.profile.ProfileCredentialsProvider;
import com.amazonaws.regions.Region;
import com.amazonaws.regions.Regions;
import com.amazonaws.services.marketplacecommerceanalytics.AWSMarketplaceCommerceAnalyticsClient;
import com.amazonaws.services.marketplacecommerceanalytics.model.GenerateDataSetRequest;
import com.amazonaws.services.marketplacecommerceanalytics.model.GenerateDataSetResult;
/**
* This sample demonstrates how to make basic requests to the AWS Marketplace Commerce 
* Analytics service using the AWS SDK for Java.
* &lt;p&gt;
* &lt;b&gt;Prerequisites:&lt;/b&gt; Follow the on-boarding guide: <span>{</span>URL OR SOMETHING}
* &lt;p&gt;
* Fill in your AWS access credentials in the provided credentials file
* template, and be sure to move the file to the default location
* (~/.aws/credentials) where the sample code will load the credentials from.
* &lt;p&gt;
* &lt;b&gt;WARNING:&lt;/b&gt; To avoid accidental leakage of your credentials, DO NOT keep
* the credentials file in your source directory.
* &lt;p&gt;
* http://aws.amazon.com/security-credentials
*/
public class MarketplaceCommerceAnalyticsSample <span>{</span>
public static void main(String[] args) throws ParseException <span>{</span>
/*
* The ProfileCredentialsProvider will return your [default]
* credential profile by reading from the credentials file located at
* (~/.aws/credentials).
*/
AWSCredentials credentials = null;
try <span>{</span>
credentials = new ProfileCredentialsProvider().getCredentials();
} catch (Exception e) <span>{</span>
throw new AmazonClientException("Cannot load the credentials from the credential profiles "
+ "file. Make sure that your credentials file is at the correct "
+ "location (~/.aws/credentials), and is in valid
format.", e);
}
AWSMarketplaceCommerceAnalyticsClient client = new AWSMarketplaceCommerceAnalyticsClient(credentials);
Region usEast1 = Region.getRegion(Regions.US_EAST_1);
client.setRegion(usEast1);
System.out.println("===============================================================");
System.out.println("Getting Started with AWS Marketplace Commerce Analytics Service"); 
System.out.println("===============================================================\n");
// Create a data set request with the desired parameters
GenerateDataSetRequest request = new GenerateDataSetRequest();
request.setDataSetType("customer_subscriber_hourly_monthly_subscriptions");
request.setDataSetPublicationDate(convertIso8601StringToDateUtc("2014-06-09T00:00:00Z"));
request.setRoleNameArn("arn:aws:iam::864545609859:role/MarketplaceCommerceAnalyticsRole");
request.setDestinationS3BucketName("awsmp-goldmine-seller");
request.setDestinationS3Prefix("java-sdk-test");
request.setSnsTopicArn("arn:aws:sns:us-west-2:864545609859:awsmp-goldmine-seller-topic");
System.out.println(
String.format("Creating a request for data set %s for publication date %s.",
request.getDataSetType(), request.getDataSetPublicationDate()));
try <span>{</span>
// Make the request to the service
GenerateDataSetResult result = client.generateDataSet(request);
// The Data Set Request ID is a unique identifier that you can use to correlate the
// request with responses on your Amazon SNS topic 
System.out.println("Request successful, unique ID: " + result.getDataSetRequestId());
} catch (AmazonServiceException ase) <span>{</span>
System.out.println("Caught an AmazonServiceException, which means your request made it "
+ "to the AWS Marketplace Commerce Analytics service, but was rejected with an " 
+ "error response for some reason.");
System.out.println("Error Message: " + ase.getMessage());
System.out.println("HTTP Status Code: " + ase.getStatusCode());
System.out.println("AWS Error Code: " + ase.getErrorCode());
System.out.println("Error Type: " + ase.getErrorType());
System.out.println("Request ID: " + ase.getRequestId());
} catch (AmazonClientException ace) <span>{</span>
System.out.println("Caught an AmazonClientException, which means the client encountered "
+ "a serious internal problem while trying to communicate with the AWS Marketplace"
+ "Commerce Analytics service, such as not being able to access the "
+ "network.");
System.out.println("Error Message: " + ace.getMessage());
}
}
private static Date convertIso8601StringToDateUtc(String dateIso8601) throws ParseException <span>{</span>
TimeZone utcTimeZone = TimeZone.getTimeZone("UTC");
DateFormat utcDateFormat = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ssX");
utcDateFormat.setTimeZone(utcTimeZone);
return utcDateFormat.parse(dateIso8601);
}
}
      </code></pre>
      <p>You should expect results similar to this example.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
===============================================================
Getting Started with AWS Marketplace Commerce Analytics Service 
===============================================================
Creating a request for data set customer_subscriber_hourly_monthly_subscriptions for publication
date Sun Jun 08 17:00:00 PDT 2014.
Request successful, unique ID: c59aff81-6875-11e5-a6d8-fd5dbcaa74ab
      </code></pre>
     
   
    <h2 id="technical-documentation">Technical documentation</h2>

    <p> The service exposes one method, <code class="code">GenerateDataSet</code>, which enables you to
      request datasets to be published to your Amazon S3 bucket. The following table lists the parameters
      for <code class="code">GenerateDataSet</code>.</p>

    <div class="table-container"><div class="table-contents"><table id="w176aab7c16b7c15b5"><thead><tr><th class="table-header" colspan="100"><div class="title">Dataset parameters</div></th></tr>
          <tr>
            <th><b>Field</b></th>
            <th><b>Description</b></th>
          </tr>
        </thead>
          <tr>
            <td>Data Set Type</td>
            <td>This dataset will be returned as the result of the request.</td>
          </tr>
          <tr>
            <td>Data Set Publication Date </td>
            <td>
              <p>The date a dataset was published. </p>
              <p>For daily datasets, provide a date with day-level granularity for the desired
                day. </p>
              <p>For monthly datasets, provide a date with month-level granularity for the
                desired month. The day value is ignored. </p>
            </td>
          </tr>
          <tr>
            <td>Role Name ARN</td>
            <td>The ARN of the role with an attached permissions policy that provides the service
              with access to your resources.</td>
          </tr>
          <tr>
            <td>Destination Amazon S3 Bucket Name</td>
            <td>The name (the friendly name, not the ARN) of the destination Amazon S3 bucket. Your
              datasets are published to this location.</td>
          </tr>
          <tr>
            <td>Destination Amazon S3 Prefix</td>
            <td>
              <p>(Optional) The Amazon S3 prefix for the published dataset, similar to a directory
                path in standard file systems. </p>
              <p>For example, if given the bucket name <code class="code">mybucket</code> and the prefix
                  <code class="code">myprefix/mydatasets</code>, the output file is published to
                <code class="code">s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/myprefix/mydatasets/outputfile</code>. </p>
              <p>If the prefix directory structure doesn't exist, it's created. </p>
              <p>If no prefix is provided, the dataset is published to the Amazon S3 bucket root. </p>
            </td>
          </tr>
          <tr>
            <td>SNS Topic ARN</td>
            <td>
              <p> The ARN for the Amazon SNS topic that is notified when the dataset has been
                published or if an error occurs. </p>
            </td>
          </tr>
        </table></div></div>

     
      <h3 id="responses">Responses</h3>
      <p>The AWS Marketplace Commerce Analytics Service returns two responses. The first is synchronous, which is returned
        immediately, and the second is asynchronous, which is returned using the Amazon SNS. The
        synchronous response is similar to this example.</p>

      <div class="table-container"><div class="table-contents"><table id="w176aab7c16b7c15b7b5"><thead><tr><th class="table-header" colspan="100"><div class="title">Data set parameters</div></th></tr>
            <tr>
              <th><b>Field</b></th>
              <th><b>Description</b></th>
            </tr>
          </thead>
            <tr>
              <td>Data Set Request ID </td>
              <td>A unique identifier representing a specific request to the service. This
                identifier can be used to correlate a request with notifications on the Amazon SNS topic.
              </td>
            </tr>
          </table></div></div>

      <p>The asynchronous response is posted as a JSON-formatted document to your Amazon SNS topic and
        is similar to this example.</p>

      <div class="table-container"><div class="table-contents"><table id="w176aab7c16b7c15b7b9"><thead><tr><th class="table-header" colspan="100"><div class="title">Dataset parameters</div></th></tr>
            <tr>
              <th>
                <b>Field</b>
              </th>
              <th>
                <b>Description</b>
              </th>
            </tr>
          </thead>
            <tr>
              <td>Data Set S3 Location </td>
              <td>The bucket name and key for the delivered dataset. </td>
            </tr>
            <tr>
              <td>Data Set Meta Data S3 Location </td>
              <td>The bucket name and key for the delivered dataset metadata file. </td>
            </tr>
            <tr>
              <td>Data Set Request ID </td>
              <td>A unique identifier representing a specific request to the service. This
                identifier can be used to correlate a request with notifications on the Amazon SNS topic.
              </td>
            </tr>
            <tr>
              <td>Success </td>
              <td>"True" if the operation succeeded; "false" if not. </td>
            </tr>
            <tr>
              <td>Message </td>
              <td>(Optional) If an error occurred (for example, "Success” is "false”), this
                message  contains information about the failure. </td>
            </tr>
          </table></div></div>

      <p>
        <b>Example JSON-formatted asynchronous response</b>
      </p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
 <span>{</span>    
   "dataSetS3Location":<span>{</span>
      "bucketName":"demo-bucket",
      "key":"demo-prefix/customer_subscriber_hourly_monthly_subscriptions_2014-06-09.csv"
   },
   "dataSetMetaDataS3Location":<span>{</span>
      "bucketName":"demo-bucket",
      "key":"demo-prefix/customer_subscriber_hourly_monthly_subscriptions_2014-06-09.meta.json"
   },
   "dataSetRequestId":"f65b7244-6862-11e5-80e2-c5127e17c023",
   "success":true
 }  
        </code></pre>

     
     
      <h3 id="outputs">Outputs</h3>

      <p>After a successful request, the requested dataset is delivered to your Amazon S3 bucket as a
        .csv file. A JSON-formatted metadata file is published to the same location as the dataset
        file. The metadata file provides useful information about the dataset and original request
        parameters. The metadata file has the same name as the dataset file, but ends with the
        extension .meta.json. The following table lists the metadata fields in the .csv file.</p>

      <div class="table-container"><div class="table-contents"><table id="w176aab7c16b7c15b9b5"><thead><tr><th class="table-header" colspan="100"><div class="title">Metadata fields</div></th></tr>
            <tr>
              <th>
                <b>Field</b>
              </th>
              <th>
                <b>Description</b>
              </th>
            </tr>
          </thead>
            <tr>
              <td>Data Set Request ID </td>
              <td>A unique identifier representing a specific request to the service. This
                identifier can be used to correlate a request with notifications on the Amazon SNS topic.
              </td>
            </tr>
            <tr>
              <td>Data Set Coverage Range </td>
              <td>Defines the start date/time and end date/time for the data coverage range.
                These dates are in ISO 8601 format. </td>
            </tr>
            <tr>
              <td>Data Set Request Parameters </td>
              <td>The original request parameters to the <code class="code">GenerateDataSet</code> method. </td>
            </tr>
            <tr>
              <td>Data Set S3 Location </td>
              <td>The bucket name and key for the delivered dataset. </td>
            </tr>
            <tr>
              <td>Data Set Meta Data S3 Location </td>
              <td>The bucket name and key for the delivered dataset metadata file. </td>
            </tr>
          </table></div></div>

      <p>Following is an example of JSON-formatted metadata contents. </p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight ">
<span>{</span>
"dataSetRequestId": "43d7137b-8a94-4042-a09d-c41e87f371c1",
"dataSetCoverageRange": <span>{</span>
"startDateTime": "2014-06-08T00:00:00.000Z",
"endDateTime": "2014-06-08T23:59:59.000Z"
},
"dataSetRequestParameters": <span>{</span>
"sellerAccountId": "123412341234",
"dataSetType": "customer_subscriber_hourly_monthly_subscriptions",
"dataSetPublicationDate": "2014-06-09T00:00:00.000Z",
"roleNameArn": "arn:aws:iam::123412341234:role/MarketplaceCommerceAnalyticsRole",
"destinationS3BucketName": "demo-bucket",
"destinationS3Prefix": "demo_prefix/customer_subscriber_hourly_monthly_subscriptions",
"snsTopicArn": "arn:aws:sns:us-west-2:123412341234:demo-topic"
},
"dataSetS3Location": <span>{</span>
"bucketName": "demo-bucket",
"key": "demo_prefix/customer_subscriber_hourly_monthly_subscriptions_2014-06-09.csv"
},
"dataSetMetaDataS3Location": <span>{</span>
"bucketName": "demo-bucket",
"key": "demo_prefix/customer_subscriber_hourly_monthly_subscriptions_2014-06-09.meta.json"
}
}
        </code></pre>
      <p>For a complete list of available datasets, including availability dates, refer to the
          <a href="https://docs.aws.amazon.com/cli/latest/reference/marketplacecommerceanalytics/generate-data-set.html#options">AWS SDK documentation</a>. </p>
     
   
    <h2 id="troubleshooting">Troubleshooting</h2>
    <p>This sections describes solutions to issues you may encounter with using the AWS Marketplace Commerce Analytics Service. </p>
    <p>
      <strong>I can't access the service because of an allow list issue.</strong>
    </p>
    <p>If you're not yet registered as a seller on the AWS Marketplace, visit <a href="https://aws.amazon.com/marketplace/management" rel="noopener noreferrer" target="_blank"><span>AWS Marketplace Management Portal</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to register. If you
      have already registered as a seller on AWS Marketplace, contact the <a href="https://aws.amazon.com/marketplace/management/contact-us/" rel="noopener noreferrer" target="_blank"><span><strong>AWS Marketplace Seller Operations</strong></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> team. </p>
    <p><strong>I can't request datasets for a date in the past, even though the
        SDK documentation says it should be available for this date.</strong>
    </p>
    <p>Even though datasets are listed as being available for certain dates in the past, we have
      data only since the time that you joined AWS Marketplace. If you believe that this is in error,
      contact the <a href="https://aws.amazon.com/marketplace/management/contact-us/" rel="noopener noreferrer" target="_blank"><span><strong>AWS Marketplace Seller Operations</strong></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> team. </p>
    <p>
      <strong>When I call the service, I receive the error message "Could not
        connect to the endpoint URL:
        https://marketplacecommerceanalytics.eu-central-1.amazonaws.com/”</strong>
    </p>
    <p>The AWS Marketplace Commerce Analytics Service is available only in the US East (N. Virginia) Region. You must make all calls to
      the Commerce Analytics Service to the <code class="code">us-east-1</code> endpoint. </p>
    <p>If you're using the AWS CLI, add the "<code class="code">--region</code> flag to each call and specify
      the AWS Region as <code class="code">us-east-1</code>, as shown in the following
      example.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">
aws marketplacecommerceanalytics generate-data-set \
--data-set-type "customer_subscriber_hourly_monthly_subscriptions" \
--data-set-publication-date "2016-04-21T00:00:00Z" \
--role-name-arn "arn:aws:iam::138136086619:role/MarketplaceCommerceAnalyticsRole" \
--destination-s3-bucket-name "marketplace-analytics-service" \
--destination-s3-prefix "test-prefix" \
--sns-topic-arn "arn:aws:sns:eu-central-1:138136086619:Marketplace_Analytics_Service_Notice" \
 <strong>--region us-east-1</strong>
  </code></pre>
    <p>
      <strong>I want to use a different Amazon S3 bucket or Amazon SNS topic than the ones I
        selected when I went through the on-boarding process.</strong>
    </p>
    <p>When enrolling in the AWS Marketplace Commerce Analytics Service, you specified an Amazon S3 bucket and Amazon SNS topic. The
      onboarding process configures your IAM permissions to allow the service access to only these
      specific resources. To use different resources, you need to modify your IAM policy: </p>
    <div class="procedure"><ol><li>
        <p></p>
        <p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      </li><li>
        <p> Choose <b> Roles</b> on the left side of the IAM console. </p>
      </li><li>
        <p> Choose <b>MarketplaceCommerceAnalyticsRole</b>. </p>
      </li><li>
        <p> Expand the <b>Inline Roles</b> section, if not already expanded.
        </p>
      </li><li>
        <p> Locate the policy with a name that starts with
          <em>oneClick_MarketplaceCommerceAnalyticsRole</em> and choose <b>Edit
            Policy</b>. </p>
      </li><li>
        <p> In the policy document, locate the section that specifies actions related to the
          service that you want to modify. For example, to change your Amazon S3 bucket, locate the
          section that includes the actions that start with <strong>s3:</strong>
          and change their respective <strong>Resource</strong> selection to
          specify your new Amazon S3 bucket.</p>
      </li></ol></div>
    <p> For additional information about IAM policies, see the following guide: <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html">https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html</a>
    </p>
    <p><b>I get an <code class="code">AccessDeniedException</code> error when I call the
          <code class="code">GenerateDataSet</code> action</b></p>
    <p>This can happen if your user doesn't have the permissions necessary to call
        <code class="code">GenerateDataSet</code>. The following procedure outlines the steps needed to
      create
      an IAM policy with those permissions using the IAM
      console and add the
      permissions to your users, groups, or
      roles.</p>
    
    

 <div class="procedure"><h6>To use the JSON policy editor to create a policy</h6><ol><li><p>Sign in to the AWS Management Console and open the IAM console at <a href="https://console.aws.amazon.com/iam/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/iam/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
        <p>In the navigation pane on the left, choose <b>Policies</b>. </p>
        <p>If this is your first time choosing <b>Policies</b>, the
          <b>Welcome to Managed Policies</b> page appears. Choose <b>Get
            Started</b>.</p>
      </li><li>
        <p>At the top of the page, choose <b>Create policy</b>.</p>
      </li><li>
        <p>In the <b>Policy editor</b> section, choose the
            <b>JSON</b> option.</p>
      </li><li>
        <p>Enter the following JSON policy document:</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Action": "marketplacecommerceanalytics:GenerateDataSet",
      "Resource": "*"
    }
  ]
} </code></pre>
      </li><li>
        <p>Choose <b>Next</b>.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can switch between the <b>Visual</b> and <b>JSON</b>
            editor options anytime. However, if you make changes or choose <b>Next</b>
            in the <b>Visual</b> editor, IAM might restructure your policy to
            optimize it for the visual editor. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/troubleshoot_policies.html#troubleshoot_viseditor-restructure">Policy restructuring</a> 
            in the <em>IAM User Guide</em>.</p></div></div>
      </li><li>
        <p>On the <b>Review and create</b> page, enter a <b>Policy
            name</b> and a <b>Description</b> (optional) for the policy that
          you are creating. Review <b>Permissions defined in this policy</b> to see
          the permissions that are granted by your policy.</p>
      </li><li>
        <p>Choose <b>Create policy</b> to save your new policy.</p>
      </li></ol></div>
  
    
    
    
    
  
  <p>To provide access, add permissions to your users, groups, or roles:</p>
  <div class="itemizedlist">
   
   
   
  <ul class="itemizedlist"><li class="listitem">
    <p>Users and groups in AWS IAM Identity Center (successor to AWS Single Sign-On):</p>
    <p>Create a permission set. Follow the instructions in <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/howtocreatepermissionset.html">Create a permission set</a> in the <em>AWS IAM Identity Center (successor to AWS Single Sign-On) User Guide</em>.</p>
  </li><li class="listitem">
    <p>Users managed in IAM through an identity provider:</p>
    <p>Create a role for identity federation. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp.html">Creating a role
    for a third-party identity provider (federation)</a> in the <em>IAM User Guide</em>.</p>
  </li><li class="listitem">
    <p>IAM users:</p>
     <div class="itemizedlist">
        
        
     <ul class="itemizedlist"><li class="listitem">
         <p>Create a role that your user can assume. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-user.html">Creating a role for an IAM user</a> in the <em>IAM User Guide</em>.</p>
       </li><li class="listitem">
         <p>(Not recommended) Attach a policy directly to a user or add a user to a user group. Follow the instructions in <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_change-permissions.html#users_change_permissions-add-console">Adding permissions to a user (console)</a> in the <em>IAM User Guide</em>.</p>
       </li></ul></div>
  </li></ul></div>
  
    
    <p>
      <strong>My problem isn't listed here.</strong></p>
    <p> Contact the <a href="https://aws.amazon.com/marketplace/management/contact-us/" rel="noopener noreferrer" target="_blank"><span><strong>AWS Marketplace Seller Operations</strong></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> team. </p>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./additional-seller-tools.html">Seller toolkit</div><div id="next" class="next-link" accesskey="n" href="./field-demonstration-program.html">AWS Marketplace Field Demonstration Program</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Marketplace&amp;topic_url=https://docs.aws.amazon.com/en_us/marketplace/latest/userguide/commerce-analytics-service.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Marketplace&amp;topic_url=https://docs.aws.amazon.com/en_us/marketplace/latest/userguide/commerce-analytics-service.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>