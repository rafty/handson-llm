<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using service-linked roles for Strategy Recommendations - Migration Hub Strategy Recommendations</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-service-linked-roles" /><meta name="default_state" content="using-service-linked-roles" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" /><meta name="description" content="How to use service-linked roles to give Strategy Recommendations access to resources in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Migration Hub Strategy Recommendations" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Insert abstract text" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" hreflang="x-default" /><meta name="feedback-item" content="migrationhub-strategy" /><meta name="this_doc_product" content="Migration Hub Strategy Recommendations" /><meta name="this_doc_guide" content="User Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'migrationhub'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Using service-linked roles for Strategy Recommendations" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using service-linked roles for Strategy Recommendations - Migration Hub Strategy Recommendations</title><meta name="pdf" content="/pdfs/migrationhub-strategy/latest/userguide/mhub-strategy-ug.pdf#using-service-linked-roles" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=255" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=migrationhub-strategy&amp;topic_url=http://docs.aws.amazon.com/en_us/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/migrationhub-strategy/latest/userguide/using-service-linked-roles.html" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Migration Hub Strategy Recommendations",
        "item" : "https://docs.aws.amazon.com/migrationhub/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Migration Hub Strategy Recommendations",
        "item" : "https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Identity and access management for Migration Hub Strategy Recommendations",
        "item" : "https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/security-iam.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using service-linked roles for Strategy Recommendations",
        "item" : "https://docs.aws.amazon.com/migrationhub-strategy/latest/userguide/security-iam.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/migrationhub-strategy/latest/userguide/mhub-strategy-ug.pdf#using-service-linked-roles" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/migrationhub/index.html">Migration Hub Strategy Recommendations</a><a href="what-is-mhub-strategy.html">User Guide</a></div><div id="page-toc-src"><a href="#slr-permissions">Service-linked role permissions for Strategy Recommendations</a><a href="#create-slr">Creating a service-linked role for Strategy Recommendations</a><a href="#edit-slr">Editing a service-linked role for Strategy Recommendations</a><a href="#delete-slr">Deleting a service-linked role for Strategy Recommendations</a><a href="#slr-regions">Supported Regions for Strategy Recommendations service-linked roles</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-service-linked-roles">Using service-linked roles for
      Strategy Recommendations</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Migration Hub Strategy Recommendations uses AWS Identity and Access Management (IAM)<a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_terms-and-concepts.html#iam-term-service-linked-role">
      service-linked roles</a>. A service-linked role is a unique type of IAM role that is
    linked directly to Strategy Recommendations. Service-linked roles are predefined by Strategy Recommendations and
    include all the permissions that the service requires to call other AWS services on your
    behalf. </p><p>A service-linked role makes setting up Strategy Recommendations easier because you don’t have to
    manually add the necessary permissions. Strategy Recommendations defines the permissions of its
    service-linked roles, and unless defined otherwise, only Strategy Recommendations can assume its roles. The
    defined permissions include the trust policy and the permissions policy, and that permissions
    policy cannot be attached to any other IAM entity.</p><p>For information about other services that support service-linked roles, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_aws-services-that-work-with-iam.html">AWS Services That Work with IAM</a> and look for the services that have <b>Yes </b> in the <b>Service-Linked Role</b>
    column. Choose a <b>Yes</b> with a link to view the service-linked
    role documentation for that service.</p>
    <h2 id="slr-permissions">Service-linked role permissions for Strategy Recommendations</h2>
    <p>Strategy Recommendations uses the service-linked role named <b>AWSServiceRoleForMigrationHubStrategy</b> and associates it with <b>AWSMigrationHubStrategyServiceRolePolicy</b> IAM policy – Provides access to AWS Migration Hub and AWS Application Discovery Service. This policy also grants permissions for storing reports in Amazon Simple Storage Service (Amazon S3).</p>
    <p>The <b>AWSServiceRoleForMigrationHubStrategy</b> service-linked role trusts the following services to assume the role:</p>
    <div class="itemizedlist">
       
    <ul class="itemizedlist"><li class="listitem">
        <p><code class="code">migrationhub-strategy.amazonaws.com</code></p>
      </li></ul></div>
    <p>The role permissions policy allows Strategy Recommendations to complete the following actions.
      </p>
    
    <div class="variablelist">
       
       
       
    <dl>
        <dt><span class="term">AWS Application Discovery Service actions</span></dt>
        <dd>
          <p>
            <code class="code">discovery:ListConfigurations</code>
          </p>
          <p>
            <code class="code">discovery:DescribeConfigurations</code>
          </p>
        </dd>
       
        <dt><span class="term">AWS Migration Hub actions</span></dt>
        <dd>
          <p>
            <code class="code">mgh:GetHomeRegion</code>
          </p>
        </dd>
       
        <dt><span class="term">Amazon S3 actions</span></dt>
        <dd>
          <p>
            <code class="code">s3:GetBucketAcl</code>
          </p>
          <p>
            <code class="code">s3:GetBucketLocation</code>
          </p>
          <p>
            <code class="code">s3:GetObject</code>
          </p>
          <p>
            <code class="code">s3:ListAllMyBuckets</code>
          </p>
          <p>
            <code class="code">s3:ListBucket</code>
          </p>
          <p>
            <code class="code">s3:PutObject</code>
          </p>
          <p>
            <code class="code">s3:PutObjectAcl</code>
          </p>
        </dd>
      </dl></div>

    <p>The following is the full policy showing which resources the above actions apply
      to:</p>

    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Sid": "permissionsForAds",
            "Effect": "Allow",
            "Action": [
                "discovery:ListConfigurations",
                "discovery:DescribeConfigurations",
                "mgh:GetHomeRegion"
            ],
            "Resource": "*"
        },
        <span>{</span>
            "Effect": "Allow",
            "Action": [
                "s3:ListAllMyBuckets"
            ],
            "Resource": "arn:aws:s3:::*"
        },
        <span>{</span>
            "Sid": "permissionsForS3",
            "Effect": "Allow",
            "Action": [
                "s3:GetBucketAcl",
                "s3:GetBucketLocation",
                "s3:GetObject",
                "s3:ListBucket",
                "s3:PutObject",
                "s3:PutObjectAcl"       
            ],
            "Resource": "arn:aws:s3:::migrationhub-strategy-*"
        }
    ]
}</code></pre>

    <p>To view the update history of this policy, see <a href="./security-iam-awsmanpol.html#security-iam-awsmanpol-updates">Strategy Recommendations updates to AWS managed
                policies</a>.</p>

    <p>You must configure permissions to allow an IAM entity (such as a user, group, or role)
      to create, edit, or delete a service-linked role. For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#service-linked-role-permissions">Service-Linked Role Permissions</a> in the
      <em>IAM User Guide</em>.</p>
   
    <h2 id="create-slr">Creating a service-linked role for Strategy Recommendations</h2>
    
    <p>You don't need to manually create a service-linked role. When you
      agree to allow Migration Hub to create a service-linked role (SLR) in your account in the AWS Management Console, Strategy Recommendations creates the service-linked role for
      you.</p>
    <p>If you delete this service-linked role, and then need to create it again, you can use the
      same process to recreate the role in your account. When you agree to allow Migration Hub to create a service-linked role (SLR) in your account,
      Strategy Recommendations creates the service-linked role for you again. </p>
   
    <h2 id="edit-slr">Editing a service-linked role for Strategy Recommendations</h2>
    <p>Strategy Recommendations does not allow you to edit the <b>AWSServiceRoleForMigrationHubStrategy</b> service-linked role. After you
      create a service-linked role, you cannot change the name of the role because various entities
      might reference the role. However, you can edit the description of the role using the
      Strategy Recommendations console, CLI, or API.</p>
   
    <h2 id="delete-slr">Deleting a service-linked role for Strategy Recommendations</h2>
    <p><b>To manually delete the service-linked role using IAM</b></p>
    <p>Use the IAM console, the AWS CLI, or the AWS API to delete the <b> AWSServiceRoleForMigrationHubStrategy</b> service-linked role. 
      For more information, see <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/using-service-linked-roles.html#delete-service-linked-role">Deleting a Service-Linked Role</a> in the <em>IAM User Guide</em>.</p>
    <p>When deleting Strategy Recommendations resources used by the <b>AWSServiceRoleForMigrationHubStrategy</b> SLR, 
      you cannot have any running assessments (tasks for generating recommendations). No background assessments can be running,
      either. If assessments are running, the SLR deletion fails in the IAM console. If the SLR
      deletion fails, you can retry the deletion after all background tasks have completed. You
      don’t need to clean up any created resources before you delete the SLR.</p>
   
    <h2 id="slr-regions">Supported Regions for Strategy Recommendations service-linked roles</h2>
    

    
    <p>Strategy Recommendations supports using service-linked roles in all of the regions where the service
      is available. For more information, see <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS Regions and Endpoints</a>.</p>
    
    
    
    
    
    
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./security_iam_troubleshoot.html">Troubleshooting</div><div id="next" class="next-link" accesskey="n" href="./vpc-interface-endpoints.html">VPC endpoints (AWS PrivateLink)</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=migrationhub-strategy&amp;topic_url=https://docs.aws.amazon.com/en_us/migrationhub-strategy/latest/userguide/using-service-linked-roles.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=migrationhub-strategy&amp;topic_url=https://docs.aws.amazon.com/en_us/migrationhub-strategy/latest/userguide/using-service-linked-roles.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>